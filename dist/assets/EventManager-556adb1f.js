import{e as k,j as e,p as L,b as S,F as O,M as R,a as C,i as I,C as q}from"./index-d63ee538.js";import{r as c}from"./vendor-021dee49.js";import{eventService as A}from"./eventService-0703f6fe.js";import{gardenService as F}from"./gardenService-8e5619dd.js";import{T as P}from"./TagIcon-32febfd4.js";import{C as $}from"./ClockIcon-d6d0aaad.js";import{X as W}from"./XCircleIcon-3fe8bf8c.js";import{u as _}from"./router-3052588b.js";import{A as U}from"./ArrowPathIcon-a9aaab64.js";import{U as E}from"./UsersIcon-5daddd34.js";import{E as B}from"./EyeIcon-6ff4a41f.js";import{P as V}from"./PencilIcon-141964e2.js";const ne=({onEventCreated:a,onCancel:u,preSelectedGarden:i=null})=>{const[r,o]=c.useState({title:"",description:"",gardenId:(i==null?void 0:i._id)||"",eventDate:"",startTime:"",endTime:"",eventType:"meetup",maxParticipants:"",requiresApproval:!1,allowWaitingList:!0,registrationDeadline:"",tags:"",organizerMessages:{welcomeMessage:"",registrationMessage:"",approvalMessage:"",rejectionMessage:"",reminderMessage:""}}),[y,g]=c.useState([]),[x,j]=c.useState(!1),[l,v]=c.useState({}),[D,b]=c.useState(!1);c.useEffect(()=>{i?g(i?[i]:[]):T()},[i]);const T=async()=>{b(!0);try{const s=await F.getMyGardens();g(s.data||s||[])}catch(s){console.error("Error loading gardens:",s),k.error("Error loading dog parks"),g([])}finally{b(!1)}},h=()=>{const s={};if(r.title.trim()||(s.title="Event title is required"),r.description.trim()||(s.description="Event description is required"),r.gardenId||(s.gardenId="Please select a dog park"),r.eventDate||(s.eventDate="Event date is required"),r.startTime||(s.startTime="Start time is required"),r.endTime||(s.endTime="End time is required"),r.startTime&&r.endTime&&r.startTime>=r.endTime&&(s.endTime="End time must be after start time"),r.registrationDeadline){const t=new Date(r.registrationDeadline),n=new Date(`${r.eventDate}T${r.startTime}`);t>=n&&(s.registrationDeadline="Registration deadline must be before event start time")}return v(s),Object.keys(s).length===0},N=async s=>{var t,n;if(s.preventDefault(),!h()){k.error("Please fix the errors in the form");return}j(!0);try{const m={...r,tags:(r.tags||"").split(",").map(f=>f.trim()).filter(Boolean),maxParticipants:r.maxParticipants?parseInt(r.maxParticipants):null},p=await A.createEvent(m);k.success("Event created successfully! üéâ"),a(p.data||p)}catch(m){console.error("Error creating event:",m),k.error(((n=(t=m.response)==null?void 0:t.data)==null?void 0:n.error)||"Error creating event")}finally{j(!1)}},d=s=>{const{name:t,value:n,type:m,checked:p}=s.target;o(f=>({...f,[t]:m==="checkbox"?p:n})),l[t]&&v(f=>({...f,[t]:""}))},w=[{value:"meetup",label:"üë• Community Meetup",color:"bg-blue-50 text-blue-700"},{value:"training",label:"üéì Training Session",color:"bg-purple-50 text-purple-700"},{value:"competition",label:"üèÜ Competition",color:"bg-red-50 text-red-700"},{value:"adoption",label:"üíö Adoption Event",color:"bg-green-50 text-green-700"},{value:"social",label:"üéâ Social Event",color:"bg-yellow-50 text-yellow-700"},{value:"educational",label:"üìö Educational",color:"bg-indigo-50 text-indigo-700"},{value:"other",label:"üåü Other",color:"bg-gray-50 text-gray-700"}];return e.jsxs("div",{className:"max-w-4xl mx-auto bg-white dark:bg-slate-800 rounded-3xl shadow-2xl border border-gray-100 dark:border-slate-700 overflow-hidden backdrop-blur-sm",children:[e.jsx("div",{className:"bg-gradient-to-r from-purple-600 via-pink-600 to-red-600 px-8 py-6 text-white",children:e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:"bg-white/20 rounded-2xl p-3",children:e.jsx(L,{className:"h-8 w-8"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold",children:"Create Event ‚ú®"}),e.jsx("p",{className:"text-purple-100",children:"Organize something amazing for the dog community"})]})]})}),e.jsxs("form",{onSubmit:N,className:"p-8 space-y-10",children:[e.jsxs("div",{className:"space-y-6",children:[e.jsxs("h3",{className:"text-2xl font-bold text-gray-900 dark:text-white border-b-2 border-purple-200 dark:border-purple-700 pb-3 flex items-center",children:[e.jsx("div",{className:"bg-purple-100 dark:bg-purple-800 rounded-xl p-2 mr-3",children:e.jsx(S,{className:"h-6 w-6 text-purple-600 dark:text-purple-300"})}),"Basic Information"]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[e.jsxs("div",{className:"lg:col-span-2",children:[e.jsxs("label",{className:"block text-sm font-bold text-gray-700 dark:text-gray-300 mb-3 flex items-center",children:[e.jsx(O,{className:"h-4 w-4 mr-2 text-purple-500"}),"Event Title *"]}),e.jsx("input",{type:"text",name:"title",value:r.title,onChange:d,className:`w-full rounded-2xl border-2 px-6 py-4 text-base font-medium focus:outline-none focus:ring-4 focus:ring-purple-500/20 transition-all duration-300 dark:bg-slate-700 dark:text-white ${l.title?"border-red-300 bg-red-50 dark:border-red-600 dark:bg-red-900/20":"border-gray-200 dark:border-slate-600 bg-gray-50 dark:bg-slate-700 focus:bg-white dark:focus:bg-slate-600 hover:border-purple-300 dark:hover:border-purple-600"}`,placeholder:"e.g. Morning Meetup for Small Dogs üêï",maxLength:100}),l.title&&e.jsx("p",{className:"mt-2 text-sm text-red-600 dark:text-red-400 font-medium",children:l.title})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-bold text-gray-700 dark:text-gray-300 mb-3 flex items-center",children:[e.jsx(R,{className:"h-4 w-4 mr-2 text-purple-500"}),"Dog Park *"]}),e.jsxs("select",{name:"gardenId",value:r.gardenId,onChange:d,disabled:!!i||D,className:`w-full rounded-2xl border-2 px-6 py-4 text-base font-medium focus:outline-none focus:ring-4 focus:ring-purple-500/20 transition-all duration-300 dark:bg-slate-700 dark:text-white ${l.gardenId?"border-red-300 bg-red-50 dark:border-red-600 dark:bg-red-900/20":"border-gray-200 dark:border-slate-600 bg-gray-50 dark:bg-slate-700 focus:bg-white dark:focus:bg-slate-600 hover:border-purple-300 dark:hover:border-purple-600"} ${i||D?"opacity-60 cursor-not-allowed":""}`,children:[e.jsx("option",{value:"",children:D?"Loading parks...":"Select a dog park"}),y.map(s=>e.jsxs("option",{value:s._id,children:[s.name," - ",s.address]},s._id))]}),l.gardenId&&e.jsx("p",{className:"mt-2 text-sm text-red-600 dark:text-red-400 font-medium",children:l.gardenId}),i&&e.jsxs("p",{className:"mt-2 text-sm text-green-600 dark:text-green-400 font-medium",children:["‚úÖ Pre-selected park: ",i.name]})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-bold text-gray-700 dark:text-gray-300 mb-3 flex items-center",children:[e.jsx(P,{className:"h-4 w-4 mr-2 text-purple-500"}),"Event Type"]}),e.jsx("select",{name:"eventType",value:r.eventType,onChange:d,className:"w-full rounded-2xl border-2 border-gray-200 dark:border-slate-600 bg-gray-50 dark:bg-slate-700 px-6 py-4 text-base font-medium focus:outline-none focus:ring-4 focus:ring-purple-500/20 focus:bg-white dark:focus:bg-slate-600 transition-all duration-300 dark:text-white hover:border-purple-300 dark:hover:border-purple-600",children:w.map(s=>e.jsx("option",{value:s.value,children:s.label},s.value))})]})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-bold text-gray-700 dark:text-gray-300 mb-3 flex items-center",children:[e.jsx(C,{className:"h-4 w-4 mr-2 text-purple-500"}),"Event Description *"]}),e.jsx("textarea",{name:"description",value:r.description,onChange:d,rows:5,className:`w-full rounded-2xl border-2 px-6 py-4 text-base font-medium focus:outline-none focus:ring-4 focus:ring-purple-500/20 transition-all duration-300 dark:bg-slate-700 dark:text-white resize-none ${l.description?"border-red-300 bg-red-50 dark:border-red-600 dark:bg-red-900/20":"border-gray-200 dark:border-slate-600 bg-gray-50 dark:bg-slate-700 focus:bg-white dark:focus:bg-slate-600 hover:border-purple-300 dark:hover:border-purple-600"}`,placeholder:"Describe your amazing event, what will happen and what participants need to know... ‚ú®",maxLength:1e3}),l.description&&e.jsx("p",{className:"mt-2 text-sm text-red-600 dark:text-red-400 font-medium",children:l.description}),e.jsxs("div",{className:"flex justify-between items-center mt-2",children:[e.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400 font-medium",children:[r.description.length,"/1000 characters"]}),e.jsx("div",{className:"bg-purple-100 dark:bg-purple-900/30 rounded-lg px-3 py-1",children:e.jsx("span",{className:"text-sm font-bold text-purple-700 dark:text-purple-300",children:r.description.length>800?"üî•":r.description.length>500?"‚ú®":"üí´"})})]})]})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("h3",{className:"text-2xl font-bold text-gray-900 dark:text-white border-b-2 border-purple-200 dark:border-purple-700 pb-3 flex items-center",children:[e.jsx("div",{className:"bg-purple-100 dark:bg-purple-800 rounded-xl p-2 mr-3",children:e.jsx($,{className:"h-6 w-6 text-purple-600 dark:text-purple-300"})}),"Date & Time ‚è∞"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-bold text-gray-700 dark:text-gray-300 mb-3",children:"Event Date *"}),e.jsx("input",{type:"date",name:"eventDate",value:r.eventDate,onChange:d,min:new Date().toISOString().split("T")[0],className:`w-full rounded-2xl border-2 px-6 py-4 text-base font-medium focus:outline-none focus:ring-4 focus:ring-purple-500/20 transition-all duration-300 dark:bg-slate-700 dark:text-white ${l.eventDate?"border-red-300 bg-red-50 dark:border-red-600 dark:bg-red-900/20":"border-gray-200 dark:border-slate-600 bg-gray-50 dark:bg-slate-700 focus:bg-white dark:focus:bg-slate-600 hover:border-purple-300 dark:hover:border-purple-600"}`}),l.eventDate&&e.jsx("p",{className:"mt-2 text-sm text-red-600 dark:text-red-400 font-medium",children:l.eventDate})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-bold text-gray-700 dark:text-gray-300 mb-3",children:"Start Time *"}),e.jsx("input",{type:"time",name:"startTime",value:r.startTime,onChange:d,className:`w-full rounded-2xl border-2 px-6 py-4 text-base font-medium focus:outline-none focus:ring-4 focus:ring-purple-500/20 transition-all duration-300 dark:bg-slate-700 dark:text-white ${l.startTime?"border-red-300 bg-red-50 dark:border-red-600 dark:bg-red-900/20":"border-gray-200 dark:border-slate-600 bg-gray-50 dark:bg-slate-700 focus:bg-white dark:focus:bg-slate-600 hover:border-purple-300 dark:hover:border-purple-600"}`}),l.startTime&&e.jsx("p",{className:"mt-2 text-sm text-red-600 dark:text-red-400 font-medium",children:l.startTime})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-bold text-gray-700 dark:text-gray-300 mb-3",children:"End Time *"}),e.jsx("input",{type:"time",name:"endTime",value:r.endTime,onChange:d,className:`w-full rounded-2xl border-2 px-6 py-4 text-base font-medium focus:outline-none focus:ring-4 focus:ring-purple-500/20 transition-all duration-300 dark:bg-slate-700 dark:text-white ${l.endTime?"border-red-300 bg-red-50 dark:border-red-600 dark:bg-red-900/20":"border-gray-200 dark:border-slate-600 bg-gray-50 dark:bg-slate-700 focus:bg-white dark:focus:bg-slate-600 hover:border-purple-300 dark:hover:border-purple-600"}`}),l.endTime&&e.jsx("p",{className:"mt-2 text-sm text-red-600 dark:text-red-400 font-medium",children:l.endTime})]})]})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("h3",{className:"text-2xl font-bold text-gray-900 dark:text-white border-b-2 border-purple-200 dark:border-purple-700 pb-3 flex items-center",children:[e.jsx("div",{className:"bg-purple-100 dark:bg-purple-800 rounded-xl p-2 mr-3",children:e.jsx(I,{className:"h-6 w-6 text-purple-600 dark:text-purple-300"})}),"Registration Settings üë•"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-bold text-gray-700 dark:text-gray-300 mb-3",children:"Maximum Participants"}),e.jsx("input",{type:"number",name:"maxParticipants",value:r.maxParticipants,onChange:d,min:"1",className:"w-full rounded-2xl border-2 border-gray-200 dark:border-slate-600 bg-gray-50 dark:bg-slate-700 px-6 py-4 text-base font-medium focus:outline-none focus:ring-4 focus:ring-purple-500/20 focus:bg-white dark:focus:bg-slate-600 transition-all duration-300 dark:text-white hover:border-purple-300 dark:hover:border-purple-600",placeholder:"Leave empty for unlimited"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-bold text-gray-700 dark:text-gray-300 mb-3",children:"Registration Deadline"}),e.jsx("input",{type:"datetime-local",name:"registrationDeadline",value:r.registrationDeadline,onChange:d,className:`w-full rounded-2xl border-2 px-6 py-4 text-base font-medium focus:outline-none focus:ring-4 focus:ring-purple-500/20 transition-all duration-300 dark:bg-slate-700 dark:text-white ${l.registrationDeadline?"border-red-300 bg-red-50 dark:border-red-600 dark:bg-red-900/20":"border-gray-200 dark:border-slate-600 bg-gray-50 dark:bg-slate-700 focus:bg-white dark:focus:bg-slate-600 hover:border-purple-300 dark:hover:border-purple-600"}`}),l.registrationDeadline&&e.jsx("p",{className:"mt-2 text-sm text-red-600 dark:text-red-400 font-medium",children:l.registrationDeadline})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"bg-gradient-to-r from-purple-50 to-pink-50 dark:from-purple-900/20 dark:to-pink-900/20 rounded-2xl p-6 border border-purple-200 dark:border-purple-700",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",name:"requiresApproval",checked:r.requiresApproval,onChange:d,className:"h-5 w-5 text-purple-600 focus:ring-purple-500 border-gray-300 dark:border-slate-600 rounded-lg"}),e.jsx("label",{className:"ml-4 text-sm font-bold text-gray-700 dark:text-gray-300",children:"Require approval for registration"})]}),e.jsx("p",{className:"mt-2 text-xs text-gray-600 dark:text-gray-400",children:"I will approve each registration manually üëë"})]}),e.jsxs("div",{className:"bg-gradient-to-r from-blue-50 to-cyan-50 dark:from-blue-900/20 dark:to-cyan-900/20 rounded-2xl p-6 border border-blue-200 dark:border-blue-700",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",name:"allowWaitingList",checked:r.allowWaitingList,onChange:d,className:"h-5 w-5 text-blue-600 focus:ring-blue-500 border-gray-300 dark:border-slate-600 rounded-lg"}),e.jsx("label",{className:"ml-4 text-sm font-bold text-gray-700 dark:text-gray-300",children:"Allow waiting list"})]}),e.jsx("p",{className:"mt-2 text-xs text-gray-600 dark:text-gray-400",children:"When event is full ‚è∞"})]})]})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("h3",{className:"text-2xl font-bold text-gray-900 dark:text-white border-b-2 border-purple-200 dark:border-purple-700 pb-3 flex items-center",children:[e.jsx("div",{className:"bg-purple-100 dark:bg-purple-800 rounded-xl p-2 mr-3",children:e.jsx(C,{className:"h-6 w-6 text-purple-600 dark:text-purple-300"})}),"Personal Messages to Participants üí¨"]}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300 mb-4 bg-gradient-to-r from-purple-50 to-pink-50 dark:from-purple-900/20 dark:to-pink-900/20 p-4 rounded-xl border border-purple-200 dark:border-purple-700",children:"‚ú® Write customized messages that will be shown to participants in emails and at the event (optional)"}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-bold text-gray-700 dark:text-gray-300 mb-3 flex items-center",children:"üéâ Welcome Message (shown at event)"}),e.jsx("textarea",{name:"organizerMessages.welcomeMessage",value:r.organizerMessages.welcomeMessage,onChange:s=>{o(t=>({...t,organizerMessages:{...t.organizerMessages,welcomeMessage:s.target.value}}))},rows:4,className:"w-full rounded-2xl border-2 border-gray-200 dark:border-slate-600 bg-gray-50 dark:bg-slate-700 px-6 py-4 text-base font-medium focus:outline-none focus:ring-4 focus:ring-purple-500/20 focus:bg-white dark:focus:bg-slate-600 transition-all duration-300 dark:text-white resize-none hover:border-purple-300 dark:hover:border-purple-600",placeholder:"Welcome to my amazing event! I'm so happy you'll be joining us... ‚ú®",maxLength:500}),e.jsxs("p",{className:"mt-2 text-xs text-gray-500 dark:text-gray-400 font-medium",children:[r.organizerMessages.welcomeMessage.length,"/500"]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-bold text-gray-700 dark:text-gray-300 mb-3 flex items-center",children:"üìß Registration Message (in email)"}),e.jsx("textarea",{name:"organizerMessages.registrationMessage",value:r.organizerMessages.registrationMessage,onChange:s=>{o(t=>({...t,organizerMessages:{...t.organizerMessages,registrationMessage:s.target.value}}))},rows:4,className:"w-full rounded-2xl border-2 border-gray-200 dark:border-slate-600 bg-gray-50 dark:bg-slate-700 px-6 py-4 text-base font-medium focus:outline-none focus:ring-4 focus:ring-purple-500/20 focus:bg-white dark:focus:bg-slate-600 transition-all duration-300 dark:text-white resize-none hover:border-purple-300 dark:hover:border-purple-600",placeholder:"Thanks for registering! Please bring water and treats for your dogs... üêï",maxLength:500}),e.jsxs("p",{className:"mt-2 text-xs text-gray-500 dark:text-gray-400 font-medium",children:[r.organizerMessages.registrationMessage.length,"/500"]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-bold text-gray-700 dark:text-gray-300 mb-3 flex items-center",children:"‚úÖ Approval Message (if approval required)"}),e.jsx("textarea",{name:"organizerMessages.approvalMessage",value:r.organizerMessages.approvalMessage,onChange:s=>{o(t=>({...t,organizerMessages:{...t.organizerMessages,approvalMessage:s.target.value}}))},rows:4,className:`w-full rounded-2xl border-2 px-6 py-4 text-base font-medium focus:outline-none focus:ring-4 focus:ring-purple-500/20 transition-all duration-300 resize-none dark:text-white ${r.requiresApproval?"border-gray-200 dark:border-slate-600 bg-gray-50 dark:bg-slate-700 focus:bg-white dark:focus:bg-slate-600 hover:border-purple-300 dark:hover:border-purple-600":"border-gray-300 dark:border-slate-600 bg-gray-100 dark:bg-slate-800 text-gray-500 dark:text-gray-400 cursor-not-allowed"}`,placeholder:"Congratulations! Your registration has been approved. See you at the event... üéä",maxLength:500,disabled:!r.requiresApproval}),e.jsxs("p",{className:"mt-2 text-xs text-gray-500 dark:text-gray-400 font-medium",children:[r.organizerMessages.approvalMessage.length,"/500",!r.requiresApproval&&" (available only when approval required)"]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-bold text-gray-700 dark:text-gray-300 mb-3 flex items-center",children:"‚ùå Rejection Message (if approval required)"}),e.jsx("textarea",{name:"organizerMessages.rejectionMessage",value:r.organizerMessages.rejectionMessage,onChange:s=>{o(t=>({...t,organizerMessages:{...t.organizerMessages,rejectionMessage:s.target.value}}))},rows:4,className:`w-full rounded-2xl border-2 px-6 py-4 text-base font-medium focus:outline-none focus:ring-4 focus:ring-purple-500/20 transition-all duration-300 resize-none dark:text-white ${r.requiresApproval?"border-gray-200 dark:border-slate-600 bg-gray-50 dark:bg-slate-700 focus:bg-white dark:focus:bg-slate-600 hover:border-purple-300 dark:hover:border-purple-600":"border-gray-300 dark:border-slate-600 bg-gray-100 dark:bg-slate-800 text-gray-500 dark:text-gray-400 cursor-not-allowed"}`,placeholder:"Sorry, we couldn't approve your registration this time. We hope to see you at future events... üíî",maxLength:500,disabled:!r.requiresApproval}),e.jsxs("p",{className:"mt-2 text-xs text-gray-500 dark:text-gray-400 font-medium",children:[r.organizerMessages.rejectionMessage.length,"/500",!r.requiresApproval&&" (available only when approval required)"]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-bold text-gray-700 dark:text-gray-300 mb-3 flex items-center",children:"üîî Reminder Message (sent before event)"}),e.jsx("textarea",{name:"organizerMessages.reminderMessage",value:r.organizerMessages.reminderMessage,onChange:s=>{o(t=>({...t,organizerMessages:{...t.organizerMessages,reminderMessage:s.target.value}}))},rows:4,className:"w-full rounded-2xl border-2 border-gray-200 dark:border-slate-600 bg-gray-50 dark:bg-slate-700 px-6 py-4 text-base font-medium focus:outline-none focus:ring-4 focus:ring-purple-500/20 focus:bg-white dark:focus:bg-slate-600 transition-all duration-300 dark:text-white resize-none hover:border-purple-300 dark:hover:border-purple-600",placeholder:"Reminder: The amazing event starts tomorrow! Don't forget to bring... ‚è∞",maxLength:500}),e.jsxs("p",{className:"mt-2 text-xs text-gray-500 dark:text-gray-400 font-medium",children:[r.organizerMessages.reminderMessage.length,"/500"]})]})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-bold text-gray-700 dark:text-gray-300 mb-3 flex items-center",children:[e.jsx(P,{className:"h-4 w-4 mr-2 text-purple-500"}),"Tags (separated by commas) üè∑Ô∏è"]}),e.jsx("input",{type:"text",name:"tags",value:r.tags,onChange:d,className:"w-full rounded-2xl border-2 border-gray-200 dark:border-slate-600 bg-gray-50 dark:bg-slate-700 px-6 py-4 text-base font-medium focus:outline-none focus:ring-4 focus:ring-purple-500/20 focus:bg-white dark:focus:bg-slate-600 transition-all duration-300 dark:text-white hover:border-purple-300 dark:hover:border-purple-600",placeholder:"small dogs, training, playtime, friends"}),e.jsx("p",{className:"mt-2 text-sm text-gray-500 dark:text-gray-400 font-medium bg-purple-50 dark:bg-purple-900/20 p-3 rounded-xl",children:"üí° Add tags to help people find your amazing event"})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 pt-8 border-t-2 border-purple-200 dark:border-purple-700",children:[e.jsx("button",{type:"submit",disabled:x,className:"flex-1 flex justify-center items-center px-8 py-6 bg-gradient-to-r from-purple-600 via-purple-700 to-pink-600 hover:from-purple-700 hover:via-purple-800 hover:to-pink-700 text-white text-xl font-bold rounded-2xl focus:outline-none focus:ring-4 focus:ring-purple-500/30 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-300 transform hover:scale-[1.02] active:scale-[0.98] shadow-xl hover:shadow-2xl",children:x?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-white mr-3"}),"Creating Magic..."]}):e.jsxs(e.Fragment,{children:[e.jsx(q,{className:"h-6 w-6 mr-3"}),"Create Dream Event ‚ú®"]})}),e.jsxs("button",{type:"button",onClick:u,className:"flex-1 flex justify-center items-center px-8 py-6 bg-gradient-to-r from-gray-600 to-gray-700 hover:from-gray-700 hover:to-gray-800 text-white text-xl font-bold rounded-2xl focus:outline-none focus:ring-4 focus:ring-gray-500/30 transition-all duration-300 transform hover:scale-[1.02] active:scale-[0.98] shadow-xl hover:shadow-2xl",children:[e.jsx(W,{className:"h-6 w-6 mr-3"}),"Cancel"]})]})]})]})},H=({event:a,onEventUpdated:u,onCancel:i})=>{var s;const[r,o]=c.useState({title:"",description:"",eventDate:"",startTime:"",endTime:"",eventType:"meetup",maxParticipants:"",requiresApproval:!1,allowWaitingList:!0,registrationDeadline:"",tags:"",organizerMessages:{welcomeMessage:"",registrationMessage:"",approvalMessage:"",rejectionMessage:"",reminderMessage:""}}),[y,g]=c.useState([]),[x,j]=c.useState(!1),[l,v]=c.useState({}),[D,b]=c.useState(!1);c.useEffect(()=>{var t,n,m,p,f;if(a){const M=new Date(a.eventDate).toISOString().split("T")[0];let z="";a.registrationDeadline&&(z=new Date(a.registrationDeadline).toISOString().slice(0,16)),o({title:a.title||"",description:a.description||"",eventDate:M,startTime:a.startTime||"",endTime:a.endTime||"",eventType:a.eventType||"meetup",maxParticipants:a.maxParticipants||"",requiresApproval:a.requiresApproval||!1,allowWaitingList:a.allowWaitingList!==!1,registrationDeadline:z,tags:a.tags?a.tags.join(", "):"",organizerMessages:{welcomeMessage:((t=a.organizerMessages)==null?void 0:t.welcomeMessage)||"",registrationMessage:((n=a.organizerMessages)==null?void 0:n.registrationMessage)||"",approvalMessage:((m=a.organizerMessages)==null?void 0:m.approvalMessage)||"",rejectionMessage:((p=a.organizerMessages)==null?void 0:p.rejectionMessage)||"",reminderMessage:((f=a.organizerMessages)==null?void 0:f.reminderMessage)||""}})}T()},[a]);const T=async()=>{b(!0);try{const t=await F.getMyGardens();g(t.data||t||[])}catch(t){console.error("Error loading gardens:",t),k.error("◊©◊í◊ô◊ê◊î ◊ë◊ò◊¢◊ô◊†◊™ ◊î◊í◊ô◊†◊ï◊™"),g([])}finally{b(!1)}},h=()=>{const t={};r.title.trim()||(t.title="◊©◊ù ◊î◊ê◊ô◊®◊ï◊¢ ◊†◊ì◊®◊©"),r.description.trim()||(t.description="◊™◊ô◊ê◊ï◊® ◊î◊ê◊ô◊®◊ï◊¢ ◊†◊ì◊®◊©"),r.eventDate||(t.eventDate="◊™◊ê◊®◊ô◊ö ◊î◊ê◊ô◊®◊ï◊¢ ◊†◊ì◊®◊©"),r.startTime||(t.startTime="◊©◊¢◊™ ◊î◊™◊ó◊ú◊î ◊†◊ì◊®◊©◊™"),r.endTime||(t.endTime="◊©◊¢◊™ ◊°◊ô◊ï◊ù ◊†◊ì◊®◊©◊™");const n=new Date(a.eventDate),m=new Date(`${r.eventDate}T${r.startTime}`);if(r.eventDate!==n.toISOString().split("T")[0]&&m<=new Date&&(t.eventDate="◊î◊ê◊ô◊®◊ï◊¢ ◊ó◊ô◊ô◊ë ◊ú◊î◊ô◊ï◊™ ◊ë◊¢◊™◊ô◊ì"),r.startTime&&r.endTime&&r.startTime>=r.endTime&&(t.endTime="◊©◊¢◊™ ◊î◊°◊ô◊ï◊ù ◊ó◊ô◊ô◊ë◊™ ◊ú◊î◊ô◊ï◊™ ◊ê◊ó◊®◊ô ◊©◊¢◊™ ◊î◊î◊™◊ó◊ú◊î"),r.registrationDeadline){const p=new Date(r.registrationDeadline),f=new Date(`${r.eventDate}T${r.startTime}`);p>=f&&(t.registrationDeadline="◊û◊ï◊¢◊ì ◊î◊®◊ô◊©◊ï◊ù ◊ó◊ô◊ô◊ë ◊ú◊î◊ô◊ï◊™ ◊ú◊§◊†◊ô ◊î◊ê◊ô◊®◊ï◊¢")}return v(t),Object.keys(t).length===0},N=async t=>{var n,m;if(t.preventDefault(),!h()){k.error("◊ô◊© ◊ú◊™◊ß◊ü ◊ê◊™ ◊î◊©◊í◊ô◊ê◊ï◊™ ◊ë◊ò◊ï◊§◊°");return}j(!0);try{const p={...r,tags:(r.tags||"").split(",").map(M=>M.trim()).filter(Boolean),maxParticipants:r.maxParticipants?parseInt(r.maxParticipants):null};delete p.gardenId;const f=await A.updateEvent(a._id,p);k.success("◊î◊ê◊ô◊®◊ï◊¢ ◊¢◊ï◊ì◊õ◊ü ◊ë◊î◊¶◊ú◊ó◊î! üéâ"),u(f.data||f)}catch(p){console.error("Error updating event:",p),k.error(((m=(n=p.response)==null?void 0:n.data)==null?void 0:m.error)||"◊©◊í◊ô◊ê◊î ◊ë◊¢◊ì◊õ◊ï◊ü ◊î◊ê◊ô◊®◊ï◊¢")}finally{j(!1)}},d=t=>{const{name:n,value:m,type:p,checked:f}=t.target;if(n.startsWith("organizerMessages.")){const M=n.split(".")[1];o(z=>({...z,organizerMessages:{...z.organizerMessages,[M]:m}}))}else o(M=>({...M,[n]:p==="checkbox"?f:m}));l[n]&&v(M=>({...M,[n]:""}))},w=[{value:"meetup",label:"üë• ◊û◊§◊í◊© ◊ß◊î◊ô◊ú◊™◊ô"},{value:"training",label:"üéì ◊ê◊ô◊û◊ï◊ü"},{value:"competition",label:"üèÜ ◊™◊ó◊®◊ï◊™"},{value:"adoption",label:"üíö ◊ê◊ô◊û◊ï◊•"},{value:"social",label:"üéâ ◊ê◊ô◊®◊ï◊¢ ◊ó◊ë◊®◊™◊ô"},{value:"educational",label:"üìö ◊ó◊ô◊†◊ï◊õ◊ô"},{value:"other",label:"üåü ◊ê◊ó◊®"}];return e.jsxs("div",{className:"max-w-6xl mx-auto bg-white dark:bg-slate-800 rounded-3xl shadow-2xl border border-gray-100 dark:border-slate-700 overflow-hidden max-h-[95vh] overflow-y-auto backdrop-blur-sm",children:[e.jsx("div",{className:"bg-gradient-to-r from-purple-600 via-purple-700 to-pink-600 px-8 py-8 text-white sticky top-0 z-20 backdrop-blur-sm",children:e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute -top-4 -right-4 opacity-20",children:e.jsx("div",{className:"text-6xl animate-pulse",children:"‚ú®"})}),e.jsxs("div",{className:"relative z-10",children:[e.jsxs("h2",{className:"text-3xl lg:text-4xl font-bold flex items-center mb-3",children:[e.jsx("div",{className:"bg-white/20 rounded-2xl p-3 ml-4",children:e.jsx(S,{className:"h-8 w-8"})}),"◊¢◊®◊ô◊õ◊™ ◊ê◊ô◊®◊ï◊¢ ◊û◊ì◊î◊ô◊ù ‚ú®"]}),e.jsxs("p",{className:"text-purple-100 text-lg font-medium",children:['◊¢◊ì◊õ◊ü ◊ê◊™ ◊§◊®◊ò◊ô ◊î◊ê◊ô◊®◊ï◊¢ "',a==null?void 0:a.title,'" ◊ï◊©◊§◊® ◊ê◊™ ◊î◊ó◊ï◊ï◊ô◊î']})]})]})}),e.jsxs("form",{onSubmit:N,className:"p-8 space-y-10",children:[e.jsxs("div",{className:"space-y-6",children:[e.jsxs("h3",{className:"text-2xl font-bold text-gray-900 dark:text-white border-b-2 border-purple-200 dark:border-purple-700 pb-3 flex items-center",children:[e.jsx("div",{className:"bg-purple-100 dark:bg-purple-800 rounded-xl p-2 ml-3",children:e.jsx(L,{className:"h-6 w-6 text-purple-600 dark:text-purple-300"})}),"◊û◊ô◊ì◊¢ ◊ë◊°◊ô◊°◊ô"]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[e.jsxs("div",{className:"lg:col-span-2",children:[e.jsxs("label",{className:"block text-sm font-bold text-gray-700 dark:text-gray-300 mb-3 flex items-center",children:[e.jsx(S,{className:"h-4 w-4 ml-2 text-purple-500"}),"◊©◊ù ◊î◊ê◊ô◊®◊ï◊¢ *"]}),e.jsx("input",{type:"text",name:"title",value:r.title,onChange:d,className:`w-full rounded-2xl border-2 px-6 py-4 text-base font-medium focus:outline-none focus:ring-4 focus:ring-purple-500/20 transition-all duration-300 dark:bg-slate-700 dark:text-white ${l.title?"border-red-300 bg-red-50 dark:border-red-600 dark:bg-red-900/20":"border-gray-200 dark:border-slate-600 bg-gray-50 dark:bg-slate-700 focus:bg-white dark:focus:bg-slate-600 hover:border-purple-300 dark:hover:border-purple-600"}`,placeholder:"◊ú◊ì◊ï◊í◊û◊î: ◊û◊§◊í◊© ◊ë◊ï◊ß◊® ◊¢◊ù ◊õ◊ú◊ë◊ô◊ù ◊ß◊ò◊†◊ô◊ù",maxLength:100}),l.title&&e.jsx("p",{className:"mt-2 text-sm text-red-600 dark:text-red-400 font-medium",children:l.title})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-bold text-gray-700 dark:text-gray-300 mb-3",children:"◊°◊ï◊í ◊î◊ê◊ô◊®◊ï◊¢"}),e.jsx("select",{name:"eventType",value:r.eventType,onChange:d,className:"w-full rounded-2xl border-2 border-gray-200 dark:border-slate-600 bg-gray-50 dark:bg-slate-700 px-6 py-4 text-base font-medium focus:outline-none focus:ring-4 focus:ring-purple-500/20 focus:bg-white dark:focus:bg-slate-600 transition-all duration-300 dark:text-white hover:border-purple-300 dark:hover:border-purple-600",children:w.map(t=>e.jsx("option",{value:t.value,children:t.label},t.value))})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-bold text-gray-700 dark:text-gray-300 mb-3 flex items-center",children:[e.jsx(R,{className:"h-4 w-4 ml-2 text-purple-500"}),"◊í◊ô◊†◊î"]}),e.jsxs("div",{className:"w-full rounded-2xl border-2 border-gray-200 dark:border-slate-600 bg-gradient-to-r from-gray-100 to-gray-200 dark:from-slate-700 dark:to-slate-600 px-6 py-4 text-base font-medium text-gray-600 dark:text-gray-300",children:["üìç ",((s=a==null?void 0:a.garden)==null?void 0:s.name)||"◊ú◊ê ◊¶◊ï◊ô◊ü"]}),e.jsx("p",{className:"mt-2 text-sm text-gray-500 dark:text-gray-400 font-medium bg-yellow-50 dark:bg-yellow-900/20 p-3 rounded-xl border border-yellow-200 dark:border-yellow-700",children:"üí° ◊ú◊ê ◊†◊ô◊™◊ü ◊ú◊©◊†◊ï◊™ ◊ê◊™ ◊î◊í◊ô◊†◊î ◊ú◊ê◊ó◊® ◊ô◊¶◊ô◊®◊™ ◊î◊ê◊ô◊®◊ï◊¢"})]})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-bold text-gray-700 dark:text-gray-300 mb-3 flex items-center",children:[e.jsx(C,{className:"h-4 w-4 ml-2 text-purple-500"}),"◊™◊ô◊ê◊ï◊® ◊î◊ê◊ô◊®◊ï◊¢ *"]}),e.jsx("textarea",{name:"description",value:r.description,onChange:d,rows:5,className:`w-full rounded-2xl border-2 px-6 py-4 text-base font-medium focus:outline-none focus:ring-4 focus:ring-purple-500/20 transition-all duration-300 dark:bg-slate-700 dark:text-white resize-none ${l.description?"border-red-300 bg-red-50 dark:border-red-600 dark:bg-red-900/20":"border-gray-200 dark:border-slate-600 bg-gray-50 dark:bg-slate-700 focus:bg-white dark:focus:bg-slate-600 hover:border-purple-300 dark:hover:border-purple-600"}`,placeholder:"◊™◊ê◊® ◊ê◊™ ◊î◊ê◊ô◊®◊ï◊¢ ◊î◊û◊ì◊î◊ô◊ù ◊©◊ú◊ö, ◊û◊î ◊ô◊ß◊®◊î ◊ë◊ï ◊ï◊û◊î ◊û◊©◊™◊™◊§◊ô◊ù ◊¶◊®◊ô◊õ◊ô◊ù ◊ú◊ì◊¢◊™...",maxLength:1e3}),l.description&&e.jsx("p",{className:"mt-2 text-sm text-red-600 dark:text-red-400 font-medium",children:l.description}),e.jsxs("div",{className:"flex justify-between items-center mt-2",children:[e.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400 font-medium",children:[r.description.length,"/1000 ◊™◊ï◊ï◊ô◊ù"]}),e.jsx("div",{className:"bg-purple-100 dark:bg-purple-900/30 rounded-lg px-3 py-1",children:e.jsx("span",{className:"text-sm font-bold text-purple-700 dark:text-purple-300",children:r.description.length>800?"üî•":r.description.length>500?"‚ú®":"üí´"})})]})]})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("h3",{className:"text-2xl font-bold text-gray-900 dark:text-white border-b-2 border-purple-200 dark:border-purple-700 pb-3 flex items-center",children:[e.jsx("div",{className:"bg-purple-100 dark:bg-purple-800 rounded-xl p-2 ml-3",children:e.jsx($,{className:"h-6 w-6 text-purple-600 dark:text-purple-300"})}),"◊™◊ê◊®◊ô◊ö ◊ï◊©◊¢◊î ‚è∞"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-bold text-gray-700 dark:text-gray-300 mb-3",children:"◊™◊ê◊®◊ô◊ö ◊î◊ê◊ô◊®◊ï◊¢ *"}),e.jsx("input",{type:"date",name:"eventDate",value:r.eventDate,onChange:d,min:new Date().toISOString().split("T")[0],className:`w-full rounded-2xl border-2 px-6 py-4 text-base font-medium focus:outline-none focus:ring-4 focus:ring-purple-500/20 transition-all duration-300 dark:bg-slate-700 dark:text-white ${l.eventDate?"border-red-300 bg-red-50 dark:border-red-600 dark:bg-red-900/20":"border-gray-200 dark:border-slate-600 bg-gray-50 dark:bg-slate-700 focus:bg-white dark:focus:bg-slate-600 hover:border-purple-300 dark:hover:border-purple-600"}`}),l.eventDate&&e.jsx("p",{className:"mt-2 text-sm text-red-600 dark:text-red-400 font-medium",children:l.eventDate})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-bold text-gray-700 dark:text-gray-300 mb-3",children:"◊©◊¢◊™ ◊î◊™◊ó◊ú◊î *"}),e.jsx("input",{type:"time",name:"startTime",value:r.startTime,onChange:d,className:`w-full rounded-2xl border-2 px-6 py-4 text-base font-medium focus:outline-none focus:ring-4 focus:ring-purple-500/20 transition-all duration-300 dark:bg-slate-700 dark:text-white ${l.startTime?"border-red-300 bg-red-50 dark:border-red-600 dark:bg-red-900/20":"border-gray-200 dark:border-slate-600 bg-gray-50 dark:bg-slate-700 focus:bg-white dark:focus:bg-slate-600 hover:border-purple-300 dark:hover:border-purple-600"}`}),l.startTime&&e.jsx("p",{className:"mt-2 text-sm text-red-600 dark:text-red-400 font-medium",children:l.startTime})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-bold text-gray-700 dark:text-gray-300 mb-3",children:"◊©◊¢◊™ ◊°◊ô◊ï◊ù *"}),e.jsx("input",{type:"time",name:"endTime",value:r.endTime,onChange:d,className:`w-full rounded-2xl border-2 px-6 py-4 text-base font-medium focus:outline-none focus:ring-4 focus:ring-purple-500/20 transition-all duration-300 dark:bg-slate-700 dark:text-white ${l.endTime?"border-red-300 bg-red-50 dark:border-red-600 dark:bg-red-900/20":"border-gray-200 dark:border-slate-600 bg-gray-50 dark:bg-slate-700 focus:bg-white dark:focus:bg-slate-600 hover:border-purple-300 dark:hover:border-purple-600"}`}),l.endTime&&e.jsx("p",{className:"mt-2 text-sm text-red-600 dark:text-red-400 font-medium",children:l.endTime})]})]})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("h3",{className:"text-2xl font-bold text-gray-900 dark:text-white border-b-2 border-purple-200 dark:border-purple-700 pb-3 flex items-center",children:[e.jsx("div",{className:"bg-purple-100 dark:bg-purple-800 rounded-xl p-2 ml-3",children:e.jsx(I,{className:"h-6 w-6 text-purple-600 dark:text-purple-300"})}),"◊î◊í◊ì◊®◊ï◊™ ◊®◊ô◊©◊ï◊ù üë•"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-bold text-gray-700 dark:text-gray-300 mb-3",children:"◊û◊°◊§◊® ◊û◊©◊™◊™◊§◊ô◊ù ◊û◊ß◊°◊ô◊û◊ú◊ô"}),e.jsx("input",{type:"number",name:"maxParticipants",value:r.maxParticipants,onChange:d,min:"1",className:"w-full rounded-2xl border-2 border-gray-200 dark:border-slate-600 bg-gray-50 dark:bg-slate-700 px-6 py-4 text-base font-medium focus:outline-none focus:ring-4 focus:ring-purple-500/20 focus:bg-white dark:focus:bg-slate-600 transition-all duration-300 dark:text-white hover:border-purple-300 dark:hover:border-purple-600",placeholder:"◊ú◊ú◊ê ◊î◊í◊ë◊ú◊î ◊ê◊ù ◊®◊ô◊ß"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-bold text-gray-700 dark:text-gray-300 mb-3",children:"◊û◊ï◊¢◊ì ◊°◊í◊ô◊®◊™ ◊®◊ô◊©◊ï◊ù"}),e.jsx("input",{type:"datetime-local",name:"registrationDeadline",value:r.registrationDeadline,onChange:d,className:`w-full rounded-2xl border-2 px-6 py-4 text-base font-medium focus:outline-none focus:ring-4 focus:ring-purple-500/20 transition-all duration-300 dark:bg-slate-700 dark:text-white ${l.registrationDeadline?"border-red-300 bg-red-50 dark:border-red-600 dark:bg-red-900/20":"border-gray-200 dark:border-slate-600 bg-gray-50 dark:bg-slate-700 focus:bg-white dark:focus:bg-slate-600 hover:border-purple-300 dark:hover:border-purple-600"}`}),l.registrationDeadline&&e.jsx("p",{className:"mt-2 text-sm text-red-600 dark:text-red-400 font-medium",children:l.registrationDeadline})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"bg-gradient-to-r from-purple-50 to-pink-50 dark:from-purple-900/20 dark:to-pink-900/20 rounded-2xl p-6 border border-purple-200 dark:border-purple-700",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",name:"requiresApproval",checked:r.requiresApproval,onChange:d,className:"h-5 w-5 text-purple-600 focus:ring-purple-500 border-gray-300 dark:border-slate-600 rounded-lg"}),e.jsx("label",{className:"mr-4 text-sm font-bold text-gray-700 dark:text-gray-300",children:"◊†◊ì◊®◊© ◊ê◊ô◊©◊ï◊® ◊û◊®◊ê◊© ◊ú◊®◊ô◊©◊ï◊ù"})]}),e.jsx("p",{className:"mt-2 text-xs text-gray-600 dark:text-gray-400",children:"◊ê◊†◊ô ◊ê◊ê◊©◊® ◊õ◊ú ◊®◊ô◊©◊ï◊ù ◊ô◊ì◊†◊ô◊™ üëë"})]}),e.jsxs("div",{className:"bg-gradient-to-r from-blue-50 to-cyan-50 dark:from-blue-900/20 dark:to-cyan-900/20 rounded-2xl p-6 border border-blue-200 dark:border-blue-700",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",name:"allowWaitingList",checked:r.allowWaitingList,onChange:d,className:"h-5 w-5 text-blue-600 focus:ring-blue-500 border-gray-300 dark:border-slate-600 rounded-lg"}),e.jsx("label",{className:"mr-4 text-sm font-bold text-gray-700 dark:text-gray-300",children:"◊ê◊§◊©◊® ◊®◊©◊ô◊û◊™ ◊î◊û◊™◊†◊î"})]}),e.jsx("p",{className:"mt-2 text-xs text-gray-600 dark:text-gray-400",children:"◊õ◊©◊î◊ê◊ô◊®◊ï◊¢ ◊û◊™◊û◊ú◊ê ‚è∞"})]})]}),a&&a.participants&&a.participants.length>0&&e.jsxs("div",{className:"p-6 bg-gradient-to-r from-yellow-50 to-orange-50 dark:from-yellow-900/20 dark:to-orange-900/20 border-2 border-yellow-200 dark:border-yellow-700 rounded-2xl shadow-lg",children:[e.jsxs("div",{className:"flex items-center mb-2",children:[e.jsx("div",{className:"bg-yellow-200 dark:bg-yellow-700 rounded-full p-2 ml-3",children:e.jsx(I,{className:"h-5 w-5 text-yellow-800 dark:text-yellow-300"})}),e.jsx("strong",{className:"font-bold text-yellow-900 dark:text-yellow-300",children:"◊©◊ô◊ù ◊ú◊ë!"})]}),e.jsxs("p",{className:"text-sm text-yellow-800 dark:text-yellow-300 font-medium",children:["◊ú◊ê◊ô◊®◊ï◊¢ ◊ñ◊î ◊ô◊© ◊õ◊ë◊® ",a.participants.length," ◊û◊©◊™◊™◊§◊ô◊ù ◊®◊©◊ï◊û◊ô◊ù. ◊©◊ô◊†◊ï◊ô◊ô◊ù ◊ë◊î◊í◊ì◊®◊ï◊™ ◊î◊®◊ô◊©◊ï◊ù ◊ô◊©◊§◊ô◊¢◊ï ◊®◊ß ◊¢◊ú ◊®◊ô◊©◊ï◊û◊ô◊ù ◊ó◊ì◊©◊ô◊ù. ‚ú®"]})]})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-bold text-gray-700 dark:text-gray-300 mb-3 flex items-center",children:[e.jsx(P,{className:"h-4 w-4 ml-2 text-purple-500"}),"◊™◊í◊ô◊ï◊™ (◊û◊ï◊§◊®◊ì◊ï◊™ ◊ë◊§◊°◊ô◊ß◊ô◊ù) üè∑Ô∏è"]}),e.jsx("input",{type:"text",name:"tags",value:r.tags,onChange:d,className:"w-full rounded-2xl border-2 border-gray-200 dark:border-slate-600 bg-gray-50 dark:bg-slate-700 px-6 py-4 text-base font-medium focus:outline-none focus:ring-4 focus:ring-purple-500/20 focus:bg-white dark:focus:bg-slate-600 transition-all duration-300 dark:text-white hover:border-purple-300 dark:hover:border-purple-600",placeholder:"◊õ◊ú◊ë◊ô◊ù ◊ß◊ò◊†◊ô◊ù, ◊ê◊ô◊û◊ï◊ü, ◊û◊©◊ó◊ß, ◊ó◊ë◊®◊ô◊ù"}),e.jsx("p",{className:"mt-2 text-sm text-gray-500 dark:text-gray-400 font-medium bg-purple-50 dark:bg-purple-900/20 p-3 rounded-xl",children:"üí° ◊î◊ï◊°◊£ ◊™◊í◊ô◊ï◊™ ◊õ◊ì◊ô ◊ú◊¢◊ñ◊ï◊® ◊ú◊ê◊†◊©◊ô◊ù ◊ú◊û◊¶◊ï◊ê ◊ê◊™ ◊î◊ê◊ô◊®◊ï◊¢ ◊î◊û◊ì◊î◊ô◊ù ◊©◊ú◊ö"})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("h3",{className:"text-2xl font-bold text-gray-900 dark:text-white border-b-2 border-purple-200 dark:border-purple-700 pb-3 flex items-center",children:[e.jsx("div",{className:"bg-purple-100 dark:bg-purple-800 rounded-xl p-2 ml-3",children:e.jsx(C,{className:"h-6 w-6 text-purple-600 dark:text-purple-300"})}),"◊î◊ï◊ì◊¢◊ï◊™ ◊ê◊ô◊©◊ô◊ï◊™ ◊ú◊û◊©◊™◊™◊§◊ô◊ù üí¨"]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-bold text-gray-700 dark:text-gray-300 mb-3 flex items-center",children:"üéâ ◊î◊ï◊ì◊¢◊™ ◊ë◊®◊õ◊î"}),e.jsx("textarea",{name:"organizerMessages.welcomeMessage",value:r.organizerMessages.welcomeMessage,onChange:d,rows:4,className:"w-full rounded-2xl border-2 border-gray-200 dark:border-slate-600 bg-gray-50 dark:bg-slate-700 px-6 py-4 text-base font-medium focus:outline-none focus:ring-4 focus:ring-purple-500/20 focus:bg-white dark:focus:bg-slate-600 transition-all duration-300 dark:text-white resize-none hover:border-purple-300 dark:hover:border-purple-600",placeholder:"◊ë◊®◊ï◊õ◊ô◊ù ◊î◊ë◊ê◊ô◊ù ◊ú◊ê◊ô◊®◊ï◊¢ ◊î◊û◊ì◊î◊ô◊ù ◊©◊ú◊ô! ◊ê◊†◊ô ◊û◊ê◊ï◊ì ◊©◊û◊ó ◊©◊™◊î◊ô◊ï ◊ê◊ô◊™◊†◊ï...",maxLength:1e3}),e.jsxs("p",{className:"mt-2 text-xs text-gray-500 dark:text-gray-400 font-medium",children:[r.organizerMessages.welcomeMessage.length,"/1000"]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-bold text-gray-700 dark:text-gray-300 mb-3 flex items-center",children:"üìß ◊î◊ï◊ì◊¢◊™ ◊®◊ô◊©◊ï◊ù"}),e.jsx("textarea",{name:"organizerMessages.registrationMessage",value:r.organizerMessages.registrationMessage,onChange:d,rows:4,className:"w-full rounded-2xl border-2 border-gray-200 dark:border-slate-600 bg-gray-50 dark:bg-slate-700 px-6 py-4 text-base font-medium focus:outline-none focus:ring-4 focus:ring-purple-500/20 focus:bg-white dark:focus:bg-slate-600 transition-all duration-300 dark:text-white resize-none hover:border-purple-300 dark:hover:border-purple-600",placeholder:"◊™◊ï◊ì◊î ◊©◊†◊®◊©◊û◊™! ◊î◊ë◊ô◊ê◊ï ◊û◊ô◊ù ◊ï◊ó◊ò◊ô◊§◊ô◊ù ◊ú◊õ◊ú◊ë◊õ◊ù...",maxLength:1e3}),e.jsxs("p",{className:"mt-2 text-xs text-gray-500 dark:text-gray-400 font-medium",children:[r.organizerMessages.registrationMessage.length,"/1000"]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-bold text-gray-700 dark:text-gray-300 mb-3 flex items-center",children:"‚úÖ ◊î◊ï◊ì◊¢◊™ ◊ê◊ô◊©◊ï◊®"}),e.jsx("textarea",{name:"organizerMessages.approvalMessage",value:r.organizerMessages.approvalMessage,onChange:d,rows:4,className:`w-full rounded-2xl border-2 px-6 py-4 text-base font-medium focus:outline-none focus:ring-4 focus:ring-purple-500/20 transition-all duration-300 resize-none dark:text-white ${r.requiresApproval?"border-gray-200 dark:border-slate-600 bg-gray-50 dark:bg-slate-700 focus:bg-white dark:focus:bg-slate-600 hover:border-purple-300 dark:hover:border-purple-600":"border-gray-300 dark:border-slate-600 bg-gray-100 dark:bg-slate-800 text-gray-500 dark:text-gray-400 cursor-not-allowed"}`,placeholder:"◊û◊ñ◊ú ◊ò◊ï◊ë! ◊®◊ô◊©◊ï◊û◊ö ◊ê◊ï◊©◊®. ◊†◊™◊®◊ê◊î ◊ë◊ê◊ô◊®◊ï◊¢...",maxLength:1e3,disabled:!r.requiresApproval}),e.jsxs("p",{className:"mt-2 text-xs text-gray-500 dark:text-gray-400 font-medium",children:[r.organizerMessages.approvalMessage.length,"/1000",!r.requiresApproval&&" (◊ñ◊û◊ô◊ü ◊®◊ß ◊õ◊©◊†◊ì◊®◊© ◊ê◊ô◊©◊ï◊®)"]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-bold text-gray-700 dark:text-gray-300 mb-3 flex items-center",children:"‚ùå ◊î◊ï◊ì◊¢◊™ ◊ì◊ó◊ô◊î"}),e.jsx("textarea",{name:"organizerMessages.rejectionMessage",value:r.organizerMessages.rejectionMessage,onChange:d,rows:4,className:`w-full rounded-2xl border-2 px-6 py-4 text-base font-medium focus:outline-none focus:ring-4 focus:ring-purple-500/20 transition-all duration-300 resize-none dark:text-white ${r.requiresApproval?"border-gray-200 dark:border-slate-600 bg-gray-50 dark:bg-slate-700 focus:bg-white dark:focus:bg-slate-600 hover:border-purple-300 dark:hover:border-purple-600":"border-gray-300 dark:border-slate-600 bg-gray-100 dark:bg-slate-800 text-gray-500 dark:text-gray-400 cursor-not-allowed"}`,placeholder:"◊û◊¶◊ò◊¢◊®, ◊î◊§◊¢◊ù ◊ú◊ê ◊†◊ô◊™◊ü ◊ú◊ê◊©◊® ◊ê◊™ ◊î◊®◊ô◊©◊ï◊ù. ◊†◊©◊û◊ó ◊ú◊®◊ê◊ï◊™◊ö ◊ë◊ê◊ô◊®◊ï◊¢◊ô◊ù ◊î◊ë◊ê◊ô◊ù...",maxLength:1e3,disabled:!r.requiresApproval}),e.jsxs("p",{className:"mt-2 text-xs text-gray-500 dark:text-gray-400 font-medium",children:[r.organizerMessages.rejectionMessage.length,"/1000",!r.requiresApproval&&" (◊ñ◊û◊ô◊ü ◊®◊ß ◊õ◊©◊†◊ì◊®◊© ◊ê◊ô◊©◊ï◊®)"]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-bold text-gray-700 dark:text-gray-300 mb-3 flex items-center",children:"üîî ◊î◊ï◊ì◊¢◊™ ◊™◊ñ◊õ◊ï◊®◊™"}),e.jsx("textarea",{name:"organizerMessages.reminderMessage",value:r.organizerMessages.reminderMessage,onChange:d,rows:4,className:"w-full rounded-2xl border-2 border-gray-200 dark:border-slate-600 bg-gray-50 dark:bg-slate-700 px-6 py-4 text-base font-medium focus:outline-none focus:ring-4 focus:ring-purple-500/20 focus:bg-white dark:focus:bg-slate-600 transition-all duration-300 dark:text-white resize-none hover:border-purple-300 dark:hover:border-purple-600",placeholder:"◊î◊ñ◊õ◊®◊î: ◊î◊ê◊ô◊®◊ï◊¢ ◊î◊û◊ì◊î◊ô◊ù ◊û◊™◊ó◊ô◊ú ◊û◊ó◊®! ◊ê◊ú ◊™◊©◊õ◊ó◊ï ◊ú◊î◊ë◊ô◊ê...",maxLength:1e3}),e.jsxs("p",{className:"mt-2 text-xs text-gray-500 dark:text-gray-400 font-medium",children:[r.organizerMessages.reminderMessage.length,"/1000"]})]})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 pt-8 border-t-2 border-purple-200 dark:border-purple-700",children:[e.jsx("button",{type:"submit",disabled:x,className:"flex-1 flex justify-center items-center px-8 py-6 bg-gradient-to-r from-purple-600 via-purple-700 to-pink-600 hover:from-purple-700 hover:via-purple-800 hover:to-pink-700 text-white text-xl font-bold rounded-2xl focus:outline-none focus:ring-4 focus:ring-purple-500/30 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-300 transform hover:scale-[1.02] active:scale-[0.98] shadow-xl hover:shadow-2xl",children:x?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-white ml-3"}),"◊û◊¢◊ì◊õ◊ü ◊ê◊™ ◊î◊ß◊°◊ù..."]}):e.jsxs(e.Fragment,{children:[e.jsx(q,{className:"h-6 w-6 ml-3"}),"◊¢◊ì◊õ◊ü ◊ê◊ô◊®◊ï◊¢ ◊û◊ì◊î◊ô◊ù ‚ú®"]})}),e.jsxs("button",{type:"button",onClick:i,className:"flex-1 flex justify-center items-center px-8 py-6 bg-gradient-to-r from-gray-600 to-gray-700 hover:from-gray-700 hover:to-gray-800 text-white text-xl font-bold rounded-2xl focus:outline-none focus:ring-4 focus:ring-gray-500/30 transition-all duration-300 transform hover:scale-[1.02] active:scale-[0.98] shadow-xl hover:shadow-2xl",children:[e.jsx(W,{className:"h-6 w-6 ml-3"}),"◊ë◊ô◊ò◊ï◊ú"]})]})]})]})},ie=({garden:a})=>{const[u,i]=c.useState([]),[r,o]=c.useState(null),[y,g]=c.useState(!0),[x,j]=c.useState(null),[l,v]=c.useState(!1),D=_();c.useEffect(()=>{b()},[]);const b=async()=>{var d,w,s;try{console.log("=== FETCHING ORGANIZER EVENTS ==="),j(null);const t=await A.getOrganizerEvents();console.log("Response from API:",t);const n=t.data||t||[];console.log("Events data:",n),console.log("Number of events:",Array.isArray(n)?n.length:"Not an array"),i(Array.isArray(n)?n:[]),Array.isArray(n)&&n.length===0&&console.log("No events found for this user")}catch(t){console.error("Error fetching events:",t),console.error("Error details:",((d=t.response)==null?void 0:d.data)||t.message);const n=((s=(w=t.response)==null?void 0:w.data)==null?void 0:s.error)||t.message||"◊©◊í◊ô◊ê◊î ◊ú◊ê ◊ô◊ì◊ï◊¢◊î";j(n),k.error(`◊©◊í◊ô◊ê◊î ◊ë◊ò◊¢◊ô◊†◊™ ◊î◊ê◊ô◊®◊ï◊¢◊ô◊ù: ${n}`),i([])}finally{g(!1)}},T=async(d,w,s,t="")=>{try{await A.updateParticipantStatus(d,w,s,t),k.success("◊°◊ò◊ò◊ï◊° ◊î◊û◊©◊™◊™◊£ ◊¢◊ï◊ì◊õ◊ü ◊ë◊î◊¶◊ú◊ó◊î"),b()}catch(n){console.error("Error updating participant:",n),k.error("◊©◊í◊ô◊ê◊î ◊ë◊¢◊ì◊õ◊ï◊ü ◊î◊û◊©◊™◊™◊£")}},h=d=>{o(d),v(!0)},N=d=>{D(`/events/${d}`)};return y?e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-purple-50 via-white to-pink-50",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:e.jsxs("div",{className:"text-center py-16",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-purple-600 mx-auto"}),e.jsx("p",{className:"mt-4 text-lg text-gray-600",children:"◊ò◊ï◊¢◊ü ◊ê◊ô◊®◊ï◊¢◊ô◊ù..."})]})})}):x?e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-purple-50 via-white to-pink-50",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:e.jsx("div",{className:"text-center py-16",children:e.jsxs("div",{className:"bg-red-50 rounded-2xl shadow-lg p-12 max-w-md mx-auto border border-red-200",children:[e.jsx("div",{className:"text-6xl mb-4",children:"‚ùå"}),e.jsx("h3",{className:"text-xl font-semibold text-red-900 mb-2",children:"◊©◊í◊ô◊ê◊î ◊ë◊ò◊¢◊ô◊†◊™ ◊î◊ê◊ô◊®◊ï◊¢◊ô◊ù"}),e.jsx("p",{className:"text-red-700 mb-6",children:x}),e.jsx("button",{onClick:b,className:"bg-red-600 text-white px-6 py-2 rounded-lg hover:bg-red-700 transition-colors",children:"◊†◊°◊î ◊©◊ï◊ë"})]})})})}):e.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900",children:e.jsxs("div",{className:"max-w-lg mx-auto",children:[e.jsxs("div",{className:"bg-gradient-to-br from-indigo-600 via-purple-600 to-pink-600 dark:from-indigo-700 dark:via-purple-700 dark:to-pink-700 mx-4 mt-4 rounded-3xl p-6 text-white relative overflow-hidden",children:[e.jsx("div",{className:"absolute -top-6 -right-6 opacity-20",children:e.jsx("div",{className:"text-8xl",children:"‚öôÔ∏è"})}),e.jsxs("div",{className:"relative z-10",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold mb-1",children:"Event Manager ‚ú®"}),e.jsx("p",{className:"text-indigo-100 dark:text-indigo-200 text-sm",children:"Manage your events and participants"})]}),e.jsx("button",{onClick:b,className:"p-3 bg-white bg-opacity-20 rounded-2xl hover:bg-opacity-30 transition-all",children:e.jsx(U,{className:"h-5 w-5"})})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[e.jsxs("div",{className:"bg-white bg-opacity-20 rounded-2xl p-3 text-center",children:[e.jsx("div",{className:"text-lg font-bold",children:u.length}),e.jsx("div",{className:"text-xs text-indigo-100 dark:text-indigo-200",children:"Total Events"})]}),e.jsxs("div",{className:"bg-white bg-opacity-20 rounded-2xl p-3 text-center",children:[e.jsx("div",{className:"text-lg font-bold",children:u.filter(d=>d.status==="upcoming").length}),e.jsx("div",{className:"text-xs text-indigo-100 dark:text-indigo-200",children:"Upcoming"})]}),e.jsxs("div",{className:"bg-white bg-opacity-20 rounded-2xl p-3 text-center",children:[e.jsx("div",{className:"text-lg font-bold",children:u.reduce((d,w)=>{var s;return d+(((s=w.participants)==null?void 0:s.filter(t=>t.status==="pending").length)||0)},0)}),e.jsx("div",{className:"text-xs text-indigo-100 dark:text-indigo-200",children:"Pending"})]})]})]})]}),e.jsx("div",{className:"p-4",children:u.length===0?e.jsx("div",{className:"text-center py-16",children:e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-3xl p-12 border border-gray-100 dark:border-gray-700",children:[e.jsx("div",{className:"text-6xl mb-4",children:"üìÖ"}),e.jsx("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-2",children:"No events yet"}),e.jsx("p",{className:"text-gray-500 dark:text-gray-400 mb-6",children:"Your created events will appear here for management"})]})}):e.jsx("div",{className:"space-y-4",children:u.map(d=>e.jsx(X,{event:d,onParticipantAction:T,onEventEdit:h,onEventView:N},d._id))})}),l&&r&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:e.jsx("div",{className:"max-w-4xl w-full",children:e.jsx(H,{event:r,onEventUpdated:d=>{v(!1),b(),k.success("Event updated successfully! üéâ")},onCancel:()=>v(!1)})})})]})})},X=({event:a,onParticipantAction:u,onEventEdit:i,onEventView:r})=>{var T;const[o,y]=c.useState(!1),g=a.participants||[],x=a.waitingList||[],j=g.filter(h=>h.status==="approved").length,l=g.filter(h=>h.status==="pending").length,v=h=>{const N={upcoming:{bg:"bg-green-100 dark:bg-green-900/30",text:"text-green-600 dark:text-green-400",label:"Upcoming",icon:"üîú"},ongoing:{bg:"bg-blue-100 dark:bg-blue-900/30",text:"text-blue-600 dark:text-blue-400",label:"Live Now",icon:"üî¥"},completed:{bg:"bg-gray-100 dark:bg-gray-700",text:"text-gray-600 dark:text-gray-400",label:"Completed",icon:"‚úÖ"},cancelled:{bg:"bg-red-100 dark:bg-red-900/30",text:"text-red-600 dark:text-red-400",label:"Cancelled",icon:"‚ùå"}};return N[h]||N.upcoming},D=h=>new Date(h).toLocaleDateString("en-US",{weekday:"short",month:"short",day:"numeric"}),b=v(a.status);return e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-3xl border border-gray-100 dark:border-gray-700 overflow-hidden shadow-lg",children:[e.jsxs("div",{className:"bg-gradient-to-r from-purple-600 to-pink-600 dark:from-purple-700 dark:to-pink-700 p-4 text-white relative overflow-hidden",children:[e.jsx("div",{className:"absolute -top-4 -right-4 opacity-20",children:e.jsx("div",{className:"text-6xl",children:b.icon})}),e.jsxs("div",{className:"relative z-10",children:[e.jsxs("div",{className:"flex justify-between items-start mb-3",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"text-xl font-bold mb-1 line-clamp-1",children:a.title}),e.jsxs("div",{className:"flex items-center text-sm text-purple-100 dark:text-purple-200 mb-1",children:[e.jsx(L,{className:"h-4 w-4 mr-2"}),D(a.eventDate)]}),e.jsxs("div",{className:"flex items-center text-sm text-purple-100 dark:text-purple-200",children:[e.jsx($,{className:"h-4 w-4 mr-2"}),a.startTime," - ",a.endTime]})]}),e.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-medium ${b.bg} ${b.text} border`,children:b.label})]}),((T=a.garden)==null?void 0:T.name)&&e.jsxs("p",{className:"text-sm text-purple-100 dark:text-purple-200 flex items-center",children:["üìç ",a.garden.name]})]})]}),e.jsxs("div",{className:"p-4 bg-gradient-to-r from-gray-50 to-purple-50 dark:from-gray-800 dark:to-purple-900/20",children:[e.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[e.jsxs("div",{className:"bg-white dark:bg-gray-700 rounded-2xl p-3 text-center shadow-sm",children:[e.jsx("div",{className:"text-2xl font-bold text-green-600 dark:text-green-400",children:j}),e.jsx("div",{className:"text-xs text-gray-600 dark:text-gray-400",children:"Approved"})]}),e.jsxs("div",{className:"bg-white dark:bg-gray-700 rounded-2xl p-3 text-center shadow-sm",children:[e.jsx("div",{className:"text-2xl font-bold text-yellow-600 dark:text-yellow-400",children:l}),e.jsx("div",{className:"text-xs text-gray-600 dark:text-gray-400",children:"Pending"})]}),e.jsxs("div",{className:"bg-white dark:bg-gray-700 rounded-2xl p-3 text-center shadow-sm",children:[e.jsx("div",{className:"text-2xl font-bold text-blue-600 dark:text-blue-400",children:x.length}),e.jsx("div",{className:"text-xs text-gray-600 dark:text-gray-400",children:"Waiting"})]})]}),a.requiresApproval&&l>0&&e.jsx("div",{className:"mt-3 p-3 bg-yellow-100 dark:bg-yellow-900/30 border border-yellow-200 dark:border-yellow-700 rounded-2xl",children:e.jsxs("p",{className:"text-sm text-yellow-800 dark:text-yellow-300 font-medium flex items-center",children:["‚ö†Ô∏è ",l," participants waiting for approval"]})})]}),a.description&&e.jsx("div",{className:"p-4 border-t border-gray-100 dark:border-gray-700",children:e.jsx("p",{className:"text-gray-700 dark:text-gray-300 text-sm line-clamp-2",children:a.description})}),e.jsx("div",{className:"p-4 border-t border-gray-100 dark:border-gray-700 bg-gray-50 dark:bg-gray-800/50",children:e.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[e.jsxs("button",{onClick:()=>y(!o),className:"flex items-center justify-center px-3 py-2 bg-white dark:bg-gray-700 border border-purple-200 dark:border-purple-600 text-purple-700 dark:text-purple-300 rounded-xl hover:bg-purple-50 dark:hover:bg-purple-900/30 transition-all duration-200 text-sm font-medium",children:[e.jsx(E,{className:"h-4 w-4 mr-1"}),o?"Hide":"Users"]}),e.jsxs("button",{onClick:()=>r(a._id),className:"flex items-center justify-center px-3 py-2 bg-white dark:bg-gray-700 border border-blue-200 dark:border-blue-600 text-blue-700 dark:text-blue-300 rounded-xl hover:bg-blue-50 dark:hover:bg-blue-900/30 transition-all duration-200 text-sm font-medium",children:[e.jsx(B,{className:"h-4 w-4 mr-1"}),"View"]}),e.jsxs("button",{onClick:()=>i(a),className:"flex items-center justify-center px-3 py-2 bg-gradient-to-r from-purple-600 to-pink-600 text-white rounded-xl hover:from-purple-700 hover:to-pink-700 transition-all duration-200 text-sm font-medium shadow-md",children:[e.jsx(V,{className:"h-4 w-4 mr-1"}),"Edit"]})]})}),o&&e.jsx(Y,{participants:g,waitingList:x,requiresApproval:a.requiresApproval,onParticipantAction:(h,N,d)=>u(a._id,h,N,d)})]})},Y=({participants:a,waitingList:u,requiresApproval:i,onParticipantAction:r})=>e.jsx("div",{className:"border-t border-gray-200 dark:border-gray-700 bg-gradient-to-br from-purple-50 to-pink-50 dark:from-purple-900/20 dark:to-pink-900/20",children:e.jsxs("div",{className:"p-4",children:[e.jsxs("h4",{className:"text-lg font-bold mb-4 flex items-center text-purple-800 dark:text-purple-300",children:[e.jsx(E,{className:"h-5 w-5 mr-2"}),"Participants (",a.length,")"]}),a.length===0?e.jsxs("div",{className:"text-center py-8",children:[e.jsx(E,{className:"h-12 w-12 text-gray-400 mx-auto mb-2"}),e.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"No participants registered yet"})]}):e.jsx("div",{className:"space-y-3 mb-6",children:a.map(o=>{var y,g;return e.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-2xl p-4 shadow-sm border border-gray-100 dark:border-gray-700",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"bg-gradient-to-r from-purple-500 to-pink-500 rounded-full p-2 mr-3",children:e.jsx(E,{className:"h-4 w-4 text-white"})}),e.jsxs("div",{children:[e.jsxs("span",{className:"font-semibold text-gray-900 dark:text-white",children:[(y=o.user)==null?void 0:y.firstName," ",(g=o.user)==null?void 0:g.lastName]}),e.jsxs("div",{className:"flex items-center mt-1 gap-2",children:[e.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${o.status==="approved"?"bg-green-100 dark:bg-green-900/30 text-green-800 dark:text-green-300":o.status==="pending"?"bg-yellow-100 dark:bg-yellow-900/30 text-yellow-800 dark:text-yellow-300":o.status==="rejected"?"bg-red-100 dark:bg-red-900/30 text-red-800 dark:text-red-300":"bg-gray-100 dark:bg-gray-700 text-gray-800 dark:text-gray-300"}`,children:o.status==="approved"?"‚úÖ Approved":o.status==="pending"?"‚è≥ Pending":o.status==="rejected"?"‚ùå Rejected":o.status}),o.notes&&e.jsxs("span",{className:"text-xs text-gray-500 dark:text-gray-400 bg-gray-100 dark:bg-gray-700 px-2 py-1 rounded",children:["üí¨ ",o.notes]})]}),e.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:["Registered: ",new Date(o.registeredAt).toLocaleDateString("en-US")]})]})]}),i&&o.status==="pending"&&e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:()=>r(o._id,"approved"),className:"bg-green-500 text-white p-2 rounded-xl hover:bg-green-600 transition-all duration-200 shadow-md",title:"Approve participant",children:e.jsx(q,{className:"h-4 w-4"})}),e.jsx("button",{onClick:()=>{const x=prompt("Notes (optional):");x!==null&&r(o._id,"rejected",x||"")},className:"bg-red-500 text-white p-2 rounded-xl hover:bg-red-600 transition-all duration-200 shadow-md",title:"Reject participant",children:e.jsx(W,{className:"h-4 w-4"})})]})]})},o._id)})}),u.length>0&&e.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 rounded-2xl p-4 border border-blue-200 dark:border-blue-700",children:[e.jsxs("h5",{className:"text-lg font-bold mb-3 text-blue-800 dark:text-blue-300 flex items-center",children:["‚è∞ Waiting List (",u.length,")"]}),e.jsx("div",{className:"space-y-2",children:u.map((o,y)=>{var g,x;return e.jsxs("div",{className:"flex items-center justify-between bg-white dark:bg-gray-800 p-3 rounded-xl shadow-sm",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("span",{className:"bg-blue-100 dark:bg-blue-900/30 text-blue-800 dark:text-blue-300 rounded-full w-7 h-7 flex items-center justify-center text-sm font-bold mr-3",children:y+1}),e.jsxs("div",{children:[e.jsxs("span",{className:"font-medium text-gray-900 dark:text-white text-sm",children:[(g=o.user)==null?void 0:g.firstName," ",(x=o.user)==null?void 0:x.lastName]}),e.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:["Added: ",new Date(o.addedAt).toLocaleDateString("en-US")]})]})]}),e.jsx("span",{className:"text-xs text-blue-600 dark:text-blue-400 bg-blue-100 dark:bg-blue-900/30 px-2 py-1 rounded",children:"Waiting"})]},o._id)})})]}),a.length===0&&u.length===0&&e.jsxs("div",{className:"text-center py-8",children:[e.jsx("div",{className:"text-6xl mb-4",children:"üë•"}),e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-2",children:"No participants yet"}),e.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"When people register for this event, they'll appear here"})]})]})});export{ne as C,ie as E};
