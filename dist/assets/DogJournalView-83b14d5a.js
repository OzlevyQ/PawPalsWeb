import{e as i,j as e,A as f,l as N,S as k,M as w,I as v,i as D,H as I}from"./index-d63ee538.js";import{r as o}from"./vendor-021dee49.js";import{d}from"./dogJournalService-9da19975.js";import{b as E,u as A}from"./router-3052588b.js";import{P as S}from"./PencilIcon-141964e2.js";import{T as L}from"./TrashIcon-e750183e.js";import{T as B}from"./TagIcon-32febfd4.js";import{T as C}from"./HandThumbDownIcon-0a852cda.js";import"./utils-917b1704.js";const R=()=>{var x,m,g;const{id:n}=E(),l=A(),[r,b]=o.useState(null),[h,c]=o.useState(!0);o.useEffect(()=>{u()},[n]);const u=async()=>{try{c(!0);const a=await d.getEntry(n);b(a.entry)}catch(a){console.error("Error loading entry:",a),i.error("Failed to load journal entry"),l("/dog-journal")}finally{c(!1)}},y=()=>{l(`/dog-journal/edit/${n}`)},p=async()=>{if(window.confirm("Are you sure you want to delete this journal entry?"))try{await d.deleteEntry(n),i.success("Journal entry deleted successfully"),l("/dog-journal")}catch(a){console.error("Error deleting entry:",a),i.error("Failed to delete journal entry")}},j=a=>{switch(a){case"Best Friends":return e.jsx(I,{className:"w-5 h-5 text-red-500"});case"Enemies":return e.jsx(C,{className:"w-5 h-5 text-red-600"});case"Playmates":return e.jsx(D,{className:"w-5 h-5 text-blue-500"});default:return e.jsx(v,{className:"w-5 h-5 text-gray-500"})}};if(h)return e.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),e.jsx("p",{className:"mt-4 text-gray-600 dark:text-gray-400",children:"Loading entry..."})]})});if(!r)return e.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Entry not found"}),e.jsx("button",{onClick:()=>l("/dog-journal"),className:"mt-4 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Back to Journal"})]})});const s=d.formatEntryForDisplay(r);return e.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 py-6",children:e.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between mb-8",children:[e.jsxs("div",{className:"flex items-center mb-4 sm:mb-0",children:[e.jsx("button",{onClick:()=>l("/dog-journal"),className:"mr-4 p-3 text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white hover:bg-gray-100 dark:hover:bg-gray-700 rounded-xl transition-colors",children:e.jsx(f,{className:"w-6 h-6"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:r.title}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400 mt-1",children:"Dog Journal Entry"})]})]}),e.jsxs("div",{className:"flex space-x-3 w-full sm:w-auto",children:[e.jsxs("button",{onClick:y,className:"flex-1 sm:flex-none flex items-center justify-center px-6 py-3 text-blue-600 dark:text-blue-400 bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-700 rounded-lg hover:bg-blue-100 dark:hover:bg-blue-900/30 transition-colors",children:[e.jsx(S,{className:"w-5 h-5 mr-2"}),"Edit"]}),e.jsxs("button",{onClick:p,className:"flex-1 sm:flex-none flex items-center justify-center px-6 py-3 text-red-600 dark:text-red-400 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-700 rounded-lg hover:bg-red-100 dark:hover:bg-red-900/30 transition-colors",children:[e.jsx(L,{className:"w-5 h-5 mr-2"}),"Delete"]})]})]}),e.jsxs("div",{className:"space-y-8",children:[s.mainImage&&e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg overflow-hidden shadow-sm border border-gray-200 dark:border-gray-700",children:[e.jsx("img",{src:d.getImageUrl(s.mainImage.url),alt:r.title,className:"w-full h-96 object-cover"}),s.mainImage.caption&&e.jsx("div",{className:"p-6",children:e.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:s.mainImage.caption})})]}),e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 shadow-sm border border-gray-200 dark:border-gray-700",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between mb-6 gap-4",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center space-y-3 sm:space-y-0 sm:space-x-4",children:[e.jsxs("div",{className:`flex items-center px-4 py-2 rounded-full border ${r.album==="Best Friends"?"bg-pink-100 dark:bg-pink-900/20 text-pink-800 dark:text-pink-300 border-pink-200 dark:border-pink-700":r.album==="Enemies"?"bg-red-100 dark:bg-red-900/20 text-red-800 dark:text-red-300 border-red-200 dark:border-red-700":r.album==="Playmates"?"bg-blue-100 dark:bg-blue-900/20 text-blue-800 dark:text-blue-300 border-blue-200 dark:border-blue-700":"bg-purple-100 dark:bg-purple-900/20 text-purple-800 dark:text-purple-300 border-purple-200 dark:border-purple-700"}`,children:[j(r.album),e.jsx("span",{className:"ml-2 font-semibold",children:s.displayAlbum})]}),e.jsxs("div",{className:"flex items-center text-gray-600 dark:text-gray-400",children:[e.jsx(N,{className:"w-5 h-5 mr-2"}),e.jsx("span",{className:"font-medium",children:s.displayDate})]})]}),e.jsxs("div",{className:"flex items-center bg-yellow-50 dark:bg-yellow-900/20 px-4 py-2 rounded-lg",children:[e.jsx("div",{className:"flex items-center",children:[...Array(5)].map((a,t)=>e.jsx(k,{className:`w-6 h-6 ${t<r.relationshipRating?"text-yellow-400 fill-current":"text-gray-300 dark:text-gray-600"}`},t))}),e.jsxs("span",{className:"ml-3 text-lg font-bold text-yellow-700 dark:text-yellow-300",children:["(",r.relationshipRating,"/5)"]})]})]}),e.jsx("div",{className:"prose max-w-none",children:e.jsx("p",{className:"text-gray-700 dark:text-gray-300 text-lg leading-relaxed whitespace-pre-wrap",children:r.description})})]}),e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 shadow-sm border border-gray-200 dark:border-gray-700",children:[e.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-white mb-6",children:"Dog Information"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 rounded-lg p-5",children:[e.jsx("h3",{className:"font-bold text-gray-900 dark:text-white mb-4 flex items-center",children:"🐕 Dog I Met"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-gray-600 dark:text-gray-400 font-medium",children:"Name:"}),e.jsx("span",{className:"font-bold text-blue-600 dark:text-blue-400 text-lg",children:r.metDog.name})]}),r.metDog.breed&&e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-gray-600 dark:text-gray-400 font-medium",children:"Breed:"}),e.jsx("span",{className:"text-gray-900 dark:text-white",children:r.metDog.breed})]}),r.metDog.age&&e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-gray-600 dark:text-gray-400 font-medium",children:"Age:"}),e.jsx("span",{className:"text-gray-900 dark:text-white",children:r.metDog.age})]}),r.metDog.size&&e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-gray-600 dark:text-gray-400 font-medium",children:"Size:"}),e.jsx("span",{className:"text-gray-900 dark:text-white",children:r.metDog.size})]})]}),r.metDog.characteristics&&e.jsxs("div",{className:"mt-4 pt-4 border-t border-blue-200 dark:border-blue-700",children:[e.jsx("span",{className:"text-gray-600 dark:text-gray-400 font-medium block mb-2",children:"Characteristics:"}),e.jsx("p",{className:"text-gray-700 dark:text-gray-300 leading-relaxed",children:r.metDog.characteristics})]})]}),r.ownerDog&&e.jsxs("div",{className:"bg-green-50 dark:bg-green-900/20 rounded-lg p-5",children:[e.jsx("h3",{className:"font-bold text-gray-900 dark:text-white mb-4 flex items-center",children:"🏠 My Dog"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-gray-600 dark:text-gray-400 font-medium",children:"Name:"}),e.jsx("span",{className:"font-bold text-green-600 dark:text-green-400 text-lg",children:r.ownerDog.name})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-gray-600 dark:text-gray-400 font-medium",children:"Breed:"}),e.jsx("span",{className:"text-gray-900 dark:text-white",children:r.ownerDog.breed})]})]})]})]})]}),(((x=r.location)==null?void 0:x.garden)||((g=(m=r.location)==null?void 0:m.customLocation)==null?void 0:g.name))&&e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 shadow-sm border border-gray-200 dark:border-gray-700",children:[e.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-white mb-6",children:"Location"}),e.jsxs("div",{className:"flex items-start bg-purple-50 dark:bg-purple-900/20 rounded-lg p-4",children:[e.jsx(w,{className:"w-6 h-6 mr-3 text-purple-600 dark:text-purple-400 flex-shrink-0 mt-1"}),r.location.garden?e.jsxs("div",{children:[e.jsx("p",{className:"font-bold text-lg text-gray-900 dark:text-white",children:r.location.garden.name}),r.location.garden.address&&e.jsx("p",{className:"text-gray-600 dark:text-gray-400 mt-1",children:r.location.garden.address})]}):e.jsx("p",{className:"font-bold text-lg text-gray-900 dark:text-white",children:r.location.customLocation.name})]})]}),Object.values(r.interactionNotes||{}).some(Boolean)&&e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 shadow-sm border border-gray-200 dark:border-gray-700",children:[e.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-white mb-6",children:"Interaction Notes"}),e.jsx("div",{className:"flex flex-wrap gap-3",children:Object.entries(r.interactionNotes||{}).map(([a,t])=>t?e.jsx("span",{className:"bg-green-100 dark:bg-green-900/20 text-green-800 dark:text-green-300 px-4 py-2 rounded-full font-semibold capitalize border border-green-200 dark:border-green-700",children:a},a):null)})]}),r.tags&&r.tags.length>0&&e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 shadow-sm border border-gray-200 dark:border-gray-700",children:[e.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-white mb-6",children:"Tags"}),e.jsx("div",{className:"flex flex-wrap gap-3",children:r.tags.map((a,t)=>e.jsxs("span",{className:"bg-blue-100 dark:bg-blue-900/20 text-blue-800 dark:text-blue-300 px-4 py-2 rounded-full font-semibold flex items-center border border-blue-200 dark:border-blue-700",children:[e.jsx(B,{className:"w-4 h-4 mr-2"}),a]},t))})]}),r.images&&r.images.length>1&&e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 shadow-sm border border-gray-200 dark:border-gray-700",children:[e.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-white mb-6",children:"Additional Photos"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:r.images.filter(a=>!a.isMainImage).map((a,t)=>e.jsxs("div",{className:"relative bg-gray-50 dark:bg-gray-700 rounded-lg overflow-hidden",children:[e.jsx("img",{src:d.getImageUrl(a.url),alt:`Additional photo ${t+1}`,className:"w-full h-48 object-cover"}),a.caption&&e.jsx("div",{className:"p-3",children:e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:a.caption})})]},t))})]}),e.jsx("div",{className:"bg-gray-100 dark:bg-gray-800 rounded-lg p-4 border border-gray-200 dark:border-gray-700",children:e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between gap-2 text-sm text-gray-600 dark:text-gray-400",children:[e.jsxs("span",{children:["Created: ",new Date(r.createdAt).toLocaleString()]}),r.updatedAt!==r.createdAt&&e.jsxs("span",{children:["Updated: ",new Date(r.updatedAt).toLocaleString()]})]})})]})]})})};export{R as default};
