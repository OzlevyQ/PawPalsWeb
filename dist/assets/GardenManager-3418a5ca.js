import{e as u,j as e,X as I,i as q,C as J,p as U,P as le,u as ne,k as Q,y as ie,B as de,Q as X,S as oe,M as ce}from"./index-d63ee538.js";import{r as a}from"./vendor-021dee49.js";import{L as W}from"./router-3052588b.js";import{Q as xe}from"./QRCodeGenerator-4098bf1e.js";import{C as me,E as ge}from"./EventManager-556adb1f.js";import{gardenService as O}from"./gardenService-8e5619dd.js";import{C as ue}from"./ChartBarIcon-d2682d5e.js";import{E as pe}from"./EnvelopeIcon-88013258.js";import{B as be}from"./BellIcon-587118bd.js";import{E as he}from"./EnvelopeIcon-26482ecb.js";import{B as R}from"./BellIcon-d89f06db.js";import{A as ye}from"./ArrowPathIcon-a9aaab64.js";import{c as fe}from"./SkeletonLoading-3b438a19.js";import{C as je}from"./CogIcon-57d60756.js";import{P as Z}from"./PlusCircleIcon-7f096a1b.js";import{P as Ne}from"./PencilSquareIcon-ae0df1ee.js";import{T as ve}from"./TrashIcon-e750183e.js";import{C as we}from"./ClockIcon-d6d0aaad.js";import{E as ke}from"./EyeIcon-6ff4a41f.js";import{S as Se}from"./SparklesIcon-e56adbd8.js";import"./utils-917b1704.js";import"./CheckIcon-3891f6eb.js";import"./ShareIcon-8f4ee12b.js";import"./eventService-0703f6fe.js";import"./TagIcon-32febfd4.js";import"./XCircleIcon-3fe8bf8c.js";import"./UsersIcon-5daddd34.js";import"./PencilIcon-141964e2.js";const Ce=({garden:c,onClose:p})=>{const[N,B]=a.useState("overview"),[x,_]=a.useState({totalSubscribers:0,activeSubscribers:0,preferenceBreakdown:{events:0,promotions:0,announcements:0,maintenance:0},recentSubscriptions:[]}),[v,y]=a.useState([]),[C,P]=a.useState(!0),[E,G]=a.useState(1),[H,$]=a.useState(1),[z,w]=a.useState(!1),[n,h]=a.useState({subject:"",content:"",emailType:"announcements"}),[b,T]=a.useState(!1);a.useEffect(()=>{c!=null&&c._id&&k()},[c==null?void 0:c._id]);const k=async()=>{var s;try{P(!0);const[l,i]=await Promise.all([O.getNewsletterStats(c._id),O.getNewsletterSubscribers(c._id,{page:E,limit:10})]);_(l),y(i.subscribers||[]),$(((s=i.pagination)==null?void 0:s.pages)||1)}catch(l){console.error("Error loading newsletter data:",l),u.error("Failed to load newsletter data")}finally{P(!1)}},M=async()=>{var s,l;if(!n.subject||!n.content){u.error("Please fill in both subject and content");return}T(!0);try{await O.sendNewsletter(c._id,n),u.success("Newsletter sent successfully!"),w(!1),h({subject:"",content:"",emailType:"announcements"}),k()}catch(i){console.error("Error sending newsletter:",i),u.error(((l=(s=i.response)==null?void 0:s.data)==null?void 0:l.error)||"Failed to send newsletter")}finally{T(!1)}},F=[{id:"overview",name:"Overview",icon:ue},{id:"subscribers",name:"Subscribers",icon:q},{id:"send",name:"Send Newsletter",icon:pe}],t=()=>e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[e.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-2xl p-4 border border-gray-100 dark:border-gray-700",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Total Subscribers"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:x.totalSubscribers})]}),e.jsx(be,{className:"h-8 w-8 text-blue-500"})]})}),e.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-2xl p-4 border border-gray-100 dark:border-gray-700",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Active Subscribers"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:x.activeSubscribers})]}),e.jsx(J,{className:"h-8 w-8 text-green-500"})]})}),e.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-2xl p-4 border border-gray-100 dark:border-gray-700",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Events Subscribers"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:x.preferenceBreakdown.events})]}),e.jsx(U,{className:"h-8 w-8 text-purple-500"})]})}),e.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-2xl p-4 border border-gray-100 dark:border-gray-700",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Promotions Subscribers"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:x.preferenceBreakdown.promotions})]}),e.jsx(he,{className:"h-8 w-8 text-orange-500"})]})})]}),e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl p-6 border border-gray-100 dark:border-gray-700",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Subscription Preferences"}),e.jsx("div",{className:"space-y-3",children:Object.entries(x.preferenceBreakdown).map(([s,l])=>e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 capitalize",children:s.replace(/([A-Z])/g," $1").trim()}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"w-24 bg-gray-200 dark:bg-gray-700 rounded-full h-2",children:e.jsx("div",{className:"bg-blue-500 h-2 rounded-full",style:{width:`${x.activeSubscribers>0?l/x.activeSubscribers*100:0}%`}})}),e.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400 w-8",children:l})]})]},s))})]}),e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl p-6 border border-gray-100 dark:border-gray-700",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Recent Subscriptions"}),x.recentSubscriptions.length>0?e.jsx("div",{className:"space-y-3",children:x.recentSubscriptions.map((s,l)=>{var i,j;return e.jsxs("div",{className:"flex items-center justify-between py-2 border-b border-gray-100 dark:border-gray-700 last:border-b-0",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-8 h-8 bg-blue-100 dark:bg-blue-900/30 rounded-full flex items-center justify-center",children:e.jsx(R,{className:"h-4 w-4 text-blue-600 dark:text-blue-400"})}),e.jsxs("div",{children:[e.jsxs("p",{className:"text-sm font-medium text-gray-900 dark:text-white",children:[(i=s.user)==null?void 0:i.firstName," ",(j=s.user)==null?void 0:j.lastName]}),e.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:s.userEmail})]})]}),e.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:new Date(s.subscriptionDate).toLocaleDateString()})]},l)})}):e.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-center py-4",children:"No recent subscriptions"})]})]}),f=()=>e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Subscribers"}),e.jsxs("button",{onClick:k,className:"flex items-center space-x-2 px-3 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition-colors",children:[e.jsx(ye,{className:"h-4 w-4"}),e.jsx("span",{children:"Refresh"})]})]}),v.length>0?e.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-2xl border border-gray-100 dark:border-gray-700 overflow-hidden",children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-50 dark:bg-gray-700",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Subscriber"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Email"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Dog"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Subscribed Date"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Preferences"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-200 dark:divide-gray-700",children:v.map((s,l)=>{var i;return e.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-700",children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"w-8 h-8 bg-purple-100 dark:bg-purple-900/30 rounded-full flex items-center justify-center",children:e.jsx("span",{className:"text-sm font-medium text-purple-600 dark:text-purple-400",children:((i=s.userName)==null?void 0:i.charAt(0))||"?"})}),e.jsx("div",{className:"ml-3",children:e.jsx("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:s.userName})})]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("div",{className:"text-sm text-gray-900 dark:text-white",children:s.userEmail})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("div",{className:"text-sm text-gray-900 dark:text-white",children:s.dogName||"No dog listed"})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:new Date(s.subscriptionDate).toLocaleDateString()})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("div",{className:"flex flex-wrap gap-1",children:Object.entries(s.preferences||{}).map(([j,A])=>A&&e.jsx("span",{className:"px-2 py-1 text-xs bg-blue-100 dark:bg-blue-900/30 text-blue-800 dark:text-blue-300 rounded-full",children:j},j))})})]},l)})})]})})}):e.jsxs("div",{className:"text-center py-8",children:[e.jsx(R,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"No subscribers yet"})]}),H>1&&e.jsx("div",{className:"flex justify-center space-x-2",children:Array.from({length:H},(s,l)=>l+1).map(s=>e.jsx("button",{onClick:()=>G(s),className:`px-3 py-2 rounded-lg text-sm font-medium transition-colors ${E===s?"bg-blue-500 text-white":"bg-white dark:bg-gray-800 text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700"}`,children:s},s))})]}),D=()=>e.jsx("div",{className:"space-y-6",children:e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl p-6 border border-gray-100 dark:border-gray-700",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Send Newsletter"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Email Type"}),e.jsxs("select",{value:n.emailType,onChange:s=>h({...n,emailType:s.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-700 dark:text-white",children:[e.jsx("option",{value:"announcements",children:"Announcements"}),e.jsx("option",{value:"events",children:"Events"}),e.jsx("option",{value:"promotions",children:"Promotions"}),e.jsx("option",{value:"maintenance",children:"Maintenance"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Subject"}),e.jsx("input",{type:"text",value:n.subject,onChange:s=>h({...n,subject:s.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-700 dark:text-white",placeholder:"Enter newsletter subject"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Content"}),e.jsx("textarea",{value:n.content,onChange:s=>h({...n,content:s.target.value}),rows:8,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-700 dark:text-white",placeholder:"Enter newsletter content"})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:["This will be sent to ",x.preferenceBreakdown[n.emailType]||0," subscribers"]}),e.jsx("button",{onClick:M,disabled:b||!n.subject||!n.content,className:"flex items-center space-x-2 px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:b?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),e.jsx("span",{children:"Sending..."})]}):e.jsxs(e.Fragment,{children:[e.jsx(le,{className:"h-4 w-4"}),e.jsx("span",{children:"Send Newsletter"})]})})]})]})]})});return C?e.jsxs("div",{className:"animate-pulse",children:[e.jsx("div",{className:"h-6 bg-gray-300 dark:bg-gray-600 rounded mb-4"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-6",children:[...Array(4)].map((s,l)=>e.jsx("div",{className:"h-20 bg-gray-300 dark:bg-gray-600 rounded-2xl"},l))}),e.jsx("div",{className:"h-64 bg-gray-300 dark:bg-gray-600 rounded-2xl"})]}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-white",children:"Newsletter Management"}),e.jsx("button",{onClick:p,className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-full transition-colors",children:e.jsx(I,{className:"h-5 w-5 text-gray-500 dark:text-gray-400"})})]}),e.jsx("div",{className:"border-b border-gray-200 dark:border-gray-700",children:e.jsx("nav",{className:"flex space-x-8",children:F.map(s=>e.jsxs("button",{onClick:()=>B(s.id),className:`flex items-center space-x-2 py-2 px-1 border-b-2 font-medium text-sm transition-colors ${N===s.id?"border-blue-500 text-blue-600 dark:text-blue-400":"border-transparent text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-300"}`,children:[e.jsx(s.icon,{className:"h-4 w-4"}),e.jsx("span",{children:s.name})]},s.id))})}),e.jsxs("div",{children:[N==="overview"&&t(),N==="subscribers"&&f(),N==="send"&&D()]})]})},rr=()=>{const{user:c}=ne(),[p,N]=a.useState([]),[B,x]=a.useState(!0),[_,v]=a.useState(!1),[y,C]=a.useState(null),[P,E]=a.useState(!1),[G,H]=a.useState(null),[$,z]=a.useState(!1),[w,n]=a.useState(null),[h,b]=a.useState("list"),[T,k]=a.useState(!1),[M,F]=a.useState(null),[t,f]=a.useState({name:"",description:"",address:"",type:"public",capacity:{maxDogs:10},amenities:[],operatingHours:{open:"06:00",close:"22:00"}});a.useEffect(()=>{D()},[]);const D=async()=>{try{x(!0);const r=await Q.get("/gardens/my-gardens");N(r.data)}catch(r){console.error("Error loading gardens:",r),u.error("Failed to load your gardens")}finally{x(!1)}},s=r=>{const{name:d,value:o}=r.target;if(d.includes(".")){const[m,g]=d.split(".");f(S=>({...S,[m]:{...S[m],[g]:o}}))}else f(m=>({...m,[d]:o}))},l=async r=>{var d,o,m;r.preventDefault();try{const g={name:t.name,description:t.description,type:t.type,location:{address:t.address,city:((d=t.address.split(",").pop())==null?void 0:d.trim())||"Unknown",coordinates:{type:"Point",coordinates:[0,0]}},capacity:t.capacity,amenities:t.amenities,openingHours:{monday:{open:t.operatingHours.open,close:t.operatingHours.close,closed:!1},tuesday:{open:t.operatingHours.open,close:t.operatingHours.close,closed:!1},wednesday:{open:t.operatingHours.open,close:t.operatingHours.close,closed:!1},thursday:{open:t.operatingHours.open,close:t.operatingHours.close,closed:!1},friday:{open:t.operatingHours.open,close:t.operatingHours.close,closed:!1},saturday:{open:t.operatingHours.open,close:t.operatingHours.close,closed:!1},sunday:{open:t.operatingHours.open,close:t.operatingHours.close,closed:!1}}};if(y)await Q.put(`/gardens/${y._id}`,g),u.success("Garden updated successfully");else{const L=(await Q.post("/gardens",g)).data;L&&L._id?u.success(`ðŸŽ‰ Garden "${L.name}" created successfully! ðŸ“± QR code is ready - visit the garden page to view and download it.`):u.success("Garden created successfully")}i(),D()}catch(g){console.error("Error saving garden:",g),u.error(((m=(o=g.response)==null?void 0:o.data)==null?void 0:m.error)||"Failed to save garden")}},i=()=>{f({name:"",description:"",address:"",type:"public",capacity:{maxDogs:10},amenities:[],operatingHours:{open:"06:00",close:"22:00"}}),C(null),v(!1)},j=r=>{var m,g;C(r);let d="06:00",o="22:00";r.operatingHours?(d=r.operatingHours.open||"06:00",o=r.operatingHours.close||"22:00"):r.openingHours&&r.openingHours.monday&&(d=r.openingHours.monday.open||"06:00",o=r.openingHours.monday.close||"22:00"),f({name:r.name||"",description:r.description||"",address:((m=r.location)==null?void 0:m.address)||"",type:r.type||"public",capacity:{maxDogs:((g=r.capacity)==null?void 0:g.maxDogs)||10},amenities:r.amenities||[],operatingHours:{open:d,close:o}}),v(!0)},A=()=>{C(null),f({name:"",description:"",address:"",type:"public",capacity:{maxDogs:10},amenities:[],operatingHours:{open:"06:00",close:"22:00"}}),v(!0)},K=async r=>{if(window.confirm("Are you sure you want to delete this garden?"))try{await Q.delete(`/gardens/${r}`),u.success("Garden deleted successfully"),D()}catch(d){console.error("Error deleting garden:",d),u.error("Failed to delete garden")}},V=r=>{H(r),E(!0)},ee=()=>{E(!1),H(null)},re=r=>{n(r),b("create"),z(!0)},se=r=>{u.success("Event created successfully!"),b("list")},te=()=>{z(!1),n(null),b("list")},ae=r=>{F(r),k(!0)},Y=()=>{k(!1),F(null)};return B?e.jsx(fe,{}):e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-purple-50 via-white to-pink-50 dark:from-gray-900 dark:via-gray-800 dark:to-gray-900",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[e.jsxs("div",{className:"relative bg-gradient-to-r from-purple-600 to-pink-600 dark:from-purple-700 dark:to-pink-700 rounded-3xl p-8 mb-8 text-white overflow-hidden",children:[e.jsx("div",{className:"absolute inset-0 bg-black opacity-10"}),e.jsx("div",{className:"relative z-10",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-4xl font-bold mb-2 flex items-center",children:"Garden Management Hub ðŸŒ³"}),e.jsxs("p",{className:"text-purple-100 text-lg mb-4",children:["Welcome, ",c==null?void 0:c.firstName,"! Create and manage beautiful dog parks for your community"]}),e.jsxs("div",{className:"flex items-center space-x-6 text-purple-100",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(ie,{className:"h-5 w-5 mr-2"}),e.jsxs("span",{children:[p.length," Gardens Managed"]})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx(q,{className:"h-5 w-5 mr-2"}),e.jsx("span",{children:"Community Builder"})]})]})]}),e.jsx("div",{className:"hidden md:block",children:e.jsx("div",{className:"bg-white bg-opacity-20 rounded-2xl p-4",children:e.jsx(de,{className:"h-16 w-16 text-yellow-300"})})})]})}),e.jsx("div",{className:"absolute -bottom-6 -right-6 opacity-20",children:e.jsx("div",{className:"text-9xl",children:"ðŸ¡"})})]}),e.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-3xl shadow-lg border border-gray-100 dark:border-gray-700 p-6 mb-8",children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsxs("h2",{className:"text-xl font-bold text-gray-900 dark:text-white flex items-center",children:[e.jsx(je,{className:"h-6 w-6 text-purple-600 mr-2"}),"My Gardens Dashboard"]}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400 text-sm mt-1",children:"Manage all your dog parks in one place"})]}),e.jsxs("button",{onClick:A,className:"inline-flex items-center px-6 py-3 bg-gradient-to-r from-purple-600 to-pink-600 text-white font-medium rounded-xl hover:from-purple-700 hover:to-pink-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-purple-500 transition-all duration-200 transform hover:scale-105",children:[e.jsx(Z,{className:"h-5 w-5 mr-2"}),"Create New Garden"]})]})}),p.length>0?e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:p.map((r,d)=>{var o,m,g,S;return e.jsxs("div",{className:"group bg-white dark:bg-gray-800 rounded-3xl shadow-lg hover:shadow-xl transition-all duration-300 border border-gray-100 dark:border-gray-700 overflow-hidden",children:[e.jsxs("div",{className:`p-6 ${r.type==="public"?"bg-gradient-to-r from-green-500 to-emerald-600":"bg-gradient-to-r from-purple-500 to-pink-600"} text-white relative overflow-hidden`,children:[e.jsx("div",{className:"absolute -top-4 -right-4 opacity-20",children:e.jsx("div",{className:"text-6xl",children:r.type==="public"?"ðŸŒ³":"ðŸ¢"})}),e.jsxs("div",{className:"relative z-10",children:[e.jsxs("div",{className:"flex items-start justify-between mb-3",children:[e.jsx("h3",{className:"text-xl font-bold line-clamp-2 flex-1 pr-2",children:r.name}),e.jsxs("div",{className:"flex space-x-1",children:[e.jsx("button",{onClick:()=>V(r),className:"p-2 bg-white bg-opacity-20 rounded-full hover:bg-opacity-30 transition-all duration-200",title:"View QR Code",children:e.jsx(X,{className:"h-4 w-4"})}),e.jsx(W,{to:`/gardens/${r._id}/custom-profile`,className:"p-2 bg-white bg-opacity-20 rounded-full hover:bg-opacity-30 transition-all duration-200",title:"Customize Profile",children:e.jsx(oe,{className:"h-4 w-4"})}),e.jsx("button",{onClick:()=>j(r),className:"p-2 bg-white bg-opacity-20 rounded-full hover:bg-opacity-30 transition-all duration-200",title:"Edit",children:e.jsx(Ne,{className:"h-4 w-4"})}),e.jsx("button",{onClick:()=>K(r._id),className:"p-2 bg-white bg-opacity-20 rounded-full hover:bg-opacity-30 transition-all duration-200",title:"Delete",children:e.jsx(ve,{className:"h-4 w-4"})})]})]}),e.jsx("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-xs font-medium bg-white bg-opacity-20",children:r.type==="public"?"ðŸŒ Public Garden":"ðŸ”’ Private Garden"})]})]}),e.jsxs("div",{className:"p-6",children:[e.jsx("p",{className:"text-gray-600 dark:text-gray-400 text-sm mb-4 line-clamp-2",children:r.description}),e.jsxs("div",{className:"space-y-3 mb-4",children:[e.jsxs("div",{className:"flex items-center text-sm text-gray-600 dark:text-gray-400",children:[e.jsx(ce,{className:"h-4 w-4 mr-3 text-gray-400 dark:text-gray-500"}),e.jsx("span",{className:"truncate",children:(o=r.location)==null?void 0:o.address})]}),e.jsxs("div",{className:"flex items-center text-sm text-gray-600 dark:text-gray-400",children:[e.jsx(q,{className:"h-4 w-4 mr-3 text-gray-400 dark:text-gray-500"}),e.jsxs("span",{children:["Max ",((m=r.capacity)==null?void 0:m.maxDogs)||"N/A"," dogs"]})]}),e.jsxs("div",{className:"flex items-center text-sm text-gray-600 dark:text-gray-400",children:[e.jsx(we,{className:"h-4 w-4 mr-3 text-gray-400 dark:text-gray-500"}),e.jsxs("span",{children:[(g=r.operatingHours)==null?void 0:g.open," - ",(S=r.operatingHours)==null?void 0:S.close]})]})]}),e.jsxs("div",{className:"flex items-center justify-between pt-4 border-t border-gray-100 dark:border-gray-700",children:[e.jsxs("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-xs font-medium bg-green-100 dark:bg-green-900 text-green-800 dark:text-green-200",children:[e.jsx(J,{className:"h-3 w-3 mr-1"}),"Active"]}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsxs("button",{onClick:()=>re(r),className:"inline-flex items-center px-3 py-1 rounded-lg text-sm font-medium bg-purple-100 dark:bg-purple-900 text-purple-700 dark:text-purple-200 hover:bg-purple-200 dark:hover:bg-purple-800 transition-colors duration-200",title:"Create Event",children:[e.jsx(U,{className:"h-4 w-4 mr-1"}),"Events"]}),e.jsxs("button",{onClick:()=>ae(r),className:"inline-flex items-center px-3 py-1 rounded-lg text-sm font-medium bg-orange-100 dark:bg-orange-900 text-orange-700 dark:text-orange-200 hover:bg-orange-200 dark:hover:bg-orange-800 transition-colors duration-200",title:"Manage Newsletter",children:[e.jsx(R,{className:"h-4 w-4 mr-1"}),"Newsletter"]}),e.jsxs("button",{onClick:()=>V(r),className:"inline-flex items-center px-3 py-1 rounded-lg text-sm font-medium bg-blue-100 dark:bg-blue-900 text-blue-700 dark:text-blue-200 hover:bg-blue-200 dark:hover:bg-blue-800 transition-colors duration-200",children:[e.jsx(X,{className:"h-4 w-4 mr-1"}),"QR Code"]}),e.jsxs(W,{to:`/garden/${r._id}`,className:"inline-flex items-center px-3 py-1 rounded-lg text-sm font-medium bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-200 hover:bg-gray-200 dark:hover:bg-gray-600 transition-colors duration-200",children:[e.jsx(ke,{className:"h-4 w-4 mr-1"}),"View"]})]})]})]})]},r._id)})}):e.jsx("div",{className:"text-center py-16",children:e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-3xl shadow-lg p-12 max-w-md mx-auto",children:[e.jsx("div",{className:"text-6xl mb-4",children:"ðŸ¡"}),e.jsx("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-2",children:"No Gardens Yet"}),e.jsx("p",{className:"text-gray-500 dark:text-gray-400 mb-6",children:"Create your first garden to start building an amazing community for dog lovers!"}),e.jsxs("button",{onClick:A,className:"inline-flex items-center px-6 py-3 bg-gradient-to-r from-purple-600 to-pink-600 text-white font-medium rounded-xl hover:from-purple-700 hover:to-pink-700 transition-all duration-200 transform hover:scale-105",children:[e.jsx(Z,{className:"h-5 w-5 mr-2"}),"Create Your First Garden"]})]})}),p.length>0&&e.jsxs("div",{className:"mt-12 bg-gradient-to-r from-purple-600 to-pink-600 dark:from-purple-700 dark:to-pink-700 rounded-3xl p-8 text-white",children:[e.jsx("h3",{className:"text-2xl font-bold mb-6 text-center",children:"ðŸžï¸ Your Garden Empire"}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-6 text-center",children:[e.jsxs("div",{className:"bg-white bg-opacity-20 rounded-xl p-4",children:[e.jsx("div",{className:"text-3xl font-bold mb-1",children:p.length}),e.jsx("div",{className:"text-purple-100 text-sm",children:"Total Gardens"})]}),e.jsxs("div",{className:"bg-white bg-opacity-20 rounded-xl p-4",children:[e.jsx("div",{className:"text-3xl font-bold mb-1",children:p.filter(r=>r.type==="public").length}),e.jsx("div",{className:"text-purple-100 text-sm",children:"Public Gardens"})]}),e.jsxs("div",{className:"bg-white bg-opacity-20 rounded-xl p-4",children:[e.jsx("div",{className:"text-3xl font-bold mb-1",children:p.reduce((r,d)=>{var o;return r+(((o=d.capacity)==null?void 0:o.maxDogs)||0)},0)}),e.jsx("div",{className:"text-purple-100 text-sm",children:"Total Capacity"})]}),e.jsxs("div",{className:"bg-white bg-opacity-20 rounded-xl p-4",children:[e.jsx("div",{className:"text-3xl font-bold mb-1",children:"100%"}),e.jsx("div",{className:"text-purple-100 text-sm",children:"Active Status"})]})]})]}),_&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-3xl shadow-2xl max-w-4xl w-full max-h-[95vh] overflow-y-auto",children:[e.jsx("div",{className:"px-6 py-5 border-b border-gray-100 dark:border-gray-700 bg-gradient-to-r from-purple-600 to-pink-600 text-white",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsxs("h2",{className:"text-xl font-bold flex items-center",children:[e.jsx(Se,{className:"h-6 w-6 mr-2"}),y?"Edit Garden":"Create New Garden"]}),e.jsx("p",{className:"text-purple-100 text-sm mt-1",children:y?"Update your garden details":"Build a new space for dogs to play and socialize"})]}),e.jsx("button",{onClick:i,className:"p-2 bg-white bg-opacity-20 rounded-full hover:bg-opacity-30 transition-all duration-200",children:e.jsx(I,{className:"h-5 w-5"})})]})}),e.jsx("div",{className:"p-6",children:e.jsxs("form",{onSubmit:l,className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"ðŸžï¸ Garden Name"}),e.jsx("input",{type:"text",name:"name",value:t.name,onChange:s,required:!0,className:"w-full rounded-xl border border-gray-200 dark:border-gray-600 bg-gray-50 dark:bg-gray-700 px-4 py-3 text-base text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-purple-500 focus:bg-white dark:focus:bg-gray-600 transition-all duration-200",placeholder:"Enter a beautiful name for your garden"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"ðŸ·ï¸ Garden Type"}),e.jsxs("select",{name:"type",value:t.type,onChange:s,className:"w-full rounded-xl border border-gray-200 dark:border-gray-600 bg-gray-50 dark:bg-gray-700 px-4 py-3 text-base text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-purple-500 focus:bg-white dark:focus:bg-gray-600 transition-all duration-200",children:[e.jsx("option",{value:"public",children:"ðŸŒ Public Garden"}),e.jsx("option",{value:"private",children:"ðŸ”’ Private Garden"})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"ðŸ“ Description"}),e.jsx("textarea",{name:"description",value:t.description,onChange:s,rows:4,required:!0,className:"w-full rounded-xl border border-gray-200 dark:border-gray-600 bg-gray-50 dark:bg-gray-700 px-4 py-3 text-base text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-purple-500 focus:bg-white dark:focus:bg-gray-600 transition-all duration-200",placeholder:"Describe what makes your garden special..."})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"ðŸ“ Address"}),e.jsx("input",{type:"text",name:"address",value:t.address,onChange:s,required:!0,className:"w-full rounded-xl border border-gray-200 dark:border-gray-600 bg-gray-50 dark:bg-gray-700 px-4 py-3 text-base text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-purple-500 focus:bg-white dark:focus:bg-gray-600 transition-all duration-200",placeholder:"Full address of your garden"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"ðŸ• Max Dogs"}),e.jsx("input",{type:"number",name:"capacity.maxDogs",value:t.capacity.maxDogs,onChange:s,min:"1",max:"50",className:"w-full rounded-xl border border-gray-200 dark:border-gray-600 bg-gray-50 dark:bg-gray-700 px-4 py-3 text-base text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-purple-500 focus:bg-white dark:focus:bg-gray-600 transition-all duration-200"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"ðŸŒ… Opening Time"}),e.jsx("input",{type:"time",name:"operatingHours.open",value:t.operatingHours.open,onChange:s,className:"w-full rounded-xl border border-gray-200 dark:border-gray-600 bg-gray-50 dark:bg-gray-700 px-4 py-3 text-base text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-purple-500 focus:bg-white dark:focus:bg-gray-600 transition-all duration-200"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"ðŸŒ™ Closing Time"}),e.jsx("input",{type:"time",name:"operatingHours.close",value:t.operatingHours.close,onChange:s,className:"w-full rounded-xl border border-gray-200 dark:border-gray-600 bg-gray-50 dark:bg-gray-700 px-4 py-3 text-base text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-purple-500 focus:bg-white dark:focus:bg-gray-600 transition-all duration-200"})]})]}),e.jsxs("div",{className:"flex justify-end space-x-4 pt-4 border-t border-gray-100 dark:border-gray-700",children:[e.jsx("button",{type:"button",onClick:i,className:"px-6 py-3 border border-gray-300 dark:border-gray-600 rounded-xl text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700 font-medium transition-colors duration-200",children:"Cancel"}),e.jsx("button",{type:"submit",className:"px-6 py-3 bg-gradient-to-r from-purple-600 to-pink-600 text-white rounded-xl hover:from-purple-700 hover:to-pink-700 font-medium transition-all duration-200 transform hover:scale-105",children:y?"âœ… Update Garden":"ðŸŒ± Create Garden"})]})]})})]})}),P&&G&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-3xl shadow-2xl max-w-lg w-full max-h-[90vh] overflow-y-auto",children:[e.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-200 dark:border-gray-700",children:[e.jsxs("h3",{className:"text-lg font-bold text-gray-900 dark:text-white",children:["QR Code for ",G.name]}),e.jsx("button",{onClick:ee,className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-full transition-colors",children:e.jsx(I,{className:"h-5 w-5 text-gray-500 dark:text-gray-400"})})]}),e.jsx("div",{className:"p-4",children:e.jsx(xe,{garden:G})})]})}),$&&w&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-3xl shadow-2xl max-w-6xl w-full max-h-[95vh] overflow-y-auto",children:[e.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200 dark:border-gray-700",children:[e.jsxs("h3",{className:"text-2xl font-bold text-gray-900 dark:text-white flex items-center",children:[e.jsx(U,{className:"h-6 w-6 mr-2 text-purple-600"}),"Events for ",w.name]}),e.jsx("button",{onClick:te,className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-full transition-colors",children:e.jsx(I,{className:"h-6 w-6 text-gray-500 dark:text-gray-400"})})]}),e.jsx("div",{className:"p-6 border-b border-gray-200 dark:border-gray-700",children:e.jsxs("div",{className:"flex space-x-4",children:[e.jsx("button",{onClick:()=>b("create"),className:`px-4 py-2 rounded-lg transition-all duration-200 ${h==="create"?"bg-purple-600 text-white":"bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-600"}`,children:"Create New Event"}),e.jsx("button",{onClick:()=>b("list"),className:`px-4 py-2 rounded-lg transition-all duration-200 ${h==="list"?"bg-purple-600 text-white":"bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-600"}`,children:"Manage Events"})]})}),e.jsx("div",{className:"p-6",children:h==="create"?e.jsx(me,{preSelectedGarden:w,onEventCreated:se,onCancel:()=>b("list")}):e.jsx(ge,{garden:w})})]})}),T&&M&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-3xl shadow-2xl max-w-6xl w-full max-h-[95vh] overflow-y-auto",children:[e.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200 dark:border-gray-700",children:[e.jsxs("h3",{className:"text-2xl font-bold text-gray-900 dark:text-white flex items-center",children:[e.jsx(R,{className:"h-6 w-6 mr-2 text-orange-600"}),"Newsletter Management for ",M.name]}),e.jsx("button",{onClick:Y,className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-full transition-colors",children:e.jsx(I,{className:"h-6 w-6 text-gray-500 dark:text-gray-400"})})]}),e.jsx("div",{className:"p-6",children:e.jsx(Ce,{garden:M,onClose:Y})})]})})]})})};export{rr as default};
