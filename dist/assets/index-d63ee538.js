import{r as s,a as Lr,R as L,e as Ze}from"./vendor-021dee49.js";import{a as vn}from"./utils-917b1704.js";import{u as ut,a as ve,L as H,O as Rt,N as Rr,b as bn,R as wn,c as N,B as yn}from"./router-3052588b.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))a(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const c of o.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&a(c)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function a(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();var $r={exports:{}},mt={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jn=s,kn=Symbol.for("react.element"),En=Symbol.for("react.fragment"),Nn=Object.prototype.hasOwnProperty,_n=jn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Sn={key:!0,ref:!0,__self:!0,__source:!0};function Cr(e,t,n){var a,i={},o=null,c=null;n!==void 0&&(o=""+n),t.key!==void 0&&(o=""+t.key),t.ref!==void 0&&(c=t.ref);for(a in t)Nn.call(t,a)&&!Sn.hasOwnProperty(a)&&(i[a]=t[a]);if(e&&e.defaultProps)for(a in t=e.defaultProps,t)i[a]===void 0&&(i[a]=t[a]);return{$$typeof:kn,type:e,key:o,ref:c,props:i,_owner:_n.current}}mt.Fragment=En;mt.jsx=Cr;mt.jsxs=Cr;$r.exports=mt;var r=$r.exports,$t={},Yt=Lr;$t.createRoot=Yt.createRoot,$t.hydrateRoot=Yt.hydrateRoot;const Ln="modulepreload",Rn=function(e){return"/"+e},Qt={},b=function(t,n,a){if(!n||n.length===0)return t();const i=document.getElementsByTagName("link");return Promise.all(n.map(o=>{if(o=Rn(o),o in Qt)return;Qt[o]=!0;const c=o.endsWith(".css"),l=c?'[rel="stylesheet"]':"";if(!!a)for(let m=i.length-1;m>=0;m--){const f=i[m];if(f.href===o&&(!c||f.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${o}"]${l}`))return;const u=document.createElement("link");if(u.rel=c?"stylesheet":Ln,c||(u.as="script",u.crossOrigin=""),u.href=o,document.head.appendChild(u),c)return new Promise((m,f)=>{u.addEventListener("load",m),u.addEventListener("error",()=>f(new Error(`Unable to preload CSS for ${o}`)))})})).then(()=>t()).catch(o=>{const c=new Event("vite:preloadError",{cancelable:!0});if(c.payload=o,window.dispatchEvent(c),!c.defaultPrevented)throw o})},$n=()=>window.location.hostname.includes("ngrok")||window.location.hostname.includes("ngrok-free.app")?`${window.location.protocol}//${window.location.host}/api`:"/api",Cn=$n(),k=vn.create({baseURL:Cn,headers:{"Content-Type":"application/json"}});k.interceptors.request.use(e=>{const t=localStorage.getItem("token");return t&&(e.headers.Authorization=`Bearer ${t}`),e},e=>Promise.reject(e));k.interceptors.response.use(e=>e,e=>{var t,n,a;if(((t=e.response)==null?void 0:t.status)===401){const i=window.location.pathname,o=((a=(n=e.response)==null?void 0:n.data)==null?void 0:a.error)==="Please authenticate",c=localStorage.getItem("token"),l=Date.now()-(localStorage.getItem("loginTime")||0)<5e3;i!=="/login"&&o&&!l&&!c&&(localStorage.removeItem("token"),localStorage.removeItem("user"),localStorage.removeItem("loginTime"),window.location.href="/login")}return Promise.reject(e)});const Pn=Object.freeze(Object.defineProperty({__proto__:null,default:k},Symbol.toStringTag,{value:"Module"})),Pe={async register(e){const t=await k.post("/auth/register",e),{token:n,user:a}=t.data;return n&&(localStorage.setItem("token",n),localStorage.setItem("user",JSON.stringify(a)),console.log("Token saved to localStorage:",n.substring(0,20)+"...")),{user:a,token:n}},async login(e){const t=await k.post("/auth/login",e),{token:n,user:a}=t.data;return n&&(localStorage.setItem("token",n),localStorage.setItem("user",JSON.stringify(a)),console.log("Token saved to localStorage:",n.substring(0,20)+"...")),{user:a,token:n}},async getProfile(){return(await k.get("/users/profile")).data},async updateProfile(e){return(await k.put("/users/profile",e)).data},async changePassword(e){return(await k.post("/users/change-password",e)).data},async getFavorites(){return(await k.get("/users/favorites")).data},async addFavorite(e){return(await k.post("/users/favorites",{gardenId:e})).data},async removeFavorite(e){return(await k.delete(`/users/favorites/${e}`)).data},async logout(){localStorage.removeItem("token"),localStorage.removeItem("user"),localStorage.removeItem("loginTime"),console.log("Token removed from localStorage");try{await k.post("/auth/logout")}catch{console.log("Backend logout call failed, but local cleanup done")}},async googleAuth(e){const t=await k.post("/auth/google",{credential:e}),{token:n,user:a}=t.data;return n&&(localStorage.setItem("token",n),localStorage.setItem("user",JSON.stringify(a)),console.log("Google auth token saved to localStorage")),{user:a,token:n}}},An=Object.freeze(Object.defineProperty({__proto__:null,authService:Pe},Symbol.toStringTag,{value:"Module"}));let Tn={data:""},Dn=e=>typeof window=="object"?((e?e.querySelector("#_goober"):window._goober)||Object.assign((e||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:e||Tn,In=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,Mn=/\/\*[^]*?\*\/|  +/g,Jt=/\n+/g,he=(e,t)=>{let n="",a="",i="";for(let o in e){let c=e[o];o[0]=="@"?o[1]=="i"?n=o+" "+c+";":a+=o[1]=="f"?he(c,o):o+"{"+he(c,o[1]=="k"?"":t)+"}":typeof c=="object"?a+=he(c,t?t.replace(/([^,])+/g,l=>o.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,d=>/&/.test(d)?d.replace(/&/g,l):l?l+" "+d:d)):o):c!=null&&(o=/^--/.test(o)?o:o.replace(/[A-Z]/g,"-$&").toLowerCase(),i+=he.p?he.p(o,c):o+":"+c+";")}return n+(t&&i?t+"{"+i+"}":i)+a},le={},Pr=e=>{if(typeof e=="object"){let t="";for(let n in e)t+=n+Pr(e[n]);return t}return e},On=(e,t,n,a,i)=>{let o=Pr(e),c=le[o]||(le[o]=(d=>{let u=0,m=11;for(;u<d.length;)m=101*m+d.charCodeAt(u++)>>>0;return"go"+m})(o));if(!le[c]){let d=o!==e?e:(u=>{let m,f,h=[{}];for(;m=In.exec(u.replace(Mn,""));)m[4]?h.shift():m[3]?(f=m[3].replace(Jt," ").trim(),h.unshift(h[0][f]=h[0][f]||{})):h[0][m[1]]=m[2].replace(Jt," ").trim();return h[0]})(e);le[c]=he(i?{["@keyframes "+c]:d}:d,n?"":"."+c)}let l=n&&le.g?le.g:null;return n&&(le.g=le[c]),((d,u,m,f)=>{f?u.data=u.data.replace(f,d):u.data.indexOf(d)===-1&&(u.data=m?d+u.data:u.data+d)})(le[c],t,a,l),c},Fn=(e,t,n)=>e.reduce((a,i,o)=>{let c=t[o];if(c&&c.call){let l=c(n),d=l&&l.props&&l.props.className||/^go/.test(l)&&l;c=d?"."+d:l&&typeof l=="object"?l.props?"":he(l,""):l===!1?"":l}return a+i+(c??"")},"");function ft(e){let t=this||{},n=e.call?e(t.p):e;return On(n.unshift?n.raw?Fn(n,[].slice.call(arguments,1),t.p):n.reduce((a,i)=>Object.assign(a,i&&i.call?i(t.p):i),{}):n,Dn(t.target),t.g,t.o,t.k)}let Ar,Ct,Pt;ft.bind({g:1});let me=ft.bind({k:1});function Vn(e,t,n,a){he.p=t,Ar=e,Ct=n,Pt=a}function be(e,t){let n=this||{};return function(){let a=arguments;function i(o,c){let l=Object.assign({},o),d=l.className||i.className;n.p=Object.assign({theme:Ct&&Ct()},l),n.o=/ *go\d+/.test(d),l.className=ft.apply(n,a)+(d?" "+d:""),t&&(l.ref=c);let u=e;return e[0]&&(u=l.as||e,delete l.as),Pt&&u[0]&&Pt(l),Ar(u,l)}return t?t(i):i}}var Bn=e=>typeof e=="function",at=(e,t)=>Bn(e)?e(t):e,Un=(()=>{let e=0;return()=>(++e).toString()})(),Tr=(()=>{let e;return()=>{if(e===void 0&&typeof window<"u"){let t=matchMedia("(prefers-reduced-motion: reduce)");e=!t||t.matches}return e}})(),Zn=20,Dr=(e,t)=>{switch(t.type){case 0:return{...e,toasts:[t.toast,...e.toasts].slice(0,Zn)};case 1:return{...e,toasts:e.toasts.map(o=>o.id===t.toast.id?{...o,...t.toast}:o)};case 2:let{toast:n}=t;return Dr(e,{type:e.toasts.find(o=>o.id===n.id)?1:0,toast:n});case 3:let{toastId:a}=t;return{...e,toasts:e.toasts.map(o=>o.id===a||a===void 0?{...o,dismissed:!0,visible:!1}:o)};case 4:return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(o=>o.id!==t.toastId)};case 5:return{...e,pausedAt:t.time};case 6:let i=t.time-(e.pausedAt||0);return{...e,pausedAt:void 0,toasts:e.toasts.map(o=>({...o,pauseDuration:o.pauseDuration+i}))}}},tt=[],Ne={toasts:[],pausedAt:void 0},Le=e=>{Ne=Dr(Ne,e),tt.forEach(t=>{t(Ne)})},Hn={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},Wn=(e={})=>{let[t,n]=s.useState(Ne),a=s.useRef(Ne);s.useEffect(()=>(a.current!==Ne&&n(Ne),tt.push(n),()=>{let o=tt.indexOf(n);o>-1&&tt.splice(o,1)}),[]);let i=t.toasts.map(o=>{var c,l,d;return{...e,...e[o.type],...o,removeDelay:o.removeDelay||((c=e[o.type])==null?void 0:c.removeDelay)||(e==null?void 0:e.removeDelay),duration:o.duration||((l=e[o.type])==null?void 0:l.duration)||(e==null?void 0:e.duration)||Hn[o.type],style:{...e.style,...(d=e[o.type])==null?void 0:d.style,...o.style}}});return{...t,toasts:i}},Gn=(e,t="blank",n)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:t,ariaProps:{role:"status","aria-live":"polite"},message:e,pauseDuration:0,...n,id:(n==null?void 0:n.id)||Un()}),Ge=e=>(t,n)=>{let a=Gn(t,e,n);return Le({type:2,toast:a}),a.id},T=(e,t)=>Ge("blank")(e,t);T.error=Ge("error");T.success=Ge("success");T.loading=Ge("loading");T.custom=Ge("custom");T.dismiss=e=>{Le({type:3,toastId:e})};T.remove=e=>Le({type:4,toastId:e});T.promise=(e,t,n)=>{let a=T.loading(t.loading,{...n,...n==null?void 0:n.loading});return typeof e=="function"&&(e=e()),e.then(i=>{let o=t.success?at(t.success,i):void 0;return o?T.success(o,{id:a,...n,...n==null?void 0:n.success}):T.dismiss(a),i}).catch(i=>{let o=t.error?at(t.error,i):void 0;o?T.error(o,{id:a,...n,...n==null?void 0:n.error}):T.dismiss(a)}),e};var zn=(e,t)=>{Le({type:1,toast:{id:e,height:t}})},qn=()=>{Le({type:5,time:Date.now()})},Be=new Map,Yn=1e3,Qn=(e,t=Yn)=>{if(Be.has(e))return;let n=setTimeout(()=>{Be.delete(e),Le({type:4,toastId:e})},t);Be.set(e,n)},Jn=e=>{let{toasts:t,pausedAt:n}=Wn(e);s.useEffect(()=>{if(n)return;let o=Date.now(),c=t.map(l=>{if(l.duration===1/0)return;let d=(l.duration||0)+l.pauseDuration-(o-l.createdAt);if(d<0){l.visible&&T.dismiss(l.id);return}return setTimeout(()=>T.dismiss(l.id),d)});return()=>{c.forEach(l=>l&&clearTimeout(l))}},[t,n]);let a=s.useCallback(()=>{n&&Le({type:6,time:Date.now()})},[n]),i=s.useCallback((o,c)=>{let{reverseOrder:l=!1,gutter:d=8,defaultPosition:u}=c||{},m=t.filter(p=>(p.position||u)===(o.position||u)&&p.height),f=m.findIndex(p=>p.id===o.id),h=m.filter((p,g)=>g<f&&p.visible).length;return m.filter(p=>p.visible).slice(...l?[h+1]:[0,h]).reduce((p,g)=>p+(g.height||0)+d,0)},[t]);return s.useEffect(()=>{t.forEach(o=>{if(o.dismissed)Qn(o.id,o.removeDelay);else{let c=Be.get(o.id);c&&(clearTimeout(c),Be.delete(o.id))}})},[t]),{toasts:t,handlers:{updateHeight:zn,startPause:qn,endPause:a,calculateOffset:i}}},Xn=me`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,Kn=me`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,ea=me`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,ta=be("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${Xn} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${Kn} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${e=>e.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${ea} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,ra=me`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,na=be("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${e=>e.secondary||"#e0e0e0"};
  border-right-color: ${e=>e.primary||"#616161"};
  animation: ${ra} 1s linear infinite;
`,aa=me`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,sa=me`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,oa=be("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${aa} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${sa} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${e=>e.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,ia=be("div")`
  position: absolute;
`,la=be("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,ca=me`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,da=be("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${ca} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,ua=({toast:e})=>{let{icon:t,type:n,iconTheme:a}=e;return t!==void 0?typeof t=="string"?s.createElement(da,null,t):t:n==="blank"?null:s.createElement(la,null,s.createElement(na,{...a}),n!=="loading"&&s.createElement(ia,null,n==="error"?s.createElement(ta,{...a}):s.createElement(oa,{...a})))},ma=e=>`
0% {transform: translate3d(0,${e*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,fa=e=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${e*-150}%,-1px) scale(.6); opacity:0;}
`,ha="0%{opacity:0;} 100%{opacity:1;}",ga="0%{opacity:1;} 100%{opacity:0;}",pa=be("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,xa=be("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,va=(e,t)=>{let n=e.includes("top")?1:-1,[a,i]=Tr()?[ha,ga]:[ma(n),fa(n)];return{animation:t?`${me(a)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${me(i)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},ba=s.memo(({toast:e,position:t,style:n,children:a})=>{let i=e.height?va(e.position||t||"top-center",e.visible):{opacity:0},o=s.createElement(ua,{toast:e}),c=s.createElement(xa,{...e.ariaProps},at(e.message,e));return s.createElement(pa,{className:e.className,style:{...i,...n,...e.style}},typeof a=="function"?a({icon:o,message:c}):s.createElement(s.Fragment,null,o,c))});Vn(s.createElement);var wa=({id:e,className:t,style:n,onHeightUpdate:a,children:i})=>{let o=s.useCallback(c=>{if(c){let l=()=>{let d=c.getBoundingClientRect().height;a(e,d)};l(),new MutationObserver(l).observe(c,{subtree:!0,childList:!0,characterData:!0})}},[e,a]);return s.createElement("div",{ref:o,className:t,style:n},i)},ya=(e,t)=>{let n=e.includes("top"),a=n?{top:0}:{bottom:0},i=e.includes("center")?{justifyContent:"center"}:e.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:Tr()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${t*(n?1:-1)}px)`,...a,...i}},ja=ft`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,Je=16,ka=({reverseOrder:e,position:t="top-center",toastOptions:n,gutter:a,children:i,containerStyle:o,containerClassName:c})=>{let{toasts:l,handlers:d}=Jn(n);return s.createElement("div",{id:"_rht_toaster",style:{position:"fixed",zIndex:9999,top:Je,left:Je,right:Je,bottom:Je,pointerEvents:"none",...o},className:c,onMouseEnter:d.startPause,onMouseLeave:d.endPause},l.map(u=>{let m=u.position||t,f=d.calculateOffset(u,{reverseOrder:e,gutter:a,defaultPosition:t}),h=ya(m,f);return s.createElement(wa,{id:u.id,key:u.id,onHeightUpdate:d.updateHeight,className:u.visible?ja:"",style:h},u.type==="custom"?at(u.message,u):i?i(u):s.createElement(ba,{toast:u,position:m}))}))};const vt=new Map,Y=e=>{if(!vt.has(e)){const t=e();return vt.set(e,t),t}return vt.get(e)},Xt=()=>{Y(()=>b(()=>import("./Dashboard-df751962.js"),["assets/Dashboard-df751962.js","assets/vendor-021dee49.js","assets/router-3052588b.js","assets/gardenService-8e5619dd.js","assets/utils-917b1704.js","assets/SkeletonLoading-3b438a19.js","assets/CheckIcon-3891f6eb.js","assets/CameraIcon-e10f98e6.js","assets/EyeIcon-6ff4a41f.js","assets/MagnifyingGlassIcon-f062adc4.js","assets/StopIcon-2eadb9c5.js","assets/ClockIcon-d6d0aaad.js"])),Y(()=>b(()=>import("./Gardens-bce1f201.js"),["assets/Gardens-bce1f201.js","assets/vendor-021dee49.js","assets/router-3052588b.js","assets/gardenService-8e5619dd.js","assets/utils-917b1704.js","assets/SkeletonLoading-3b438a19.js","assets/BellIcon-587118bd.js","assets/UserIcon-725f4b63.js","assets/EnvelopeIcon-88013258.js","assets/InformationCircleIcon-c0454e63.js","assets/CheckIcon-3891f6eb.js","assets/BellIcon-d89f06db.js","assets/MagnifyingGlassIcon-f062adc4.js","assets/GlobeAltIcon-f8e2b057.js","assets/LockClosedIcon-973e8386.js","assets/PlusIcon-d0c3f3f8.js","assets/ArrowPathIcon-a9aaab64.js","assets/StarIcon-7759d6c0.js","assets/ClockIcon-d6d0aaad.js"])),Y(()=>b(()=>import("./Profile-68d62f68.js"),["assets/Profile-68d62f68.js","assets/vendor-021dee49.js","assets/index.esm-46109d9d.js","assets/SkeletonLoading-3b438a19.js","assets/requestService-d37670e9.js","assets/gardenService-8e5619dd.js","assets/utils-917b1704.js","assets/router-3052588b.js","assets/InformationCircleIcon-c0454e63.js","assets/PencilSquareIcon-ae0df1ee.js","assets/EnvelopeIcon-88013258.js","assets/PhoneIcon-ccc078a9.js","assets/LockClosedIcon-973e8386.js","assets/ClockIcon-d6d0aaad.js","assets/GlobeAltIcon-f8e2b057.js","assets/EyeIcon-6ff4a41f.js","assets/ExclamationTriangleIcon-2a54ccc6.js"])),Y(()=>b(()=>import("./MyDogs-1b25317d.js"),["assets/MyDogs-1b25317d.js","assets/vendor-021dee49.js","assets/router-3052588b.js","assets/SkeletonLoading-3b438a19.js","assets/index.esm-46109d9d.js","assets/PhotoIcon-4f8783ce.js","assets/TrashIcon-e750183e.js","assets/PlusIcon-d0c3f3f8.js","assets/PlusCircleIcon-7f096a1b.js","assets/PencilSquareIcon-ae0df1ee.js","assets/utils-917b1704.js"])),Y(()=>b(()=>import("./Friends-24d0f392.js"),["assets/Friends-24d0f392.js","assets/vendor-021dee49.js","assets/StartChatButton-0f462bef.js","assets/router-3052588b.js","assets/ChatBubbleLeftIcon-5a8a0035.js","assets/SkeletonLoading-3b438a19.js","assets/UsersIcon-5daddd34.js","assets/MagnifyingGlassIcon-f062adc4.js","assets/UserMinusIcon-8e12b70d.js","assets/CheckIcon-3891f6eb.js","assets/utils-917b1704.js"]))},Ea=e=>({onMouseEnter:()=>Y(e),onFocus:()=>Y(e)}),bt=e=>{switch(e){case"admin":Y(()=>b(()=>import("./AdminDashboard-9cd3d097.js"),["assets/AdminDashboard-9cd3d097.js","assets/vendor-021dee49.js","assets/SkeletonLoading-3b438a19.js","assets/router-3052588b.js","assets/ChartBarIcon-d2682d5e.js","assets/CogIcon-57d60756.js","assets/EyeIcon-6ff4a41f.js","assets/XCircleIcon-3fe8bf8c.js","assets/PencilSquareIcon-ae0df1ee.js","assets/utils-917b1704.js"])),Y(()=>b(()=>import("./AdminRequests-cbf166a9.js"),["assets/AdminRequests-cbf166a9.js","assets/vendor-021dee49.js","assets/requestService-d37670e9.js","assets/SkeletonLoading-3b438a19.js","assets/router-3052588b.js","assets/InformationCircleIcon-c0454e63.js","assets/ClockIcon-d6d0aaad.js","assets/EyeIcon-6ff4a41f.js","assets/utils-917b1704.js"])),Y(()=>b(()=>import("./AdminSettings-3d5462a0.js"),["assets/AdminSettings-3d5462a0.js","assets/vendor-021dee49.js","assets/SkeletonLoading-3b438a19.js","assets/router-3052588b.js","assets/CogIcon-57d60756.js","assets/ChartBarIcon-d2682d5e.js","assets/BellIcon-d89f06db.js","assets/ExclamationTriangleIcon-2a54ccc6.js","assets/utils-917b1704.js"]));break;case"garden_manager":Y(()=>b(()=>import("./GardenManager-3418a5ca.js"),["assets/GardenManager-3418a5ca.js","assets/vendor-021dee49.js","assets/router-3052588b.js","assets/QRCodeGenerator-4098bf1e.js","assets/CheckIcon-3891f6eb.js","assets/ShareIcon-8f4ee12b.js","assets/ArrowPathIcon-a9aaab64.js","assets/EventManager-556adb1f.js","assets/eventService-0703f6fe.js","assets/utils-917b1704.js","assets/gardenService-8e5619dd.js","assets/TagIcon-32febfd4.js","assets/ClockIcon-d6d0aaad.js","assets/XCircleIcon-3fe8bf8c.js","assets/UsersIcon-5daddd34.js","assets/EyeIcon-6ff4a41f.js","assets/PencilIcon-141964e2.js","assets/ChartBarIcon-d2682d5e.js","assets/EnvelopeIcon-88013258.js","assets/BellIcon-587118bd.js","assets/EnvelopeIcon-26482ecb.js","assets/BellIcon-d89f06db.js","assets/SkeletonLoading-3b438a19.js","assets/CogIcon-57d60756.js","assets/PlusCircleIcon-7f096a1b.js","assets/PencilSquareIcon-ae0df1ee.js","assets/TrashIcon-e750183e.js","assets/SparklesIcon-e56adbd8.js"]));break;default:Y(()=>b(()=>import("./Events-799625ee.js"),["assets/Events-799625ee.js","assets/vendor-021dee49.js","assets/router-3052588b.js","assets/eventService-0703f6fe.js","assets/utils-917b1704.js","assets/SkeletonLoading-3b438a19.js","assets/EventManager-556adb1f.js","assets/gardenService-8e5619dd.js","assets/TagIcon-32febfd4.js","assets/ClockIcon-d6d0aaad.js","assets/XCircleIcon-3fe8bf8c.js","assets/ArrowPathIcon-a9aaab64.js","assets/UsersIcon-5daddd34.js","assets/EyeIcon-6ff4a41f.js","assets/PencilIcon-141964e2.js","assets/PlusIcon-d0c3f3f8.js","assets/CogIcon-57d60756.js","assets/MagnifyingGlassIcon-f062adc4.js","assets/AcademicCapIcon-9bb0a344.js"])),Y(()=>b(()=>import("./CheckIn-1798e08c.js"),["assets/CheckIn-1798e08c.js","assets/vendor-021dee49.js","assets/SkeletonLoading-3b438a19.js","assets/router-3052588b.js","assets/CheckCircleIcon-ad35d564.js","assets/StopIcon-2eadb9c5.js","assets/EyeIcon-6ff4a41f.js","assets/ClockIcon-d6d0aaad.js","assets/utils-917b1704.js"]));break}},Na=()=>{"requestIdleCallback"in window?requestIdleCallback(()=>{Xt()}):setTimeout(Xt,1e3)};class _a{constructor(){this.baseURL=this.getApiUrl(),this.notifications=[],this.unreadCount=0,this.subscribers=[],this.websocket=null,this.reconnectAttempts=0,this.maxReconnectAttempts=5,this.reconnectDelay=1e3}getApiUrl(){return window.location.hostname==="localhost"||window.location.hostname==="127.0.0.1"?"http://localhost:5000/api":"/api"}async init(){try{await this.requestPermission(),await this.loadNotifications(),this.connectWebSocket()}catch(t){console.error("Failed to initialize notification service:",t)}}async loadNotifications(t={}){try{const n=localStorage.getItem("token");if(!n)return{notifications:[],unreadCount:0};const a=new URLSearchParams;t.page&&a.append("page",t.page),t.limit&&a.append("limit",t.limit),t.unreadOnly&&a.append("unreadOnly","true"),t.type&&a.append("type",t.type);const i=await fetch(`${this.baseURL}/notifications?${a}`,{headers:{Authorization:`Bearer ${n}`,"Content-Type":"application/json"}});if(i.ok){const o=await i.json();return this.notifications=o.notifications||[],this.unreadCount=o.unreadCount||0,this.notifySubscribers(),o}}catch(n){console.error("Failed to load notifications:",n)}return{notifications:[],unreadCount:0}}connectWebSocket(){try{const t=localStorage.getItem("token");if(!t)return;const a=window.location.hostname==="localhost"||window.location.hostname==="127.0.0.1"?`ws://localhost:5000/notifications-ws?token=${t}`:`${window.location.protocol==="https:"?"wss:":"ws:"}//${window.location.host}/notifications-ws?token=${t}`;this.websocket=new WebSocket(a),this.websocket.onopen=()=>{console.log("WebSocket connected"),this.reconnectAttempts=0,this.reconnectDelay=1e3},this.websocket.onmessage=i=>{try{const o=JSON.parse(i.data);o.type==="notification"&&this.handleNewNotification(o.notification)}catch(o){console.error("Failed to parse WebSocket message:",o)}},this.websocket.onclose=()=>{console.log("WebSocket disconnected"),this.scheduleReconnect()},this.websocket.onerror=i=>{console.error("WebSocket error:",i)}}catch(t){console.error("Failed to connect WebSocket:",t),this.scheduleReconnect()}}scheduleReconnect(){this.reconnectAttempts<this.maxReconnectAttempts&&setTimeout(()=>{this.reconnectAttempts++,this.reconnectDelay*=2,console.log(`Attempting to reconnect WebSocket (${this.reconnectAttempts}/${this.maxReconnectAttempts})`),this.connectWebSocket()},this.reconnectDelay)}handleNewNotification(t){this.notifications.unshift(t),t.isRead||this.unreadCount++,this.showBrowserNotification(t),this.notifySubscribers()}async showBrowserNotification(t){if(console.log("🔔 Attempting to show browser notification:",t),console.log("🔔 Notification support:","Notification"in window),console.log("🔔 Permission status:",Notification.permission),console.log("🔔 Is PWA installed:",window.matchMedia("(display-mode: standalone)").matches),"Notification"in window){if(Notification.permission==="granted"){console.log("✅ Showing notification with permission granted");try{const n=new Notification(t.title,{body:t.content,icon:"/icon-192.png",badge:"/icon-192.png",data:t,tag:"pawradise-notification"});n.onclick=()=>{console.log("📱 Notification clicked"),window.focus(),n.close()},console.log("✅ Notification created successfully")}catch(n){console.error("❌ Error creating notification:",n)}}else if(Notification.permission==="denied")console.warn("⚠️ Notifications are blocked by user");else if(console.warn("⚠️ Notification permission not granted, requesting..."),await this.requestPermission())return this.showBrowserNotification(t)}else console.error("❌ Notifications not supported in this browser")}async requestPermission(){return"Notification"in window?await Notification.requestPermission()==="granted":!1}getNotifications(){return this.notifications}getUnreadNotifications(){return this.notifications.filter(t=>!t.isRead)}getUnreadCount(){return this.unreadCount}async markAsRead(t){try{const n=localStorage.getItem("token");if((await fetch(`${this.baseURL}/notifications/${t}/read`,{method:"PUT",headers:{Authorization:`Bearer ${n}`,"Content-Type":"application/json"}})).ok){const i=this.notifications.find(o=>o._id===t);return i&&!i.isRead&&(i.isRead=!0,i.readAt=new Date,this.unreadCount=Math.max(0,this.unreadCount-1),this.notifySubscribers()),!0}}catch(n){console.error("Failed to mark notification as read:",n)}return!1}async markAllAsRead(){try{const t=localStorage.getItem("token");if((await fetch(`${this.baseURL}/notifications/mark-all-read`,{method:"PUT",headers:{Authorization:`Bearer ${t}`,"Content-Type":"application/json"}})).ok)return this.notifications.forEach(a=>{a.isRead||(a.isRead=!0,a.readAt=new Date)}),this.unreadCount=0,this.notifySubscribers(),!0}catch(t){console.error("Failed to mark all notifications as read:",t)}return!1}async deleteNotification(t){try{const n=localStorage.getItem("token");if((await fetch(`${this.baseURL}/notifications/${t}`,{method:"DELETE",headers:{Authorization:`Bearer ${n}`,"Content-Type":"application/json"}})).ok){const i=this.notifications.findIndex(o=>o._id===t);return i!==-1&&(this.notifications[i].isRead||(this.unreadCount=Math.max(0,this.unreadCount-1)),this.notifications.splice(i,1),this.notifySubscribers()),!0}}catch(n){console.error("Failed to delete notification:",n)}return!1}subscribe(t){return this.subscribers.push(t),t({notifications:this.notifications,unreadCount:this.unreadCount}),()=>{const n=this.subscribers.indexOf(t);n>-1&&this.subscribers.splice(n,1)}}notifySubscribers(){this.subscribers.forEach(t=>{t({notifications:this.notifications,unreadCount:this.unreadCount})})}async createTestNotification(t="system",n="Test",a="This is a test notification"){try{const i=localStorage.getItem("token"),o=await fetch(`${this.baseURL}/notifications/test`,{method:"POST",headers:{Authorization:`Bearer ${i}`,"Content-Type":"application/json"},body:JSON.stringify({type:t,title:n,content:a})});if(o.ok){const c=await o.json();return console.log("Test notification created:",c),await this.loadNotifications(),!0}}catch(i){console.error("Failed to create test notification:",i)}return!1}destroy(){this.websocket&&this.websocket.close(),this.subscribers=[]}}const q=new _a,Sa=Object.freeze(Object.defineProperty({__proto__:null,default:q},Symbol.toStringTag,{value:"Module"})),Ir=s.createContext(),we=()=>{const e=s.useContext(Ir);if(!e)throw new Error("useAuth must be used within an AuthProvider");return e},La=({children:e})=>{const[t,n]=s.useState(null),[a,i]=s.useState(!0);s.useEffect(()=>{(async()=>{var p,g,x;const h=localStorage.getItem("token");if(console.log("AuthContext loadUser - token exists:",!!h),h)try{const v=await Pe.getProfile();console.log("AuthContext loadUser - profile loaded:",v),n(v),await q.init(),bt(v.role)}catch(v){console.error("Error loading user profile:",v),((p=v.response)==null?void 0:p.status)===401&&((x=(g=v.response)==null?void 0:g.data)==null?void 0:x.error)==="Please authenticate"&&(console.log("Removing token due to authentication failure"),localStorage.removeItem("token"),localStorage.removeItem("user"))}i(!1)})()},[]),s.useEffect(()=>{a||Na()},[a]);const m={user:t,loading:a,login:async f=>{try{const{user:h,token:p}=await Pe.login(f);return console.log("Login successful, user:",h,"token exists:",!!p),n(h),localStorage.setItem("loginTime",Date.now().toString()),await q.init(),bt(h.role),T.success("Login successful"),{success:!0,user:h}}catch(h){return T.error(h.message||"Login failed"),{success:!1,error:h.message}}},register:async f=>{try{const{user:h,token:p}=await Pe.register(f);return console.log("Registration successful, user:",h,"token exists:",!!p),n(h),localStorage.setItem("loginTime",Date.now().toString()),await q.init(),T.success("Registration successful"),{success:!0,user:h}}catch(h){return T.error(h.message||"Registration failed"),{success:!1,error:h.message}}},logout:async()=>{try{await Pe.logout(),n(null),localStorage.removeItem("token"),localStorage.removeItem("user"),localStorage.removeItem("loginTime"),await q.cleanup(),T.success("Logged out successfully")}catch(f){console.error("Logout error:",f),n(null),localStorage.removeItem("token"),localStorage.removeItem("user"),localStorage.removeItem("loginTime")}},updateUser:f=>{n(f),localStorage.setItem("user",JSON.stringify(f))},loginWithGoogle:async f=>{try{const{user:h,token:p}=await Pe.googleAuth(f);return console.log("Google login successful, user:",h,"token exists:",!!p),n(h),localStorage.setItem("loginTime",Date.now().toString()),await q.init(),bt(h.role),T.success("Google login successful"),{success:!0,user:h}}catch(h){return T.error(h.message||"Google login failed"),{success:!1,error:h.message}}},isAuthenticated:!!t};return r.jsx(Ir.Provider,{value:m,children:e})},Mr=s.createContext(),Rc=()=>{const e=s.useContext(Mr);if(!e)throw new Error("useLanguage must be used within a LanguageProvider");return e},Ra=({children:e})=>{const[t,n]=s.useState("en"),[a,i]=s.useState(!1);s.useEffect(()=>{const d=localStorage.getItem("language")||"en";o(d)},[]);const o=d=>{n(d);const u=d==="he";i(u),localStorage.setItem("language",d),document.documentElement.dir=u?"rtl":"ltr",document.documentElement.lang=d,u?(document.body.classList.add("rtl"),document.documentElement.classList.add("rtl")):(document.body.classList.remove("rtl"),document.documentElement.classList.remove("rtl"))},l={language:t,isRTL:a,changeLanguage:o,toggleLanguage:()=>{o(t==="en"?"he":"en")}};return r.jsx(Mr.Provider,{value:l,children:e})};var $a=Object.defineProperty,Ca=(e,t,n)=>t in e?$a(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,wt=(e,t,n)=>(Ca(e,typeof t!="symbol"?t+"":t,n),n);let Pa=class{constructor(){wt(this,"current",this.detect()),wt(this,"handoffState","pending"),wt(this,"currentId",0)}set(t){this.current!==t&&(this.handoffState="pending",this.currentId=0,this.current=t)}reset(){this.set(this.detect())}nextId(){return++this.currentId}get isServer(){return this.current==="server"}get isClient(){return this.current==="client"}detect(){return typeof window>"u"||typeof document>"u"?"server":"client"}handoff(){this.handoffState==="pending"&&(this.handoffState="complete")}get isHandoffComplete(){return this.handoffState==="complete"}},ce=new Pa,te=(e,t)=>{ce.isServer?s.useEffect(e,t):s.useLayoutEffect(e,t)};function de(e){let t=s.useRef(e);return te(()=>{t.current=e},[e]),t}let M=function(e){let t=de(e);return L.useCallback((...n)=>t.current(...n),[t])};function ht(e){typeof queueMicrotask=="function"?queueMicrotask(e):Promise.resolve().then(e).catch(t=>setTimeout(()=>{throw t}))}function Re(){let e=[],t={addEventListener(n,a,i,o){return n.addEventListener(a,i,o),t.add(()=>n.removeEventListener(a,i,o))},requestAnimationFrame(...n){let a=requestAnimationFrame(...n);return t.add(()=>cancelAnimationFrame(a))},nextFrame(...n){return t.requestAnimationFrame(()=>t.requestAnimationFrame(...n))},setTimeout(...n){let a=setTimeout(...n);return t.add(()=>clearTimeout(a))},microTask(...n){let a={current:!0};return ht(()=>{a.current&&n[0]()}),t.add(()=>{a.current=!1})},style(n,a,i){let o=n.style.getPropertyValue(a);return Object.assign(n.style,{[a]:i}),this.add(()=>{Object.assign(n.style,{[a]:o})})},group(n){let a=Re();return n(a),this.add(()=>a.dispose())},add(n){return e.push(n),()=>{let a=e.indexOf(n);if(a>=0)for(let i of e.splice(a,1))i()}},dispose(){for(let n of e.splice(0))n()}};return t}function Ut(){let[e]=s.useState(Re);return s.useEffect(()=>()=>e.dispose(),[e]),e}function Aa(){let e=typeof document>"u";return"useSyncExternalStore"in Ze?(t=>t.useSyncExternalStore)(Ze)(()=>()=>{},()=>!1,()=>!e):!1}function De(){let e=Aa(),[t,n]=s.useState(ce.isHandoffComplete);return t&&ce.isHandoffComplete===!1&&n(!1),s.useEffect(()=>{t!==!0&&n(!0)},[t]),s.useEffect(()=>ce.handoff(),[]),e?!1:t}var Kt;let Ie=(Kt=L.useId)!=null?Kt:function(){let e=De(),[t,n]=L.useState(e?()=>ce.nextId():null);return te(()=>{t===null&&n(ce.nextId())},[t]),t!=null?""+t:void 0};function W(e,t,...n){if(e in t){let i=t[e];return typeof i=="function"?i(...n):i}let a=new Error(`Tried to handle "${e}" but there is no handler defined. Only defined handlers are: ${Object.keys(t).map(i=>`"${i}"`).join(", ")}.`);throw Error.captureStackTrace&&Error.captureStackTrace(a,W),a}function Or(e){return ce.isServer?null:e instanceof Node?e.ownerDocument:e!=null&&e.hasOwnProperty("current")&&e.current instanceof Node?e.current.ownerDocument:document}let At=["[contentEditable=true]","[tabindex]","a[href]","area[href]","button:not([disabled])","iframe","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].map(e=>`${e}:not([tabindex='-1'])`).join(",");var Ee=(e=>(e[e.First=1]="First",e[e.Previous=2]="Previous",e[e.Next=4]="Next",e[e.Last=8]="Last",e[e.WrapAround=16]="WrapAround",e[e.NoScroll=32]="NoScroll",e))(Ee||{}),Fr=(e=>(e[e.Error=0]="Error",e[e.Overflow=1]="Overflow",e[e.Success=2]="Success",e[e.Underflow=3]="Underflow",e))(Fr||{}),Ta=(e=>(e[e.Previous=-1]="Previous",e[e.Next=1]="Next",e))(Ta||{});function Da(e=document.body){return e==null?[]:Array.from(e.querySelectorAll(At)).sort((t,n)=>Math.sign((t.tabIndex||Number.MAX_SAFE_INTEGER)-(n.tabIndex||Number.MAX_SAFE_INTEGER)))}var Vr=(e=>(e[e.Strict=0]="Strict",e[e.Loose=1]="Loose",e))(Vr||{});function Ia(e,t=0){var n;return e===((n=Or(e))==null?void 0:n.body)?!1:W(t,{0(){return e.matches(At)},1(){let a=e;for(;a!==null;){if(a.matches(At))return!0;a=a.parentElement}return!1}})}var Ma=(e=>(e[e.Keyboard=0]="Keyboard",e[e.Mouse=1]="Mouse",e))(Ma||{});typeof window<"u"&&typeof document<"u"&&(document.addEventListener("keydown",e=>{e.metaKey||e.altKey||e.ctrlKey||(document.documentElement.dataset.headlessuiFocusVisible="")},!0),document.addEventListener("click",e=>{e.detail===1?delete document.documentElement.dataset.headlessuiFocusVisible:e.detail===0&&(document.documentElement.dataset.headlessuiFocusVisible="")},!0));function Se(e){e==null||e.focus({preventScroll:!0})}let Oa=["textarea","input"].join(",");function Fa(e){var t,n;return(n=(t=e==null?void 0:e.matches)==null?void 0:t.call(e,Oa))!=null?n:!1}function Va(e,t=n=>n){return e.slice().sort((n,a)=>{let i=t(n),o=t(a);if(i===null||o===null)return 0;let c=i.compareDocumentPosition(o);return c&Node.DOCUMENT_POSITION_FOLLOWING?-1:c&Node.DOCUMENT_POSITION_PRECEDING?1:0})}function rt(e,t,{sorted:n=!0,relativeTo:a=null,skipElements:i=[]}={}){let o=Array.isArray(e)?e.length>0?e[0].ownerDocument:document:e.ownerDocument,c=Array.isArray(e)?n?Va(e):e:Da(e);i.length>0&&c.length>1&&(c=c.filter(p=>!i.includes(p))),a=a??o.activeElement;let l=(()=>{if(t&5)return 1;if(t&10)return-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),d=(()=>{if(t&1)return 0;if(t&2)return Math.max(0,c.indexOf(a))-1;if(t&4)return Math.max(0,c.indexOf(a))+1;if(t&8)return c.length-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),u=t&32?{preventScroll:!0}:{},m=0,f=c.length,h;do{if(m>=f||m+f<=0)return 0;let p=d+m;if(t&16)p=(p+f)%f;else{if(p<0)return 3;if(p>=f)return 1}h=c[p],h==null||h.focus(u),m+=l}while(h!==o.activeElement);return t&6&&Fa(h)&&h.select(),2}function Br(){return/iPhone/gi.test(window.navigator.platform)||/Mac/gi.test(window.navigator.platform)&&window.navigator.maxTouchPoints>0}function Ba(){return/Android/gi.test(window.navigator.userAgent)}function Ua(){return Br()||Ba()}function Xe(e,t,n){let a=de(t);s.useEffect(()=>{function i(o){a.current(o)}return document.addEventListener(e,i,n),()=>document.removeEventListener(e,i,n)},[e,n])}function Ur(e,t,n){let a=de(t);s.useEffect(()=>{function i(o){a.current(o)}return window.addEventListener(e,i,n),()=>window.removeEventListener(e,i,n)},[e,n])}function Za(e,t,n=!0){let a=s.useRef(!1);s.useEffect(()=>{requestAnimationFrame(()=>{a.current=n})},[n]);function i(c,l){if(!a.current||c.defaultPrevented)return;let d=l(c);if(d===null||!d.getRootNode().contains(d)||!d.isConnected)return;let u=function m(f){return typeof f=="function"?m(f()):Array.isArray(f)||f instanceof Set?f:[f]}(e);for(let m of u){if(m===null)continue;let f=m instanceof HTMLElement?m:m.current;if(f!=null&&f.contains(d)||c.composed&&c.composedPath().includes(f))return}return!Ia(d,Vr.Loose)&&d.tabIndex!==-1&&c.preventDefault(),t(c,d)}let o=s.useRef(null);Xe("pointerdown",c=>{var l,d;a.current&&(o.current=((d=(l=c.composedPath)==null?void 0:l.call(c))==null?void 0:d[0])||c.target)},!0),Xe("mousedown",c=>{var l,d;a.current&&(o.current=((d=(l=c.composedPath)==null?void 0:l.call(c))==null?void 0:d[0])||c.target)},!0),Xe("click",c=>{Ua()||o.current&&(i(c,()=>o.current),o.current=null)},!0),Xe("touchend",c=>i(c,()=>c.target instanceof HTMLElement?c.target:null),!0),Ur("blur",c=>i(c,()=>window.document.activeElement instanceof HTMLIFrameElement?window.document.activeElement:null),!0)}function ze(...e){return s.useMemo(()=>Or(...e),[...e])}let Zr=Symbol();function Ha(e,t=!0){return Object.assign(e,{[Zr]:t})}function ne(...e){let t=s.useRef(e);s.useEffect(()=>{t.current=e},[e]);let n=M(a=>{for(let i of t.current)i!=null&&(typeof i=="function"?i(a):i.current=a)});return e.every(a=>a==null||(a==null?void 0:a[Zr]))?void 0:n}function Zt(e,t){let n=s.useRef([]),a=M(e);s.useEffect(()=>{let i=[...n.current];for(let[o,c]of t.entries())if(n.current[o]!==c){let l=a(t,i);return n.current=t,l}},[a,...t])}function st(...e){return Array.from(new Set(e.flatMap(t=>typeof t=="string"?t.split(" "):[]))).filter(Boolean).join(" ")}var ot=(e=>(e[e.None=0]="None",e[e.RenderStrategy=1]="RenderStrategy",e[e.Static=2]="Static",e))(ot||{}),pe=(e=>(e[e.Unmount=0]="Unmount",e[e.Hidden=1]="Hidden",e))(pe||{});function re({ourProps:e,theirProps:t,slot:n,defaultTag:a,features:i,visible:o=!0,name:c,mergeRefs:l}){l=l??Wa;let d=Hr(t,e);if(o)return Ke(d,n,a,c,l);let u=i??0;if(u&2){let{static:m=!1,...f}=d;if(m)return Ke(f,n,a,c,l)}if(u&1){let{unmount:m=!0,...f}=d;return W(m?0:1,{0(){return null},1(){return Ke({...f,hidden:!0,style:{display:"none"}},n,a,c,l)}})}return Ke(d,n,a,c,l)}function Ke(e,t={},n,a,i){let{as:o=n,children:c,refName:l="ref",...d}=yt(e,["unmount","static"]),u=e.ref!==void 0?{[l]:e.ref}:{},m=typeof c=="function"?c(t):c;"className"in d&&d.className&&typeof d.className=="function"&&(d.className=d.className(t));let f={};if(t){let h=!1,p=[];for(let[g,x]of Object.entries(t))typeof x=="boolean"&&(h=!0),x===!0&&p.push(g);h&&(f["data-headlessui-state"]=p.join(" "))}if(o===s.Fragment&&Object.keys(er(d)).length>0){if(!s.isValidElement(m)||Array.isArray(m)&&m.length>1)throw new Error(['Passing props on "Fragment"!',"",`The current component <${a} /> is rendering a "Fragment".`,"However we need to passthrough the following props:",Object.keys(d).map(x=>`  - ${x}`).join(`
`),"","You can apply a few solutions:",['Add an `as="..."` prop, to ensure that we render an actual element instead of a "Fragment".',"Render a single element as the child so that we can forward the props onto that element."].map(x=>`  - ${x}`).join(`
`)].join(`
`));let h=m.props,p=typeof(h==null?void 0:h.className)=="function"?(...x)=>st(h==null?void 0:h.className(...x),d.className):st(h==null?void 0:h.className,d.className),g=p?{className:p}:{};return s.cloneElement(m,Object.assign({},Hr(m.props,er(yt(d,["ref"]))),f,u,{ref:i(m.ref,u.ref)},g))}return s.createElement(o,Object.assign({},yt(d,["ref"]),o!==s.Fragment&&u,o!==s.Fragment&&f),m)}function Wa(...e){return e.every(t=>t==null)?void 0:t=>{for(let n of e)n!=null&&(typeof n=="function"?n(t):n.current=t)}}function Hr(...e){if(e.length===0)return{};if(e.length===1)return e[0];let t={},n={};for(let a of e)for(let i in a)i.startsWith("on")&&typeof a[i]=="function"?(n[i]!=null||(n[i]=[]),n[i].push(a[i])):t[i]=a[i];if(t.disabled||t["aria-disabled"])return Object.assign(t,Object.fromEntries(Object.keys(n).map(a=>[a,void 0])));for(let a in n)Object.assign(t,{[a](i,...o){let c=n[a];for(let l of c){if((i instanceof Event||(i==null?void 0:i.nativeEvent)instanceof Event)&&i.defaultPrevented)return;l(i,...o)}}});return t}function J(e){var t;return Object.assign(s.forwardRef(e),{displayName:(t=e.displayName)!=null?t:e.name})}function er(e){let t=Object.assign({},e);for(let n in t)t[n]===void 0&&delete t[n];return t}function yt(e,t=[]){let n=Object.assign({},e);for(let a of t)a in n&&delete n[a];return n}let Ga="div";var it=(e=>(e[e.None=1]="None",e[e.Focusable=2]="Focusable",e[e.Hidden=4]="Hidden",e))(it||{});function za(e,t){var n;let{features:a=1,...i}=e,o={ref:t,"aria-hidden":(a&2)===2?!0:(n=i["aria-hidden"])!=null?n:void 0,hidden:(a&4)===4?!0:void 0,style:{position:"fixed",top:1,left:1,width:1,height:0,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0",...(a&4)===4&&(a&2)!==2&&{display:"none"}}};return re({ourProps:o,theirProps:i,slot:{},defaultTag:Ga,name:"Hidden"})}let Tt=J(za),Ht=s.createContext(null);Ht.displayName="OpenClosedContext";var Q=(e=>(e[e.Open=1]="Open",e[e.Closed=2]="Closed",e[e.Closing=4]="Closing",e[e.Opening=8]="Opening",e))(Q||{});function Wt(){return s.useContext(Ht)}function qa({value:e,children:t}){return L.createElement(Ht.Provider,{value:e},t)}function Ya(e){function t(){document.readyState!=="loading"&&(e(),document.removeEventListener("DOMContentLoaded",t))}typeof window<"u"&&typeof document<"u"&&(document.addEventListener("DOMContentLoaded",t),t())}let ge=[];Ya(()=>{function e(t){t.target instanceof HTMLElement&&t.target!==document.body&&ge[0]!==t.target&&(ge.unshift(t.target),ge=ge.filter(n=>n!=null&&n.isConnected),ge.splice(10))}window.addEventListener("click",e,{capture:!0}),window.addEventListener("mousedown",e,{capture:!0}),window.addEventListener("focus",e,{capture:!0}),document.body.addEventListener("click",e,{capture:!0}),document.body.addEventListener("mousedown",e,{capture:!0}),document.body.addEventListener("focus",e,{capture:!0})});function Qa(e){let t=e.parentElement,n=null;for(;t&&!(t instanceof HTMLFieldSetElement);)t instanceof HTMLLegendElement&&(n=t),t=t.parentElement;let a=(t==null?void 0:t.getAttribute("disabled"))==="";return a&&Ja(n)?!1:a}function Ja(e){if(!e)return!1;let t=e.previousElementSibling;for(;t!==null;){if(t instanceof HTMLLegendElement)return!1;t=t.previousElementSibling}return!0}var Wr=(e=>(e.Space=" ",e.Enter="Enter",e.Escape="Escape",e.Backspace="Backspace",e.Delete="Delete",e.ArrowLeft="ArrowLeft",e.ArrowUp="ArrowUp",e.ArrowRight="ArrowRight",e.ArrowDown="ArrowDown",e.Home="Home",e.End="End",e.PageUp="PageUp",e.PageDown="PageDown",e.Tab="Tab",e))(Wr||{});function Gr(e,t,n,a){let i=de(n);s.useEffect(()=>{e=e??window;function o(c){i.current(c)}return e.addEventListener(t,o,a),()=>e.removeEventListener(t,o,a)},[e,t,a])}function qe(){let e=s.useRef(!1);return te(()=>(e.current=!0,()=>{e.current=!1}),[]),e}function zr(e){let t=M(e),n=s.useRef(!1);s.useEffect(()=>(n.current=!1,()=>{n.current=!0,ht(()=>{n.current&&t()})}),[t])}var Ve=(e=>(e[e.Forwards=0]="Forwards",e[e.Backwards=1]="Backwards",e))(Ve||{});function Xa(){let e=s.useRef(0);return Ur("keydown",t=>{t.key==="Tab"&&(e.current=t.shiftKey?1:0)},!0),e}function qr(e){if(!e)return new Set;if(typeof e=="function")return new Set(e());let t=new Set;for(let n of e.current)n.current instanceof HTMLElement&&t.add(n.current);return t}let Ka="div";var Yr=(e=>(e[e.None=1]="None",e[e.InitialFocus=2]="InitialFocus",e[e.TabLock=4]="TabLock",e[e.FocusLock=8]="FocusLock",e[e.RestoreFocus=16]="RestoreFocus",e[e.All=30]="All",e))(Yr||{});function es(e,t){let n=s.useRef(null),a=ne(n,t),{initialFocus:i,containers:o,features:c=30,...l}=e;De()||(c=1);let d=ze(n);ns({ownerDocument:d},!!(c&16));let u=as({ownerDocument:d,container:n,initialFocus:i},!!(c&2));ss({ownerDocument:d,container:n,containers:o,previousActiveElement:u},!!(c&8));let m=Xa(),f=M(x=>{let v=n.current;v&&(P=>P())(()=>{W(m.current,{[Ve.Forwards]:()=>{rt(v,Ee.First,{skipElements:[x.relatedTarget]})},[Ve.Backwards]:()=>{rt(v,Ee.Last,{skipElements:[x.relatedTarget]})}})})}),h=Ut(),p=s.useRef(!1),g={ref:a,onKeyDown(x){x.key=="Tab"&&(p.current=!0,h.requestAnimationFrame(()=>{p.current=!1}))},onBlur(x){let v=qr(o);n.current instanceof HTMLElement&&v.add(n.current);let P=x.relatedTarget;P instanceof HTMLElement&&P.dataset.headlessuiFocusGuard!=="true"&&(Qr(v,P)||(p.current?rt(n.current,W(m.current,{[Ve.Forwards]:()=>Ee.Next,[Ve.Backwards]:()=>Ee.Previous})|Ee.WrapAround,{relativeTo:x.target}):x.target instanceof HTMLElement&&Se(x.target)))}};return L.createElement(L.Fragment,null,!!(c&4)&&L.createElement(Tt,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:f,features:it.Focusable}),re({ourProps:g,theirProps:l,defaultTag:Ka,name:"FocusTrap"}),!!(c&4)&&L.createElement(Tt,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:f,features:it.Focusable}))}let ts=J(es),Oe=Object.assign(ts,{features:Yr});function rs(e=!0){let t=s.useRef(ge.slice());return Zt(([n],[a])=>{a===!0&&n===!1&&ht(()=>{t.current.splice(0)}),a===!1&&n===!0&&(t.current=ge.slice())},[e,ge,t]),M(()=>{var n;return(n=t.current.find(a=>a!=null&&a.isConnected))!=null?n:null})}function ns({ownerDocument:e},t){let n=rs(t);Zt(()=>{t||(e==null?void 0:e.activeElement)===(e==null?void 0:e.body)&&Se(n())},[t]),zr(()=>{t&&Se(n())})}function as({ownerDocument:e,container:t,initialFocus:n},a){let i=s.useRef(null),o=qe();return Zt(()=>{if(!a)return;let c=t.current;c&&ht(()=>{if(!o.current)return;let l=e==null?void 0:e.activeElement;if(n!=null&&n.current){if((n==null?void 0:n.current)===l){i.current=l;return}}else if(c.contains(l)){i.current=l;return}n!=null&&n.current?Se(n.current):rt(c,Ee.First)===Fr.Error&&console.warn("There are no focusable elements inside the <FocusTrap />"),i.current=e==null?void 0:e.activeElement})},[a]),i}function ss({ownerDocument:e,container:t,containers:n,previousActiveElement:a},i){let o=qe();Gr(e==null?void 0:e.defaultView,"focus",c=>{if(!i||!o.current)return;let l=qr(n);t.current instanceof HTMLElement&&l.add(t.current);let d=a.current;if(!d)return;let u=c.target;u&&u instanceof HTMLElement?Qr(l,u)?(a.current=u,Se(u)):(c.preventDefault(),c.stopPropagation(),Se(d)):Se(a.current)},!0)}function Qr(e,t){for(let n of e)if(n.contains(t))return!0;return!1}let Jr=s.createContext(!1);function os(){return s.useContext(Jr)}function Dt(e){return L.createElement(Jr.Provider,{value:e.force},e.children)}function is(e){let t=os(),n=s.useContext(Xr),a=ze(e),[i,o]=s.useState(()=>{if(!t&&n!==null||ce.isServer)return null;let c=a==null?void 0:a.getElementById("headlessui-portal-root");if(c)return c;if(a===null)return null;let l=a.createElement("div");return l.setAttribute("id","headlessui-portal-root"),a.body.appendChild(l)});return s.useEffect(()=>{i!==null&&(a!=null&&a.body.contains(i)||a==null||a.body.appendChild(i))},[i,a]),s.useEffect(()=>{t||n!==null&&o(n.current)},[n,o,t]),i}let ls=s.Fragment;function cs(e,t){let n=e,a=s.useRef(null),i=ne(Ha(m=>{a.current=m}),t),o=ze(a),c=is(a),[l]=s.useState(()=>{var m;return ce.isServer?null:(m=o==null?void 0:o.createElement("div"))!=null?m:null}),d=s.useContext(It),u=De();return te(()=>{!c||!l||c.contains(l)||(l.setAttribute("data-headlessui-portal",""),c.appendChild(l))},[c,l]),te(()=>{if(l&&d)return d.register(l)},[d,l]),zr(()=>{var m;!c||!l||(l instanceof Node&&c.contains(l)&&c.removeChild(l),c.childNodes.length<=0&&((m=c.parentElement)==null||m.removeChild(c)))}),u?!c||!l?null:Lr.createPortal(re({ourProps:{ref:i},theirProps:n,defaultTag:ls,name:"Portal"}),l):null}let ds=s.Fragment,Xr=s.createContext(null);function us(e,t){let{target:n,...a}=e,i={ref:ne(t)};return L.createElement(Xr.Provider,{value:n},re({ourProps:i,theirProps:a,defaultTag:ds,name:"Popover.Group"}))}let It=s.createContext(null);function ms(){let e=s.useContext(It),t=s.useRef([]),n=M(o=>(t.current.push(o),e&&e.register(o),()=>a(o))),a=M(o=>{let c=t.current.indexOf(o);c!==-1&&t.current.splice(c,1),e&&e.unregister(o)}),i=s.useMemo(()=>({register:n,unregister:a,portals:t}),[n,a,t]);return[t,s.useMemo(()=>function({children:o}){return L.createElement(It.Provider,{value:i},o)},[i])]}let fs=J(cs),hs=J(us),Mt=Object.assign(fs,{Group:hs});function gs(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}const ps=typeof Object.is=="function"?Object.is:gs,{useState:xs,useEffect:vs,useLayoutEffect:bs,useDebugValue:ws}=Ze;function ys(e,t,n){const a=t(),[{inst:i},o]=xs({inst:{value:a,getSnapshot:t}});return bs(()=>{i.value=a,i.getSnapshot=t,jt(i)&&o({inst:i})},[e,a,t]),vs(()=>(jt(i)&&o({inst:i}),e(()=>{jt(i)&&o({inst:i})})),[e]),ws(a),a}function jt(e){const t=e.getSnapshot,n=e.value;try{const a=t();return!ps(n,a)}catch{return!0}}function js(e,t,n){return t()}const ks=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Es=!ks,Ns=Es?js:ys,_s="useSyncExternalStore"in Ze?(e=>e.useSyncExternalStore)(Ze):Ns;function Ss(e){return _s(e.subscribe,e.getSnapshot,e.getSnapshot)}function Ls(e,t){let n=e(),a=new Set;return{getSnapshot(){return n},subscribe(i){return a.add(i),()=>a.delete(i)},dispatch(i,...o){let c=t[i].call(n,...o);c&&(n=c,a.forEach(l=>l()))}}}function Rs(){let e;return{before({doc:t}){var n;let a=t.documentElement;e=((n=t.defaultView)!=null?n:window).innerWidth-a.clientWidth},after({doc:t,d:n}){let a=t.documentElement,i=a.clientWidth-a.offsetWidth,o=e-i;n.style(a,"paddingRight",`${o}px`)}}}function $s(){return Br()?{before({doc:e,d:t,meta:n}){function a(i){return n.containers.flatMap(o=>o()).some(o=>o.contains(i))}t.microTask(()=>{var i;if(window.getComputedStyle(e.documentElement).scrollBehavior!=="auto"){let l=Re();l.style(e.documentElement,"scrollBehavior","auto"),t.add(()=>t.microTask(()=>l.dispose()))}let o=(i=window.scrollY)!=null?i:window.pageYOffset,c=null;t.addEventListener(e,"click",l=>{if(l.target instanceof HTMLElement)try{let d=l.target.closest("a");if(!d)return;let{hash:u}=new URL(d.href),m=e.querySelector(u);m&&!a(m)&&(c=m)}catch{}},!0),t.addEventListener(e,"touchstart",l=>{if(l.target instanceof HTMLElement)if(a(l.target)){let d=l.target;for(;d.parentElement&&a(d.parentElement);)d=d.parentElement;t.style(d,"overscrollBehavior","contain")}else t.style(l.target,"touchAction","none")}),t.addEventListener(e,"touchmove",l=>{if(l.target instanceof HTMLElement)if(a(l.target)){let d=l.target;for(;d.parentElement&&d.dataset.headlessuiPortal!==""&&!(d.scrollHeight>d.clientHeight||d.scrollWidth>d.clientWidth);)d=d.parentElement;d.dataset.headlessuiPortal===""&&l.preventDefault()}else l.preventDefault()},{passive:!1}),t.add(()=>{var l;let d=(l=window.scrollY)!=null?l:window.pageYOffset;o!==d&&window.scrollTo(0,o),c&&c.isConnected&&(c.scrollIntoView({block:"nearest"}),c=null)})})}}:{}}function Cs(){return{before({doc:e,d:t}){t.style(e.documentElement,"overflow","hidden")}}}function Ps(e){let t={};for(let n of e)Object.assign(t,n(t));return t}let _e=Ls(()=>new Map,{PUSH(e,t){var n;let a=(n=this.get(e))!=null?n:{doc:e,count:0,d:Re(),meta:new Set};return a.count++,a.meta.add(t),this.set(e,a),this},POP(e,t){let n=this.get(e);return n&&(n.count--,n.meta.delete(t)),this},SCROLL_PREVENT({doc:e,d:t,meta:n}){let a={doc:e,d:t,meta:Ps(n)},i=[$s(),Rs(),Cs()];i.forEach(({before:o})=>o==null?void 0:o(a)),i.forEach(({after:o})=>o==null?void 0:o(a))},SCROLL_ALLOW({d:e}){e.dispose()},TEARDOWN({doc:e}){this.delete(e)}});_e.subscribe(()=>{let e=_e.getSnapshot(),t=new Map;for(let[n]of e)t.set(n,n.documentElement.style.overflow);for(let n of e.values()){let a=t.get(n.doc)==="hidden",i=n.count!==0;(i&&!a||!i&&a)&&_e.dispatch(n.count>0?"SCROLL_PREVENT":"SCROLL_ALLOW",n),n.count===0&&_e.dispatch("TEARDOWN",n)}});function As(e,t,n){let a=Ss(_e),i=e?a.get(e):void 0,o=i?i.count>0:!1;return te(()=>{if(!(!e||!t))return _e.dispatch("PUSH",e,n),()=>_e.dispatch("POP",e,n)},[t,e]),o}let kt=new Map,Fe=new Map;function tr(e,t=!0){te(()=>{var n;if(!t)return;let a=typeof e=="function"?e():e.current;if(!a)return;function i(){var c;if(!a)return;let l=(c=Fe.get(a))!=null?c:1;if(l===1?Fe.delete(a):Fe.set(a,l-1),l!==1)return;let d=kt.get(a);d&&(d["aria-hidden"]===null?a.removeAttribute("aria-hidden"):a.setAttribute("aria-hidden",d["aria-hidden"]),a.inert=d.inert,kt.delete(a))}let o=(n=Fe.get(a))!=null?n:0;return Fe.set(a,o+1),o!==0||(kt.set(a,{"aria-hidden":a.getAttribute("aria-hidden"),inert:a.inert}),a.setAttribute("aria-hidden","true"),a.inert=!0),i},[e,t])}function Ts({defaultContainers:e=[],portals:t,mainTreeNodeRef:n}={}){var a;let i=s.useRef((a=n==null?void 0:n.current)!=null?a:null),o=ze(i),c=M(()=>{var l,d,u;let m=[];for(let f of e)f!==null&&(f instanceof HTMLElement?m.push(f):"current"in f&&f.current instanceof HTMLElement&&m.push(f.current));if(t!=null&&t.current)for(let f of t.current)m.push(f);for(let f of(l=o==null?void 0:o.querySelectorAll("html > *, body > *"))!=null?l:[])f!==document.body&&f!==document.head&&f instanceof HTMLElement&&f.id!=="headlessui-portal-root"&&(f.contains(i.current)||f.contains((u=(d=i.current)==null?void 0:d.getRootNode())==null?void 0:u.host)||m.some(h=>f.contains(h))||m.push(f));return m});return{resolveContainers:c,contains:M(l=>c().some(d=>d.contains(l))),mainTreeNodeRef:i,MainTreeNode:s.useMemo(()=>function(){return n!=null?null:L.createElement(Tt,{features:it.Hidden,ref:i})},[i,n])}}let Gt=s.createContext(()=>{});Gt.displayName="StackContext";var Ot=(e=>(e[e.Add=0]="Add",e[e.Remove=1]="Remove",e))(Ot||{});function Ds(){return s.useContext(Gt)}function Is({children:e,onUpdate:t,type:n,element:a,enabled:i}){let o=Ds(),c=M((...l)=>{t==null||t(...l),o(...l)});return te(()=>{let l=i===void 0||i===!0;return l&&c(0,n,a),()=>{l&&c(1,n,a)}},[c,n,a,i]),L.createElement(Gt.Provider,{value:c},e)}let Kr=s.createContext(null);function en(){let e=s.useContext(Kr);if(e===null){let t=new Error("You used a <Description /> component, but it is not inside a relevant parent.");throw Error.captureStackTrace&&Error.captureStackTrace(t,en),t}return e}function Ms(){let[e,t]=s.useState([]);return[e.length>0?e.join(" "):void 0,s.useMemo(()=>function(n){let a=M(o=>(t(c=>[...c,o]),()=>t(c=>{let l=c.slice(),d=l.indexOf(o);return d!==-1&&l.splice(d,1),l}))),i=s.useMemo(()=>({register:a,slot:n.slot,name:n.name,props:n.props}),[a,n.slot,n.name,n.props]);return L.createElement(Kr.Provider,{value:i},n.children)},[t])]}let Os="p";function Fs(e,t){let n=Ie(),{id:a=`headlessui-description-${n}`,...i}=e,o=en(),c=ne(t);te(()=>o.register(a),[a,o.register]);let l={ref:c,...o.props,id:a};return re({ourProps:l,theirProps:i,slot:o.slot||{},defaultTag:Os,name:o.name||"Description"})}let Vs=J(Fs),Bs=Object.assign(Vs,{});var Us=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(Us||{}),Zs=(e=>(e[e.SetTitleId=0]="SetTitleId",e))(Zs||{});let Hs={0(e,t){return e.titleId===t.id?e:{...e,titleId:t.id}}},lt=s.createContext(null);lt.displayName="DialogContext";function Ye(e){let t=s.useContext(lt);if(t===null){let n=new Error(`<${e} /> is missing a parent <Dialog /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,Ye),n}return t}function Ws(e,t,n=()=>[document.body]){As(e,t,a=>{var i;return{containers:[...(i=a.containers)!=null?i:[],n]}})}function Gs(e,t){return W(t.type,Hs,e,t)}let zs="div",qs=ot.RenderStrategy|ot.Static;function Ys(e,t){let n=Ie(),{id:a=`headlessui-dialog-${n}`,open:i,onClose:o,initialFocus:c,role:l="dialog",__demoMode:d=!1,...u}=e,[m,f]=s.useState(0),h=s.useRef(!1);l=function(){return l==="dialog"||l==="alertdialog"?l:(h.current||(h.current=!0,console.warn(`Invalid role [${l}] passed to <Dialog />. Only \`dialog\` and and \`alertdialog\` are supported. Using \`dialog\` instead.`)),"dialog")}();let p=Wt();i===void 0&&p!==null&&(i=(p&Q.Open)===Q.Open);let g=s.useRef(null),x=ne(g,t),v=ze(g),P=e.hasOwnProperty("open")||p!==null,O=e.hasOwnProperty("onClose");if(!P&&!O)throw new Error("You have to provide an `open` and an `onClose` prop to the `Dialog` component.");if(!P)throw new Error("You provided an `onClose` prop to the `Dialog`, but forgot an `open` prop.");if(!O)throw new Error("You provided an `open` prop to the `Dialog`, but forgot an `onClose` prop.");if(typeof i!="boolean")throw new Error(`You provided an \`open\` prop to the \`Dialog\`, but the value is not a boolean. Received: ${i}`);if(typeof o!="function")throw new Error(`You provided an \`onClose\` prop to the \`Dialog\`, but the value is not a function. Received: ${o}`);let E=i?0:1,[w,S]=s.useReducer(Gs,{titleId:null,descriptionId:null,panelRef:s.createRef()}),j=M(()=>o(!1)),C=M(V=>S({type:0,id:V})),A=De()?d?!1:E===0:!1,D=m>1,F=s.useContext(lt)!==null,[G,U]=ms(),z={get current(){var V;return(V=w.panelRef.current)!=null?V:g.current}},{resolveContainers:B,mainTreeNodeRef:Z,MainTreeNode:X}=Ts({portals:G,defaultContainers:[z]}),K=D?"parent":"leaf",ye=p!==null?(p&Q.Closing)===Q.Closing:!1,$e=(()=>F||ye?!1:A)(),se=s.useCallback(()=>{var V,ie;return(ie=Array.from((V=v==null?void 0:v.querySelectorAll("body > *"))!=null?V:[]).find(ee=>ee.id==="headlessui-portal-root"?!1:ee.contains(Z.current)&&ee instanceof HTMLElement))!=null?ie:null},[Z]);tr(se,$e);let y=(()=>D?!0:A)(),R=s.useCallback(()=>{var V,ie;return(ie=Array.from((V=v==null?void 0:v.querySelectorAll("[data-headlessui-portal]"))!=null?V:[]).find(ee=>ee.contains(Z.current)&&ee instanceof HTMLElement))!=null?ie:null},[Z]);tr(R,y);let I=(()=>!(!A||D))();Za(B,V=>{V.preventDefault(),j()},I);let _=(()=>!(D||E!==0))();Gr(v==null?void 0:v.defaultView,"keydown",V=>{_&&(V.defaultPrevented||V.key===Wr.Escape&&(V.preventDefault(),V.stopPropagation(),j()))});let oe=(()=>!(ye||E!==0||F))();Ws(v,oe,B),s.useEffect(()=>{if(E!==0||!g.current)return;let V=new ResizeObserver(ie=>{for(let ee of ie){let Qe=ee.target.getBoundingClientRect();Qe.x===0&&Qe.y===0&&Qe.width===0&&Qe.height===0&&j()}});return V.observe(g.current),()=>V.disconnect()},[E,g,j]);let[ae,je]=Ms(),ke=s.useMemo(()=>[{dialogState:E,close:j,setTitleId:C},w],[E,w,j,C]),qt=s.useMemo(()=>({open:E===0}),[E]),xn={ref:x,id:a,role:l,"aria-modal":E===0?!0:void 0,"aria-labelledby":w.titleId,"aria-describedby":ae};return L.createElement(Is,{type:"Dialog",enabled:E===0,element:g,onUpdate:M((V,ie)=>{ie==="Dialog"&&W(V,{[Ot.Add]:()=>f(ee=>ee+1),[Ot.Remove]:()=>f(ee=>ee-1)})})},L.createElement(Dt,{force:!0},L.createElement(Mt,null,L.createElement(lt.Provider,{value:ke},L.createElement(Mt.Group,{target:g},L.createElement(Dt,{force:!1},L.createElement(je,{slot:qt,name:"Dialog.Description"},L.createElement(Oe,{initialFocus:c,containers:B,features:A?W(K,{parent:Oe.features.RestoreFocus,leaf:Oe.features.All&~Oe.features.FocusLock}):Oe.features.None},L.createElement(U,null,re({ourProps:xn,theirProps:u,slot:qt,defaultTag:zs,features:qs,visible:E===0,name:"Dialog"}))))))))),L.createElement(X,null))}let Qs="div";function Js(e,t){let n=Ie(),{id:a=`headlessui-dialog-overlay-${n}`,...i}=e,[{dialogState:o,close:c}]=Ye("Dialog.Overlay"),l=ne(t),d=M(m=>{if(m.target===m.currentTarget){if(Qa(m.currentTarget))return m.preventDefault();m.preventDefault(),m.stopPropagation(),c()}}),u=s.useMemo(()=>({open:o===0}),[o]);return re({ourProps:{ref:l,id:a,"aria-hidden":!0,onClick:d},theirProps:i,slot:u,defaultTag:Qs,name:"Dialog.Overlay"})}let Xs="div";function Ks(e,t){let n=Ie(),{id:a=`headlessui-dialog-backdrop-${n}`,...i}=e,[{dialogState:o},c]=Ye("Dialog.Backdrop"),l=ne(t);s.useEffect(()=>{if(c.panelRef.current===null)throw new Error("A <Dialog.Backdrop /> component is being used, but a <Dialog.Panel /> component is missing.")},[c.panelRef]);let d=s.useMemo(()=>({open:o===0}),[o]);return L.createElement(Dt,{force:!0},L.createElement(Mt,null,re({ourProps:{ref:l,id:a,"aria-hidden":!0},theirProps:i,slot:d,defaultTag:Xs,name:"Dialog.Backdrop"})))}let eo="div";function to(e,t){let n=Ie(),{id:a=`headlessui-dialog-panel-${n}`,...i}=e,[{dialogState:o},c]=Ye("Dialog.Panel"),l=ne(t,c.panelRef),d=s.useMemo(()=>({open:o===0}),[o]),u=M(m=>{m.stopPropagation()});return re({ourProps:{ref:l,id:a,onClick:u},theirProps:i,slot:d,defaultTag:eo,name:"Dialog.Panel"})}let ro="h2";function no(e,t){let n=Ie(),{id:a=`headlessui-dialog-title-${n}`,...i}=e,[{dialogState:o,setTitleId:c}]=Ye("Dialog.Title"),l=ne(t);s.useEffect(()=>(c(a),()=>c(null)),[a,c]);let d=s.useMemo(()=>({open:o===0}),[o]);return re({ourProps:{ref:l,id:a},theirProps:i,slot:d,defaultTag:ro,name:"Dialog.Title"})}let ao=J(Ys),so=J(Ks),oo=J(to),io=J(Js),lo=J(no),ct=Object.assign(ao,{Backdrop:so,Panel:oo,Overlay:io,Title:lo,Description:Bs});function co(e=0){let[t,n]=s.useState(e),a=qe(),i=s.useCallback(d=>{a.current&&n(u=>u|d)},[t,a]),o=s.useCallback(d=>!!(t&d),[t]),c=s.useCallback(d=>{a.current&&n(u=>u&~d)},[n,a]),l=s.useCallback(d=>{a.current&&n(u=>u^d)},[n]);return{flags:t,addFlag:i,hasFlag:o,removeFlag:c,toggleFlag:l}}function uo(e){let t={called:!1};return(...n)=>{if(!t.called)return t.called=!0,e(...n)}}function Et(e,...t){e&&t.length>0&&e.classList.add(...t)}function Nt(e,...t){e&&t.length>0&&e.classList.remove(...t)}function mo(e,t){let n=Re();if(!e)return n.dispose;let{transitionDuration:a,transitionDelay:i}=getComputedStyle(e),[o,c]=[a,i].map(d=>{let[u=0]=d.split(",").filter(Boolean).map(m=>m.includes("ms")?parseFloat(m):parseFloat(m)*1e3).sort((m,f)=>f-m);return u}),l=o+c;if(l!==0){n.group(u=>{u.setTimeout(()=>{t(),u.dispose()},l),u.addEventListener(e,"transitionrun",m=>{m.target===m.currentTarget&&u.dispose()})});let d=n.addEventListener(e,"transitionend",u=>{u.target===u.currentTarget&&(t(),d())})}else t();return n.add(()=>t()),n.dispose}function fo(e,t,n,a){let i=n?"enter":"leave",o=Re(),c=a!==void 0?uo(a):()=>{};i==="enter"&&(e.removeAttribute("hidden"),e.style.display="");let l=W(i,{enter:()=>t.enter,leave:()=>t.leave}),d=W(i,{enter:()=>t.enterTo,leave:()=>t.leaveTo}),u=W(i,{enter:()=>t.enterFrom,leave:()=>t.leaveFrom});return Nt(e,...t.base,...t.enter,...t.enterTo,...t.enterFrom,...t.leave,...t.leaveFrom,...t.leaveTo,...t.entered),Et(e,...t.base,...l,...u),o.nextFrame(()=>{Nt(e,...t.base,...l,...u),Et(e,...t.base,...l,...d),mo(e,()=>(Nt(e,...t.base,...l),Et(e,...t.base,...t.entered),c()))}),o.dispose}function ho({immediate:e,container:t,direction:n,classes:a,onStart:i,onStop:o}){let c=qe(),l=Ut(),d=de(n);te(()=>{e&&(d.current="enter")},[e]),te(()=>{let u=Re();l.add(u.dispose);let m=t.current;if(m&&d.current!=="idle"&&c.current)return u.dispose(),i.current(d.current),u.add(fo(m,a.current,d.current==="enter",()=>{u.dispose(),o.current(d.current)})),u.dispose},[n])}function fe(e=""){return e.split(/\s+/).filter(t=>t.length>1)}let gt=s.createContext(null);gt.displayName="TransitionContext";var go=(e=>(e.Visible="visible",e.Hidden="hidden",e))(go||{});function po(){let e=s.useContext(gt);if(e===null)throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return e}function xo(){let e=s.useContext(pt);if(e===null)throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return e}let pt=s.createContext(null);pt.displayName="NestingContext";function xt(e){return"children"in e?xt(e.children):e.current.filter(({el:t})=>t.current!==null).filter(({state:t})=>t==="visible").length>0}function tn(e,t){let n=de(e),a=s.useRef([]),i=qe(),o=Ut(),c=M((p,g=pe.Hidden)=>{let x=a.current.findIndex(({el:v})=>v===p);x!==-1&&(W(g,{[pe.Unmount](){a.current.splice(x,1)},[pe.Hidden](){a.current[x].state="hidden"}}),o.microTask(()=>{var v;!xt(a)&&i.current&&((v=n.current)==null||v.call(n))}))}),l=M(p=>{let g=a.current.find(({el:x})=>x===p);return g?g.state!=="visible"&&(g.state="visible"):a.current.push({el:p,state:"visible"}),()=>c(p,pe.Unmount)}),d=s.useRef([]),u=s.useRef(Promise.resolve()),m=s.useRef({enter:[],leave:[],idle:[]}),f=M((p,g,x)=>{d.current.splice(0),t&&(t.chains.current[g]=t.chains.current[g].filter(([v])=>v!==p)),t==null||t.chains.current[g].push([p,new Promise(v=>{d.current.push(v)})]),t==null||t.chains.current[g].push([p,new Promise(v=>{Promise.all(m.current[g].map(([P,O])=>O)).then(()=>v())})]),g==="enter"?u.current=u.current.then(()=>t==null?void 0:t.wait.current).then(()=>x(g)):x(g)}),h=M((p,g,x)=>{Promise.all(m.current[g].splice(0).map(([v,P])=>P)).then(()=>{var v;(v=d.current.shift())==null||v()}).then(()=>x(g))});return s.useMemo(()=>({children:a,register:l,unregister:c,onStart:f,onStop:h,wait:u,chains:m}),[l,c,a,f,h,m,u])}function vo(){}let bo=["beforeEnter","afterEnter","beforeLeave","afterLeave"];function rr(e){var t;let n={};for(let a of bo)n[a]=(t=e[a])!=null?t:vo;return n}function wo(e){let t=s.useRef(rr(e));return s.useEffect(()=>{t.current=rr(e)},[e]),t}let yo="div",rn=ot.RenderStrategy;function jo(e,t){var n,a;let{beforeEnter:i,afterEnter:o,beforeLeave:c,afterLeave:l,enter:d,enterFrom:u,enterTo:m,entered:f,leave:h,leaveFrom:p,leaveTo:g,...x}=e,v=s.useRef(null),P=ne(v,t),O=(n=x.unmount)==null||n?pe.Unmount:pe.Hidden,{show:E,appear:w,initial:S}=po(),[j,C]=s.useState(E?"visible":"hidden"),A=xo(),{register:D,unregister:F}=A;s.useEffect(()=>D(v),[D,v]),s.useEffect(()=>{if(O===pe.Hidden&&v.current){if(E&&j!=="visible"){C("visible");return}return W(j,{hidden:()=>F(v),visible:()=>D(v)})}},[j,v,D,F,E,O]);let G=de({base:fe(x.className),enter:fe(d),enterFrom:fe(u),enterTo:fe(m),entered:fe(f),leave:fe(h),leaveFrom:fe(p),leaveTo:fe(g)}),U=wo({beforeEnter:i,afterEnter:o,beforeLeave:c,afterLeave:l}),z=De();s.useEffect(()=>{if(z&&j==="visible"&&v.current===null)throw new Error("Did you forget to passthrough the `ref` to the actual DOM node?")},[v,j,z]);let B=S&&!w,Z=w&&E&&S,X=(()=>!z||B?"idle":E?"enter":"leave")(),K=co(0),ye=M(_=>W(_,{enter:()=>{K.addFlag(Q.Opening),U.current.beforeEnter()},leave:()=>{K.addFlag(Q.Closing),U.current.beforeLeave()},idle:()=>{}})),$e=M(_=>W(_,{enter:()=>{K.removeFlag(Q.Opening),U.current.afterEnter()},leave:()=>{K.removeFlag(Q.Closing),U.current.afterLeave()},idle:()=>{}})),se=tn(()=>{C("hidden"),F(v)},A),y=s.useRef(!1);ho({immediate:Z,container:v,classes:G,direction:X,onStart:de(_=>{y.current=!0,se.onStart(v,_,ye)}),onStop:de(_=>{y.current=!1,se.onStop(v,_,$e),_==="leave"&&!xt(se)&&(C("hidden"),F(v))})});let R=x,I={ref:P};return Z?R={...R,className:st(x.className,...G.current.enter,...G.current.enterFrom)}:y.current&&(R.className=st(x.className,(a=v.current)==null?void 0:a.className),R.className===""&&delete R.className),L.createElement(pt.Provider,{value:se},L.createElement(qa,{value:W(j,{visible:Q.Open,hidden:Q.Closed})|K.flags},re({ourProps:I,theirProps:R,defaultTag:yo,features:rn,visible:j==="visible",name:"Transition.Child"})))}function ko(e,t){let{show:n,appear:a=!1,unmount:i=!0,...o}=e,c=s.useRef(null),l=ne(c,t);De();let d=Wt();if(n===void 0&&d!==null&&(n=(d&Q.Open)===Q.Open),![!0,!1].includes(n))throw new Error("A <Transition /> is used but it is missing a `show={true | false}` prop.");let[u,m]=s.useState(n?"visible":"hidden"),f=tn(()=>{m("hidden")}),[h,p]=s.useState(!0),g=s.useRef([n]);te(()=>{h!==!1&&g.current[g.current.length-1]!==n&&(g.current.push(n),p(!1))},[g,n]);let x=s.useMemo(()=>({show:n,appear:a,initial:h}),[n,a,h]);s.useEffect(()=>{if(n)m("visible");else if(!xt(f))m("hidden");else{let E=c.current;if(!E)return;let w=E.getBoundingClientRect();w.x===0&&w.y===0&&w.width===0&&w.height===0&&m("hidden")}},[n,f]);let v={unmount:i},P=M(()=>{var E;h&&p(!1),(E=e.beforeEnter)==null||E.call(e)}),O=M(()=>{var E;h&&p(!1),(E=e.beforeLeave)==null||E.call(e)});return L.createElement(pt.Provider,{value:f},L.createElement(gt.Provider,{value:x},re({ourProps:{...v,as:s.Fragment,children:L.createElement(nn,{ref:l,...v,...o,beforeEnter:P,beforeLeave:O})},theirProps:{},defaultTag:s.Fragment,features:rn,visible:u==="visible",name:"Transition"})))}function Eo(e,t){let n=s.useContext(gt)!==null,a=Wt()!==null;return L.createElement(L.Fragment,null,!n&&a?L.createElement(Ft,{ref:t,...e}):L.createElement(nn,{ref:t,...e}))}let Ft=J(ko),nn=J(jo),No=J(Eo),xe=Object.assign(Ft,{Child:No,Root:Ft});function _o({title:e,titleId:t,...n},a){return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":t},n),e?s.createElement("title",{id:t},e):null,s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10.5 19.5 3 12m0 0 7.5-7.5M3 12h18"}))}const So=s.forwardRef(_o),Lo=So;function Ro({title:e,titleId:t,...n},a){return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":t},n),e?s.createElement("title",{id:t},e):null,s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 9V5.25A2.25 2.25 0 0 0 13.5 3h-6a2.25 2.25 0 0 0-2.25 2.25v13.5A2.25 2.25 0 0 0 7.5 21h6a2.25 2.25 0 0 0 2.25-2.25V15m3 0 3-3m0 0-3-3m3 3H9"}))}const $o=s.forwardRef(Ro),dt=$o;function Co({title:e,titleId:t,...n},a){return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":t},n),e?s.createElement("title",{id:t},e):null,s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25h16.5"}))}const Po=s.forwardRef(Co),an=Po;function Ao({title:e,titleId:t,...n},a){return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":t},n),e?s.createElement("title",{id:t},e):null,s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6.042A8.967 8.967 0 0 0 6 3.75c-1.052 0-2.062.18-3 .512v14.25A8.987 8.987 0 0 1 6 18c2.305 0 4.408.867 6 2.292m0-14.25a8.966 8.966 0 0 1 6-2.292c1.052 0 2.062.18 3 .512v14.25A8.987 8.987 0 0 0 18 18a8.967 8.967 0 0 0-6 2.292m0-14.25v14.25"}))}const To=s.forwardRef(Ao),Do=To;function Io({title:e,titleId:t,...n},a){return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":t},n),e?s.createElement("title",{id:t},e):null,s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 21h16.5M4.5 3h15M5.25 3v18m13.5-18v18M9 6.75h1.5m-1.5 3h1.5m-1.5 3h1.5m3-6H15m-1.5 3H15m-1.5 3H15M9 21v-3.375c0-.621.504-1.125 1.125-1.125h3.75c.621 0 1.125.504 1.125 1.125V21"}))}const Mo=s.forwardRef(Io),Oo=Mo;function Fo({title:e,titleId:t,...n},a){return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":t},n),e?s.createElement("title",{id:t},e):null,s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6.75 3v2.25M17.25 3v2.25M3 18.75V7.5a2.25 2.25 0 0 1 2.25-2.25h13.5A2.25 2.25 0 0 1 21 7.5v11.25m-18 0A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75m-18 0v-7.5A2.25 2.25 0 0 1 5.25 9h13.5A2.25 2.25 0 0 1 21 11.25v7.5m-9-6h.008v.008H12v-.008ZM12 15h.008v.008H12V15Zm0 2.25h.008v.008H12v-.008ZM9.75 15h.008v.008H9.75V15Zm0 2.25h.008v.008H9.75v-.008ZM7.5 15h.008v.008H7.5V15Zm0 2.25h.008v.008H7.5v-.008Zm6.75-4.5h.008v.008h-.008v-.008Zm0 2.25h.008v.008h-.008V15Zm0 2.25h.008v.008h-.008v-.008Zm2.25-4.5h.008v.008H16.5v-.008Zm0 2.25h.008v.008H16.5V15Z"}))}const Vo=s.forwardRef(Fo),zt=Vo;function Bo({title:e,titleId:t,...n},a){return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":t},n),e?s.createElement("title",{id:t},e):null,s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6.75 3v2.25M17.25 3v2.25M3 18.75V7.5a2.25 2.25 0 0 1 2.25-2.25h13.5A2.25 2.25 0 0 1 21 7.5v11.25m-18 0A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75m-18 0v-7.5A2.25 2.25 0 0 1 5.25 9h13.5A2.25 2.25 0 0 1 21 11.25v7.5"}))}const Uo=s.forwardRef(Bo),nr=Uo;function Zo({title:e,titleId:t,...n},a){return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":t},n),e?s.createElement("title",{id:t},e):null,s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M20.25 8.511c.884.284 1.5 1.128 1.5 2.097v4.286c0 1.136-.847 2.1-1.98 2.193-.34.027-.68.052-1.02.072v3.091l-3-3c-1.354 0-2.694-.055-4.02-.163a2.115 2.115 0 0 1-.825-.242m9.345-8.334a2.126 2.126 0 0 0-.476-.095 48.64 48.64 0 0 0-8.048 0c-1.131.094-1.976 1.057-1.976 2.192v4.286c0 .837.46 1.58 1.155 1.951m9.345-8.334V6.637c0-1.621-1.152-3.026-2.76-3.235A48.455 48.455 0 0 0 11.25 3c-2.115 0-4.198.137-6.24.402-1.608.209-2.76 1.614-2.76 3.235v6.226c0 1.621 1.152 3.026 2.76 3.235.577.075 1.157.14 1.74.194V21l4.155-4.155"}))}const Ho=s.forwardRef(Zo),Ae=Ho;function Wo({title:e,titleId:t,...n},a){return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":t},n),e?s.createElement("title",{id:t},e):null,s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75 11.25 15 15 9.75M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const Go=s.forwardRef(Wo),ar=Go;function zo({title:e,titleId:t,...n},a){return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":t},n),e?s.createElement("title",{id:t},e):null,s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m19.5 8.25-7.5 7.5-7.5-7.5"}))}const qo=s.forwardRef(zo),Yo=qo;function Qo({title:e,titleId:t,...n},a){return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":t},n),e?s.createElement("title",{id:t},e):null,s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.594 3.94c.09-.542.56-.94 1.11-.94h2.593c.55 0 1.02.398 1.11.94l.213 1.281c.063.374.313.686.645.87.074.04.147.083.22.127.325.196.72.257 1.075.124l1.217-.456a1.125 1.125 0 0 1 1.37.49l1.296 2.247a1.125 1.125 0 0 1-.26 1.431l-1.003.827c-.293.241-.438.613-.43.992a7.723 7.723 0 0 1 0 .255c-.008.378.137.75.43.991l1.004.827c.424.35.534.955.26 1.43l-1.298 2.247a1.125 1.125 0 0 1-1.369.491l-1.217-.456c-.355-.133-.75-.072-1.076.124a6.47 6.47 0 0 1-.22.128c-.331.183-.581.495-.644.869l-.213 1.281c-.09.543-.56.94-1.11.94h-2.594c-.55 0-1.019-.398-1.11-.94l-.213-1.281c-.062-.374-.312-.686-.644-.87a6.52 6.52 0 0 1-.22-.127c-.325-.196-.72-.257-1.076-.124l-1.217.456a1.125 1.125 0 0 1-1.369-.49l-1.297-2.247a1.125 1.125 0 0 1 .26-1.431l1.004-.827c.292-.24.437-.613.43-.991a6.932 6.932 0 0 1 0-.255c.007-.38-.138-.751-.43-.992l-1.004-.827a1.125 1.125 0 0 1-.26-1.43l1.297-2.247a1.125 1.125 0 0 1 1.37-.491l1.216.456c.356.133.751.072 1.076-.124.072-.044.146-.086.22-.128.332-.183.582-.495.644-.869l.214-1.28Z"}),s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"}))}const Jo=s.forwardRef(Qo),Xo=Jo;function Ko({title:e,titleId:t,...n},a){return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":t},n),e?s.createElement("title",{id:t},e):null,s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6.75a.75.75 0 1 1 0-1.5.75.75 0 0 1 0 1.5ZM12 12.75a.75.75 0 1 1 0-1.5.75.75 0 0 1 0 1.5ZM12 18.75a.75.75 0 1 1 0-1.5.75.75 0 0 1 0 1.5Z"}))}const ei=s.forwardRef(Ko),ti=ei;function ri({title:e,titleId:t,...n},a){return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":t},n),e?s.createElement("title",{id:t},e):null,s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.362 5.214A8.252 8.252 0 0 1 12 21 8.25 8.25 0 0 1 6.038 7.047 8.287 8.287 0 0 0 9 9.601a8.983 8.983 0 0 1 3.361-6.867 8.21 8.21 0 0 0 3 2.48Z"}),s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 18a3.75 3.75 0 0 0 .495-7.468 5.99 5.99 0 0 0-1.925 3.547 5.975 5.975 0 0 1-2.133-1.001A3.75 3.75 0 0 0 12 18Z"}))}const ni=s.forwardRef(ri),ai=ni;function si({title:e,titleId:t,...n},a){return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":t},n),e?s.createElement("title",{id:t},e):null,s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21 8.25c0-2.485-2.099-4.5-4.688-4.5-1.935 0-3.597 1.126-4.312 2.733-.715-1.607-2.377-2.733-4.313-2.733C5.1 3.75 3 5.765 3 8.25c0 7.22 9 12 9 12s9-4.78 9-12Z"}))}const oi=s.forwardRef(si),He=oi;function ii({title:e,titleId:t,...n},a){return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":t},n),e?s.createElement("title",{id:t},e):null,s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m2.25 12 8.954-8.955c.44-.439 1.152-.439 1.591 0L21.75 12M4.5 9.75v10.125c0 .621.504 1.125 1.125 1.125H9.75v-4.875c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125V21h4.125c.621 0 1.125-.504 1.125-1.125V9.75M8.25 21h8.25"}))}const li=s.forwardRef(ii),ci=li;function di({title:e,titleId:t,...n},a){return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":t},n),e?s.createElement("title",{id:t},e):null,s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 10.5a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"}),s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 10.5c0 7.142-7.5 11.25-7.5 11.25S4.5 17.642 4.5 10.5a7.5 7.5 0 1 1 15 0Z"}))}const ui=s.forwardRef(di),Ue=ui;function mi({title:e,titleId:t,...n},a){return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":t},n),e?s.createElement("title",{id:t},e):null,s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21.752 15.002A9.72 9.72 0 0 1 18 15.75c-5.385 0-9.75-4.365-9.75-9.75 0-1.33.266-2.597.748-3.752A9.753 9.753 0 0 0 3 11.25C3 16.635 7.365 21 12.75 21a9.753 9.753 0 0 0 9.002-5.998Z"}))}const fi=s.forwardRef(mi),sn=fi;function hi({title:e,titleId:t,...n},a){return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":t},n),e?s.createElement("title",{id:t},e):null,s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 12 3.269 3.125A59.769 59.769 0 0 1 21.485 12 59.768 59.768 0 0 1 3.27 20.875L5.999 12Zm0 0h7.5"}))}const gi=s.forwardRef(hi),pi=gi;function xi({title:e,titleId:t,...n},a){return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":t},n),e?s.createElement("title",{id:t},e):null,s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 4.875c0-.621.504-1.125 1.125-1.125h4.5c.621 0 1.125.504 1.125 1.125v4.5c0 .621-.504 1.125-1.125 1.125h-4.5A1.125 1.125 0 0 1 3.75 9.375v-4.5ZM3.75 14.625c0-.621.504-1.125 1.125-1.125h4.5c.621 0 1.125.504 1.125 1.125v4.5c0 .621-.504 1.125-1.125 1.125h-4.5a1.125 1.125 0 0 1-1.125-1.125v-4.5ZM13.5 4.875c0-.621.504-1.125 1.125-1.125h4.5c.621 0 1.125.504 1.125 1.125v4.5c0 .621-.504 1.125-1.125 1.125h-4.5A1.125 1.125 0 0 1 13.5 9.375v-4.5Z"}),s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6.75 6.75h.75v.75h-.75v-.75ZM6.75 16.5h.75v.75h-.75v-.75ZM16.5 6.75h.75v.75h-.75v-.75ZM13.5 13.5h.75v.75h-.75v-.75ZM13.5 19.5h.75v.75h-.75v-.75ZM19.5 13.5h.75v.75h-.75v-.75ZM19.5 19.5h.75v.75h-.75v-.75ZM16.5 16.5h.75v.75h-.75v-.75Z"}))}const vi=s.forwardRef(xi),bi=vi;function wi({title:e,titleId:t,...n},a){return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":t},n),e?s.createElement("title",{id:t},e):null,s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75 11.25 15 15 9.75m-3-7.036A11.959 11.959 0 0 1 3.598 6 11.99 11.99 0 0 0 3 9.749c0 5.592 3.824 10.29 9 11.623 5.176-1.332 9-6.03 9-11.622 0-1.31-.21-2.571-.598-3.751h-.152c-3.196 0-6.1-1.248-8.25-3.285Z"}))}const yi=s.forwardRef(wi),ji=yi;function ki({title:e,titleId:t,...n},a){return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":t},n),e?s.createElement("title",{id:t},e):null,s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.813 15.904 9 18.75l-.813-2.846a4.5 4.5 0 0 0-3.09-3.09L2.25 12l2.846-.813a4.5 4.5 0 0 0 3.09-3.09L9 5.25l.813 2.846a4.5 4.5 0 0 0 3.09 3.09L15.75 12l-2.846.813a4.5 4.5 0 0 0-3.09 3.09ZM18.259 8.715 18 9.75l-.259-1.035a3.375 3.375 0 0 0-2.455-2.456L14.25 6l1.036-.259a3.375 3.375 0 0 0 2.455-2.456L18 2.25l.259 1.035a3.375 3.375 0 0 0 2.456 2.456L21.75 6l-1.035.259a3.375 3.375 0 0 0-2.456 2.456ZM16.894 20.567 16.5 21.75l-.394-1.183a2.25 2.25 0 0 0-1.423-1.423L13.5 18.75l1.183-.394a2.25 2.25 0 0 0 1.423-1.423l.394-1.183.394 1.183a2.25 2.25 0 0 0 1.423 1.423l1.183.394-1.183.394a2.25 2.25 0 0 0-1.423 1.423Z"}))}const Ei=s.forwardRef(ki),on=Ei;function Ni({title:e,titleId:t,...n},a){return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":t},n),e?s.createElement("title",{id:t},e):null,s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M11.48 3.499a.562.562 0 0 1 1.04 0l2.125 5.111a.563.563 0 0 0 .475.345l5.518.442c.499.04.701.663.321.988l-4.204 3.602a.563.563 0 0 0-.182.557l1.285 5.385a.562.562 0 0 1-.84.61l-4.725-2.885a.562.562 0 0 0-.586 0L6.982 20.54a.562.562 0 0 1-.84-.61l1.285-5.386a.562.562 0 0 0-.182-.557l-4.204-3.602a.562.562 0 0 1 .321-.988l5.518-.442a.563.563 0 0 0 .475-.345L11.48 3.5Z"}))}const _i=s.forwardRef(Ni),Si=_i;function Li({title:e,titleId:t,...n},a){return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":t},n),e?s.createElement("title",{id:t},e):null,s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 3v2.25m6.364.386-1.591 1.591M21 12h-2.25m-.386 6.364-1.591-1.591M12 18.75V21m-4.773-4.227-1.591 1.591M5.25 12H3m4.227-4.773L5.636 5.636M15.75 12a3.75 3.75 0 1 1-7.5 0 3.75 3.75 0 0 1 7.5 0Z"}))}const Ri=s.forwardRef(Li),$i=Ri;function Ci({title:e,titleId:t,...n},a){return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":t},n),e?s.createElement("title",{id:t},e):null,s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.5 18.75h-9m9 0a3 3 0 0 1 3 3h-15a3 3 0 0 1 3-3m9 0v-3.375c0-.621-.503-1.125-1.125-1.125h-.871M7.5 18.75v-3.375c0-.621.504-1.125 1.125-1.125h.872m5.007 0H9.497m5.007 0a7.454 7.454 0 0 1-.982-3.172M9.497 14.25a7.454 7.454 0 0 0 .981-3.172M5.25 4.236c-.982.143-1.954.317-2.916.52A6.003 6.003 0 0 0 7.73 9.728M5.25 4.236V4.5c0 2.108.966 3.99 2.48 5.228M5.25 4.236V2.721C7.456 2.41 9.71 2.25 12 2.25c2.291 0 4.545.16 6.75.47v1.516M7.73 9.728a6.726 6.726 0 0 0 2.748 1.35m8.272-6.842V4.5c0 2.108-.966 3.99-2.48 5.228m2.48-5.492a46.32 46.32 0 0 1 2.916.52 6.003 6.003 0 0 1-5.395 4.972m0 0a6.726 6.726 0 0 1-2.749 1.35m0 0a6.772 6.772 0 0 1-3.044 0"}))}const Pi=s.forwardRef(Ci),Ai=Pi;function Ti({title:e,titleId:t,...n},a){return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":t},n),e?s.createElement("title",{id:t},e):null,s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M17.982 18.725A7.488 7.488 0 0 0 12 15.75a7.488 7.488 0 0 0-5.982 2.975m11.963 0a9 9 0 1 0-11.963 0m11.963 0A8.966 8.966 0 0 1 12 21a8.966 8.966 0 0 1-5.982-2.275M15 9.75a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"}))}const Di=s.forwardRef(Ti),Vt=Di;function Ii({title:e,titleId:t,...n},a){return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":t},n),e?s.createElement("title",{id:t},e):null,s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M18 18.72a9.094 9.094 0 0 0 3.741-.479 3 3 0 0 0-4.682-2.72m.94 3.198.001.031c0 .225-.012.447-.037.666A11.944 11.944 0 0 1 12 21c-2.17 0-4.207-.576-5.963-1.584A6.062 6.062 0 0 1 6 18.719m12 0a5.971 5.971 0 0 0-.941-3.197m0 0A5.995 5.995 0 0 0 12 12.75a5.995 5.995 0 0 0-5.058 2.772m0 0a3 3 0 0 0-4.681 2.72 8.986 8.986 0 0 0 3.74.477m.94-3.197a5.971 5.971 0 0 0-.94 3.197M15 6.75a3 3 0 1 1-6 0 3 3 0 0 1 6 0Zm6 3a2.25 2.25 0 1 1-4.5 0 2.25 2.25 0 0 1 4.5 0Zm-13.5 0a2.25 2.25 0 1 1-4.5 0 2.25 2.25 0 0 1 4.5 0Z"}))}const Mi=s.forwardRef(Ii),sr=Mi;function Oi({title:e,titleId:t,...n},a){return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":t},n),e?s.createElement("title",{id:t},e):null,s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M18 7.5v3m0 0v3m0-3h3m-3 0h-3m-2.25-4.125a3.375 3.375 0 1 1-6.75 0 3.375 3.375 0 0 1 6.75 0ZM3 19.235v-.11a6.375 6.375 0 0 1 12.75 0v.109A12.318 12.318 0 0 1 9.374 21c-2.331 0-4.512-.645-6.374-1.766Z"}))}const Fi=s.forwardRef(Oi),Vi=Fi;function Bi({title:e,titleId:t,...n},a){return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":t},n),e?s.createElement("title",{id:t},e):null,s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18 18 6M6 6l12 12"}))}const Ui=s.forwardRef(Bi),We=Ui;function Zi({title:e,titleId:t,...n},a){return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":t},n),e?s.createElement("title",{id:t},e):null,s.createElement("path",{d:"M12.75 12.75a.75.75 0 1 1-1.5 0 .75.75 0 0 1 1.5 0ZM7.5 15.75a.75.75 0 1 0 0-1.5.75.75 0 0 0 0 1.5ZM8.25 17.25a.75.75 0 1 1-1.5 0 .75.75 0 0 1 1.5 0ZM9.75 15.75a.75.75 0 1 0 0-1.5.75.75 0 0 0 0 1.5ZM10.5 17.25a.75.75 0 1 1-1.5 0 .75.75 0 0 1 1.5 0ZM12 15.75a.75.75 0 1 0 0-1.5.75.75 0 0 0 0 1.5ZM12.75 17.25a.75.75 0 1 1-1.5 0 .75.75 0 0 1 1.5 0ZM14.25 15.75a.75.75 0 1 0 0-1.5.75.75 0 0 0 0 1.5ZM15 17.25a.75.75 0 1 1-1.5 0 .75.75 0 0 1 1.5 0ZM16.5 15.75a.75.75 0 1 0 0-1.5.75.75 0 0 0 0 1.5ZM15 12.75a.75.75 0 1 1-1.5 0 .75.75 0 0 1 1.5 0ZM16.5 13.5a.75.75 0 1 0 0-1.5.75.75 0 0 0 0 1.5Z"}),s.createElement("path",{fillRule:"evenodd",d:"M6.75 2.25A.75.75 0 0 1 7.5 3v1.5h9V3A.75.75 0 0 1 18 3v1.5h.75a3 3 0 0 1 3 3v11.25a3 3 0 0 1-3 3H5.25a3 3 0 0 1-3-3V7.5a3 3 0 0 1 3-3H6V3a.75.75 0 0 1 .75-.75Zm13.5 9a1.5 1.5 0 0 0-1.5-1.5H5.25a1.5 1.5 0 0 0-1.5 1.5v7.5a1.5 1.5 0 0 0 1.5 1.5h13.5a1.5 1.5 0 0 0 1.5-1.5v-7.5Z",clipRule:"evenodd"}))}const Hi=s.forwardRef(Zi),ln=Hi;function Wi({title:e,titleId:t,...n},a){return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":t},n),e?s.createElement("title",{id:t},e):null,s.createElement("path",{d:"M4.913 2.658c2.075-.27 4.19-.408 6.337-.408 2.147 0 4.262.139 6.337.408 1.922.25 3.291 1.861 3.405 3.727a4.403 4.403 0 0 0-1.032-.211 50.89 50.89 0 0 0-8.42 0c-2.358.196-4.04 2.19-4.04 4.434v4.286a4.47 4.47 0 0 0 2.433 3.984L7.28 21.53A.75.75 0 0 1 6 21v-4.03a48.527 48.527 0 0 1-1.087-.128C2.905 16.58 1.5 14.833 1.5 12.862V6.638c0-1.97 1.405-3.718 3.413-3.979Z"}),s.createElement("path",{d:"M15.75 7.5c-1.376 0-2.739.057-4.086.169C10.124 7.797 9 9.103 9 10.609v4.285c0 1.507 1.128 2.814 2.67 2.94 1.243.102 2.5.157 3.768.165l2.782 2.781a.75.75 0 0 0 1.28-.53v-2.39l.33-.026c1.542-.125 2.67-1.433 2.67-2.94v-4.286c0-1.505-1.125-2.811-2.664-2.94A49.392 49.392 0 0 0 15.75 7.5Z"}))}const Gi=s.forwardRef(Wi),zi=Gi;function qi({title:e,titleId:t,...n},a){return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":t},n),e?s.createElement("title",{id:t},e):null,s.createElement("path",{d:"M17.004 10.407c.138.435-.216.842-.672.842h-3.465a.75.75 0 0 1-.65-.375l-1.732-3c-.229-.396-.053-.907.393-1.004a5.252 5.252 0 0 1 6.126 3.537ZM8.12 8.464c.307-.338.838-.235 1.066.16l1.732 3a.75.75 0 0 1 0 .75l-1.732 3c-.229.397-.76.5-1.067.161A5.23 5.23 0 0 1 6.75 12a5.23 5.23 0 0 1 1.37-3.536ZM10.878 17.13c-.447-.098-.623-.608-.394-1.004l1.733-3.002a.75.75 0 0 1 .65-.375h3.465c.457 0 .81.407.672.842a5.252 5.252 0 0 1-6.126 3.539Z"}),s.createElement("path",{fillRule:"evenodd",d:"M21 12.75a.75.75 0 1 0 0-1.5h-.783a8.22 8.22 0 0 0-.237-1.357l.734-.267a.75.75 0 1 0-.513-1.41l-.735.268a8.24 8.24 0 0 0-.689-1.192l.6-.503a.75.75 0 1 0-.964-1.149l-.6.504a8.3 8.3 0 0 0-1.054-.885l.391-.678a.75.75 0 1 0-1.299-.75l-.39.676a8.188 8.188 0 0 0-1.295-.47l.136-.77a.75.75 0 0 0-1.477-.26l-.136.77a8.36 8.36 0 0 0-1.377 0l-.136-.77a.75.75 0 1 0-1.477.26l.136.77c-.448.121-.88.28-1.294.47l-.39-.676a.75.75 0 0 0-1.3.75l.392.678a8.29 8.29 0 0 0-1.054.885l-.6-.504a.75.75 0 1 0-.965 1.149l.6.503a8.243 8.243 0 0 0-.689 1.192L3.8 8.216a.75.75 0 1 0-.513 1.41l.735.267a8.222 8.222 0 0 0-.238 1.356h-.783a.75.75 0 0 0 0 1.5h.783c.042.464.122.917.238 1.356l-.735.268a.75.75 0 0 0 .513 1.41l.735-.268c.197.417.428.816.69 1.191l-.6.504a.75.75 0 0 0 .963 1.15l.601-.505c.326.323.679.62 1.054.885l-.392.68a.75.75 0 0 0 1.3.75l.39-.679c.414.192.847.35 1.294.471l-.136.77a.75.75 0 0 0 1.477.261l.137-.772a8.332 8.332 0 0 0 1.376 0l.136.772a.75.75 0 1 0 1.477-.26l-.136-.771a8.19 8.19 0 0 0 1.294-.47l.391.677a.75.75 0 0 0 1.3-.75l-.393-.679a8.29 8.29 0 0 0 1.054-.885l.601.504a.75.75 0 0 0 .964-1.15l-.6-.503c.261-.375.492-.774.69-1.191l.735.267a.75.75 0 1 0 .512-1.41l-.734-.267c.115-.439.195-.892.237-1.356h.784Zm-2.657-3.06a6.744 6.744 0 0 0-1.19-2.053 6.784 6.784 0 0 0-1.82-1.51A6.705 6.705 0 0 0 12 5.25a6.8 6.8 0 0 0-1.225.11 6.7 6.7 0 0 0-2.15.793 6.784 6.784 0 0 0-2.952 3.489.76.76 0 0 1-.036.098A6.74 6.74 0 0 0 5.251 12a6.74 6.74 0 0 0 3.366 5.842l.009.005a6.704 6.704 0 0 0 2.18.798l.022.003a6.792 6.792 0 0 0 2.368-.004 6.704 6.704 0 0 0 2.205-.811 6.785 6.785 0 0 0 1.762-1.484l.009-.01.009-.01a6.743 6.743 0 0 0 1.18-2.066c.253-.707.39-1.469.39-2.263a6.74 6.74 0 0 0-.408-2.309Z",clipRule:"evenodd"}))}const Yi=s.forwardRef(qi),Qi=Yi;function Ji({title:e,titleId:t,...n},a){return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":t},n),e?s.createElement("title",{id:t},e):null,s.createElement("path",{d:"m11.645 20.91-.007-.003-.022-.012a15.247 15.247 0 0 1-.383-.218 25.18 25.18 0 0 1-4.244-3.17C4.688 15.36 2.25 12.174 2.25 8.25 2.25 5.322 4.714 3 7.688 3A5.5 5.5 0 0 1 12 5.052 5.5 5.5 0 0 1 16.313 3c2.973 0 5.437 2.322 5.437 5.25 0 3.925-2.438 7.111-4.739 9.256a25.175 25.175 0 0 1-4.244 3.17 15.247 15.247 0 0 1-.383.219l-.022.012-.007.004-.003.001a.752.752 0 0 1-.704 0l-.003-.001Z"}))}const Xi=s.forwardRef(Ji),ue=Xi;function Ki({title:e,titleId:t,...n},a){return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":t},n),e?s.createElement("title",{id:t},e):null,s.createElement("path",{d:"M11.47 3.841a.75.75 0 0 1 1.06 0l8.69 8.69a.75.75 0 1 0 1.06-1.061l-8.689-8.69a2.25 2.25 0 0 0-3.182 0l-8.69 8.69a.75.75 0 1 0 1.061 1.06l8.69-8.689Z"}),s.createElement("path",{d:"m12 5.432 8.159 8.159c.03.03.06.058.091.086v6.198c0 1.035-.84 1.875-1.875 1.875H15a.75.75 0 0 1-.75-.75v-4.5a.75.75 0 0 0-.75-.75h-3a.75.75 0 0 0-.75.75V21a.75.75 0 0 1-.75.75H5.625a1.875 1.875 0 0 1-1.875-1.875v-6.198a2.29 2.29 0 0 0 .091-.086L12 5.432Z"}))}const el=s.forwardRef(Ki),cn=el;function tl({title:e,titleId:t,...n},a){return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":t},n),e?s.createElement("title",{id:t},e):null,s.createElement("path",{fillRule:"evenodd",d:"m11.54 22.351.07.04.028.016a.76.76 0 0 0 .723 0l.028-.015.071-.041a16.975 16.975 0 0 0 1.144-.742 19.58 19.58 0 0 0 2.683-2.282c1.944-1.99 3.963-4.98 3.963-8.827a8.25 8.25 0 0 0-16.5 0c0 3.846 2.02 6.837 3.963 8.827a19.58 19.58 0 0 0 2.682 2.282 16.975 16.975 0 0 0 1.145.742ZM12 13.5a3 3 0 1 0 0-6 3 3 0 0 0 0 6Z",clipRule:"evenodd"}))}const rl=s.forwardRef(tl),Te=rl;function nl({title:e,titleId:t,...n},a){return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":t},n),e?s.createElement("title",{id:t},e):null,s.createElement("path",{fillRule:"evenodd",d:"M3 4.875C3 3.839 3.84 3 4.875 3h4.5c1.036 0 1.875.84 1.875 1.875v4.5c0 1.036-.84 1.875-1.875 1.875h-4.5A1.875 1.875 0 0 1 3 9.375v-4.5ZM4.875 4.5a.375.375 0 0 0-.375.375v4.5c0 .207.168.375.375.375h4.5a.375.375 0 0 0 .375-.375v-4.5a.375.375 0 0 0-.375-.375h-4.5Zm7.875.375c0-1.036.84-1.875 1.875-1.875h4.5C20.16 3 21 3.84 21 4.875v4.5c0 1.036-.84 1.875-1.875 1.875h-4.5a1.875 1.875 0 0 1-1.875-1.875v-4.5Zm1.875-.375a.375.375 0 0 0-.375.375v4.5c0 .207.168.375.375.375h4.5a.375.375 0 0 0 .375-.375v-4.5a.375.375 0 0 0-.375-.375h-4.5ZM6 6.75A.75.75 0 0 1 6.75 6h.75a.75.75 0 0 1 .75.75v.75a.75.75 0 0 1-.75.75h-.75A.75.75 0 0 1 6 7.5v-.75Zm9.75 0A.75.75 0 0 1 16.5 6h.75a.75.75 0 0 1 .75.75v.75a.75.75 0 0 1-.75.75h-.75a.75.75 0 0 1-.75-.75v-.75ZM3 14.625c0-1.036.84-1.875 1.875-1.875h4.5c1.036 0 1.875.84 1.875 1.875v4.5c0 1.035-.84 1.875-1.875 1.875h-4.5A1.875 1.875 0 0 1 3 19.125v-4.5Zm1.875-.375a.375.375 0 0 0-.375.375v4.5c0 .207.168.375.375.375h4.5a.375.375 0 0 0 .375-.375v-4.5a.375.375 0 0 0-.375-.375h-4.5Zm7.875-.75a.75.75 0 0 1 .75-.75h.75a.75.75 0 0 1 .75.75v.75a.75.75 0 0 1-.75.75h-.75a.75.75 0 0 1-.75-.75v-.75Zm6 0a.75.75 0 0 1 .75-.75h.75a.75.75 0 0 1 .75.75v.75a.75.75 0 0 1-.75.75h-.75a.75.75 0 0 1-.75-.75v-.75ZM6 16.5a.75.75 0 0 1 .75-.75h.75a.75.75 0 0 1 .75.75v.75a.75.75 0 0 1-.75.75h-.75a.75.75 0 0 1-.75-.75v-.75Zm9.75 0a.75.75 0 0 1 .75-.75h.75a.75.75 0 0 1 .75.75v.75a.75.75 0 0 1-.75.75h-.75a.75.75 0 0 1-.75-.75v-.75Zm-3 3a.75.75 0 0 1 .75-.75h.75a.75.75 0 0 1 .75.75v.75a.75.75 0 0 1-.75.75h-.75a.75.75 0 0 1-.75-.75v-.75Zm6 0a.75.75 0 0 1 .75-.75h.75a.75.75 0 0 1 .75.75v.75a.75.75 0 0 1-.75.75h-.75a.75.75 0 0 1-.75-.75v-.75Z",clipRule:"evenodd"}))}const al=s.forwardRef(nl),sl=al;function ol({title:e,titleId:t,...n},a){return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":t},n),e?s.createElement("title",{id:t},e):null,s.createElement("path",{fillRule:"evenodd",d:"M8.25 6.75a3.75 3.75 0 1 1 7.5 0 3.75 3.75 0 0 1-7.5 0ZM15.75 9.75a3 3 0 1 1 6 0 3 3 0 0 1-6 0ZM2.25 9.75a3 3 0 1 1 6 0 3 3 0 0 1-6 0ZM6.31 15.117A6.745 6.745 0 0 1 12 12a6.745 6.745 0 0 1 6.709 7.498.75.75 0 0 1-.372.568A12.696 12.696 0 0 1 12 21.75c-2.305 0-4.47-.612-6.337-1.684a.75.75 0 0 1-.372-.568 6.787 6.787 0 0 1 1.019-4.38Z",clipRule:"evenodd"}),s.createElement("path",{d:"M5.082 14.254a8.287 8.287 0 0 0-1.308 5.135 9.687 9.687 0 0 1-1.764-.44l-.115-.04a.563.563 0 0 1-.373-.487l-.01-.121a3.75 3.75 0 0 1 3.57-4.047ZM20.226 19.389a8.287 8.287 0 0 0-1.308-5.135 3.75 3.75 0 0 1 3.57 4.047l-.01.121a.563.563 0 0 1-.373.486l-.115.04c-.567.2-1.156.349-1.764.441Z"}))}const il=s.forwardRef(ol),or=il,ll=e=>{const t=[{name:"Dashboard",href:"/dashboard",icon:cn},{name:"QR Scanner",href:"/scan",icon:sl},{name:"Gardens",href:"/gardens",icon:Te},{name:"Events",href:"/events",icon:ln}];return e==="admin"?[...t,{name:"Admin Panel",href:"/admin",icon:Qi},{name:"Manage Gardens",href:"/manage-gardens",icon:or},{name:"My Dogs",href:"/my-dogs",icon:ue},{name:"Check In",href:"/check-in",icon:Te}]:e==="garden_manager"?[...t,{name:"Manage Gardens",href:"/manage-gardens",icon:or},{name:"My Dogs",href:"/my-dogs",icon:ue},{name:"Check In",href:"/check-in",icon:Te}]:[...t,{name:"My Dogs",href:"/my-dogs",icon:ue},{name:"Check In",href:"/check-in",icon:Te}]};function et(...e){return e.filter(Boolean).join(" ")}const cl=()=>{var u,m,f,h,p,g;const{user:e,logout:t}=we(),n=ut(),a=ve(),i=s.useMemo(()=>ll(e==null?void 0:e.role),[e==null?void 0:e.role]),[o,c]=s.useState(!1),l=()=>{t(),n("/login")},d=x=>a.pathname===x;return r.jsxs(r.Fragment,{children:[r.jsx(xe.Root,{show:o,as:s.Fragment,children:r.jsxs(ct,{as:"div",className:"relative z-50 lg:hidden",onClose:c,children:[r.jsx(xe.Child,{as:s.Fragment,enter:"transition-opacity ease-linear duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"transition-opacity ease-linear duration-300",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:r.jsx("div",{className:"fixed inset-0 bg-gray-900/80"})}),r.jsx("div",{className:"fixed inset-0 flex",children:r.jsx(xe.Child,{as:s.Fragment,enter:"transition ease-in-out duration-300 transform",enterFrom:"-translate-x-full",enterTo:"translate-x-0",leave:"transition ease-in-out duration-300 transform",leaveFrom:"translate-x-0",leaveTo:"-translate-x-full",children:r.jsxs(ct.Panel,{className:"relative mr-16 flex w-full max-w-xs flex-1",children:[r.jsx(xe.Child,{as:s.Fragment,enter:"ease-in-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in-out duration-300",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:r.jsx("div",{className:"absolute left-full top-0 flex w-16 justify-center pt-5",children:r.jsxs("button",{type:"button",className:"-m-2.5 p-2.5",onClick:()=>c(!1),children:[r.jsx("span",{className:"sr-only",children:"Close sidebar"}),r.jsx(We,{className:"h-6 w-6 text-white","aria-hidden":"true"})]})})}),r.jsxs("div",{className:"flex grow flex-col gap-y-5 overflow-y-auto bg-white dark:bg-gray-800 px-6 pb-4",children:[r.jsx("div",{className:"flex h-16 shrink-0 items-center",children:r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-600 rounded-xl p-2",children:r.jsx(ue,{className:"h-6 w-6 text-white"})}),r.jsxs("div",{children:[r.jsx("h1",{className:"text-xl font-bold text-gray-900 dark:text-white",children:"PawPals"}),r.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 -mt-1",children:"Community"})]})]})}),r.jsx("nav",{className:"flex flex-1 flex-col",children:r.jsxs("ul",{role:"list",className:"flex flex-1 flex-col gap-y-7",children:[r.jsx("li",{children:r.jsx("ul",{role:"list",className:"-mx-2 space-y-1",children:i.map(x=>{const v=x.icon,P=d(x.href);return r.jsx("li",{children:r.jsxs(H,{to:x.href,className:et(P?"bg-blue-50 dark:bg-blue-900 text-blue-700 dark:text-blue-300":"text-gray-700 dark:text-gray-300 hover:text-blue-700 dark:hover:text-blue-300 hover:bg-blue-50 dark:hover:bg-gray-700","group flex gap-x-3 rounded-lg p-3 text-sm leading-6 font-semibold"),onClick:()=>c(!1),children:[r.jsx(v,{className:et(P?"text-blue-700 dark:text-blue-300":"text-gray-400 dark:text-gray-500 group-hover:text-blue-700 dark:group-hover:text-blue-300","h-6 w-6 shrink-0"),"aria-hidden":"true"}),x.name]})},x.name)})})}),r.jsx("li",{className:"mt-auto",children:r.jsxs("div",{className:"border-t border-gray-200 dark:border-gray-700 pt-4",children:[r.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[r.jsx("div",{className:"h-10 w-10 rounded-lg bg-gradient-to-r from-blue-600 to-indigo-600 flex items-center justify-center text-white font-semibold",children:((m=(u=e==null?void 0:e.firstName)==null?void 0:u[0])==null?void 0:m.toUpperCase())||"U"}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsxs("p",{className:"text-sm font-medium text-gray-900 dark:text-white truncate",children:[e==null?void 0:e.firstName," ",e==null?void 0:e.lastName]}),r.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 capitalize truncate",children:(f=e==null?void 0:e.role)==null?void 0:f.replace("_"," ")})]})]}),r.jsxs("div",{className:"space-y-1",children:[r.jsxs(H,{to:"/profile",className:"flex items-center gap-x-3 rounded-lg p-3 text-sm font-semibold text-gray-700 dark:text-gray-300 hover:text-blue-700 dark:hover:text-blue-300 hover:bg-blue-50 dark:hover:bg-gray-700 transition-colors",onClick:()=>c(!1),children:[r.jsx(Vt,{className:"h-5 w-5 text-gray-400 dark:text-gray-500"}),"Profile Settings"]}),r.jsxs("button",{onClick:()=>{l(),c(!1)},className:"flex items-center gap-x-3 rounded-lg p-3 text-sm font-semibold text-gray-700 dark:text-gray-300 hover:text-red-700 dark:hover:text-red-400 hover:bg-red-50 dark:hover:bg-red-900/20 transition-colors w-full text-left",children:[r.jsx(dt,{className:"h-5 w-5 text-gray-400 dark:text-gray-500"}),"Sign Out"]})]})]})})]})})]})]})})})]})}),r.jsx("div",{className:"hidden lg:fixed lg:inset-y-0 lg:z-50 lg:flex lg:w-72 lg:flex-col",children:r.jsxs("div",{className:"flex grow flex-col gap-y-5 overflow-y-auto bg-white dark:bg-gray-800 border-r border-gray-200 dark:border-gray-700 px-6 pb-4",children:[r.jsx("div",{className:"flex h-16 shrink-0 items-center",children:r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-600 rounded-xl p-2",children:r.jsx(ue,{className:"h-6 w-6 text-white"})}),r.jsxs("div",{children:[r.jsx("h1",{className:"text-xl font-bold text-gray-900 dark:text-white",children:"PawPals"}),r.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 -mt-1",children:"Community"})]})]})}),r.jsx("nav",{className:"flex flex-1 flex-col",children:r.jsxs("ul",{role:"list",className:"flex flex-1 flex-col gap-y-7",children:[r.jsx("li",{children:r.jsx("ul",{role:"list",className:"-mx-2 space-y-1",children:i.map(x=>{const v=x.icon,P=d(x.href);return r.jsx("li",{children:r.jsxs(H,{to:x.href,className:et(P?"bg-blue-50 dark:bg-blue-900 text-blue-700 dark:text-blue-300":"text-gray-700 dark:text-gray-300 hover:text-blue-700 dark:hover:text-blue-300 hover:bg-blue-50 dark:hover:bg-gray-700","group flex gap-x-3 rounded-lg p-3 text-sm leading-6 font-semibold transition-colors"),children:[r.jsx(v,{className:et(P?"text-blue-700 dark:text-blue-300":"text-gray-400 dark:text-gray-500 group-hover:text-blue-700 dark:group-hover:text-blue-300","h-6 w-6 shrink-0"),"aria-hidden":"true"}),x.name]})},x.name)})})}),r.jsx("li",{className:"mt-auto",children:r.jsxs("div",{className:"border-t border-gray-200 dark:border-gray-700 pt-4",children:[r.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[r.jsx("div",{className:"h-10 w-10 rounded-lg bg-gradient-to-r from-blue-600 to-indigo-600 flex items-center justify-center text-white font-semibold",children:((p=(h=e==null?void 0:e.firstName)==null?void 0:h[0])==null?void 0:p.toUpperCase())||"U"}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsxs("p",{className:"text-sm font-medium text-gray-900 dark:text-white truncate",children:[e==null?void 0:e.firstName," ",e==null?void 0:e.lastName]}),r.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 capitalize truncate",children:(g=e==null?void 0:e.role)==null?void 0:g.replace("_"," ")})]})]}),r.jsxs("div",{className:"space-y-1",children:[r.jsxs(H,{to:"/profile",className:"flex items-center gap-x-3 rounded-lg p-3 text-sm font-semibold text-gray-700 dark:text-gray-300 hover:text-blue-700 dark:hover:text-blue-300 hover:bg-blue-50 dark:hover:bg-gray-700 transition-colors",children:[r.jsx(Vt,{className:"h-5 w-5 text-gray-400 dark:text-gray-500"}),"Profile Settings"]}),r.jsxs("button",{onClick:l,className:"flex items-center gap-x-3 rounded-lg p-3 text-sm font-semibold text-gray-700 dark:text-gray-300 hover:text-red-700 dark:hover:text-red-400 hover:bg-red-50 dark:hover:bg-red-900/20 transition-colors w-full text-left",children:[r.jsx(dt,{className:"h-5 w-5 text-gray-400 dark:text-gray-500"}),"Sign Out"]})]})]})})]})})]})}),r.jsxs("div",{className:"sticky top-0 z-40 flex items-center gap-x-6 bg-white dark:bg-gray-800 px-4 py-4 shadow-sm dark:shadow-gray-900/20 sm:px-6 lg:hidden",children:[r.jsxs("button",{type:"button",className:"-m-2.5 p-2.5 text-gray-700 dark:text-gray-300 lg:hidden",onClick:()=>c(!0),children:[r.jsx("span",{className:"sr-only",children:"Open sidebar"}),r.jsx(an,{className:"h-6 w-6","aria-hidden":"true"})]}),r.jsx("div",{className:"flex-1 text-sm font-semibold leading-6 text-gray-900 dark:text-white",children:" PawPals Community"})]})]})},dn=s.createContext(),dl=()=>{const e=s.useContext(dn);if(!e)throw new Error("useTheme must be used within a ThemeProvider");return e},ul=({children:e})=>{const[t,n]=s.useState(()=>{const o=localStorage.getItem("theme");return o||(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light")});s.useEffect(()=>{const o=window.document.documentElement;t==="dark"?o.classList.add("dark"):o.classList.remove("dark"),localStorage.setItem("theme",t)},[t]);const i={theme:t,setTheme:n,toggleTheme:()=>{n(o=>o==="light"?"dark":"light")},isDark:t==="dark"};return r.jsx(dn.Provider,{value:i,children:e})},ml={async getStats(){var e,t;try{const n=await k.get("/gamification/stats");return console.log("Gamification stats loaded:",n.data),n.data}catch(n){throw console.error("Error fetching gamification stats:",n),console.error("Status:",(e=n.response)==null?void 0:e.status),console.error("Data:",(t=n.response)==null?void 0:t.data),n}},async getBadges(){try{return(await k.get("/gamification/badges")).data}catch(e){throw console.error("Error fetching badges:",e),e}},async getAllBadges(){try{return(await k.get("/gamification/badges/all")).data}catch(e){throw console.error("Error fetching all badges:",e),e}},async getBadgeStats(){try{return(await k.get("/gamification/badges/stats")).data}catch(e){throw console.error("Error fetching badge stats:",e),e}},async getLevelInfo(){try{return(await k.get("/gamification/level")).data}catch(e){throw console.error("Error fetching level info:",e),e}},async getAllLevels(){try{return(await k.get("/gamification/levels")).data}catch(e){throw console.error("Error fetching all levels:",e),e}},async getStreakInfo(){try{return(await k.get("/gamification/streak")).data}catch(e){throw console.error("Error fetching streak info:",e),e}},async getStreakLeaderboard(e=10){try{return(await k.get(`/gamification/leaderboard/streak?limit=${e}`)).data}catch(t){throw console.error("Error fetching streak leaderboard:",t),t}},async getLongestStreakLeaderboard(e=10){try{return(await k.get(`/gamification/leaderboard/longest-streak?limit=${e}`)).data}catch(t){throw console.error("Error fetching longest streak leaderboard:",t),t}},async awardPoints(e,t,n){try{return(await k.post("/gamification/points/award",{targetUserId:e,pointType:t,amount:n})).data}catch(a){throw console.error("Error awarding points:",a),a}},async awardBadge(e,t){try{return(await k.post("/gamification/badges/award",{targetUserId:e,badgeId:t})).data}catch(n){throw console.error("Error awarding badge:",n),n}},async resetStreak(e){try{return(await k.post("/gamification/streak/reset",{targetUserId:e})).data}catch(t){throw console.error("Error resetting streak:",t),t}},async getAchievements(){try{return(await k.get("/gamification/achievements")).data}catch(e){throw console.error("Error fetching achievements:",e),e}},async getRecentActivity(e=10){try{return(await k.get(`/gamification/activity?limit=${e}`)).data}catch(t){throw console.error("Error fetching recent activity:",t),t}}};/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fl=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),hl=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,n,a)=>a?a.toUpperCase():n.toLowerCase()),ir=e=>{const t=hl(e);return t.charAt(0).toUpperCase()+t.slice(1)},un=(...e)=>e.filter((t,n,a)=>!!t&&t.trim()!==""&&a.indexOf(t)===n).join(" ").trim(),gl=e=>{for(const t in e)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var pl={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xl=s.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:a,className:i="",children:o,iconNode:c,...l},d)=>s.createElement("svg",{ref:d,...pl,width:t,height:t,stroke:e,strokeWidth:a?Number(n)*24/Number(t):n,className:un("lucide",i),...!o&&!gl(l)&&{"aria-hidden":"true"},...l},[...c.map(([u,m])=>s.createElement(u,m)),...Array.isArray(o)?o:[o]]));/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Me=(e,t)=>{const n=s.forwardRef(({className:a,...i},o)=>s.createElement(xl,{ref:o,iconNode:t,className:un(`lucide-${fl(ir(e))}`,`lucide-${e}`,a),...i}));return n.displayName=ir(e),n};/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vl=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M17 17H4a1 1 0 0 1-.74-1.673C4.59 13.956 6 12.499 6 8a6 6 0 0 1 .258-1.742",key:"178tsu"}],["path",{d:"m2 2 20 20",key:"1ooewy"}],["path",{d:"M8.668 3.01A6 6 0 0 1 18 8c0 2.687.77 4.653 1.707 6.05",key:"1hqiys"}]],bl=Me("bell-off",vl);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wl=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],yl=Me("bell",wl);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jl=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],kl=Me("check",jl);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const El=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]],Nl=Me("ellipsis-vertical",El);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _l=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],Sl=Me("trash-2",_l);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ll=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Rl=Me("x",Ll),$l=()=>{const[e,t]=s.useState([]),[n,a]=s.useState(0),[i,o]=s.useState(!0),[c,l]=s.useState(null);return s.useEffect(()=>{if(!localStorage.getItem("token")){o(!1);return}return q.subscribe(({notifications:v,unreadCount:P})=>{t(v),a(P),o(!1),l(null)})},[]),{notifications:e,unreadCount:n,loading:i,error:c,loadNotifications:async(g={})=>{try{o(!0);const x=await q.loadNotifications(g);return l(null),x}catch(x){return l("Failed to load notifications"),console.error("Error loading notifications:",x),{notifications:[],unreadCount:0}}finally{o(!1)}},markAsRead:async g=>{try{const x=await q.markAsRead(g);return x||l("Failed to mark notification as read"),x}catch(x){return l("Error marking notification as read"),console.error("Error marking notification as read:",x),!1}},markAllAsRead:async()=>{try{const g=await q.markAllAsRead();return g||l("Failed to mark all notifications as read"),g}catch(g){return l("Error marking all notifications as read"),console.error("Error marking all notifications as read:",g),!1}},deleteNotification:async g=>{try{const x=await q.deleteNotification(g);return x||l("Failed to delete notification"),x}catch(x){return l("Error deleting notification"),console.error("Error deleting notification:",x),!1}},createTestNotification:async()=>{try{const g=await q.createTestNotification();return g||l("Failed to create test notification"),g}catch(g){return l("Error creating test notification"),console.error("Error creating test notification:",g),!1}},requestPermission:async()=>{try{return await q.requestPermission()}catch(g){return l("Error requesting notification permission"),console.error("Error requesting notification permission:",g),!1}}}},Cl=({isOpen:e,onClose:t,onToggle:n})=>{const[a,i]=s.useState(null),o=s.useRef(null),c=ut(),{notifications:l,unreadCount:d,markAsRead:u,markAllAsRead:m,deleteNotification:f}=$l();s.useEffect(()=>{const w=S=>{o.current&&!o.current.contains(S.target)&&(t&&t(),i(null))};return document.addEventListener("mousedown",w),()=>document.removeEventListener("mousedown",w)},[t]);const h=w=>{const S=new Date,j=new Date(w),C=S-j,A=Math.floor(C/6e4),D=Math.floor(A/60),F=Math.floor(D/24);return A<1?"Just now":A===1?"1m ago":A<60?`${A}m ago`:D===1?"1h ago":D<24?`${D}h ago`:F===1?"Yesterday":F<7?`${F}d ago`:j.toLocaleDateString("en-US",{month:"short",day:"numeric"})},p=w=>({new_message:"💬",friend_request:"👤",friend_request_accepted:"✨",friend_request_declined:"😔",event_registration:"🎉",event_status_update:"📋",event_reminder:"⏰",event_cancelled:"🚫",garden_update:"🌿",permission_request:"🔑",visit_reminder:"📍",review_response:"⭐",check_in_alert:"📱",system:"🔔"})[w]||"🔔",g=w=>({urgent:"border-l-red-400 bg-red-50/70 dark:bg-red-900/20",high:"border-l-orange-400 bg-orange-50/70 dark:bg-orange-900/20",medium:"border-l-blue-400 bg-blue-50/70 dark:bg-blue-900/20",low:"border-l-gray-400 bg-gray-50/70 dark:bg-gray-800/50"})[w]||"border-l-gray-300 bg-gray-50/70 dark:bg-gray-800/50",x=async w=>{var S,j,C;w.isRead||await u(w._id),w.actionUrl?c(w.actionUrl):(S=w.data)!=null&&S.chatId?c(`/chat/${w.data.chatId}`):(j=w.data)!=null&&j.eventId?c(`/events/${w.data.eventId}`):(C=w.data)!=null&&C.gardenId?c(`/gardens/${w.data.gardenId}`):w.type==="friend_request"&&c("/friends"),t&&t()},v=async(w,S)=>{w.stopPropagation(),await u(S)},P=async(w,S)=>{w.stopPropagation(),await f(S),i(null)},O=async()=>{await m(),i(null)},E=l.slice(0,6);return r.jsxs("div",{className:"relative",ref:o,children:[r.jsxs("button",{onClick:n,className:`relative p-2.5 rounded-xl transition-all duration-300 ${d>0?"text-blue-600 dark:text-blue-400 bg-blue-50 dark:bg-blue-900/30 hover:bg-blue-100 dark:hover:bg-blue-900/50":"text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-800"}`,"aria-label":"Notifications",children:[r.jsx(yl,{size:18,className:"transition-transform duration-200 hover:scale-110"}),d>0&&r.jsx("span",{className:"absolute -top-1 -right-1 bg-gradient-to-r from-red-500 to-pink-500 text-white text-xs rounded-full h-4 w-4 flex items-center justify-center min-w-[16px] shadow-sm border border-white dark:border-gray-900 font-medium",children:d>9?"9+":d})]}),e&&r.jsxs("div",{className:`absolute right-0 mt-2 w-80 bg-gradient-to-b from-gray-100 to-white dark:from-gray-900 dark:to-gray-600
 backdrop-blur-xl rounded-xl shadow-xl border border-gray-200/60 dark:border-gray-700/60 z-50 overflow-hidden`,children:[r.jsx("div",{className:"px-4 py-3 border-b border-gray-100 dark:border-gray-800",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("h3",{className:"font-medium text-gray-900 dark:text-white text-sm",children:"Notifications"}),d>0&&r.jsxs("span",{className:"bg-blue-100 dark:bg-blue-900/50 text-blue-700 dark:text-blue-300 text-xs px-2 py-0.5 rounded-full font-medium",children:[d," new"]})]}),r.jsxs("div",{className:"flex items-center gap-1",children:[d>0&&r.jsx("button",{onClick:O,className:"text-xs text-blue-600 dark:text-blue-400 hover:text-blue-700 dark:hover:text-blue-300 hover:bg-blue-50 dark:hover:bg-blue-900/30 px-2 py-1 rounded-md transition-colors font-medium",children:"Mark all read"}),r.jsx("button",{onClick:t,className:"text-gray-400 dark:text-gray-500 hover:text-gray-600 dark:hover:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-800 p-1 rounded-md transition-colors",children:r.jsx(Rl,{size:14})})]})]})}),r.jsx("div",{className:"max-h-80 overflow-y-auto",children:E.length===0?r.jsxs("div",{className:"p-8 text-center",children:[r.jsx("div",{className:"w-12 h-12 bg-gray-100 dark:bg-gray-800 rounded-full flex items-center justify-center mx-auto mb-3",children:r.jsx(bl,{size:20,className:"text-gray-400 dark:text-gray-500"})}),r.jsx("p",{className:"text-sm font-medium text-gray-900 dark:text-white mb-1",children:"All caught up!"}),r.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"No new notifications to show"})]}):r.jsx("div",{className:"py-1",children:E.map((w,S)=>r.jsxs("div",{onClick:()=>x(w),className:`relative px-4 py-3 hover:bg-gray-50 dark:hover:bg-gray-800/50 cursor-pointer transition-all duration-200 border-l-2 ${g(w.priority)} ${w.isRead?"":"bg-blue-50/30 dark:bg-blue-900/10"}`,children:[r.jsxs("div",{className:"flex gap-3",children:[r.jsx("div",{className:"flex-shrink-0 mt-0.5",children:r.jsx("div",{className:"w-8 h-8 bg-white dark:bg-gray-800 rounded-full border border-gray-200 dark:border-gray-700 flex items-center justify-center text-sm shadow-sm",children:p(w.type)})}),r.jsx("div",{className:"flex-1 min-w-0",children:r.jsxs("div",{className:"flex items-start justify-between gap-2",children:[r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("p",{className:"text-sm font-medium text-gray-900 dark:text-white truncate leading-tight",children:w.title}),r.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400 mt-0.5 line-clamp-2 leading-relaxed",children:w.content}),r.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[r.jsx("span",{className:"text-xs text-gray-400 dark:text-gray-500",children:h(w.createdAt)}),!w.isRead&&r.jsx("div",{className:"w-1.5 h-1.5 bg-blue-500 rounded-full"})]})]}),r.jsxs("div",{className:"flex items-center gap-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[!w.isRead&&r.jsx("button",{onClick:j=>v(j,w._id),className:"p-1 text-blue-500 hover:text-blue-600 hover:bg-blue-50 dark:hover:bg-blue-900/30 rounded transition-colors",title:"Mark as read",children:r.jsx(kl,{size:12})}),r.jsxs("div",{className:"relative",children:[r.jsx("button",{onClick:j=>{j.stopPropagation(),i(a===w._id?null:w._id)},className:"p-1 text-gray-400 dark:text-gray-500 hover:text-gray-600 dark:hover:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 rounded transition-colors",children:r.jsx(Nl,{size:12})}),a===w._id&&r.jsx("div",{className:"absolute right-0 top-full mt-1 w-28 bg-white dark:bg-gray-800 rounded-lg shadow-lg border border-gray-200 dark:border-gray-700 z-10 py-1",children:r.jsxs("button",{onClick:j=>P(j,w._id),className:"w-full px-3 py-1.5 text-left text-xs text-red-600 dark:text-red-400 hover:bg-red-50 dark:hover:bg-red-900/20 flex items-center gap-2 transition-colors",children:[r.jsx(Sl,{size:10}),"Delete"]})})]})]})]})})]}),r.jsx("div",{className:"absolute inset-x-0 bottom-0 h-px bg-gradient-to-r from-transparent via-gray-200 dark:via-gray-700 to-transparent opacity-0 group-hover:opacity-100 transition-opacity"})]},w._id))})}),l.length>6&&r.jsx("div",{className:"px-4 py-3 border-t border-gray-100 dark:border-gray-800 bg-gray-50/50 dark:bg-gray-800/50",children:r.jsxs("button",{onClick:()=>{c("/notifications"),t&&t()},className:"w-full text-xs text-center text-blue-600 dark:text-blue-400 hover:text-blue-700 dark:hover:text-blue-300 font-medium py-1 transition-colors",children:["View all notifications (",l.length,")"]})})]})]})},Pl=()=>{var E,w;const{user:e,logout:t}=we(),{theme:n,toggleTheme:a,isDark:i}=dl(),o=ut(),[c,l]=s.useState(!1),[d,u]=s.useState(!1),[m,f]=s.useState({level:1,points:0,currentStreak:0,levelProgress:{current:0,needed:100,percentage:0}}),h=s.useRef(null);s.useEffect(()=>{const S=async()=>{try{if(e){const C=await ml.getStats();f({level:C.level||1,points:C.points||0,currentStreak:C.currentStreak||0,levelProgress:C.levelProgress||{current:0,needed:100,percentage:0}})}}catch(C){console.error("Error loading gamification stats for TopHeader:",C)}};S();const j=setInterval(S,3e5);return()=>clearInterval(j)},[e]),s.useEffect(()=>{const S=j=>{h.current&&!h.current.contains(j.target)&&l(!1)};return document.addEventListener("mousedown",S),()=>{document.removeEventListener("mousedown",S)}},[]);const p=async()=>{try{await t(),o("/login")}catch(S){console.error("Logout error:",S)}},g=()=>{l(!1),o("/events?view=manage")},x=()=>{u(!d)},v=()=>{u(!1)},P=(e==null?void 0:e.role)==="garden_manager"||(e==null?void 0:e.role)==="admin",O=(E=e==null?void 0:e.eventPermissions)==null?void 0:E.canCreateEvents;return r.jsx("div",{className:"sticky top-0 z-40 bg-white dark:bg-gray-900 border-b border-gray-200 dark:border-gray-700 backdrop-blur-lg bg-opacity-95 dark:bg-opacity-95",children:r.jsxs("div",{className:"max-w-lg mx-auto px-4 py-4",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("div",{className:"flex items-center space-x-4",children:r.jsxs(H,{to:"/profile",className:"flex items-center space-x-3 group",children:[r.jsxs("div",{className:"relative",children:[r.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-purple-500 to-pink-500 rounded-full flex items-center justify-center shadow-lg",children:r.jsx("span",{className:"text-white font-bold text-lg",children:"P"})}),r.jsx("div",{className:"absolute -bottom-1 -right-1",children:r.jsx("div",{className:"w-5 h-5 bg-green-500 rounded-full flex items-center justify-center border-2 border-white dark:border-gray-900",children:r.jsx("div",{className:"w-2 h-2 bg-green-400 rounded-full"})})})]}),r.jsxs("div",{children:[r.jsx("h1",{className:"text-lg font-bold bg-gradient-to-r from-gray-800 to-gray-600 dark:from-white dark:to-gray-300 bg-clip-text text-transparent group-hover:from-purple-600 group-hover:to-pink-600 transition-all duration-200",children:"PawPals"}),r.jsxs("div",{className:"flex items-center space-x-3 text-xs",children:[r.jsxs("div",{className:"flex items-center space-x-1 bg-gradient-to-r from-orange-400 to-orange-500 text-white px-2 py-1 rounded-full",children:[r.jsx(Ai,{className:"w-3 h-3"}),r.jsxs("span",{className:"font-medium",children:["Level ",m.level]})]}),r.jsxs("div",{className:"flex items-center space-x-1 bg-gradient-to-r from-blue-400 to-purple-500 text-white px-2 py-1 rounded-full",children:[r.jsx(ai,{className:"w-3 h-3"}),r.jsx("span",{className:"font-medium",children:m.points.toLocaleString()})]})]})]})]})}),r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx(Cl,{isOpen:d,onClose:v,onToggle:x}),r.jsxs("div",{className:"relative",ref:h,children:[r.jsxs("button",{onClick:()=>l(!c),className:"flex items-center space-x-1 p-2 text-gray-600 dark:text-gray-400 hover:text-gray-800 dark:hover:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-800 rounded-xl transition-all duration-200",children:[r.jsx(Xo,{className:"w-5 h-5"}),r.jsx(Yo,{className:`w-4 h-4 transition-transform duration-200 ${c?"rotate-180":""}`})]}),c&&r.jsxs("div",{className:"absolute right-0 mt-2 w-56 bg-white dark:bg-gray-800 rounded-2xl shadow-xl border border-gray-200 dark:border-gray-700 py-2 z-50",children:[r.jsxs("div",{className:"px-4 py-3 border-b border-gray-100 dark:border-gray-700",children:[r.jsxs("p",{className:"text-sm font-medium text-gray-900 dark:text-white",children:[e==null?void 0:e.firstName," ",e==null?void 0:e.lastName]}),r.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 capitalize",children:((w=e==null?void 0:e.role)==null?void 0:w.replace("_"," "))||"Member"})]}),r.jsxs("div",{className:"py-2",children:[r.jsxs(H,{to:"/profile",onClick:()=>l(!1),className:"flex items-center space-x-3 px-4 py-2 text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors",children:[r.jsx(Vt,{className:"w-5 h-5"}),r.jsx("span",{className:"text-sm",children:"Profile"})]}),r.jsxs(H,{to:"/dog-journal",onClick:()=>l(!1),className:"flex items-center space-x-3 px-4 py-2 text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors",children:[r.jsx(Do,{className:"w-5 h-5"}),r.jsx("span",{className:"text-sm",children:"Dog Journal"})]}),r.jsxs("button",{onClick:()=>{a(),l(!1)},className:"flex items-center space-x-3 px-4 py-2 text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors w-full text-left",children:[i?r.jsx($i,{className:"w-5 h-5"}):r.jsx(sn,{className:"w-5 h-5"}),r.jsx("span",{className:"text-sm",children:i?"Light Mode":"Dark Mode"})]}),(P||O)&&r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"border-t border-gray-100 dark:border-gray-700 my-2"}),O&&r.jsxs("button",{onClick:g,className:"flex items-center space-x-3 px-4 py-2 text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors w-full text-left",children:[r.jsx(zt,{className:"w-5 h-5"}),r.jsx("span",{className:"text-sm",children:"Manage Events"})]}),P&&r.jsxs(r.Fragment,{children:[r.jsxs(H,{to:"/manage-gardens",onClick:()=>l(!1),className:"flex items-center space-x-3 px-4 py-2 text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors",children:[r.jsx(Oo,{className:"w-5 h-5"}),r.jsx("span",{className:"text-sm",children:"Manage Gardens"})]}),r.jsxs(H,{to:"/admin/requests",onClick:()=>l(!1),className:"flex items-center space-x-3 px-4 py-2 text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors",children:[r.jsx(ji,{className:"w-5 h-5"}),r.jsx("span",{className:"text-sm",children:"Permission Requests"})]})]})]}),r.jsx("div",{className:"border-t border-gray-100 dark:border-gray-700 my-2"}),r.jsxs("button",{onClick:()=>{l(!1),p()},className:"flex items-center space-x-3 px-4 py-2 text-red-600 dark:text-red-400 hover:bg-red-50 dark:hover:bg-red-900/20 transition-colors w-full text-left",children:[r.jsx(dt,{className:"w-5 h-5"}),r.jsx("span",{className:"text-sm",children:"Sign Out"})]})]})]})]})]})]}),r.jsxs("div",{className:"mt-3",children:[r.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-500 dark:text-gray-400 mb-1",children:[r.jsxs("span",{children:["Level ",m.level]}),r.jsxs("span",{children:["Level ",m.level+1]})]}),r.jsx("div",{className:"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-2 overflow-hidden",children:r.jsx("div",{className:"h-full bg-gradient-to-r from-blue-500 to-purple-600 rounded-full transition-all duration-500 ease-out",style:{width:"68%"},children:r.jsx("div",{className:"h-full bg-gradient-to-r from-white/20 to-transparent rounded-full animate-pulse"})})}),r.jsx("div",{className:"text-center mt-1",children:r.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:"680 / 1000 XP"})})]})]})})},Al=s.memo(Pl),Tl=()=>{const e=ve(),t=[{name:"Home",href:"/dashboard",outlineIcon:ci,solidIcon:cn,preload:()=>b(()=>import("./Dashboard-df751962.js"),["assets/Dashboard-df751962.js","assets/vendor-021dee49.js","assets/router-3052588b.js","assets/gardenService-8e5619dd.js","assets/utils-917b1704.js","assets/SkeletonLoading-3b438a19.js","assets/CheckIcon-3891f6eb.js","assets/CameraIcon-e10f98e6.js","assets/EyeIcon-6ff4a41f.js","assets/MagnifyingGlassIcon-f062adc4.js","assets/StopIcon-2eadb9c5.js","assets/ClockIcon-d6d0aaad.js"])},{name:"Parks",href:"/gardens",outlineIcon:Ue,solidIcon:Te,badge:"🔥",preload:()=>b(()=>import("./Gardens-bce1f201.js"),["assets/Gardens-bce1f201.js","assets/vendor-021dee49.js","assets/router-3052588b.js","assets/gardenService-8e5619dd.js","assets/utils-917b1704.js","assets/SkeletonLoading-3b438a19.js","assets/BellIcon-587118bd.js","assets/UserIcon-725f4b63.js","assets/EnvelopeIcon-88013258.js","assets/InformationCircleIcon-c0454e63.js","assets/CheckIcon-3891f6eb.js","assets/BellIcon-d89f06db.js","assets/MagnifyingGlassIcon-f062adc4.js","assets/GlobeAltIcon-f8e2b057.js","assets/LockClosedIcon-973e8386.js","assets/PlusIcon-d0c3f3f8.js","assets/ArrowPathIcon-a9aaab64.js","assets/StarIcon-7759d6c0.js","assets/ClockIcon-d6d0aaad.js"])},{name:"My Dogs",href:"/my-dogs",outlineIcon:He,solidIcon:ue,preload:()=>b(()=>import("./MyDogs-1b25317d.js"),["assets/MyDogs-1b25317d.js","assets/vendor-021dee49.js","assets/router-3052588b.js","assets/SkeletonLoading-3b438a19.js","assets/index.esm-46109d9d.js","assets/PhotoIcon-4f8783ce.js","assets/TrashIcon-e750183e.js","assets/PlusIcon-d0c3f3f8.js","assets/PlusCircleIcon-7f096a1b.js","assets/PencilSquareIcon-ae0df1ee.js","assets/utils-917b1704.js"])},{name:"Social",href:"/friends",outlineIcon:Ae,solidIcon:zi,badge:"3",preload:()=>b(()=>import("./Friends-24d0f392.js"),["assets/Friends-24d0f392.js","assets/vendor-021dee49.js","assets/StartChatButton-0f462bef.js","assets/router-3052588b.js","assets/ChatBubbleLeftIcon-5a8a0035.js","assets/SkeletonLoading-3b438a19.js","assets/UsersIcon-5daddd34.js","assets/MagnifyingGlassIcon-f062adc4.js","assets/UserMinusIcon-8e12b70d.js","assets/CheckIcon-3891f6eb.js","assets/utils-917b1704.js"])},{name:"Events",href:"/events",outlineIcon:zt,solidIcon:ln,preload:()=>b(()=>import("./Events-799625ee.js"),["assets/Events-799625ee.js","assets/vendor-021dee49.js","assets/router-3052588b.js","assets/eventService-0703f6fe.js","assets/utils-917b1704.js","assets/SkeletonLoading-3b438a19.js","assets/EventManager-556adb1f.js","assets/gardenService-8e5619dd.js","assets/TagIcon-32febfd4.js","assets/ClockIcon-d6d0aaad.js","assets/XCircleIcon-3fe8bf8c.js","assets/ArrowPathIcon-a9aaab64.js","assets/UsersIcon-5daddd34.js","assets/EyeIcon-6ff4a41f.js","assets/PencilIcon-141964e2.js","assets/PlusIcon-d0c3f3f8.js","assets/CogIcon-57d60756.js","assets/MagnifyingGlassIcon-f062adc4.js","assets/AcademicCapIcon-9bb0a344.js"])}],n=a=>a==="/dashboard"?e.pathname==="/dashboard"||e.pathname==="/":e.pathname.startsWith(a);return r.jsx("div",{className:"bottom-navigation-container fixed bottom-0 left-0 right-0 z-[9999] bg-white dark:bg-gray-800 border-t border-gray-200 dark:border-gray-700 shadow-2xl",children:r.jsx("div",{className:"flex justify-around items-center py-2 px-4 max-w-lg mx-auto",children:t.map(a=>{const i=n(a.href)?a.solidIcon:a.outlineIcon,o=n(a.href);return r.jsxs(H,{to:a.href,className:`flex flex-col items-center justify-center p-2 rounded-2xl transition-all duration-200 min-w-0 flex-1 ${o?"text-purple-600 dark:text-purple-400 bg-purple-50 dark:bg-purple-900/20":"text-gray-500 dark:text-gray-400 hover:text-purple-600 dark:hover:text-purple-400 hover:bg-gray-50 dark:hover:bg-gray-700/50"}`,...a.preload?Ea(a.preload):{},children:[r.jsxs("div",{className:"relative",children:[r.jsx(i,{className:"h-6 w-6"}),a.badge&&r.jsx("span",{className:"absolute -top-2 -right-2 min-w-[18px] h-[18px] bg-red-500 text-white text-xs rounded-full flex items-center justify-center font-medium",children:a.badge})]}),r.jsx("span",{className:`text-xs mt-1 font-medium truncate max-w-full ${o?"text-purple-600 dark:text-purple-400":"text-gray-500 dark:text-gray-400"}`,children:a.name})]},a.name)})})})},_t={getChats:async()=>{try{return(await k.get("/chats")).data}catch(e){throw console.error("Error fetching chats:",e),e}},getMessages:async(e,t=50,n=0)=>{try{return(await k.get(`/chats/${e}/messages`,{params:{limit:t,skip:n}})).data}catch(a){throw console.error("Error fetching messages:",a),a}},sendMessage:async(e,t)=>{try{return(await k.post(`/chats/${e}/messages`,{message:t})).data}catch(n){throw console.error("Error sending message:",n),n}},createChat:async(e,t)=>{try{return(await k.post("/chats",{userId:e,message:t})).data}catch(n){throw console.error("Error creating chat:",n),n}},markAsRead:async e=>{try{return(await k.put(`/chats/messages/${e}/read`)).data}catch(t){throw console.error("Error marking message as read:",t),t}},deleteMessage:async e=>{try{return(await k.delete(`/chats/messages/${e}`)).data}catch(t){throw console.error("Error deleting message:",t),t}}},Dl=()=>{var X,K,ye,$e,se;const{user:e}=we(),[t,n]=s.useState([]),[a,i]=s.useState(null),[o,c]=s.useState([]),[l,d]=s.useState(""),[u,m]=s.useState(!0),[f,h]=s.useState(!1),p=s.useRef(null),[g,x]=s.useState(!1),[v,P]=s.useState(0);s.useState(!1),s.useState(new Set);const[O,E]=s.useState(0),[w,S]=s.useState(!1),[j,C]=s.useState(!1);s.useEffect(()=>{A();const y=setInterval(()=>{g?(A(),a&&D()):A()},1e4),R=_=>{x(!0),C(!1),S(!1)},I=_=>{const{chatId:oe,targetUser:ae}=_.detail,je=t.find(ke=>ke._id===oe);je?i(je):ae&&(i({_id:oe,participants:[ae],lastMessage:"",lastMessageTime:new Date}),setTimeout(A,500))};return window.addEventListener("openChat",R),window.addEventListener("selectChat",I),()=>{clearInterval(y),window.removeEventListener("openChat",R),window.removeEventListener("selectChat",I)}},[g,a,t]),s.useEffect(()=>{a&&D()},[a]),s.useEffect(()=>{U()},[o]),s.useEffect(()=>{const y=t.reduce((I,_)=>I+(_.messageCount||0),0),R=t.reduce((I,_)=>I+(_.unreadCount||0),0);P(R),!g&&y>O&&O>0&&(C(!0),S(!0),typeof Notification<"u"&&Notification.permission==="granted"&&new Notification("New message received!",{body:"You have a new message in Dog Parks",icon:"/favicon.ico"}),setTimeout(()=>{S(!1)},3e3)),E(y)},[t,g,O]),s.useEffect(()=>{const y=R=>{R.key==="Escape"&&g&&x(!1)};return window.addEventListener("keydown",y),()=>window.removeEventListener("keydown",y)},[g]),s.useEffect(()=>{typeof Notification<"u"&&Notification.permission==="default"&&Notification.requestPermission()},[]);const A=async()=>{try{m(!0);const y=await _t.getChats();n(y.chats||[])}catch(y){console.error("Error loading chats:",y)}finally{m(!1)}},D=async()=>{if(a)try{const y=await _t.getMessages(a._id);c(y.messages||[])}catch(y){console.error("Error loading messages:",y),T.error("Failed to load messages")}},F=async y=>{if(y.preventDefault(),!(!l.trim()||!a))try{h(!0);const R=await _t.sendMessage(a._id,{type:"text",text:l});c([...o,R.message]),d("")}catch(R){console.error("Error sending message:",R),T.error("Failed to send message")}finally{h(!1)}},G=()=>{x(!g),g||(C(!1),S(!1))},U=()=>{var y;(y=p.current)==null||y.scrollIntoView({behavior:"smooth"})},z=y=>{const R=new Date(y),_=Math.floor((new Date-R)/(1e3*60));return _<1?"now":_<60?`${_}m`:_<1440?`${Math.floor(_/60)}h`:R.toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit"})},B=y=>{const R=new Date(y),I=new Date,_=new Date(I);return _.setDate(_.getDate()-1),R.toDateString()===I.toDateString()?"Today":R.toDateString()===_.toDateString()?"Yesterday":R.toLocaleDateString("en-US",{month:"short",day:"numeric"})},Z=y=>{const R=new Date(y),_=Math.floor((new Date-R)/(1e3*60));return _<1?"now":_<60?`${_}m`:_<1440?`${Math.floor(_/60)}h`:_<10080?`${Math.floor(_/1440)}d`:R.toLocaleDateString("en-US",{month:"short",day:"numeric"})};return r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"fixed bottom-4 right-4 z-40",children:[w&&r.jsxs("div",{className:"absolute bottom-16 right-0 bg-white rounded-lg shadow-lg border border-gray-200 p-3 mb-2 animate-bounce",children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full animate-pulse"}),r.jsx("span",{className:"text-sm text-gray-700 font-medium",children:"New message!"})]}),r.jsx("div",{className:"absolute bottom-0 right-4 transform translate-y-1/2 rotate-45 w-2 h-2 bg-white border-r border-b border-gray-200"})]}),r.jsx("button",{onClick:G,"data-chat-toggle":!0,className:"inline-flex items-center justify-center w-14 h-14 bg-blue-600 text-white rounded-full shadow-lg hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-all duration-200 relative",children:g?r.jsx(We,{className:"h-6 w-6"}):r.jsxs("div",{className:"relative",children:[r.jsx(Ae,{className:"h-6 w-6"}),(v>0||j)&&r.jsx("span",{className:`absolute -top-2 -right-2 text-white text-xs rounded-full h-5 w-5 flex items-center justify-center font-medium ${j?"bg-red-500 animate-pulse":"bg-red-500"}`,children:v>9?"9+":v||"!"}),j&&r.jsx("div",{className:"absolute -top-1 -right-1 w-3 h-3 bg-red-500 rounded-full animate-ping"})]})})]}),g&&r.jsxs("div",{className:"fixed bottom-20 right-4 z-40 w-96 h-[600px] bg-white rounded-xl shadow-2xl flex flex-col border border-gray-200 overflow-hidden",children:[r.jsxs("div",{className:"bg-gradient-to-r from-blue-600 to-blue-700 text-white p-4 flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center",children:[r.jsx(Ae,{className:"h-6 w-6 mr-2"}),r.jsx("h3",{className:"text-lg font-semibold",children:"Messages"})]}),r.jsx("button",{onClick:()=>x(!1),className:"p-1 hover:bg-blue-500 rounded-full transition-colors",children:r.jsx(We,{className:"h-5 w-5"})})]}),r.jsxs("div",{className:"flex flex-1 overflow-hidden",children:[r.jsx("div",{className:"w-2/5 border-r border-gray-200 overflow-y-auto bg-gray-50",children:r.jsxs("div",{className:"p-3",children:[r.jsx("h4",{className:"text-xs font-semibold text-gray-600 uppercase tracking-wider mb-3",children:"Conversations"}),u?r.jsxs("div",{className:"text-center py-8",children:[r.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto"}),r.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"Loading..."})]}):t.length===0?r.jsxs("div",{className:"text-center py-8",children:[r.jsx(Ae,{className:"h-12 w-12 text-gray-300 mx-auto mb-2"}),r.jsx("p",{className:"text-sm text-gray-500",children:"No conversations yet"}),r.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Start chatting with other dog owners!"})]}):r.jsx("div",{className:"space-y-1",children:t.map(y=>{var R,I,_,oe,ae;return r.jsx("button",{onClick:()=>i(y),className:`w-full text-left p-3 rounded-lg hover:bg-white transition-all duration-200 ${(a==null?void 0:a._id)===y._id?"bg-white shadow-sm border border-blue-200":"hover:shadow-sm"}`,children:r.jsxs("div",{className:"flex items-center",children:[r.jsxs("div",{className:"relative",children:[(R=y.participants[0])!=null&&R.profileImage?r.jsx("img",{src:y.participants[0].profileImage,alt:"",className:"w-10 h-10 rounded-full object-cover"}):r.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-blue-400 to-blue-600 rounded-full flex items-center justify-center text-white text-sm font-semibold",children:((_=(I=y.participants[0])==null?void 0:I.firstName)==null?void 0:_[0])||"U"}),r.jsx("div",{className:"absolute -bottom-1 -right-1 w-3 h-3 bg-green-400 border-2 border-white rounded-full"})]}),r.jsxs("div",{className:"ml-3 flex-1 min-w-0",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("p",{className:"text-sm font-medium text-gray-900 truncate",children:[(oe=y.participants[0])==null?void 0:oe.firstName," ",(ae=y.participants[0])==null?void 0:ae.lastName]}),y.lastMessageTime&&r.jsx("span",{className:"text-xs text-gray-500",children:Z(y.lastMessageTime)})]}),r.jsx("p",{className:"text-xs text-gray-500 truncate mt-1",children:y.lastMessage||"No messages"})]})]})},y._id)})})]})}),r.jsx("div",{className:"flex-1 flex flex-col",children:a?r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"p-4 border-b border-gray-200 bg-white",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center",children:[r.jsxs("div",{className:"relative",children:[(X=a.participants[0])!=null&&X.profileImage?r.jsx("img",{src:a.participants[0].profileImage,alt:"",className:"w-10 h-10 rounded-full object-cover"}):r.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-blue-400 to-blue-600 rounded-full flex items-center justify-center text-white text-sm font-semibold",children:((ye=(K=a.participants[0])==null?void 0:K.firstName)==null?void 0:ye[0])||"U"}),r.jsx("div",{className:"absolute -bottom-1 -right-1 w-3 h-3 bg-green-400 border-2 border-white rounded-full"})]}),r.jsxs("div",{className:"ml-3",children:[r.jsxs("p",{className:"text-sm font-medium text-gray-900",children:[($e=a.participants[0])==null?void 0:$e.firstName," ",(se=a.participants[0])==null?void 0:se.lastName]}),r.jsx("p",{className:"text-xs text-green-600 font-medium",children:"Online"})]})]}),r.jsx("button",{className:"p-2 hover:bg-gray-100 rounded-full transition-colors",children:r.jsx(ti,{className:"h-5 w-5 text-gray-500"})})]})}),r.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-3 bg-gray-50",children:[o.length===0?r.jsx("div",{className:"flex items-center justify-center h-full",children:r.jsxs("div",{className:"text-center",children:[r.jsx(Ae,{className:"h-16 w-16 text-gray-300 mx-auto mb-4"}),r.jsx("p",{className:"text-gray-500 text-sm",children:"No messages yet"}),r.jsx("p",{className:"text-gray-400 text-xs mt-1",children:"Start the conversation!"})]})}):o.map((y,R)=>{var ae,je,ke;const I=y.sender._id===e._id||y.sender===e._id,_=R===0||B(y.createdAt)!==B(o[R-1].createdAt),oe=!I&&(R===o.length-1||((ae=o[R+1])==null?void 0:ae.sender._id)!==y.sender._id);return r.jsxs("div",{children:[_&&r.jsx("div",{className:"text-center mb-4",children:r.jsx("span",{className:"text-xs text-gray-500 bg-white px-3 py-1 rounded-full shadow-sm",children:B(y.createdAt)})}),r.jsxs("div",{className:`flex items-end space-x-2 ${I?"justify-end":"justify-start"}`,children:[!I&&r.jsx("div",{className:"w-8 h-8 flex-shrink-0",children:oe&&(y.sender.profileImage?r.jsx("img",{src:y.sender.profileImage,alt:"",className:"w-8 h-8 rounded-full object-cover"}):r.jsx("div",{className:"w-8 h-8 bg-gradient-to-br from-gray-400 to-gray-600 rounded-full flex items-center justify-center text-white text-xs font-semibold",children:((je=y.sender.firstName)==null?void 0:je[0])||"U"}))}),r.jsxs("div",{className:`max-w-[75%] px-4 py-2 rounded-2xl shadow-sm ${I?"bg-blue-600 text-white rounded-br-md":"bg-white text-gray-900 rounded-bl-md border border-gray-200"}`,children:[r.jsx("p",{className:"text-sm break-words",children:((ke=y.content)==null?void 0:ke.text)||y.text}),r.jsx("p",{className:`text-xs mt-1 ${I?"text-blue-100":"text-gray-500"}`,children:z(y.createdAt)})]})]})]},y._id)}),r.jsx("div",{ref:p})]}),r.jsx("form",{onSubmit:F,className:"p-4 border-t border-gray-200 bg-white",children:r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsxs("div",{className:"flex-1 relative",children:[r.jsx("input",{type:"text",value:l,onChange:y=>d(y.target.value),onKeyPress:y=>{y.key==="Enter"&&!y.shiftKey&&(y.preventDefault(),F(y))},placeholder:"Type a message...",className:"w-full rounded-full px-4 py-3 bg-gray-100 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:bg-white transition-all duration-200",disabled:f}),f&&r.jsx("div",{className:"absolute right-3 top-1/2 transform -translate-y-1/2",children:r.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-blue-600"})})]}),r.jsx("button",{type:"submit",disabled:!l.trim()||f,className:"inline-flex items-center justify-center w-10 h-10 rounded-full bg-blue-600 text-white hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200",children:r.jsx(pi,{className:"h-5 w-5"})})]})})]}):r.jsx("div",{className:"flex-1 flex items-center justify-center bg-gray-50",children:r.jsxs("div",{className:"text-center",children:[r.jsx(Ae,{className:"h-16 w-16 text-gray-300 mx-auto mb-4"}),r.jsx("p",{className:"text-gray-500 text-sm",children:"Select a conversation to start messaging"}),r.jsx("p",{className:"text-gray-400 text-xs mt-1",children:"Choose from your conversations on the left"})]})})})]})]})]})},lr=[{name:"Gardens",href:"/gardens",icon:Te},{name:"Events",href:"/public-events",icon:zt}];function St(...e){return e.filter(Boolean).join(" ")}const Il=()=>{const e=ve(),[t,n]=s.useState(!1),[a,i]=s.useState(!1);s.useEffect(()=>{const l=localStorage.getItem("darkMode"),d=window.matchMedia("(prefers-color-scheme: dark)").matches,u=l?l==="true":d;i(u),u?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")},[]);const o=()=>{const l=!a;i(l),localStorage.setItem("darkMode",l.toString()),l?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")},c=l=>e.pathname===l;return r.jsxs(r.Fragment,{children:[r.jsx(xe.Root,{show:t,as:s.Fragment,children:r.jsxs(ct,{as:"div",className:"relative z-50 lg:hidden",onClose:n,children:[r.jsx(xe.Child,{as:s.Fragment,enter:"transition-opacity ease-linear duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"transition-opacity ease-linear duration-300",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:r.jsx("div",{className:"fixed inset-0 bg-gray-900/80"})}),r.jsx("div",{className:"fixed inset-0 flex",children:r.jsx(xe.Child,{as:s.Fragment,enter:"transition ease-in-out duration-300 transform",enterFrom:"-translate-x-full",enterTo:"translate-x-0",leave:"transition ease-in-out duration-300 transform",leaveFrom:"translate-x-0",leaveTo:"-translate-x-full",children:r.jsxs(ct.Panel,{className:"relative mr-16 flex w-full max-w-xs flex-1",children:[r.jsx(xe.Child,{as:s.Fragment,enter:"ease-in-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in-out duration-300",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:r.jsx("div",{className:"absolute left-full top-0 flex w-16 justify-center pt-5",children:r.jsxs("button",{type:"button",className:"-m-2.5 p-2.5",onClick:()=>n(!1),children:[r.jsx("span",{className:"sr-only",children:"Close sidebar"}),r.jsx(We,{className:"h-6 w-6 text-white","aria-hidden":"true"})]})})}),r.jsxs("div",{className:"flex grow flex-col gap-y-5 overflow-y-auto bg-white dark:bg-gray-900 px-6 pb-4",children:[r.jsx("div",{className:"flex h-16 shrink-0 items-center",children:r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("div",{className:"bg-gradient-to-r from-purple-600 to-pink-600 rounded-xl p-2",children:r.jsx(ue,{className:"h-6 w-6 text-white"})}),r.jsxs("div",{children:[r.jsx("h1",{className:"text-xl font-bold bg-gradient-to-r from-purple-600 to-pink-600 bg-clip-text text-transparent",children:"PawConnect"}),r.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 -mt-1",children:"Dog Parks"})]})]})}),r.jsx("nav",{className:"flex flex-1 flex-col",children:r.jsxs("ul",{role:"list",className:"flex flex-1 flex-col gap-y-7",children:[r.jsx("li",{children:r.jsx("ul",{role:"list",className:"-mx-2 space-y-1",children:lr.map(l=>{const d=l.icon,u=c(l.href);return r.jsx("li",{children:r.jsxs(H,{to:l.href,className:St(u?"bg-purple-50 dark:bg-purple-900 text-purple-700 dark:text-purple-300":"text-gray-700 dark:text-gray-300 hover:text-purple-700 dark:hover:text-purple-300 hover:bg-purple-50 dark:hover:bg-purple-900","group flex gap-x-3 rounded-2xl p-3 text-sm leading-6 font-semibold transition-all"),onClick:()=>n(!1),children:[r.jsx(d,{className:St(u?"text-purple-700 dark:text-purple-300":"text-gray-400 dark:text-gray-500 group-hover:text-purple-700 dark:group-hover:text-purple-300","h-6 w-6 shrink-0"),"aria-hidden":"true"}),l.name]})},l.name)})})}),r.jsx("li",{children:r.jsxs("button",{onClick:o,className:"flex items-center justify-between w-full gap-x-3 rounded-2xl p-3 text-sm font-semibold text-gray-700 dark:text-gray-300 hover:text-purple-700 dark:hover:text-purple-300 hover:bg-purple-50 dark:hover:bg-purple-900 transition-all",children:[r.jsxs("div",{className:"flex items-center gap-x-3",children:[r.jsx(sn,{className:"h-5 w-5 text-gray-400 dark:text-gray-500"}),r.jsx("span",{children:"Dark Mode"})]}),r.jsx("div",{className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors duration-200 ${a?"bg-purple-600":"bg-gray-200 dark:bg-gray-700"}`,children:r.jsx("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition-transform duration-200 ${a?"translate-x-6":"translate-x-1"}`})})]})}),r.jsx("li",{className:"mt-auto",children:r.jsxs("div",{className:"border-t border-gray-200 dark:border-gray-700 pt-4 space-y-1",children:[r.jsxs(H,{to:"/login",className:"flex items-center gap-x-3 rounded-2xl p-3 text-sm font-semibold text-gray-700 dark:text-gray-300 hover:text-purple-700 dark:hover:text-purple-300 hover:bg-purple-50 dark:hover:bg-purple-900 transition-all",onClick:()=>n(!1),children:[r.jsx(dt,{className:"h-5 w-5 text-gray-400 dark:text-gray-500"}),"Login"]}),r.jsxs(H,{to:"/register",className:"flex items-center gap-x-3 rounded-2xl p-3 text-sm font-semibold text-white bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700 transition-all shadow-lg",onClick:()=>n(!1),children:[r.jsx(Vi,{className:"h-5 w-5"}),"Sign Up"]})]})})]})})]})]})})})]})}),r.jsx("div",{className:"bg-white dark:bg-gray-900 shadow-lg border-b border-gray-200 dark:border-gray-700 transition-colors",children:r.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:r.jsxs("div",{className:"flex justify-between items-center h-16",children:[r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("div",{className:"bg-gradient-to-r from-purple-600 to-pink-600 rounded-xl p-2 shadow-lg",children:r.jsx(ue,{className:"h-6 w-6 text-white"})}),r.jsxs("div",{children:[r.jsx("h1",{className:"text-xl font-bold bg-gradient-to-r from-purple-600 to-pink-600 bg-clip-text text-transparent",children:"PawPals"}),r.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 -mt-1",children:"Community"})]})]}),r.jsx("nav",{className:"hidden md:flex space-x-8",children:lr.map(l=>{const d=l.icon,u=c(l.href);return r.jsxs(H,{to:l.href,className:St(u?"text-purple-700 dark:text-purple-300 border-purple-700 dark:border-purple-300":"text-gray-700 dark:text-gray-300 hover:text-purple-700 dark:hover:text-purple-300 border-transparent hover:border-purple-300 dark:hover:border-purple-600","flex items-center px-3 py-2 border-b-2 text-sm font-medium transition-all"),children:[r.jsx(d,{className:"h-5 w-5 mr-2"}),l.name]},l.name)})}),r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsx(H,{to:"/login",className:"text-gray-700 dark:text-gray-300 hover:text-purple-700 dark:hover:text-purple-300 font-medium text-sm transition-colors",children:"Login"}),r.jsx(H,{to:"/register",className:"bg-gradient-to-r from-purple-600 to-pink-600 text-white px-4 py-2 rounded-2xl text-sm font-medium hover:from-purple-700 hover:to-pink-700 transition-all shadow-lg",children:"Sign Up"}),r.jsxs("button",{type:"button",className:"md:hidden -m-2.5 p-2.5 text-gray-700 dark:text-gray-300 hover:text-purple-700 dark:hover:text-purple-300 transition-colors",onClick:()=>n(!0),children:[r.jsx("span",{className:"sr-only",children:"Open main menu"}),r.jsx(an,{className:"h-6 w-6"})]})]})]})})})]})},Bt=()=>{const{isAuthenticated:e}=we();return e?r.jsxs("div",{className:"h-screen flex flex-col lg:block bg-gray-50 dark:bg-gray-900",children:[r.jsx("div",{className:"hidden lg:block",children:r.jsx(cl,{})}),r.jsx("div",{className:"lg:hidden flex-shrink-0",children:r.jsx(Al,{})}),r.jsx("main",{className:"flex-1 overflow-y-auto lg:pl-72 lg:h-screen",children:r.jsx("div",{className:"pt-0 lg:pt-8 pb-20 lg:pb-0",children:r.jsx(Rt,{})})}),r.jsx("div",{className:"lg:hidden flex-shrink-0",children:r.jsx(Tl,{})}),r.jsx("div",{className:"hidden lg:block",children:r.jsx(Dl,{})})]}):r.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900",children:[r.jsx(Il,{}),r.jsx("main",{children:r.jsx(Rt,{})})]})},Ml=Object.freeze(Object.defineProperty({__proto__:null,default:Bt},Symbol.toStringTag,{value:"Module"})),mn=()=>{const{isAuthenticated:e}=we();return e?r.jsx(Rt,{}):r.jsx(Rr,{to:"/login",replace:!0})},Ol=Object.freeze(Object.defineProperty({__proto__:null,default:mn},Symbol.toStringTag,{value:"Module"})),Ce=({children:e,allowedRoles:t=[]})=>{const{user:n,isAuthenticated:a}=we();return a?t.length>0&&!t.includes(n==null?void 0:n.role)?r.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:r.jsxs("div",{className:"max-w-md w-full bg-white shadow-lg rounded-lg p-6 text-center",children:[r.jsx("div",{className:"text-red-500 text-6xl mb-4",children:"🚫"}),r.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Access Denied"}),r.jsx("p",{className:"text-gray-600 mb-4",children:"You don't have permission to access this page."}),r.jsxs("p",{className:"text-sm text-gray-500 mb-6",children:["Required role: ",t.join(" or "),r.jsx("br",{}),"Your role: ",(n==null?void 0:n.role)||"Unknown"]}),r.jsx("button",{onClick:()=>window.history.back(),className:"bg-primary-600 text-white px-4 py-2 rounded-md hover:bg-primary-700",children:"Go Back"})]})}):e:r.jsx(Rr,{to:"/login",replace:!0})},fn=({fullScreen:e=!1,minDisplayTime:t=100,size:n="md",showText:a=!0})=>{const i={sm:"w-8 h-8",md:"w-12 h-12",lg:"w-16 h-16",xl:"w-24 h-24"},o=e?"fixed inset-0 flex flex-col items-center justify-center bg-white/95 dark:bg-gray-900/95 backdrop-blur-md z-50":"flex flex-col items-center justify-center p-8 min-h-screen",c=["Woof woof! Sniffing out the best parks...","Arf arf! Finding play dates...","Ruff ruff! Tail wagging intensifies...","Woof! Searching for treats and friends...","Bow wow! Getting ready to fetch...","Yip yip! So excited to play...","Woof woof! Fetching amazing adventures...","Arf! Barking with excitement...","Ruff! Can't wait to meet new friends...","Woof! Pawsome things loading...","Bow wow wow! Adventure time soon...","Yap yap! Happy tail wagging...","Woof woof! Sniff sniff... something good coming...","Arf arf! Zoomies incoming...","Ruff ruff! Best day ever loading...","Woof! Paws crossed for fun...","Bow wow! Ready to make friends...","Yip! Squeaky toy excitement level...","Woof woof! Belly rub approved content...","Arf! Treat-level happiness loading..."],l=s.useMemo(()=>c[Math.floor(Math.random()*c.length)],[]);return r.jsx("div",{className:o,children:r.jsxs("div",{className:"flex flex-col items-center space-y-6",children:[r.jsxs("div",{className:"relative",children:[r.jsx("div",{className:"absolute -inset-6 opacity-30",children:r.jsxs("div",{className:"animate-spin",style:{animationDuration:"8s"},children:[r.jsx(Ue,{className:"absolute top-0 left-1/2 transform -translate-x-1/2 w-5 h-5 text-purple-500"}),r.jsx(sr,{className:"absolute right-0 top-1/2 transform -translate-y-1/2 w-5 h-5 text-pink-500"}),r.jsx(nr,{className:"absolute bottom-0 left-1/2 transform -translate-x-1/2 w-5 h-5 text-blue-500"}),r.jsx(He,{className:"absolute left-0 top-1/2 transform -translate-y-1/2 w-5 h-5 text-green-500"})]})}),r.jsxs("div",{className:"relative",children:[r.jsx("div",{className:`${i[n]} rounded-full border-4 border-gray-100 dark:border-gray-800`}),r.jsx("div",{className:`${i[n]} rounded-full border-4 border-transparent border-t-purple-600 border-r-pink-600 animate-spin absolute top-0 left-0`,style:{animationDuration:"1.2s"}}),r.jsx("div",{className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2",children:r.jsx(on,{className:"w-5 h-5 text-purple-600 animate-pulse"})})]})]}),a&&r.jsxs("div",{className:"text-center max-w-xs",children:[r.jsx("p",{className:"text-gray-600 dark:text-gray-400 font-medium text-sm",children:l}),r.jsxs("div",{className:"flex justify-center space-x-1 mt-3",children:[r.jsx("div",{className:"w-2 h-2 bg-purple-600 rounded-full animate-pulse",style:{animationDelay:"0ms"}}),r.jsx("div",{className:"w-2 h-2 bg-pink-600 rounded-full animate-pulse",style:{animationDelay:"200ms"}}),r.jsx("div",{className:"w-2 h-2 bg-blue-600 rounded-full animate-pulse",style:{animationDelay:"400ms"}})]})]}),e&&r.jsx("div",{className:"absolute bottom-8 left-1/2 transform -translate-x-1/2",children:r.jsxs("div",{className:"text-center",children:[r.jsxs("div",{className:"flex items-center justify-center space-x-3 mb-2",children:[r.jsx(Ue,{className:"w-6 h-6 text-purple-600 dark:text-purple-400"}),r.jsx("span",{className:"text-xl font-bold bg-gradient-to-r from-purple-600 to-pink-600 bg-clip-text text-transparent",children:"PawPals"}),r.jsx(Si,{className:"w-6 h-6 text-pink-600 dark:text-pink-400"})]}),r.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Connecting pets and their owners"})]})}),e&&r.jsxs("div",{className:"absolute inset-0 pointer-events-none overflow-hidden",children:[r.jsx("div",{className:"absolute top-10 left-10 opacity-10",children:r.jsx(Ue,{className:"w-8 h-8 text-purple-500 animate-pulse",style:{animationDelay:"0s"}})}),r.jsx("div",{className:"absolute top-20 right-16 opacity-10",children:r.jsx(sr,{className:"w-6 h-6 text-pink-500 animate-pulse",style:{animationDelay:"2s"}})}),r.jsx("div",{className:"absolute bottom-32 left-20 opacity-10",children:r.jsx(nr,{className:"w-10 h-10 text-blue-500 animate-pulse",style:{animationDelay:"4s"}})}),r.jsx("div",{className:"absolute bottom-20 right-10 opacity-10",children:r.jsx(He,{className:"w-6 h-6 text-green-500 animate-pulse",style:{animationDelay:"6s"}})})]})]})})},Fl=({size:e="sm",className:t="",theme:n="purple"})=>{const a={xs:"w-3 h-3",sm:"w-4 h-4",md:"w-5 h-5",lg:"w-6 h-6"},i={purple:"border-t-purple-600",pink:"border-t-pink-600",blue:"border-t-blue-600",green:"border-t-green-600"};return r.jsx("div",{className:`${a[e]} ${t} relative`,children:r.jsx("div",{className:`${a[e]} rounded-full border-2 border-transparent ${i[n]} animate-spin`})})},Vl=({className:e="",lines:t=3})=>r.jsx("div",{className:`animate-pulse ${e}`,children:Array.from({length:t}).map((n,a)=>r.jsxs("div",{className:"flex items-center mb-3",children:[r.jsx("div",{className:"w-8 h-8 bg-gray-200 dark:bg-gray-700 rounded-full mr-3 flex items-center justify-center",children:r.jsx("div",{className:"w-3 h-3 bg-gray-300 dark:bg-gray-600 rounded-full"})}),r.jsx("div",{className:`h-4 bg-gray-200 dark:bg-gray-700 rounded ${a===t-1?"w-3/4":"w-full"}`})]},a))}),Bl=()=>{const[e,t]=s.useState(!1),n=s.useCallback(async a=>{t(!0);try{await a()}catch(i){throw i}finally{t(!1)}},[]);return{isLoading:e,showLoadingFor:n}},Ul=(e=50)=>{const[t,n]=s.useState(!1),a=s.useCallback(async i=>{n(!0);const o=Date.now();try{await i()}catch(c){throw c}finally{const c=Date.now()-o,l=Math.max(0,e-c);l>0&&c<50&&await new Promise(d=>setTimeout(d,l)),n(!1)}},[e]);return{isLoading:t,showLoadingFor:a}},Zl={INSTANT:0,FAST:50,NORMAL:100,SLOW:300,HEAVY:600},Hl=Object.freeze(Object.defineProperty({__proto__:null,LOADING_PRESETS:Zl,LoadingSkeleton:Vl,LoadingSpinner:Fl,default:fn,useFastLoading:Bl,useLoadingWithMinTime:Ul},Symbol.toStringTag,{value:"Module"})),Wl=({children:e})=>{const t=ve(),[n,a]=s.useState(t),[i,o]=s.useState("fadeIn"),c=s.useRef(null),l=s.useRef(!0);return s.useEffect(()=>{if(l.current){l.current=!1;return}t!==n&&o("fadeOut")},[t,n]),s.useEffect(()=>{if(i==="fadeOut")return c.current&&clearTimeout(c.current),c.current=setTimeout(()=>{a(t),o("fadeIn")},25),()=>{c.current&&clearTimeout(c.current)}},[i,t]),s.useEffect(()=>()=>{c.current&&clearTimeout(c.current)},[]),r.jsx("div",{className:`transition-opacity duration-25 transform ${i==="fadeOut"?"opacity-0 scale-[0.98]":"opacity-100 scale-100"}`,style:{transitionDuration:"25ms",transitionTimingFunction:"cubic-bezier(0.4, 0, 0.2, 1)"},children:e})},Gl=L.memo(Wl);class zl{constructor(){this.cache=new Map,this.cacheExpiry=new Map,this.defaultTTL=5*60*1e3}set(t,n,a=this.defaultTTL){this.cache.set(t,n),this.cacheExpiry.set(t,Date.now()+a)}get(t){if(!this.cache.has(t))return null;const n=this.cacheExpiry.get(t);return Date.now()>n?(this.cache.delete(t),this.cacheExpiry.delete(t),null):this.cache.get(t)}has(t){return this.get(t)!==null}cleanup(){const t=Date.now();for(const[n,a]of this.cacheExpiry.entries())t>a&&(this.cache.delete(n),this.cacheExpiry.delete(n))}clear(){this.cache.clear(),this.cacheExpiry.clear()}getStats(){return{size:this.cache.size,keys:Array.from(this.cache.keys())}}}const nt=new zl;setInterval(()=>{nt.cleanup()},5*60*1e3);class ql{constructor(){this.preloadedServices=new Set,this.preloadedData=new Map}async preloadServices(){const t=[()=>b(()=>Promise.resolve().then(()=>Pn),void 0),()=>b(()=>Promise.resolve().then(()=>An),void 0),()=>b(()=>import("./gardenService-8e5619dd.js"),["assets/gardenService-8e5619dd.js","assets/vendor-021dee49.js","assets/utils-917b1704.js","assets/router-3052588b.js"]),()=>b(()=>Promise.resolve().then(()=>cr),void 0),()=>b(()=>import("./eventService-0703f6fe.js"),["assets/eventService-0703f6fe.js","assets/vendor-021dee49.js","assets/utils-917b1704.js","assets/router-3052588b.js"]),()=>b(()=>Promise.resolve().then(()=>Ql),void 0),()=>b(()=>Promise.resolve().then(()=>Sa),void 0)],n=await Promise.allSettled(t.map(a=>a()));console.log(`Preloaded ${n.filter(a=>a.status==="fulfilled").length}/${n.length} services`)}async preloadEssentialData(t){if(t)try{const n=[];n.push(b(()=>Promise.resolve().then(()=>cr),void 0).then(async({dogService:i})=>{try{const o=await i.getMyDogs();return nt.set("user_dogs",o,10*60*1e3),o}catch{return null}})),navigator.geolocation&&n.push(new Promise(i=>{navigator.geolocation.getCurrentPosition(async o=>{try{const{gardenService:c}=await b(()=>import("./gardenService-8e5619dd.js"),["assets/gardenService-8e5619dd.js","assets/vendor-021dee49.js","assets/utils-917b1704.js","assets/router-3052588b.js"]),l=await c.getNearbyGardens(o.coords.latitude,o.coords.longitude,10);nt.set("nearby_gardens",l,5*60*1e3),nt.set("user_location",{lat:o.coords.latitude,lng:o.coords.longitude},30*60*1e3),i(l)}catch{i(null)}},()=>i(null),{timeout:5e3})}));const a=await Promise.allSettled(n);console.log(`Preloaded ${a.filter(i=>i.status==="fulfilled").length} data sources`)}catch(n){console.warn("Failed to preload some data:",n)}}async preloadComponents(){const t=[()=>b(()=>Promise.resolve().then(()=>Hl),void 0),()=>b(()=>Promise.resolve().then(()=>Ml),void 0),()=>b(()=>Promise.resolve().then(()=>Ol),void 0),()=>b(()=>import("./index-55311b9b.js"),["assets/index-55311b9b.js","assets/vendor-021dee49.js","assets/utils-917b1704.js","assets/router-3052588b.js"])],n=await Promise.allSettled(t.map(a=>a()));console.log(`Preloaded ${n.filter(a=>a.status==="fulfilled").length}/${n.length} components`)}async preloadAll(t=null){console.log("🚀 Starting app preload...");const n=[{name:"services",fn:()=>this.preloadServices()},{name:"components",fn:()=>this.preloadComponents()}];t&&n.push({name:"data",fn:()=>this.preloadEssentialData(t)});for(const a of n)try{await a.fn(),console.log(`✅ ${a.name} preloaded`)}catch(i){console.warn(`⚠️ Failed to preload ${a.name}:`,i)}console.log("🎉 App preload complete!")}isReady(){return this.preloadedServices.size>0}}const Lt=new ql,Yl=({fallback:e})=>{const t=ve(),[n,a]=s.useState("טוען..."),[i,o]=s.useState(0);return s.useEffect(()=>{a((u=>u.includes("dashboard")?"טוען דשבורד...":u.includes("gardens")?"טוען גנים...":u.includes("dogs")||u.includes("my-dogs")?"טוען כלבים...":u.includes("profile")?"טוען פרופיל...":u.includes("events")?"טוען אירועים...":u.includes("friends")?"טוען חברים...":u.includes("messages")?"טוען הודעות...":u.includes("check-in")?"טוען check-in...":u.includes("admin")?"טוען ניהול...":u.includes("journal")?"טוען יומן...":u.includes("rewards")?"טוען פרסים...":u.includes("scanner")?"טוען סורק...":"טוען...")(t.pathname));let l=0;const d=setInterval(()=>{l+=Math.random()*15+5,l>=90&&(l=90,clearInterval(d)),o(l)},100);return()=>clearInterval(d)},[t.pathname]),e||r.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 flex items-center justify-center",children:r.jsxs("div",{className:"text-center",children:[r.jsxs("div",{className:"relative mb-8",children:[r.jsx("div",{className:"w-16 h-16 border-4 border-purple-200 dark:border-purple-800 rounded-full animate-spin",children:r.jsx("div",{className:"absolute top-0 left-0 w-16 h-16 border-4 border-purple-600 dark:border-purple-400 rounded-full border-t-transparent animate-spin"})}),r.jsx("div",{className:"absolute inset-2 w-12 h-12 border-2 border-pink-300 dark:border-pink-700 rounded-full animate-ping opacity-75"}),r.jsx("div",{className:"absolute inset-6 w-4 h-4 bg-gradient-to-r from-purple-500 to-pink-500 rounded-full animate-pulse"})]}),r.jsxs("div",{className:"mb-6",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-2",children:n}),r.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:[i<30&&"מכין את הדף...",i>=30&&i<60&&"טוען נתונים...",i>=60&&i<90&&"כמעט מוכן...",i>=90&&"מסיים..."]})]}),r.jsx("div",{className:"w-64 bg-gray-200 dark:bg-gray-700 rounded-full h-2 mb-4",children:r.jsx("div",{className:"bg-gradient-to-r from-purple-500 to-pink-500 h-2 rounded-full transition-all duration-300 ease-out",style:{width:`${Math.min(i,100)}%`}})}),r.jsxs("div",{className:"flex justify-center space-x-1",children:[r.jsx("div",{className:"w-2 h-2 bg-purple-500 rounded-full animate-bounce",style:{animationDelay:"0ms"}}),r.jsx("div",{className:"w-2 h-2 bg-purple-500 rounded-full animate-bounce",style:{animationDelay:"150ms"}}),r.jsx("div",{className:"w-2 h-2 bg-purple-500 rounded-full animate-bounce",style:{animationDelay:"300ms"}})]})]})})},hn={async checkIn(e){return(await k.post("/visits/checkin",e)).data},async checkOut(e){return(await k.post("/visits/checkout",e)).data},async getMyVisits(e={}){return(await k.get("/visits/my-visits",{params:e})).data},async getActiveVisit(){return(await k.get("/visits/active")).data}},Ql=Object.freeze(Object.defineProperty({__proto__:null,visitService:hn},Symbol.toStringTag,{value:"Module"})),gn={async getMyDogs(){return(await k.get("/dogs")).data},async getDogById(e){return(await k.get(`/dogs/${e}`)).data},async createDog(e){return(await k.post("/dogs",e)).data},async updateDog(e,t){return(await k.put(`/dogs/${e}`,t)).data},async deleteDog(e){return(await k.delete(`/dogs/${e}`)).data},async getDogPublicProfile(e){return(await k.get(`/dogs/profile/${e}`)).data},async updateCustomProfile(e,t){return(await k.put(`/dogs/${e}/custom-profile`,t)).data}},cr=Object.freeze(Object.defineProperty({__proto__:null,dogService:gn},Symbol.toStringTag,{value:"Module"})),Jl=()=>{var E,w,S;const{gardenId:e}=bn(),t=ut(),n=ve();we();const a=(E=n.state)==null?void 0:E.garden,i=(w=n.state)==null?void 0:w.fromQRScan,[o,c]=s.useState([]),[l,d]=s.useState([]),[u,m]=s.useState(""),[f,h]=s.useState(!1),[p,g]=s.useState(!0);s.useEffect(()=>{x()},[]);const x=async()=>{try{const C=(await gn.getMyDogs()).dogs.filter(A=>A.isActive);c(C),d(C.map(A=>A._id))}catch(j){console.error("Error loading dogs:",j),T.error("Failed to load your dogs")}finally{g(!1)}},v=j=>{d(C=>C.includes(j)?C.filter(A=>A!==j):[...C,j])},P=async()=>{var j,C;if(l.length===0){T.error("Please select at least one dog");return}h(!0);try{const A={gardenId:e,dogIds:l,notes:u.trim()||"Quick QR check-in"},D=await hn.checkIn(A);if(T.success(`🎉 Successfully checked in to ${(a==null?void 0:a.name)||"the garden"}!`),D.gamification){const{points:F,badges:G,streak:U}=D.gamification;(F==null?void 0:F.pointsAwarded)>0&&setTimeout(()=>{T.success(`✨ Earned ${F.pointsAwarded} points!`)},1e3),G&&G.length>0&&G.forEach((z,B)=>{setTimeout(()=>{T.success(`🏆 New badge: ${z.name}!`)},1500+B*500)}),U!=null&&U.isNewRecord&&setTimeout(()=>{T.success(`🔥 New streak record: ${U.currentStreak} days!`)},2e3)}t("/check-in")}catch(A){console.error("Check-in error:",A),T.error(((C=(j=A.response)==null?void 0:j.data)==null?void 0:C.error)||"Failed to check in")}finally{h(!1)}},O=()=>{t(i?"/scan":-1)};return a?r.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900",children:r.jsxs("div",{className:"max-w-lg mx-auto",children:[r.jsxs("div",{className:"bg-gradient-to-br from-green-600 via-emerald-600 to-teal-700 dark:from-green-700 dark:via-emerald-700 dark:to-teal-800 mx-4 mt-4 rounded-3xl p-6 text-white relative overflow-hidden",children:[r.jsx("div",{className:"absolute -top-6 -right-6 opacity-20",children:r.jsx(bi,{className:"h-24 w-24"})}),r.jsxs("div",{className:"relative z-10",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("button",{onClick:O,className:"p-2 bg-white bg-opacity-20 rounded-full hover:bg-opacity-30 transition-all",children:r.jsx(Lo,{className:"h-5 w-5"})}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(on,{className:"h-5 w-5"}),r.jsx("span",{className:"text-sm font-medium",children:"Quick Check-in"})]})]}),r.jsxs("div",{className:"text-center",children:[r.jsx("h1",{className:"text-2xl font-bold mb-2",children:a.name}),r.jsxs("div",{className:"flex items-center justify-center space-x-2 text-green-100",children:[r.jsx(Ue,{className:"h-4 w-4"}),r.jsx("span",{className:"text-sm",children:((S=a.location)==null?void 0:S.address)||"Address not available"})]})]})]})]}),r.jsx("div",{className:"px-4 py-6",children:p?r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-3xl p-8 text-center",children:[r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-4 border-blue-600 border-t-transparent mx-auto mb-4"}),r.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Loading your dogs..."})]}):r.jsxs("div",{className:"space-y-6",children:[r.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-3xl shadow-lg border border-gray-100 dark:border-gray-700",children:r.jsxs("div",{className:"p-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsxs("h2",{className:"text-lg font-bold text-gray-900 dark:text-white flex items-center",children:[r.jsx(He,{className:"h-5 w-5 mr-2 text-pink-500"}),"Select Dogs (",l.length,")"]}),r.jsxs("span",{className:"text-xs text-gray-500 dark:text-gray-400 bg-gray-100 dark:bg-gray-700 px-2 py-1 rounded-full",children:[o.length," available"]})]}),o.length===0?r.jsxs("div",{className:"text-center py-8",children:[r.jsx(He,{className:"h-12 w-12 text-gray-300 mx-auto mb-3"}),r.jsx("p",{className:"text-gray-500 dark:text-gray-400 mb-4",children:"No dogs found"}),r.jsx("button",{onClick:()=>t("/my-dogs"),className:"text-blue-600 hover:text-blue-700 font-medium",children:"Add your first dog"})]}):r.jsx("div",{className:"grid grid-cols-1 gap-3",children:o.map(j=>r.jsxs("button",{onClick:()=>v(j._id),className:`flex items-center space-x-3 p-4 rounded-2xl border-2 transition-all ${l.includes(j._id)?"border-green-500 bg-green-50 dark:bg-green-900/20":"border-gray-200 dark:border-gray-600 hover:border-gray-300 dark:hover:border-gray-500"}`,children:[r.jsxs("div",{className:"relative",children:[r.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-orange-100 to-amber-100 dark:from-orange-900 dark:to-amber-900 rounded-full flex items-center justify-center",children:j.profileImage?r.jsx("img",{src:j.profileImage,alt:j.name,className:"w-full h-full object-cover rounded-full"}):r.jsx("span",{className:"text-lg",children:"🐕"})}),l.includes(j._id)&&r.jsx("div",{className:"absolute -top-1 -right-1 w-5 h-5 bg-green-500 rounded-full flex items-center justify-center",children:r.jsx(ar,{className:"h-3 w-3 text-white"})})]}),r.jsxs("div",{className:"flex-1 text-left",children:[r.jsx("p",{className:"font-medium text-gray-900 dark:text-white",children:j.name}),r.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:j.breed||"Mixed breed"})]}),l.includes(j._id)&&r.jsx(ue,{className:"h-5 w-5 text-pink-500"})]},j._id))})]})}),r.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-3xl shadow-lg border border-gray-100 dark:border-gray-700",children:r.jsxs("div",{className:"p-6",children:[r.jsx("h3",{className:"text-lg font-bold text-gray-900 dark:text-white mb-4",children:"Notes (Optional)"}),r.jsx("textarea",{value:u,onChange:j=>m(j.target.value),placeholder:"Add any notes about this visit...",className:"w-full px-4 py-3 rounded-2xl border border-gray-200 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-green-500 focus:border-transparent resize-none",rows:"3"})]})}),r.jsxs("div",{className:"space-y-3",children:[r.jsx("button",{onClick:P,disabled:l.length===0||f,className:"w-full bg-gradient-to-r from-green-500 to-emerald-600 text-white py-4 rounded-2xl font-bold text-lg hover:from-green-600 hover:to-emerald-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200 transform hover:scale-105 active:scale-95 flex items-center justify-center space-x-2",children:f?r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-2 border-white border-t-transparent"}),r.jsx("span",{children:"Checking In..."})]}):r.jsxs(r.Fragment,{children:[r.jsx(ar,{className:"h-6 w-6"}),r.jsx("span",{children:"Check In Now"})]})}),r.jsx("div",{className:"text-center",children:r.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"This will start your visit timer and award points"})})]})]})})]})}):r.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 flex items-center justify-center p-4",children:r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-3xl p-8 text-center max-w-sm w-full",children:[r.jsx(We,{className:"h-16 w-16 text-red-500 mx-auto mb-4"}),r.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-white mb-2",children:"Garden Not Found"}),r.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-6",children:"The garden information could not be loaded."}),r.jsx("button",{onClick:()=>t("/gardens"),className:"w-full bg-blue-500 text-white py-3 rounded-xl font-medium hover:bg-blue-600 transition-colors",children:"Browse Gardens"})]})})},Xl=e=>{const t=ve();return s.useEffect(()=>{(()=>{const o=t.pathname,c={"/":["Dashboard","Gardens","Login"],"/login":["Dashboard","Register"],"/register":["Dashboard","Login"],"/dashboard":["Gardens","MyDogs","Profile","CheckIn"],"/gardens":["GardenDetail","CheckIn","Dashboard"],"/gardens/:id":["CheckIn","Gardens","MyDogs"],"/my-dogs":["Profile","Dashboard","DogCustomProfile"],"/profile":["MyDogs","Dashboard","Settings"],"/check-in":["Gardens","Dashboard","MyDogs"],"/events":["EventDetail","Gardens","Dashboard"],"/friends":["Messages","Profile","Dashboard"],"/messages":["Friends","Dashboard"],"/rewards":["Profile","Dashboard"],"/admin":["AdminRequests","AdminSettings","ApiUsageMonitor"]};let l=[];for(const[d,u]of Object.entries(c))if(d.includes(":")){const m=d.split("/:")[0];if(o.startsWith(m)){l=u;break}}else if(o===d||o.startsWith(d)){l=u;break}l.length>0&&setTimeout(()=>{l.forEach((d,u)=>{e[d]&&e[d].preload&&setTimeout(()=>{try{e[d].preload(),console.log(`📦 Preloaded: ${d}`)}catch(m){console.warn(`Failed to preload ${d}:`,m)}},u*200)})},1e3)})()},[t.pathname,e]),{preloadOnHover:i=>{if(e[i]&&e[i].preload)try{e[i].preload(),console.log(`🎯 Hover preloaded: ${i}`)}catch(o){console.warn(`Failed to preload ${i} on hover:`,o)}},preloadCritical:i=>{i.forEach((o,c)=>{e[o]&&e[o].preload&&setTimeout(()=>{try{e[o].preload(),console.log(`⚡ Critical preloaded: ${o}`)}catch(l){console.warn(`Failed to critical preload ${o}:`,l)}},c*100)})}}},$=(e,t)=>{const n=s.lazy(e);return n.preload=e,n.displayName=t,n},Kl=$(()=>b(()=>import("./LandingPage-c4b337df.js"),["assets/LandingPage-c4b337df.js","assets/vendor-021dee49.js","assets/router-3052588b.js","assets/index.esm-46109d9d.js","assets/GoogleSignInButton-7f9645bd.js","assets/UserIcon-725f4b63.js","assets/PhoneIcon-ccc078a9.js","assets/EnvelopeIcon-88013258.js","assets/LockClosedIcon-973e8386.js","assets/EyeSlashIcon-3abbdbae.js","assets/EyeIcon-6ff4a41f.js","assets/UsersIcon-5daddd34.js","assets/utils-917b1704.js"]),"LandingPage"),dr=$(()=>b(()=>import("./Login-6152da94.js"),["assets/Login-6152da94.js","assets/vendor-021dee49.js","assets/router-3052588b.js","assets/index.esm-46109d9d.js","assets/GoogleSignInButton-7f9645bd.js","assets/EnvelopeIcon-26482ecb.js","assets/utils-917b1704.js"]),"Login"),ur=$(()=>b(()=>import("./Register-49b2c0ae.js"),["assets/Register-49b2c0ae.js","assets/vendor-021dee49.js","assets/router-3052588b.js","assets/index.esm-46109d9d.js","assets/GoogleSignInButton-7f9645bd.js","assets/CheckBadgeIcon-19faa017.js","assets/EnvelopeIcon-88013258.js","assets/PhoneIcon-ccc078a9.js","assets/SparklesIcon-e56adbd8.js","assets/LockClosedIcon-973e8386.js","assets/utils-917b1704.js"]),"Register"),mr=$(()=>b(()=>import("./Dashboard-df751962.js"),["assets/Dashboard-df751962.js","assets/vendor-021dee49.js","assets/router-3052588b.js","assets/gardenService-8e5619dd.js","assets/utils-917b1704.js","assets/SkeletonLoading-3b438a19.js","assets/CheckIcon-3891f6eb.js","assets/CameraIcon-e10f98e6.js","assets/EyeIcon-6ff4a41f.js","assets/MagnifyingGlassIcon-f062adc4.js","assets/StopIcon-2eadb9c5.js","assets/ClockIcon-d6d0aaad.js"]),"Dashboard"),fr=$(()=>b(()=>import("./Gardens-bce1f201.js"),["assets/Gardens-bce1f201.js","assets/vendor-021dee49.js","assets/router-3052588b.js","assets/gardenService-8e5619dd.js","assets/utils-917b1704.js","assets/SkeletonLoading-3b438a19.js","assets/BellIcon-587118bd.js","assets/UserIcon-725f4b63.js","assets/EnvelopeIcon-88013258.js","assets/InformationCircleIcon-c0454e63.js","assets/CheckIcon-3891f6eb.js","assets/BellIcon-d89f06db.js","assets/MagnifyingGlassIcon-f062adc4.js","assets/GlobeAltIcon-f8e2b057.js","assets/LockClosedIcon-973e8386.js","assets/PlusIcon-d0c3f3f8.js","assets/ArrowPathIcon-a9aaab64.js","assets/StarIcon-7759d6c0.js","assets/ClockIcon-d6d0aaad.js"]),"Gardens"),hr=$(()=>b(()=>import("./GardenDetail-a2e4eb68.js"),["assets/GardenDetail-a2e4eb68.js","assets/vendor-021dee49.js","assets/gardenService-8e5619dd.js","assets/utils-917b1704.js","assets/router-3052588b.js","assets/SkeletonLoading-3b438a19.js","assets/StartChatButton-0f462bef.js","assets/ChatBubbleLeftIcon-5a8a0035.js","assets/ClockIcon-d6d0aaad.js","assets/StarIcon-7759d6c0.js","assets/QRCodeGenerator-4098bf1e.js","assets/CheckIcon-3891f6eb.js","assets/ShareIcon-8f4ee12b.js","assets/ArrowPathIcon-a9aaab64.js","assets/BellIcon-587118bd.js","assets/BellIcon-d89f06db.js","assets/CheckCircleIcon-ad35d564.js","assets/EnvelopeIcon-88013258.js","assets/ChatBubbleBottomCenterTextIcon-6ed762d8.js","assets/PhoneIcon-ccc078a9.js"]),"GardenDetail"),gr=$(()=>b(()=>import("./MyDogs-1b25317d.js"),["assets/MyDogs-1b25317d.js","assets/vendor-021dee49.js","assets/router-3052588b.js","assets/SkeletonLoading-3b438a19.js","assets/index.esm-46109d9d.js","assets/PhotoIcon-4f8783ce.js","assets/TrashIcon-e750183e.js","assets/PlusIcon-d0c3f3f8.js","assets/PlusCircleIcon-7f096a1b.js","assets/PencilSquareIcon-ae0df1ee.js","assets/utils-917b1704.js"]),"MyDogs"),pr=$(()=>b(()=>import("./Profile-68d62f68.js"),["assets/Profile-68d62f68.js","assets/vendor-021dee49.js","assets/index.esm-46109d9d.js","assets/SkeletonLoading-3b438a19.js","assets/requestService-d37670e9.js","assets/gardenService-8e5619dd.js","assets/utils-917b1704.js","assets/router-3052588b.js","assets/InformationCircleIcon-c0454e63.js","assets/PencilSquareIcon-ae0df1ee.js","assets/EnvelopeIcon-88013258.js","assets/PhoneIcon-ccc078a9.js","assets/LockClosedIcon-973e8386.js","assets/ClockIcon-d6d0aaad.js","assets/GlobeAltIcon-f8e2b057.js","assets/EyeIcon-6ff4a41f.js","assets/ExclamationTriangleIcon-2a54ccc6.js"]),"Profile"),xr=$(()=>b(()=>import("./CheckIn-1798e08c.js"),["assets/CheckIn-1798e08c.js","assets/vendor-021dee49.js","assets/SkeletonLoading-3b438a19.js","assets/router-3052588b.js","assets/CheckCircleIcon-ad35d564.js","assets/StopIcon-2eadb9c5.js","assets/EyeIcon-6ff4a41f.js","assets/ClockIcon-d6d0aaad.js","assets/utils-917b1704.js"]),"CheckIn"),vr=$(()=>b(()=>import("./Events-799625ee.js"),["assets/Events-799625ee.js","assets/vendor-021dee49.js","assets/router-3052588b.js","assets/eventService-0703f6fe.js","assets/utils-917b1704.js","assets/SkeletonLoading-3b438a19.js","assets/EventManager-556adb1f.js","assets/gardenService-8e5619dd.js","assets/TagIcon-32febfd4.js","assets/ClockIcon-d6d0aaad.js","assets/XCircleIcon-3fe8bf8c.js","assets/ArrowPathIcon-a9aaab64.js","assets/UsersIcon-5daddd34.js","assets/EyeIcon-6ff4a41f.js","assets/PencilIcon-141964e2.js","assets/PlusIcon-d0c3f3f8.js","assets/CogIcon-57d60756.js","assets/MagnifyingGlassIcon-f062adc4.js","assets/AcademicCapIcon-9bb0a344.js"]),"Events"),br=$(()=>b(()=>import("./EventDetail-f7d661f7.js"),["assets/EventDetail-f7d661f7.js","assets/vendor-021dee49.js","assets/SkeletonLoading-3b438a19.js","assets/eventService-0703f6fe.js","assets/utils-917b1704.js","assets/router-3052588b.js","assets/ClockIcon-d6d0aaad.js","assets/XCircleIcon-3fe8bf8c.js","assets/TagIcon-32febfd4.js","assets/InformationCircleIcon-c0454e63.js","assets/UserIcon-725f4b63.js"]),"EventDetail"),ec=$(()=>b(()=>import("./PublicEvents-739ddd1a.js"),["assets/PublicEvents-739ddd1a.js","assets/vendor-021dee49.js","assets/router-3052588b.js","assets/eventService-0703f6fe.js","assets/utils-917b1704.js","assets/MagnifyingGlassIcon-f062adc4.js","assets/ClockIcon-d6d0aaad.js"]),"PublicEvents"),wr=$(()=>b(()=>import("./Friends-24d0f392.js"),["assets/Friends-24d0f392.js","assets/vendor-021dee49.js","assets/StartChatButton-0f462bef.js","assets/router-3052588b.js","assets/ChatBubbleLeftIcon-5a8a0035.js","assets/SkeletonLoading-3b438a19.js","assets/UsersIcon-5daddd34.js","assets/MagnifyingGlassIcon-f062adc4.js","assets/UserMinusIcon-8e12b70d.js","assets/CheckIcon-3891f6eb.js","assets/utils-917b1704.js"]),"Friends"),yr=$(()=>b(()=>import("./Messages-3cec734c.js"),["assets/Messages-3cec734c.js","assets/vendor-021dee49.js","assets/router-3052588b.js","assets/ChatBubbleLeftIcon-5a8a0035.js","assets/UserIcon-725f4b63.js","assets/utils-917b1704.js"]),"Messages"),jr=$(()=>b(()=>import("./Notifications-1177a9e0.js"),["assets/Notifications-1177a9e0.js","assets/vendor-021dee49.js","assets/SkeletonLoading-3b438a19.js","assets/BellIcon-d89f06db.js","assets/CheckCircleIcon-ad35d564.js","assets/MagnifyingGlassIcon-f062adc4.js","assets/ClockIcon-d6d0aaad.js","assets/EyeIcon-6ff4a41f.js","assets/TrashIcon-e750183e.js","assets/utils-917b1704.js","assets/router-3052588b.js"]),"Notifications"),tc=$(()=>b(()=>import("./DogPublicProfile-c7e9e84d.js"),["assets/DogPublicProfile-c7e9e84d.js","assets/vendor-021dee49.js","assets/StartChatButton-0f462bef.js","assets/router-3052588b.js","assets/ChatBubbleLeftIcon-5a8a0035.js","assets/CameraIcon-e10f98e6.js","assets/ChatBubbleBottomCenterTextIcon-6ed762d8.js","assets/StarIcon-7759d6c0.js","assets/UserMinusIcon-8e12b70d.js","assets/ClockIcon-d6d0aaad.js","assets/CheckIcon-3891f6eb.js","assets/utils-917b1704.js"]),"DogPublicProfile"),rc=$(()=>b(()=>import("./DogCustomProfile-988351e4.js"),["assets/DogCustomProfile-988351e4.js","assets/vendor-021dee49.js","assets/CustomProfileEditor-023afb3e.js","assets/EyeSlashIcon-3abbdbae.js","assets/EyeIcon-6ff4a41f.js","assets/router-3052588b.js","assets/utils-917b1704.js"]),"DogCustomProfile"),nc=$(()=>b(()=>import("./GardenCustomProfile-ecc5e9ea.js"),["assets/GardenCustomProfile-ecc5e9ea.js","assets/vendor-021dee49.js","assets/gardenService-8e5619dd.js","assets/utils-917b1704.js","assets/router-3052588b.js","assets/CustomProfileEditor-023afb3e.js","assets/EyeSlashIcon-3abbdbae.js","assets/EyeIcon-6ff4a41f.js"]),"GardenCustomProfile"),kr=$(()=>b(()=>import("./AdminDashboard-9cd3d097.js"),["assets/AdminDashboard-9cd3d097.js","assets/vendor-021dee49.js","assets/SkeletonLoading-3b438a19.js","assets/router-3052588b.js","assets/ChartBarIcon-d2682d5e.js","assets/CogIcon-57d60756.js","assets/EyeIcon-6ff4a41f.js","assets/XCircleIcon-3fe8bf8c.js","assets/PencilSquareIcon-ae0df1ee.js","assets/utils-917b1704.js"]),"AdminDashboard"),Er=$(()=>b(()=>import("./AdminRequests-cbf166a9.js"),["assets/AdminRequests-cbf166a9.js","assets/vendor-021dee49.js","assets/requestService-d37670e9.js","assets/SkeletonLoading-3b438a19.js","assets/router-3052588b.js","assets/InformationCircleIcon-c0454e63.js","assets/ClockIcon-d6d0aaad.js","assets/EyeIcon-6ff4a41f.js","assets/utils-917b1704.js"]),"AdminRequests"),Nr=$(()=>b(()=>import("./AdminSettings-3d5462a0.js"),["assets/AdminSettings-3d5462a0.js","assets/vendor-021dee49.js","assets/SkeletonLoading-3b438a19.js","assets/router-3052588b.js","assets/CogIcon-57d60756.js","assets/ChartBarIcon-d2682d5e.js","assets/BellIcon-d89f06db.js","assets/ExclamationTriangleIcon-2a54ccc6.js","assets/utils-917b1704.js"]),"AdminSettings"),ac=$(()=>b(()=>import("./ApiUsageMonitor-77fd61ca.js"),["assets/ApiUsageMonitor-77fd61ca.js","assets/vendor-021dee49.js","assets/SkeletonLoading-3b438a19.js","assets/router-3052588b.js","assets/ChartBarIcon-d2682d5e.js","assets/ClockIcon-d6d0aaad.js","assets/ExclamationTriangleIcon-2a54ccc6.js","assets/GlobeAltIcon-f8e2b057.js","assets/EyeIcon-6ff4a41f.js","assets/utils-917b1704.js"]),"ApiUsageMonitor"),sc=$(()=>b(()=>import("./GardenManager-3418a5ca.js"),["assets/GardenManager-3418a5ca.js","assets/vendor-021dee49.js","assets/router-3052588b.js","assets/QRCodeGenerator-4098bf1e.js","assets/CheckIcon-3891f6eb.js","assets/ShareIcon-8f4ee12b.js","assets/ArrowPathIcon-a9aaab64.js","assets/EventManager-556adb1f.js","assets/eventService-0703f6fe.js","assets/utils-917b1704.js","assets/gardenService-8e5619dd.js","assets/TagIcon-32febfd4.js","assets/ClockIcon-d6d0aaad.js","assets/XCircleIcon-3fe8bf8c.js","assets/UsersIcon-5daddd34.js","assets/EyeIcon-6ff4a41f.js","assets/PencilIcon-141964e2.js","assets/ChartBarIcon-d2682d5e.js","assets/EnvelopeIcon-88013258.js","assets/BellIcon-587118bd.js","assets/EnvelopeIcon-26482ecb.js","assets/BellIcon-d89f06db.js","assets/SkeletonLoading-3b438a19.js","assets/CogIcon-57d60756.js","assets/PlusCircleIcon-7f096a1b.js","assets/PencilSquareIcon-ae0df1ee.js","assets/TrashIcon-e750183e.js","assets/SparklesIcon-e56adbd8.js"]),"GardenManager"),_r=$(()=>b(()=>import("./RewardsCenter-42575b2c.js"),["assets/RewardsCenter-42575b2c.js","assets/vendor-021dee49.js","assets/LockClosedIcon-973e8386.js","assets/router-3052588b.js","assets/ChartBarIcon-d2682d5e.js","assets/AcademicCapIcon-9bb0a344.js","assets/StarIcon-7759d6c0.js","assets/utils-917b1704.js"]),"RewardsCenter"),Sr=$(()=>b(()=>import("./DogParkFinder-bde4212b.js"),["assets/DogParkFinder-bde4212b.js","assets/vendor-021dee49.js","assets/index-55311b9b.js","assets/utils-917b1704.js","assets/router-3052588b.js","assets/MagnifyingGlassIcon-f062adc4.js","assets/ArrowPathIcon-a9aaab64.js","assets/GlobeAltIcon-f8e2b057.js","assets/PlusIcon-d0c3f3f8.js","assets/CheckBadgeIcon-19faa017.js","assets/StarIcon-7759d6c0.js","assets/ClockIcon-d6d0aaad.js","assets/PhoneIcon-ccc078a9.js","assets/CameraIcon-e10f98e6.js"]),"DogParkFinder"),oc=$(()=>b(()=>import("./QRScannerScreen-796f9802.js"),["assets/QRScannerScreen-796f9802.js","assets/vendor-021dee49.js","assets/QRScanner-2e1766c7.js","assets/CameraIcon-e10f98e6.js","assets/ArrowPathIcon-a9aaab64.js","assets/gardenService-8e5619dd.js","assets/utils-917b1704.js","assets/router-3052588b.js"]),"QRScannerScreen"),ic=$(()=>b(()=>import("./DogJournal-a48696f5.js"),["assets/DogJournal-a48696f5.js","assets/vendor-021dee49.js","assets/router-3052588b.js","assets/dogJournalService-9da19975.js","assets/PlusIcon-d0c3f3f8.js","assets/EyeIcon-6ff4a41f.js","assets/PencilIcon-141964e2.js","assets/TrashIcon-e750183e.js","assets/HandThumbDownIcon-0a852cda.js","assets/utils-917b1704.js"]),"DogJournal"),lc=$(()=>b(()=>import("./DogJournalCreate-7ce77480.js"),["assets/DogJournalCreate-7ce77480.js","assets/vendor-021dee49.js","assets/dogJournalService-9da19975.js","assets/gardenService-8e5619dd.js","assets/utils-917b1704.js","assets/router-3052588b.js","assets/PhotoIcon-4f8783ce.js","assets/HandThumbDownIcon-02009664.js","assets/PlusIcon-d0c3f3f8.js"]),"DogJournalCreate"),cc=$(()=>b(()=>import("./DogJournalEdit-9e368444.js"),["assets/DogJournalEdit-9e368444.js","assets/vendor-021dee49.js","assets/dogJournalService-9da19975.js","assets/gardenService-8e5619dd.js","assets/utils-917b1704.js","assets/router-3052588b.js","assets/TrashIcon-e750183e.js","assets/PhotoIcon-4f8783ce.js","assets/HandThumbDownIcon-02009664.js","assets/PlusIcon-d0c3f3f8.js"]),"DogJournalEdit"),dc=$(()=>b(()=>import("./DogJournalView-83b14d5a.js"),["assets/DogJournalView-83b14d5a.js","assets/vendor-021dee49.js","assets/dogJournalService-9da19975.js","assets/router-3052588b.js","assets/PencilIcon-141964e2.js","assets/TrashIcon-e750183e.js","assets/TagIcon-32febfd4.js","assets/HandThumbDownIcon-0a852cda.js","assets/utils-917b1704.js"]),"DogJournalView"),uc=$(()=>b(()=>import("./ChatPage-1f556a66.js"),["assets/ChatPage-1f556a66.js","assets/vendor-021dee49.js","assets/router-3052588b.js","assets/UserIcon-725f4b63.js","assets/utils-917b1704.js"]),"ChatPage"),mc=$(()=>b(()=>import("./TestPage-14c569fc.js"),["assets/TestPage-14c569fc.js","assets/vendor-021dee49.js","assets/UsersIcon-5daddd34.js","assets/utils-917b1704.js","assets/router-3052588b.js"]),"TestPage"),fc=$(()=>b(()=>import("./DemoSimplifiedLanding-eada118a.js"),["assets/DemoSimplifiedLanding-eada118a.js","assets/vendor-021dee49.js","assets/UsersIcon-5daddd34.js","assets/utils-917b1704.js","assets/router-3052588b.js"]),"DemoSimplifiedLanding"),hc=$(()=>b(()=>import("./NotificationTester-5610a075.js"),["assets/NotificationTester-5610a075.js","assets/vendor-021dee49.js","assets/utils-917b1704.js","assets/router-3052588b.js"]),"NotificationTester"),gc=$(()=>b(()=>import("./ExampleNotificationTriggers-396c5c7a.js"),["assets/ExampleNotificationTriggers-396c5c7a.js","assets/vendor-021dee49.js","assets/utils-917b1704.js","assets/router-3052588b.js"]),"ExampleNotificationTriggers"),pc=$(()=>b(()=>import("./AIImageGenerator-b1ce7f16.js"),["assets/AIImageGenerator-b1ce7f16.js","assets/vendor-021dee49.js","assets/router-3052588b.js","assets/PhotoIcon-4f8783ce.js","assets/utils-917b1704.js"]),"AIImageGenerator"),xc=$(()=>b(()=>import("./QRScannerDemo-3e6c9535.js"),["assets/QRScannerDemo-3e6c9535.js","assets/vendor-021dee49.js","assets/QRScanner-2e1766c7.js","assets/CameraIcon-e10f98e6.js","assets/ArrowPathIcon-a9aaab64.js","assets/ShareIcon-8f4ee12b.js","assets/utils-917b1704.js","assets/router-3052588b.js"]),"QRScannerDemo");function vc(){const{loading:e,user:t}=we();ve();const[n,a]=s.useState(!1),[i,o]=s.useState(0),[c,l]=s.useState(""),d={Dashboard:mr,Gardens:fr,GardenDetail:hr,MyDogs:gr,Profile:pr,CheckIn:xr,Events:vr,EventDetail:br,Friends:wr,Messages:yr,Notifications:jr,Login:dr,Register:ur,RewardsCenter:_r,DogParkFinder:Sr,AdminDashboard:kr,AdminRequests:Er,AdminSettings:Nr},{preloadOnHover:u,preloadCritical:m}=Xl(d);return s.useEffect(()=>{n&&t&&m(["Gardens","MyDogs","Profile","Dashboard"])},[n,t,m]),s.useEffect(()=>{e||(async()=>{const h=[{name:"טוען רכיבים...",action:()=>Lt.preloadComponents(),progress:25},{name:"מכין שירותים...",action:()=>Lt.preloadServices(),progress:50},{name:"טוען נתונים...",action:()=>Lt.preloadEssentialData(t),progress:75},{name:"מסיים הכנות...",action:()=>new Promise(p=>setTimeout(p,200)),progress:100}];for(const p of h){l(p.name),o(p.progress);try{await p.action()}catch(g){console.warn(`Failed step: ${p.name}`,g)}}a(!0)})()},[e,t]),e||!n?r.jsxs("div",{className:"min-h-screen flex flex-col items-center justify-center bg-white dark:bg-gray-900",children:[r.jsx(fn,{fullScreen:!0}),!e&&r.jsxs("div",{className:"absolute bottom-20 left-1/2 transform -translate-x-1/2 w-64",children:[r.jsx("div",{className:"bg-gray-200 dark:bg-gray-700 rounded-full h-2 mb-2",children:r.jsx("div",{className:"bg-gradient-to-r from-purple-500 to-blue-500 h-2 rounded-full transition-all duration-300",style:{width:`${i}%`}})}),r.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400 text-center",children:[c," ",Math.round(i),"%"]})]})]}):r.jsx(Ra,{children:r.jsx(Gl,{children:r.jsx(s.Suspense,{fallback:r.jsx(Yl,{}),children:r.jsxs(wn,{children:[r.jsx(N,{path:"/",element:r.jsx(Kl,{})}),r.jsx(N,{path:"/test",element:r.jsx(mc,{})}),r.jsx(N,{path:"/demo",element:r.jsx(fc,{})}),r.jsx(N,{path:"/login",element:r.jsx(dr,{})}),r.jsx(N,{path:"/register",element:r.jsx(ur,{})}),r.jsx(N,{path:"/dogs/profile/:id",element:r.jsx(tc,{})}),r.jsxs(N,{element:r.jsx(Bt,{}),children:[r.jsx(N,{path:"/gardens",element:r.jsx(fr,{})}),r.jsx(N,{path:"/garden/:id",element:r.jsx(hr,{})}),r.jsx(N,{path:"/public-events",element:r.jsx(ec,{})})]}),r.jsx(N,{element:r.jsx(mn,{}),children:r.jsxs(N,{element:r.jsx(Bt,{}),children:[r.jsx(N,{path:"/dashboard",element:r.jsx(mr,{})}),r.jsx(N,{path:"/rewards",element:r.jsx(_r,{})}),r.jsx(N,{path:"/events",element:r.jsx(vr,{})}),r.jsx(N,{path:"/events/:id",element:r.jsx(br,{})}),r.jsx(N,{path:"/my-dogs",element:r.jsx(gr,{})}),r.jsx(N,{path:"/my-dogs/:id/custom-profile",element:r.jsx(rc,{})}),r.jsx(N,{path:"/profile",element:r.jsx(pr,{})}),r.jsx(N,{path:"/check-in",element:r.jsx(xr,{})}),r.jsx(N,{path:"/friends",element:r.jsx(wr,{})}),r.jsx(N,{path:"/notifications",element:r.jsx(jr,{})}),r.jsx(N,{path:"/messages",element:r.jsx(yr,{})}),r.jsx(N,{path:"/chat/:chatId",element:r.jsx(uc,{})}),r.jsx(N,{path:"/admin",element:r.jsx(Ce,{allowedRoles:["admin"],children:r.jsx(kr,{})})}),r.jsx(N,{path:"/admin/requests",element:r.jsx(Ce,{allowedRoles:["admin"],children:r.jsx(Er,{})})}),r.jsx(N,{path:"/admin/settings",element:r.jsx(Ce,{allowedRoles:["admin"],children:r.jsx(Nr,{})})}),r.jsx(N,{path:"/admin/api-usage",element:r.jsx(Ce,{allowedRoles:["admin"],children:r.jsx(ac,{})})}),r.jsx(N,{path:"/manage-gardens",element:r.jsx(Ce,{allowedRoles:["admin","garden_manager"],children:r.jsx(sc,{})})}),r.jsx(N,{path:"/gardens/:id/custom-profile",element:r.jsx(Ce,{allowedRoles:["admin","garden_manager"],children:r.jsx(nc,{})})}),r.jsx(N,{path:"/notification-test",element:r.jsx(hc,{})}),r.jsx(N,{path:"/notification-examples",element:r.jsx(gc,{})}),r.jsx(N,{path:"/dog-park-finder",element:r.jsx(Sr,{})}),r.jsx(N,{path:"/ai-generator",element:r.jsx(pc,{})}),r.jsx(N,{path:"/dog-journal",element:r.jsx(ic,{})}),r.jsx(N,{path:"/dog-journal/create",element:r.jsx(lc,{})}),r.jsx(N,{path:"/dog-journal/edit/:id",element:r.jsx(cc,{})}),r.jsx(N,{path:"/dog-journal/entry/:id",element:r.jsx(dc,{})}),r.jsx(N,{path:"/scan",element:r.jsx(oc,{})}),r.jsx(N,{path:"/scan-demo",element:r.jsx(xc,{})}),r.jsx(N,{path:"/scan/checkin/:gardenId",element:r.jsx(Jl,{})})]})})]})})})})}function bc(e={}){const{nonce:t,onScriptLoadSuccess:n,onScriptLoadError:a}=e,[i,o]=s.useState(!1),c=s.useRef(n);c.current=n;const l=s.useRef(a);return l.current=a,s.useEffect(()=>{const d=document.createElement("script");return d.src="https://accounts.google.com/gsi/client",d.async=!0,d.defer=!0,d.nonce=t,d.onload=()=>{var u;o(!0),(u=c.current)===null||u===void 0||u.call(c)},d.onerror=()=>{var u;o(!1),(u=l.current)===null||u===void 0||u.call(l)},document.body.appendChild(d),()=>{document.body.removeChild(d)}},[t]),i}const pn=s.createContext(null);function wc({clientId:e,nonce:t,onScriptLoadSuccess:n,onScriptLoadError:a,children:i}){const o=bc({nonce:t,onScriptLoadSuccess:n,onScriptLoadError:a}),c=s.useMemo(()=>({clientId:e,scriptLoadedSuccessfully:o}),[e,o]);return L.createElement(pn.Provider,{value:c},i)}function yc(){const e=s.useContext(pn);if(!e)throw new Error("Google OAuth components must be used within GoogleOAuthProvider");return e}function jc(e){var t;return(t=e==null?void 0:e.clientId)!==null&&t!==void 0?t:e==null?void 0:e.client_id}const kc={large:40,medium:32,small:20};function Cc({onSuccess:e,onError:t,useOneTap:n,promptMomentNotification:a,type:i="standard",theme:o="outline",size:c="large",text:l,shape:d,logo_alignment:u,width:m,locale:f,click_listener:h,containerProps:p,...g}){const x=s.useRef(null),{clientId:v,scriptLoadedSuccessfully:P}=yc(),O=s.useRef(e);O.current=e;const E=s.useRef(t);E.current=t;const w=s.useRef(a);return w.current=a,s.useEffect(()=>{var S,j,C,A,D,F,G,U,z;if(P)return(C=(j=(S=window==null?void 0:window.google)===null||S===void 0?void 0:S.accounts)===null||j===void 0?void 0:j.id)===null||C===void 0||C.initialize({client_id:v,callback:B=>{var Z;if(!(B!=null&&B.credential))return(Z=E.current)===null||Z===void 0?void 0:Z.call(E);const{credential:X,select_by:K}=B;O.current({credential:X,clientId:jc(B),select_by:K})},...g}),(F=(D=(A=window==null?void 0:window.google)===null||A===void 0?void 0:A.accounts)===null||D===void 0?void 0:D.id)===null||F===void 0||F.renderButton(x.current,{type:i,theme:o,size:c,text:l,shape:d,logo_alignment:u,width:m,locale:f,click_listener:h}),n&&((z=(U=(G=window==null?void 0:window.google)===null||G===void 0?void 0:G.accounts)===null||U===void 0?void 0:U.id)===null||z===void 0||z.prompt(w.current)),()=>{var B,Z,X;n&&((X=(Z=(B=window==null?void 0:window.google)===null||B===void 0?void 0:B.accounts)===null||Z===void 0?void 0:Z.id)===null||X===void 0||X.cancel())}},[v,P,n,i,o,c,l,d,u,m,f]),L.createElement("div",{...p,ref:x,style:{height:kc[c],...p==null?void 0:p.style}})}const Ec=({children:e})=>{const t="188318745522-muktsmh6h8g765jpbl54j6o2m95gmtia.apps.googleusercontent.com";return r.jsx(wc,{clientId:t,children:e})};"serviceWorker"in navigator&&window.addEventListener("load",()=>{navigator.serviceWorker.register("/sw.js").then(async e=>{if(console.log("SW registered: ",e),"Notification"in window){const t=await Notification.requestPermission();console.log("Notification permission:",t)}if("PushManager"in window)try{const t=await e.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Nc("BEl62iUYgUivxIkv69yViEuiBIa40HI6YUZgOku7GsOLRPQvvWGWCgcwYb6uFAYhvXvLJABWpXMYsYEVWczQu8M")});console.log("Push subscription:",t),(await fetch("http://localhost:5000/api/push-subscription",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)})).ok&&console.log("Push subscription sent to server")}catch(t){console.error("Failed to subscribe to push notifications:",t)}}).catch(e=>{console.log("SW registration failed: ",e)})});function Nc(e){const t="=".repeat((4-e.length%4)%4),n=(e+t).replace(/-/g,"+").replace(/_/g,"/"),a=window.atob(n),i=new Uint8Array(a.length);for(let o=0;o<a.length;++o)i[o]=a.charCodeAt(o);return i}$t.createRoot(document.getElementById("root")).render(r.jsx(Ec,{children:r.jsx(yn,{future:{v7_startTransition:!0,v7_relativeSplatPath:!0},children:r.jsx(ul,{children:r.jsxs(La,{children:[r.jsx(vc,{}),r.jsx(ka,{position:"top-right"})]})})})}));export{Lo as A,cn as B,ar as C,q as D,Te as E,ai as F,Cc as G,ue as H,Do as I,ti as J,Me as K,fn as L,Ue as M,yl as N,Rl as O,pi as P,bi as Q,kl as R,Si as S,Ai as T,Vi as U,We as X,ct as _,Ae as a,on as b,He as c,gn as d,T as e,Pe as f,ml as g,Yo as h,sr as i,r as j,k,zt as l,dl as m,Rc as n,Vt as o,nr as p,xe as q,ji as r,dt as s,$l as t,we as u,hn as v,_t as w,b as x,ci as y,or as z};
