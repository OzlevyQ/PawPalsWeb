import{r as n,a as fn,R as te,e as Er}from"./vendor-64832421.js";import{a as ei}from"./utils-917b1704.js";import{u as Ce,a as Ar,L as ce,O as Us,N as bn,b as cr,c as ti,R as ri,d as ue,B as si}from"./router-d0e0b470.js";(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))s(l);new MutationObserver(l=>{for(const i of l)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&s(o)}).observe(document,{childList:!0,subtree:!0});function a(l){const i={};return l.integrity&&(i.integrity=l.integrity),l.referrerPolicy&&(i.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?i.credentials="include":l.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function s(l){if(l.ep)return;l.ep=!0;const i=a(l);fetch(l.href,i)}})();var yn={exports:{}},cs={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ai=n,ni=Symbol.for("react.element"),li=Symbol.for("react.fragment"),ii=Object.prototype.hasOwnProperty,oi=ai.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,di={key:!0,ref:!0,__self:!0,__source:!0};function vn(t,r,a){var s,l={},i=null,o=null;a!==void 0&&(i=""+a),r.key!==void 0&&(i=""+r.key),r.ref!==void 0&&(o=r.ref);for(s in r)ii.call(r,s)&&!di.hasOwnProperty(s)&&(l[s]=r[s]);if(t&&t.defaultProps)for(s in r=t.defaultProps,r)l[s]===void 0&&(l[s]=r[s]);return{$$typeof:ni,type:t,key:i,ref:o,props:l,_owner:oi.current}}cs.Fragment=li;cs.jsx=vn;cs.jsxs=vn;yn.exports=cs;var e=yn.exports,Hs={},La=fn;Hs.createRoot=La.createRoot,Hs.hydrateRoot=La.hydrateRoot;const ci=()=>window.location.hostname.includes("ngrok")||window.location.hostname.includes("ngrok-free.app")?`${window.location.protocol}//${window.location.host}/api`:"/api",jn=ci();console.log("API URL configured as:",jn);const H=ei.create({baseURL:jn,headers:{"Content-Type":"application/json"}});H.interceptors.request.use(t=>{const r=localStorage.getItem("token");return console.log("API Request - Token found:",!!r),console.log("API Request - URL:",t.url),r?(t.headers.Authorization=`Bearer ${r}`,console.log("API Request - Authorization header set")):console.log("API Request - No token found in localStorage"),t},t=>Promise.reject(t));H.interceptors.response.use(t=>t,t=>{var r,a,s;if(((r=t.response)==null?void 0:r.status)===401){const l=window.location.pathname,i=((s=(a=t.response)==null?void 0:a.data)==null?void 0:s.error)==="Please authenticate",o=localStorage.getItem("token"),d=Date.now()-(localStorage.getItem("loginTime")||0)<5e3;l!=="/login"&&i&&!d&&!o&&(console.log("Authentication failed - redirecting to login"),localStorage.removeItem("token"),localStorage.removeItem("user"),localStorage.removeItem("loginTime"),window.location.href="/login")}return Promise.reject(t)});const mi=Object.freeze(Object.defineProperty({__proto__:null,default:H},Symbol.toStringTag,{value:"Module"})),st={async register(t){const r=await H.post("/auth/register",t),{token:a,user:s}=r.data;return a&&(localStorage.setItem("token",a),localStorage.setItem("user",JSON.stringify(s)),console.log("Token saved to localStorage:",a.substring(0,20)+"...")),{user:s,token:a}},async login(t){const r=await H.post("/auth/login",t),{token:a,user:s}=r.data;return a&&(localStorage.setItem("token",a),localStorage.setItem("user",JSON.stringify(s)),console.log("Token saved to localStorage:",a.substring(0,20)+"...")),{user:s,token:a}},async getProfile(){return(await H.get("/users/profile")).data},async updateProfile(t){return(await H.put("/users/profile",t)).data},async changePassword(t){return(await H.post("/users/change-password",t)).data},async getFavorites(){return(await H.get("/users/favorites")).data},async addFavorite(t){return(await H.post("/users/favorites",{gardenId:t})).data},async removeFavorite(t){return(await H.delete(`/users/favorites/${t}`)).data},async logout(){localStorage.removeItem("token"),localStorage.removeItem("user"),localStorage.removeItem("loginTime"),console.log("Token removed from localStorage");try{await H.post("/auth/logout")}catch{console.log("Backend logout call failed, but local cleanup done")}},async googleAuth(t){const r=await H.post("/auth/google",{credential:t}),{token:a,user:s}=r.data;return a&&(localStorage.setItem("token",a),localStorage.setItem("user",JSON.stringify(s)),console.log("Google auth token saved to localStorage")),{user:s,token:a}}},xi=Object.freeze(Object.defineProperty({__proto__:null,authService:st},Symbol.toStringTag,{value:"Module"}));function wn(t){var r,a,s="";if(typeof t=="string"||typeof t=="number")s+=t;else if(typeof t=="object")if(Array.isArray(t))for(r=0;r<t.length;r++)t[r]&&(a=wn(t[r]))&&(s&&(s+=" "),s+=a);else for(r in t)t[r]&&(s&&(s+=" "),s+=r);return s}function It(){for(var t,r,a=0,s="";a<arguments.length;)(t=arguments[a++])&&(r=wn(t))&&(s&&(s+=" "),s+=r);return s}const yr=t=>typeof t=="number"&&!isNaN(t),Jt=t=>typeof t=="string",Ge=t=>typeof t=="function",Zr=t=>Jt(t)||Ge(t)?t:null,Cs=t=>n.isValidElement(t)||Jt(t)||Ge(t)||yr(t);function gi(t,r,a){a===void 0&&(a=300);const{scrollHeight:s,style:l}=t;requestAnimationFrame(()=>{l.minHeight="initial",l.height=s+"px",l.transition=`all ${a}ms`,requestAnimationFrame(()=>{l.height="0",l.padding="0",l.margin="0",setTimeout(r,a)})})}function ms(t){let{enter:r,exit:a,appendPosition:s=!1,collapse:l=!0,collapseDuration:i=300}=t;return function(o){let{children:d,position:c,preventExitTransition:x,done:g,nodeRef:u,isIn:h}=o;const p=s?`${r}--${c}`:r,f=s?`${a}--${c}`:a,j=n.useRef(0);return n.useLayoutEffect(()=>{const m=u.current,E=p.split(" "),b=v=>{v.target===u.current&&(m.dispatchEvent(new Event("d")),m.removeEventListener("animationend",b),m.removeEventListener("animationcancel",b),j.current===0&&v.type!=="animationcancel"&&m.classList.remove(...E))};m.classList.add(...E),m.addEventListener("animationend",b),m.addEventListener("animationcancel",b)},[]),n.useEffect(()=>{const m=u.current,E=()=>{m.removeEventListener("animationend",E),l?gi(m,g,i):g()};h||(x?E():(j.current=1,m.className+=` ${f}`,m.addEventListener("animationend",E)))},[h]),te.createElement(te.Fragment,null,d)}}function Ta(t,r){return t!=null?{content:t.content,containerId:t.props.containerId,id:t.props.toastId,theme:t.props.theme,type:t.props.type,data:t.props.data||{},isLoading:t.props.isLoading,icon:t.props.icon,status:r}:{}}const rt={list:new Map,emitQueue:new Map,on(t,r){return this.list.has(t)||this.list.set(t,[]),this.list.get(t).push(r),this},off(t,r){if(r){const a=this.list.get(t).filter(s=>s!==r);return this.list.set(t,a),this}return this.list.delete(t),this},cancelEmit(t){const r=this.emitQueue.get(t);return r&&(r.forEach(clearTimeout),this.emitQueue.delete(t)),this},emit(t){this.list.has(t)&&this.list.get(t).forEach(r=>{const a=setTimeout(()=>{r(...[].slice.call(arguments,1))},0);this.emitQueue.has(t)||this.emitQueue.set(t,[]),this.emitQueue.get(t).push(a)})}},qr=t=>{let{theme:r,type:a,...s}=t;return te.createElement("svg",{viewBox:"0 0 24 24",width:"100%",height:"100%",fill:r==="colored"?"currentColor":`var(--toastify-icon-color-${a})`,...s})},Rs={info:function(t){return te.createElement(qr,{...t},te.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))},warning:function(t){return te.createElement(qr,{...t},te.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))},success:function(t){return te.createElement(qr,{...t},te.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))},error:function(t){return te.createElement(qr,{...t},te.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))},spinner:function(){return te.createElement("div",{className:"Toastify__spinner"})}};function ui(t){const[,r]=n.useReducer(p=>p+1,0),[a,s]=n.useState([]),l=n.useRef(null),i=n.useRef(new Map).current,o=p=>a.indexOf(p)!==-1,d=n.useRef({toastKey:1,displayedToast:0,count:0,queue:[],props:t,containerId:null,isToastActive:o,getToast:p=>i.get(p)}).current;function c(p){let{containerId:f}=p;const{limit:j}=d.props;!j||f&&d.containerId!==f||(d.count-=d.queue.length,d.queue=[])}function x(p){s(f=>p==null?[]:f.filter(j=>j!==p))}function g(){const{toastContent:p,toastProps:f,staleId:j}=d.queue.shift();h(p,f,j)}function u(p,f){let{delay:j,staleId:m,...E}=f;if(!Cs(p)||function(F){return!l.current||d.props.enableMultiContainer&&F.containerId!==d.props.containerId||i.has(F.toastId)&&F.updateId==null}(E))return;const{toastId:b,updateId:v,data:N}=E,{props:w}=d,C=()=>x(b),k=v==null;k&&d.count++;const M={...w,style:w.toastStyle,key:d.toastKey++,...Object.fromEntries(Object.entries(E).filter(F=>{let[T,z]=F;return z!=null})),toastId:b,updateId:v,data:N,closeToast:C,isIn:!1,className:Zr(E.className||w.toastClassName),bodyClassName:Zr(E.bodyClassName||w.bodyClassName),progressClassName:Zr(E.progressClassName||w.progressClassName),autoClose:!E.isLoading&&($=E.autoClose,A=w.autoClose,$===!1||yr($)&&$>0?$:A),deleteToast(){const F=Ta(i.get(b),"removed");i.delete(b),rt.emit(4,F);const T=d.queue.length;if(d.count=b==null?d.count-d.displayedToast:d.count-1,d.count<0&&(d.count=0),T>0){const z=b==null?d.props.limit:1;if(T===1||z===1)d.displayedToast++,g();else{const W=z>T?T:z;d.displayedToast=W;for(let Z=0;Z<W;Z++)g()}}else r()}};var $,A;M.iconOut=function(F){let{theme:T,type:z,isLoading:W,icon:Z}=F,G=null;const R={theme:T,type:z};return Z===!1||(Ge(Z)?G=Z(R):n.isValidElement(Z)?G=n.cloneElement(Z,R):Jt(Z)||yr(Z)?G=Z:W?G=Rs.spinner():(V=>V in Rs)(z)&&(G=Rs[z](R))),G}(M),Ge(E.onOpen)&&(M.onOpen=E.onOpen),Ge(E.onClose)&&(M.onClose=E.onClose),M.closeButton=w.closeButton,E.closeButton===!1||Cs(E.closeButton)?M.closeButton=E.closeButton:E.closeButton===!0&&(M.closeButton=!Cs(w.closeButton)||w.closeButton);let I=p;n.isValidElement(p)&&!Jt(p.type)?I=n.cloneElement(p,{closeToast:C,toastProps:M,data:N}):Ge(p)&&(I=p({closeToast:C,toastProps:M,data:N})),w.limit&&w.limit>0&&d.count>w.limit&&k?d.queue.push({toastContent:I,toastProps:M,staleId:m}):yr(j)?setTimeout(()=>{h(I,M,m)},j):h(I,M,m)}function h(p,f,j){const{toastId:m}=f;j&&i.delete(j);const E={content:p,props:f};i.set(m,E),s(b=>[...b,m].filter(v=>v!==j)),rt.emit(4,Ta(E,E.props.updateId==null?"added":"updated"))}return n.useEffect(()=>(d.containerId=t.containerId,rt.cancelEmit(3).on(0,u).on(1,p=>l.current&&x(p)).on(5,c).emit(2,d),()=>{i.clear(),rt.emit(3,d)}),[]),n.useEffect(()=>{d.props=t,d.isToastActive=o,d.displayedToast=a.length}),{getToastToRender:function(p){const f=new Map,j=Array.from(i.values());return t.newestOnTop&&j.reverse(),j.forEach(m=>{const{position:E}=m.props;f.has(E)||f.set(E,[]),f.get(E).push(m)}),Array.from(f,m=>p(m[0],m[1]))},containerRef:l,isToastActive:o}}function _a(t){return t.targetTouches&&t.targetTouches.length>=1?t.targetTouches[0].clientX:t.clientX}function Pa(t){return t.targetTouches&&t.targetTouches.length>=1?t.targetTouches[0].clientY:t.clientY}function hi(t){const[r,a]=n.useState(!1),[s,l]=n.useState(!1),i=n.useRef(null),o=n.useRef({start:0,x:0,y:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,boundingRect:null,didMove:!1}).current,d=n.useRef(t),{autoClose:c,pauseOnHover:x,closeToast:g,onClick:u,closeOnClick:h}=t;function p(N){if(t.draggable){N.nativeEvent.type==="touchstart"&&N.nativeEvent.preventDefault(),o.didMove=!1,document.addEventListener("mousemove",E),document.addEventListener("mouseup",b),document.addEventListener("touchmove",E),document.addEventListener("touchend",b);const w=i.current;o.canCloseOnClick=!0,o.canDrag=!0,o.boundingRect=w.getBoundingClientRect(),w.style.transition="",o.x=_a(N.nativeEvent),o.y=Pa(N.nativeEvent),t.draggableDirection==="x"?(o.start=o.x,o.removalDistance=w.offsetWidth*(t.draggablePercent/100)):(o.start=o.y,o.removalDistance=w.offsetHeight*(t.draggablePercent===80?1.5*t.draggablePercent:t.draggablePercent/100))}}function f(N){if(o.boundingRect){const{top:w,bottom:C,left:k,right:M}=o.boundingRect;N.nativeEvent.type!=="touchend"&&t.pauseOnHover&&o.x>=k&&o.x<=M&&o.y>=w&&o.y<=C?m():j()}}function j(){a(!0)}function m(){a(!1)}function E(N){const w=i.current;o.canDrag&&w&&(o.didMove=!0,r&&m(),o.x=_a(N),o.y=Pa(N),o.delta=t.draggableDirection==="x"?o.x-o.start:o.y-o.start,o.start!==o.x&&(o.canCloseOnClick=!1),w.style.transform=`translate${t.draggableDirection}(${o.delta}px)`,w.style.opacity=""+(1-Math.abs(o.delta/o.removalDistance)))}function b(){document.removeEventListener("mousemove",E),document.removeEventListener("mouseup",b),document.removeEventListener("touchmove",E),document.removeEventListener("touchend",b);const N=i.current;if(o.canDrag&&o.didMove&&N){if(o.canDrag=!1,Math.abs(o.delta)>o.removalDistance)return l(!0),void t.closeToast();N.style.transition="transform 0.2s, opacity 0.2s",N.style.transform=`translate${t.draggableDirection}(0)`,N.style.opacity="1"}}n.useEffect(()=>{d.current=t}),n.useEffect(()=>(i.current&&i.current.addEventListener("d",j,{once:!0}),Ge(t.onOpen)&&t.onOpen(n.isValidElement(t.children)&&t.children.props),()=>{const N=d.current;Ge(N.onClose)&&N.onClose(n.isValidElement(N.children)&&N.children.props)}),[]),n.useEffect(()=>(t.pauseOnFocusLoss&&(document.hasFocus()||m(),window.addEventListener("focus",j),window.addEventListener("blur",m)),()=>{t.pauseOnFocusLoss&&(window.removeEventListener("focus",j),window.removeEventListener("blur",m))}),[t.pauseOnFocusLoss]);const v={onMouseDown:p,onTouchStart:p,onMouseUp:f,onTouchEnd:f};return c&&x&&(v.onMouseEnter=m,v.onMouseLeave=j),h&&(v.onClick=N=>{u&&u(N),o.canCloseOnClick&&g()}),{playToast:j,pauseToast:m,isRunning:r,preventExitTransition:s,toastRef:i,eventHandlers:v}}function Nn(t){let{closeToast:r,theme:a,ariaLabel:s="close"}=t;return te.createElement("button",{className:`Toastify__close-button Toastify__close-button--${a}`,type:"button",onClick:l=>{l.stopPropagation(),r(l)},"aria-label":s},te.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},te.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}function pi(t){let{delay:r,isRunning:a,closeToast:s,type:l="default",hide:i,className:o,style:d,controlledProgress:c,progress:x,rtl:g,isIn:u,theme:h}=t;const p=i||c&&x===0,f={...d,animationDuration:`${r}ms`,animationPlayState:a?"running":"paused",opacity:p?0:1};c&&(f.transform=`scaleX(${x})`);const j=It("Toastify__progress-bar",c?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated",`Toastify__progress-bar-theme--${h}`,`Toastify__progress-bar--${l}`,{"Toastify__progress-bar--rtl":g}),m=Ge(o)?o({rtl:g,type:l,defaultClassName:j}):It(j,o);return te.createElement("div",{role:"progressbar","aria-hidden":p?"true":"false","aria-label":"notification timer",className:m,style:f,[c&&x>=1?"onTransitionEnd":"onAnimationEnd"]:c&&x<1?null:()=>{u&&s()}})}const fi=t=>{const{isRunning:r,preventExitTransition:a,toastRef:s,eventHandlers:l}=hi(t),{closeButton:i,children:o,autoClose:d,onClick:c,type:x,hideProgressBar:g,closeToast:u,transition:h,position:p,className:f,style:j,bodyClassName:m,bodyStyle:E,progressClassName:b,progressStyle:v,updateId:N,role:w,progress:C,rtl:k,toastId:M,deleteToast:$,isIn:A,isLoading:I,iconOut:F,closeOnClick:T,theme:z}=t,W=It("Toastify__toast",`Toastify__toast-theme--${z}`,`Toastify__toast--${x}`,{"Toastify__toast--rtl":k},{"Toastify__toast--close-on-click":T}),Z=Ge(f)?f({rtl:k,position:p,type:x,defaultClassName:W}):It(W,f),G=!!C||!d,R={closeToast:u,type:x,theme:z};let V=null;return i===!1||(V=Ge(i)?i(R):n.isValidElement(i)?n.cloneElement(i,R):Nn(R)),te.createElement(h,{isIn:A,done:$,position:p,preventExitTransition:a,nodeRef:s},te.createElement("div",{id:M,onClick:c,className:Z,...l,style:j,ref:s},te.createElement("div",{...A&&{role:w},className:Ge(m)?m({type:x}):It("Toastify__toast-body",m),style:E},F!=null&&te.createElement("div",{className:It("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!I})},F),te.createElement("div",null,o)),V,te.createElement(pi,{...N&&!G?{key:`pb-${N}`}:{},rtl:k,theme:z,delay:d,isRunning:r,isIn:A,closeToast:u,hide:g,type:x,style:v,className:b,controlledProgress:G,progress:C||0})))},xs=function(t,r){return r===void 0&&(r=!1),{enter:`Toastify--animate Toastify__${t}-enter`,exit:`Toastify--animate Toastify__${t}-exit`,appendPosition:r}},bi=ms(xs("bounce",!0));ms(xs("slide",!0));ms(xs("zoom"));ms(xs("flip"));const Gs=n.forwardRef((t,r)=>{const{getToastToRender:a,containerRef:s,isToastActive:l}=ui(t),{className:i,style:o,rtl:d,containerId:c}=t;function x(g){const u=It("Toastify__toast-container",`Toastify__toast-container--${g}`,{"Toastify__toast-container--rtl":d});return Ge(i)?i({position:g,rtl:d,defaultClassName:u}):It(u,Zr(i))}return n.useEffect(()=>{r&&(r.current=s.current)},[]),te.createElement("div",{ref:s,className:"Toastify",id:c},a((g,u)=>{const h=u.length?{...o}:{...o,pointerEvents:"none"};return te.createElement("div",{className:x(g),style:h,key:`container-${g}`},u.map((p,f)=>{let{content:j,props:m}=p;return te.createElement(fi,{...m,isIn:l(m.toastId),style:{...m.style,"--nth":f+1,"--len":u.length},key:`toast-${m.key}`},j)}))}))});Gs.displayName="ToastContainer",Gs.defaultProps={position:"top-right",transition:bi,autoClose:5e3,closeButton:Nn,pauseOnHover:!0,pauseOnFocusLoss:!0,closeOnClick:!0,draggable:!0,draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light"};let As,zt=new Map,fr=[],yi=1;function kn(){return""+yi++}function vi(t){return t&&(Jt(t.toastId)||yr(t.toastId))?t.toastId:kn()}function vr(t,r){return zt.size>0?rt.emit(0,t,r):fr.push({content:t,options:r}),r.toastId}function Xr(t,r){return{...r,type:r&&r.type||t,toastId:vi(r)}}function Vr(t){return(r,a)=>vr(r,Xr(t,a))}function _(t,r){return vr(t,Xr("default",r))}_.loading=(t,r)=>vr(t,Xr("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...r})),_.promise=function(t,r,a){let s,{pending:l,error:i,success:o}=r;l&&(s=Jt(l)?_.loading(l,a):_.loading(l.render,{...a,...l}));const d={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},c=(g,u,h)=>{if(u==null)return void _.dismiss(s);const p={type:g,...d,...a,data:h},f=Jt(u)?{render:u}:u;return s?_.update(s,{...p,...f}):_(f.render,{...p,...f}),h},x=Ge(t)?t():t;return x.then(g=>c("success",o,g)).catch(g=>c("error",i,g)),x},_.success=Vr("success"),_.info=Vr("info"),_.error=Vr("error"),_.warning=Vr("warning"),_.warn=_.warning,_.dark=(t,r)=>vr(t,Xr("default",{theme:"dark",...r})),_.dismiss=t=>{zt.size>0?rt.emit(1,t):fr=fr.filter(r=>t!=null&&r.options.toastId!==t)},_.clearWaitingQueue=function(t){return t===void 0&&(t={}),rt.emit(5,t)},_.isActive=t=>{let r=!1;return zt.forEach(a=>{a.isToastActive&&a.isToastActive(t)&&(r=!0)}),r},_.update=function(t,r){r===void 0&&(r={}),setTimeout(()=>{const a=function(s,l){let{containerId:i}=l;const o=zt.get(i||As);return o&&o.getToast(s)}(t,r);if(a){const{props:s,content:l}=a,i={delay:100,...s,...r,toastId:r.toastId||t,updateId:kn()};i.toastId!==t&&(i.staleId=t);const o=i.render||l;delete i.render,vr(o,i)}},0)},_.done=t=>{_.update(t,{progress:1})},_.onChange=t=>(rt.on(4,t),()=>{rt.off(4,t)}),_.POSITION={TOP_LEFT:"top-left",TOP_RIGHT:"top-right",TOP_CENTER:"top-center",BOTTOM_LEFT:"bottom-left",BOTTOM_RIGHT:"bottom-right",BOTTOM_CENTER:"bottom-center"},_.TYPE={INFO:"info",SUCCESS:"success",WARNING:"warning",ERROR:"error",DEFAULT:"default"},rt.on(2,t=>{As=t.containerId||t,zt.set(As,t),fr.forEach(r=>{rt.emit(0,r.content,r.options)}),fr=[]}).on(3,t=>{zt.delete(t.containerId||t),zt.size===0&&rt.off(0).off(1).off(5)});const ji="modulepreload",wi=function(t){return"/"+t},Fa={},he=function(r,a,s){if(!a||a.length===0)return r();const l=document.getElementsByTagName("link");return Promise.all(a.map(i=>{if(i=wi(i),i in Fa)return;Fa[i]=!0;const o=i.endsWith(".css"),d=o?'[rel="stylesheet"]':"";if(!!s)for(let g=l.length-1;g>=0;g--){const u=l[g];if(u.href===i&&(!o||u.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${i}"]${d}`))return;const x=document.createElement("link");if(x.rel=o?"stylesheet":ji,o||(x.as="script",x.crossOrigin=""),x.href=i,document.head.appendChild(x),o)return new Promise((g,u)=>{x.addEventListener("load",g),x.addEventListener("error",()=>u(new Error(`Unable to preload CSS for ${i}`)))})})).then(()=>r()).catch(i=>{const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=i,window.dispatchEvent(o),!o.defaultPrevented)throw i})},Ms=new Map,Ze=t=>{if(!Ms.has(t)){const r=t();return Ms.set(t,r),r}return Ms.get(t)},Ia=()=>{Ze(()=>he(()=>Promise.resolve().then(()=>yl),void 0)),Ze(()=>he(()=>Promise.resolve().then(()=>wl),void 0)),Ze(()=>he(()=>Promise.resolve().then(()=>Nh),void 0)),Ze(()=>he(()=>Promise.resolve().then(()=>Ll),void 0)),Ze(()=>he(()=>Promise.resolve().then(()=>zl),void 0))},Ni=t=>({onMouseEnter:()=>Ze(t),onFocus:()=>Ze(t)}),$s=t=>{switch(t){case"admin":Ze(()=>he(()=>Promise.resolve().then(()=>Lh),void 0)),Ze(()=>he(()=>Promise.resolve().then(()=>Th),void 0)),Ze(()=>he(()=>Promise.resolve().then(()=>_h),void 0));break;case"garden_manager":Ze(()=>he(()=>Promise.resolve().then(()=>Ih),void 0));break;default:Ze(()=>he(()=>Promise.resolve().then(()=>Rl),void 0)),Ze(()=>he(()=>Promise.resolve().then(()=>kh),void 0));break}},ki=()=>{"requestIdleCallback"in window?requestIdleCallback(()=>{Ia()}):setTimeout(Ia,1e3)};class Ei{constructor(){this.baseURL=this.getApiUrl(),this.notifications=[],this.unreadCount=0,this.subscribers=[],this.websocket=null,this.reconnectAttempts=0,this.maxReconnectAttempts=5,this.reconnectDelay=1e3}getApiUrl(){return window.location.hostname==="localhost"||window.location.hostname==="127.0.0.1"?{VITE_ANTHROPIC_API_KEY:"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",VITE_GOOGLE_CLIENT_ID:"188318745522-muktsmh6h8g765jpbl54j6o2m95gmtia.apps.googleusercontent.com",BASE_URL:"/",MODE:"production",DEV:!1,PROD:!0,SSR:!1}.VITE_API_URL||"http://localhost:5000/api":"/api"}async init(){try{await this.loadNotifications(),this.connectWebSocket()}catch(r){console.error("Failed to initialize notification service:",r)}}async loadNotifications(r={}){try{const a=localStorage.getItem("token");if(!a)return{notifications:[],unreadCount:0};const s=new URLSearchParams;r.page&&s.append("page",r.page),r.limit&&s.append("limit",r.limit),r.unreadOnly&&s.append("unreadOnly","true"),r.type&&s.append("type",r.type);const l=await fetch(`${this.baseURL}/notifications?${s}`,{headers:{Authorization:`Bearer ${a}`,"Content-Type":"application/json"}});if(l.ok){const i=await l.json();return this.notifications=i.notifications||[],this.unreadCount=i.unreadCount||0,this.notifySubscribers(),i}}catch(a){console.error("Failed to load notifications:",a)}return{notifications:[],unreadCount:0}}connectWebSocket(){try{const r=localStorage.getItem("token");if(!r)return;const s=window.location.hostname==="localhost"||window.location.hostname==="127.0.0.1"?`ws://localhost:5000/notifications-ws?token=${r}`:`${window.location.protocol==="https:"?"wss:":"ws:"}//${window.location.host}/notifications-ws?token=${r}`;this.websocket=new WebSocket(s),this.websocket.onopen=()=>{console.log("WebSocket connected"),this.reconnectAttempts=0,this.reconnectDelay=1e3},this.websocket.onmessage=l=>{try{const i=JSON.parse(l.data);i.type==="notification"&&this.handleNewNotification(i.notification)}catch(i){console.error("Failed to parse WebSocket message:",i)}},this.websocket.onclose=()=>{console.log("WebSocket disconnected"),this.scheduleReconnect()},this.websocket.onerror=l=>{console.error("WebSocket error:",l)}}catch(r){console.error("Failed to connect WebSocket:",r),this.scheduleReconnect()}}scheduleReconnect(){this.reconnectAttempts<this.maxReconnectAttempts&&setTimeout(()=>{this.reconnectAttempts++,this.reconnectDelay*=2,console.log(`Attempting to reconnect WebSocket (${this.reconnectAttempts}/${this.maxReconnectAttempts})`),this.connectWebSocket()},this.reconnectDelay)}handleNewNotification(r){this.notifications.unshift(r),r.isRead||this.unreadCount++,this.showBrowserNotification(r),this.notifySubscribers()}async showBrowserNotification(r){"Notification"in window&&Notification.permission==="granted"&&new Notification(r.title,{body:r.content,icon:"/logo192.png",badge:"/logo192.png",data:r})}async requestPermission(){return"Notification"in window?await Notification.requestPermission()==="granted":!1}getNotifications(){return this.notifications}getUnreadNotifications(){return this.notifications.filter(r=>!r.isRead)}getUnreadCount(){return this.unreadCount}async markAsRead(r){try{const a=localStorage.getItem("token");if((await fetch(`${this.baseURL}/notifications/${r}/read`,{method:"PUT",headers:{Authorization:`Bearer ${a}`,"Content-Type":"application/json"}})).ok){const l=this.notifications.find(i=>i._id===r);return l&&!l.isRead&&(l.isRead=!0,l.readAt=new Date,this.unreadCount=Math.max(0,this.unreadCount-1),this.notifySubscribers()),!0}}catch(a){console.error("Failed to mark notification as read:",a)}return!1}async markAllAsRead(){try{const r=localStorage.getItem("token");if((await fetch(`${this.baseURL}/notifications/mark-all-read`,{method:"PUT",headers:{Authorization:`Bearer ${r}`,"Content-Type":"application/json"}})).ok)return this.notifications.forEach(s=>{s.isRead||(s.isRead=!0,s.readAt=new Date)}),this.unreadCount=0,this.notifySubscribers(),!0}catch(r){console.error("Failed to mark all notifications as read:",r)}return!1}async deleteNotification(r){try{const a=localStorage.getItem("token");if((await fetch(`${this.baseURL}/notifications/${r}`,{method:"DELETE",headers:{Authorization:`Bearer ${a}`,"Content-Type":"application/json"}})).ok){const l=this.notifications.findIndex(i=>i._id===r);return l!==-1&&(this.notifications[l].isRead||(this.unreadCount=Math.max(0,this.unreadCount-1)),this.notifications.splice(l,1),this.notifySubscribers()),!0}}catch(a){console.error("Failed to delete notification:",a)}return!1}subscribe(r){return this.subscribers.push(r),r({notifications:this.notifications,unreadCount:this.unreadCount}),()=>{const a=this.subscribers.indexOf(r);a>-1&&this.subscribers.splice(a,1)}}notifySubscribers(){this.subscribers.forEach(r=>{r({notifications:this.notifications,unreadCount:this.unreadCount})})}async createTestNotification(r="system",a="Test",s="This is a test notification"){try{const l=localStorage.getItem("token"),i=await fetch(`${this.baseURL}/notifications/test`,{method:"POST",headers:{Authorization:`Bearer ${l}`,"Content-Type":"application/json"},body:JSON.stringify({type:r,title:a,content:s})});if(i.ok){const o=await i.json();return console.log("Test notification created:",o),await this.loadNotifications(),!0}}catch(l){console.error("Failed to create test notification:",l)}return!1}destroy(){this.websocket&&this.websocket.close(),this.subscribers=[]}}const He=new Ei,Si=Object.freeze(Object.defineProperty({__proto__:null,default:He},Symbol.toStringTag,{value:"Module"})),En=n.createContext(),ge=()=>{const t=n.useContext(En);if(!t)throw new Error("useAuth must be used within an AuthProvider");return t},Ci=({children:t})=>{const[r,a]=n.useState(null),[s,l]=n.useState(!0);n.useEffect(()=>{(async()=>{var p,f,j;const h=localStorage.getItem("token");if(console.log("AuthContext loadUser - token exists:",!!h),h)try{const m=await st.getProfile();console.log("AuthContext loadUser - profile loaded:",m),a(m),await He.init(),$s(m.role)}catch(m){console.error("Error loading user profile:",m),((p=m.response)==null?void 0:p.status)===401&&((j=(f=m.response)==null?void 0:f.data)==null?void 0:j.error)==="Please authenticate"&&(console.log("Removing token due to authentication failure"),localStorage.removeItem("token"),localStorage.removeItem("user"))}l(!1)})()},[]),n.useEffect(()=>{s||ki()},[s]);const g={user:r,loading:s,login:async u=>{try{const{user:h,token:p}=await st.login(u);return console.log("Login successful, user:",h,"token exists:",!!p),a(h),localStorage.setItem("loginTime",Date.now().toString()),await He.init(),$s(h.role),_.success("Login successful"),{success:!0,user:h}}catch(h){return _.error(h.message||"Login failed"),{success:!1,error:h.message}}},register:async u=>{try{const{user:h,token:p}=await st.register(u);return console.log("Registration successful, user:",h,"token exists:",!!p),a(h),localStorage.setItem("loginTime",Date.now().toString()),await He.init(),_.success("Registration successful"),{success:!0,user:h}}catch(h){return _.error(h.message||"Registration failed"),{success:!1,error:h.message}}},logout:async()=>{try{await st.logout(),a(null),localStorage.removeItem("token"),localStorage.removeItem("user"),localStorage.removeItem("loginTime"),await He.cleanup(),_.success("Logged out successfully")}catch(u){console.error("Logout error:",u),a(null),localStorage.removeItem("token"),localStorage.removeItem("user"),localStorage.removeItem("loginTime")}},updateUser:u=>{a(u),localStorage.setItem("user",JSON.stringify(u))},loginWithGoogle:async u=>{try{const{user:h,token:p}=await st.googleAuth(u);return console.log("Google login successful, user:",h,"token exists:",!!p),a(h),localStorage.setItem("loginTime",Date.now().toString()),await He.init(),$s(h.role),_.success("Google login successful"),{success:!0,user:h}}catch(h){return _.error(h.message||"Google login failed"),{success:!1,error:h.message}}},isAuthenticated:!!r};return e.jsx(En.Provider,{value:g,children:t})},Sn=n.createContext(),Ri=()=>{const t=n.useContext(Sn);if(!t)throw new Error("useLanguage must be used within a LanguageProvider");return t},Ai=({children:t})=>{const[r,a]=n.useState("en"),[s,l]=n.useState(!1);n.useEffect(()=>{const c=localStorage.getItem("language")||"en";i(c)},[]);const i=c=>{a(c);const x=c==="he";l(x),localStorage.setItem("language",c),document.documentElement.dir=x?"rtl":"ltr",document.documentElement.lang=c,x?(document.body.classList.add("rtl"),document.documentElement.classList.add("rtl")):(document.body.classList.remove("rtl"),document.documentElement.classList.remove("rtl"))},d={language:r,isRTL:s,changeLanguage:i,toggleLanguage:()=>{i(r==="en"?"he":"en")}};return e.jsx(Sn.Provider,{value:d,children:t})};var Mi=Object.defineProperty,$i=(t,r,a)=>r in t?Mi(t,r,{enumerable:!0,configurable:!0,writable:!0,value:a}):t[r]=a,Ds=(t,r,a)=>($i(t,typeof r!="symbol"?r+"":r,a),a);let Di=class{constructor(){Ds(this,"current",this.detect()),Ds(this,"handoffState","pending"),Ds(this,"currentId",0)}set(r){this.current!==r&&(this.handoffState="pending",this.currentId=0,this.current=r)}reset(){this.set(this.detect())}nextId(){return++this.currentId}get isServer(){return this.current==="server"}get isClient(){return this.current==="client"}detect(){return typeof window>"u"||typeof document>"u"?"server":"client"}handoff(){this.handoffState==="pending"&&(this.handoffState="complete")}get isHandoffComplete(){return this.handoffState==="complete"}},St=new Di,ot=(t,r)=>{St.isServer?n.useEffect(t,r):n.useLayoutEffect(t,r)};function Ct(t){let r=n.useRef(t);return ot(()=>{r.current=t},[t]),r}let Se=function(t){let r=Ct(t);return te.useCallback((...a)=>r.current(...a),[r])};function gs(t){typeof queueMicrotask=="function"?queueMicrotask(t):Promise.resolve().then(t).catch(r=>setTimeout(()=>{throw r}))}function sr(){let t=[],r={addEventListener(a,s,l,i){return a.addEventListener(s,l,i),r.add(()=>a.removeEventListener(s,l,i))},requestAnimationFrame(...a){let s=requestAnimationFrame(...a);return r.add(()=>cancelAnimationFrame(s))},nextFrame(...a){return r.requestAnimationFrame(()=>r.requestAnimationFrame(...a))},setTimeout(...a){let s=setTimeout(...a);return r.add(()=>clearTimeout(s))},microTask(...a){let s={current:!0};return gs(()=>{s.current&&a[0]()}),r.add(()=>{s.current=!1})},style(a,s,l){let i=a.style.getPropertyValue(s);return Object.assign(a.style,{[s]:l}),this.add(()=>{Object.assign(a.style,{[s]:i})})},group(a){let s=sr();return a(s),this.add(()=>s.dispose())},add(a){return t.push(a),()=>{let s=t.indexOf(a);if(s>=0)for(let l of t.splice(s,1))l()}},dispose(){for(let a of t.splice(0))a()}};return r}function xa(){let[t]=n.useState(sr);return n.useEffect(()=>()=>t.dispose(),[t]),t}function Li(){let t=typeof document>"u";return"useSyncExternalStore"in Er?(r=>r.useSyncExternalStore)(Er)(()=>()=>{},()=>!1,()=>!t):!1}function mr(){let t=Li(),[r,a]=n.useState(St.isHandoffComplete);return r&&St.isHandoffComplete===!1&&a(!1),n.useEffect(()=>{r!==!0&&a(!0)},[r]),n.useEffect(()=>St.handoff(),[]),t?!1:r}var Oa;let xr=(Oa=te.useId)!=null?Oa:function(){let t=mr(),[r,a]=te.useState(t?()=>St.nextId():null);return ot(()=>{r===null&&a(St.nextId())},[r]),r!=null?""+r:void 0};function Oe(t,r,...a){if(t in r){let l=r[t];return typeof l=="function"?l(...a):l}let s=new Error(`Tried to handle "${t}" but there is no handler defined. Only defined handlers are: ${Object.keys(r).map(l=>`"${l}"`).join(", ")}.`);throw Error.captureStackTrace&&Error.captureStackTrace(s,Oe),s}function Cn(t){return St.isServer?null:t instanceof Node?t.ownerDocument:t!=null&&t.hasOwnProperty("current")&&t.current instanceof Node?t.current.ownerDocument:document}let Ws=["[contentEditable=true]","[tabindex]","a[href]","area[href]","button:not([disabled])","iframe","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].map(t=>`${t}:not([tabindex='-1'])`).join(",");var Ut=(t=>(t[t.First=1]="First",t[t.Previous=2]="Previous",t[t.Next=4]="Next",t[t.Last=8]="Last",t[t.WrapAround=16]="WrapAround",t[t.NoScroll=32]="NoScroll",t))(Ut||{}),Rn=(t=>(t[t.Error=0]="Error",t[t.Overflow=1]="Overflow",t[t.Success=2]="Success",t[t.Underflow=3]="Underflow",t))(Rn||{}),Ti=(t=>(t[t.Previous=-1]="Previous",t[t.Next=1]="Next",t))(Ti||{});function _i(t=document.body){return t==null?[]:Array.from(t.querySelectorAll(Ws)).sort((r,a)=>Math.sign((r.tabIndex||Number.MAX_SAFE_INTEGER)-(a.tabIndex||Number.MAX_SAFE_INTEGER)))}var An=(t=>(t[t.Strict=0]="Strict",t[t.Loose=1]="Loose",t))(An||{});function Pi(t,r=0){var a;return t===((a=Cn(t))==null?void 0:a.body)?!1:Oe(r,{0(){return t.matches(Ws)},1(){let s=t;for(;s!==null;){if(s.matches(Ws))return!0;s=s.parentElement}return!1}})}var Fi=(t=>(t[t.Keyboard=0]="Keyboard",t[t.Mouse=1]="Mouse",t))(Fi||{});typeof window<"u"&&typeof document<"u"&&(document.addEventListener("keydown",t=>{t.metaKey||t.altKey||t.ctrlKey||(document.documentElement.dataset.headlessuiFocusVisible="")},!0),document.addEventListener("click",t=>{t.detail===1?delete document.documentElement.dataset.headlessuiFocusVisible:t.detail===0&&(document.documentElement.dataset.headlessuiFocusVisible="")},!0));function Qt(t){t==null||t.focus({preventScroll:!0})}let Ii=["textarea","input"].join(",");function Oi(t){var r,a;return(a=(r=t==null?void 0:t.matches)==null?void 0:r.call(t,Ii))!=null?a:!1}function qi(t,r=a=>a){return t.slice().sort((a,s)=>{let l=r(a),i=r(s);if(l===null||i===null)return 0;let o=l.compareDocumentPosition(i);return o&Node.DOCUMENT_POSITION_FOLLOWING?-1:o&Node.DOCUMENT_POSITION_PRECEDING?1:0})}function Yr(t,r,{sorted:a=!0,relativeTo:s=null,skipElements:l=[]}={}){let i=Array.isArray(t)?t.length>0?t[0].ownerDocument:document:t.ownerDocument,o=Array.isArray(t)?a?qi(t):t:_i(t);l.length>0&&o.length>1&&(o=o.filter(p=>!l.includes(p))),s=s??i.activeElement;let d=(()=>{if(r&5)return 1;if(r&10)return-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),c=(()=>{if(r&1)return 0;if(r&2)return Math.max(0,o.indexOf(s))-1;if(r&4)return Math.max(0,o.indexOf(s))+1;if(r&8)return o.length-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),x=r&32?{preventScroll:!0}:{},g=0,u=o.length,h;do{if(g>=u||g+u<=0)return 0;let p=c+g;if(r&16)p=(p+u)%u;else{if(p<0)return 3;if(p>=u)return 1}h=o[p],h==null||h.focus(x),g+=d}while(h!==i.activeElement);return r&6&&Oi(h)&&h.select(),2}function Mn(){return/iPhone/gi.test(window.navigator.platform)||/Mac/gi.test(window.navigator.platform)&&window.navigator.maxTouchPoints>0}function Vi(){return/Android/gi.test(window.navigator.userAgent)}function Bi(){return Mn()||Vi()}function Br(t,r,a){let s=Ct(r);n.useEffect(()=>{function l(i){s.current(i)}return document.addEventListener(t,l,a),()=>document.removeEventListener(t,l,a)},[t,a])}function $n(t,r,a){let s=Ct(r);n.useEffect(()=>{function l(i){s.current(i)}return window.addEventListener(t,l,a),()=>window.removeEventListener(t,l,a)},[t,a])}function zi(t,r,a=!0){let s=n.useRef(!1);n.useEffect(()=>{requestAnimationFrame(()=>{s.current=a})},[a]);function l(o,d){if(!s.current||o.defaultPrevented)return;let c=d(o);if(c===null||!c.getRootNode().contains(c)||!c.isConnected)return;let x=function g(u){return typeof u=="function"?g(u()):Array.isArray(u)||u instanceof Set?u:[u]}(t);for(let g of x){if(g===null)continue;let u=g instanceof HTMLElement?g:g.current;if(u!=null&&u.contains(c)||o.composed&&o.composedPath().includes(u))return}return!Pi(c,An.Loose)&&c.tabIndex!==-1&&o.preventDefault(),r(o,c)}let i=n.useRef(null);Br("pointerdown",o=>{var d,c;s.current&&(i.current=((c=(d=o.composedPath)==null?void 0:d.call(o))==null?void 0:c[0])||o.target)},!0),Br("mousedown",o=>{var d,c;s.current&&(i.current=((c=(d=o.composedPath)==null?void 0:d.call(o))==null?void 0:c[0])||o.target)},!0),Br("click",o=>{Bi()||i.current&&(l(o,()=>i.current),i.current=null)},!0),Br("touchend",o=>l(o,()=>o.target instanceof HTMLElement?o.target:null),!0),$n("blur",o=>l(o,()=>window.document.activeElement instanceof HTMLIFrameElement?window.document.activeElement:null),!0)}function Mr(...t){return n.useMemo(()=>Cn(...t),[...t])}let Dn=Symbol();function Ui(t,r=!0){return Object.assign(t,{[Dn]:r})}function pt(...t){let r=n.useRef(t);n.useEffect(()=>{r.current=t},[t]);let a=Se(s=>{for(let l of r.current)l!=null&&(typeof l=="function"?l(s):l.current=s)});return t.every(s=>s==null||(s==null?void 0:s[Dn]))?void 0:a}function ga(t,r){let a=n.useRef([]),s=Se(t);n.useEffect(()=>{let l=[...a.current];for(let[i,o]of r.entries())if(a.current[i]!==o){let d=s(r,l);return a.current=r,d}},[s,...r])}function es(...t){return Array.from(new Set(t.flatMap(r=>typeof r=="string"?r.split(" "):[]))).filter(Boolean).join(" ")}var ts=(t=>(t[t.None=0]="None",t[t.RenderStrategy=1]="RenderStrategy",t[t.Static=2]="Static",t))(ts||{}),Ot=(t=>(t[t.Unmount=0]="Unmount",t[t.Hidden=1]="Hidden",t))(Ot||{});function ct({ourProps:t,theirProps:r,slot:a,defaultTag:s,features:l,visible:i=!0,name:o,mergeRefs:d}){d=d??Hi;let c=Ln(r,t);if(i)return zr(c,a,s,o,d);let x=l??0;if(x&2){let{static:g=!1,...u}=c;if(g)return zr(u,a,s,o,d)}if(x&1){let{unmount:g=!0,...u}=c;return Oe(g?0:1,{0(){return null},1(){return zr({...u,hidden:!0,style:{display:"none"}},a,s,o,d)}})}return zr(c,a,s,o,d)}function zr(t,r={},a,s,l){let{as:i=a,children:o,refName:d="ref",...c}=Ls(t,["unmount","static"]),x=t.ref!==void 0?{[d]:t.ref}:{},g=typeof o=="function"?o(r):o;"className"in c&&c.className&&typeof c.className=="function"&&(c.className=c.className(r));let u={};if(r){let h=!1,p=[];for(let[f,j]of Object.entries(r))typeof j=="boolean"&&(h=!0),j===!0&&p.push(f);h&&(u["data-headlessui-state"]=p.join(" "))}if(i===n.Fragment&&Object.keys(qa(c)).length>0){if(!n.isValidElement(g)||Array.isArray(g)&&g.length>1)throw new Error(['Passing props on "Fragment"!',"",`The current component <${s} /> is rendering a "Fragment".`,"However we need to passthrough the following props:",Object.keys(c).map(j=>`  - ${j}`).join(`
`),"","You can apply a few solutions:",['Add an `as="..."` prop, to ensure that we render an actual element instead of a "Fragment".',"Render a single element as the child so that we can forward the props onto that element."].map(j=>`  - ${j}`).join(`
`)].join(`
`));let h=g.props,p=typeof(h==null?void 0:h.className)=="function"?(...j)=>es(h==null?void 0:h.className(...j),c.className):es(h==null?void 0:h.className,c.className),f=p?{className:p}:{};return n.cloneElement(g,Object.assign({},Ln(g.props,qa(Ls(c,["ref"]))),u,x,{ref:l(g.ref,x.ref)},f))}return n.createElement(i,Object.assign({},Ls(c,["ref"]),i!==n.Fragment&&x,i!==n.Fragment&&u),g)}function Hi(...t){return t.every(r=>r==null)?void 0:r=>{for(let a of t)a!=null&&(typeof a=="function"?a(r):a.current=r)}}function Ln(...t){if(t.length===0)return{};if(t.length===1)return t[0];let r={},a={};for(let s of t)for(let l in s)l.startsWith("on")&&typeof s[l]=="function"?(a[l]!=null||(a[l]=[]),a[l].push(s[l])):r[l]=s[l];if(r.disabled||r["aria-disabled"])return Object.assign(r,Object.fromEntries(Object.keys(a).map(s=>[s,void 0])));for(let s in a)Object.assign(r,{[s](l,...i){let o=a[s];for(let d of o){if((l instanceof Event||(l==null?void 0:l.nativeEvent)instanceof Event)&&l.defaultPrevented)return;d(l,...i)}}});return r}function et(t){var r;return Object.assign(n.forwardRef(t),{displayName:(r=t.displayName)!=null?r:t.name})}function qa(t){let r=Object.assign({},t);for(let a in r)r[a]===void 0&&delete r[a];return r}function Ls(t,r=[]){let a=Object.assign({},t);for(let s of r)s in a&&delete a[s];return a}let Gi="div";var rs=(t=>(t[t.None=1]="None",t[t.Focusable=2]="Focusable",t[t.Hidden=4]="Hidden",t))(rs||{});function Wi(t,r){var a;let{features:s=1,...l}=t,i={ref:r,"aria-hidden":(s&2)===2?!0:(a=l["aria-hidden"])!=null?a:void 0,hidden:(s&4)===4?!0:void 0,style:{position:"fixed",top:1,left:1,width:1,height:0,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0",...(s&4)===4&&(s&2)!==2&&{display:"none"}}};return ct({ourProps:i,theirProps:l,slot:{},defaultTag:Gi,name:"Hidden"})}let Zs=et(Wi),ua=n.createContext(null);ua.displayName="OpenClosedContext";var Ye=(t=>(t[t.Open=1]="Open",t[t.Closed=2]="Closed",t[t.Closing=4]="Closing",t[t.Opening=8]="Opening",t))(Ye||{});function ha(){return n.useContext(ua)}function Zi({value:t,children:r}){return te.createElement(ua.Provider,{value:t},r)}function Yi(t){function r(){document.readyState!=="loading"&&(t(),document.removeEventListener("DOMContentLoaded",r))}typeof window<"u"&&typeof document<"u"&&(document.addEventListener("DOMContentLoaded",r),r())}let _t=[];Yi(()=>{function t(r){r.target instanceof HTMLElement&&r.target!==document.body&&_t[0]!==r.target&&(_t.unshift(r.target),_t=_t.filter(a=>a!=null&&a.isConnected),_t.splice(10))}window.addEventListener("click",t,{capture:!0}),window.addEventListener("mousedown",t,{capture:!0}),window.addEventListener("focus",t,{capture:!0}),document.body.addEventListener("click",t,{capture:!0}),document.body.addEventListener("mousedown",t,{capture:!0}),document.body.addEventListener("focus",t,{capture:!0})});function Qi(t){let r=t.parentElement,a=null;for(;r&&!(r instanceof HTMLFieldSetElement);)r instanceof HTMLLegendElement&&(a=r),r=r.parentElement;let s=(r==null?void 0:r.getAttribute("disabled"))==="";return s&&Ji(a)?!1:s}function Ji(t){if(!t)return!1;let r=t.previousElementSibling;for(;r!==null;){if(r instanceof HTMLLegendElement)return!1;r=r.previousElementSibling}return!0}var Tn=(t=>(t.Space=" ",t.Enter="Enter",t.Escape="Escape",t.Backspace="Backspace",t.Delete="Delete",t.ArrowLeft="ArrowLeft",t.ArrowUp="ArrowUp",t.ArrowRight="ArrowRight",t.ArrowDown="ArrowDown",t.Home="Home",t.End="End",t.PageUp="PageUp",t.PageDown="PageDown",t.Tab="Tab",t))(Tn||{});function _n(t,r,a,s){let l=Ct(a);n.useEffect(()=>{t=t??window;function i(o){l.current(o)}return t.addEventListener(r,i,s),()=>t.removeEventListener(r,i,s)},[t,r,s])}function $r(){let t=n.useRef(!1);return ot(()=>(t.current=!0,()=>{t.current=!1}),[]),t}function Pn(t){let r=Se(t),a=n.useRef(!1);n.useEffect(()=>(a.current=!1,()=>{a.current=!0,gs(()=>{a.current&&r()})}),[r])}var br=(t=>(t[t.Forwards=0]="Forwards",t[t.Backwards=1]="Backwards",t))(br||{});function Ki(){let t=n.useRef(0);return $n("keydown",r=>{r.key==="Tab"&&(t.current=r.shiftKey?1:0)},!0),t}function Fn(t){if(!t)return new Set;if(typeof t=="function")return new Set(t());let r=new Set;for(let a of t.current)a.current instanceof HTMLElement&&r.add(a.current);return r}let Xi="div";var In=(t=>(t[t.None=1]="None",t[t.InitialFocus=2]="InitialFocus",t[t.TabLock=4]="TabLock",t[t.FocusLock=8]="FocusLock",t[t.RestoreFocus=16]="RestoreFocus",t[t.All=30]="All",t))(In||{});function eo(t,r){let a=n.useRef(null),s=pt(a,r),{initialFocus:l,containers:i,features:o=30,...d}=t;mr()||(o=1);let c=Mr(a);so({ownerDocument:c},!!(o&16));let x=ao({ownerDocument:c,container:a,initialFocus:l},!!(o&2));no({ownerDocument:c,container:a,containers:i,previousActiveElement:x},!!(o&8));let g=Ki(),u=Se(j=>{let m=a.current;m&&(E=>E())(()=>{Oe(g.current,{[br.Forwards]:()=>{Yr(m,Ut.First,{skipElements:[j.relatedTarget]})},[br.Backwards]:()=>{Yr(m,Ut.Last,{skipElements:[j.relatedTarget]})}})})}),h=xa(),p=n.useRef(!1),f={ref:s,onKeyDown(j){j.key=="Tab"&&(p.current=!0,h.requestAnimationFrame(()=>{p.current=!1}))},onBlur(j){let m=Fn(i);a.current instanceof HTMLElement&&m.add(a.current);let E=j.relatedTarget;E instanceof HTMLElement&&E.dataset.headlessuiFocusGuard!=="true"&&(On(m,E)||(p.current?Yr(a.current,Oe(g.current,{[br.Forwards]:()=>Ut.Next,[br.Backwards]:()=>Ut.Previous})|Ut.WrapAround,{relativeTo:j.target}):j.target instanceof HTMLElement&&Qt(j.target)))}};return te.createElement(te.Fragment,null,!!(o&4)&&te.createElement(Zs,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:u,features:rs.Focusable}),ct({ourProps:f,theirProps:d,defaultTag:Xi,name:"FocusTrap"}),!!(o&4)&&te.createElement(Zs,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:u,features:rs.Focusable}))}let to=et(eo),gr=Object.assign(to,{features:In});function ro(t=!0){let r=n.useRef(_t.slice());return ga(([a],[s])=>{s===!0&&a===!1&&gs(()=>{r.current.splice(0)}),s===!1&&a===!0&&(r.current=_t.slice())},[t,_t,r]),Se(()=>{var a;return(a=r.current.find(s=>s!=null&&s.isConnected))!=null?a:null})}function so({ownerDocument:t},r){let a=ro(r);ga(()=>{r||(t==null?void 0:t.activeElement)===(t==null?void 0:t.body)&&Qt(a())},[r]),Pn(()=>{r&&Qt(a())})}function ao({ownerDocument:t,container:r,initialFocus:a},s){let l=n.useRef(null),i=$r();return ga(()=>{if(!s)return;let o=r.current;o&&gs(()=>{if(!i.current)return;let d=t==null?void 0:t.activeElement;if(a!=null&&a.current){if((a==null?void 0:a.current)===d){l.current=d;return}}else if(o.contains(d)){l.current=d;return}a!=null&&a.current?Qt(a.current):Yr(o,Ut.First)===Rn.Error&&console.warn("There are no focusable elements inside the <FocusTrap />"),l.current=t==null?void 0:t.activeElement})},[s]),l}function no({ownerDocument:t,container:r,containers:a,previousActiveElement:s},l){let i=$r();_n(t==null?void 0:t.defaultView,"focus",o=>{if(!l||!i.current)return;let d=Fn(a);r.current instanceof HTMLElement&&d.add(r.current);let c=s.current;if(!c)return;let x=o.target;x&&x instanceof HTMLElement?On(d,x)?(s.current=x,Qt(x)):(o.preventDefault(),o.stopPropagation(),Qt(c)):Qt(s.current)},!0)}function On(t,r){for(let a of t)if(a.contains(r))return!0;return!1}let qn=n.createContext(!1);function lo(){return n.useContext(qn)}function Ys(t){return te.createElement(qn.Provider,{value:t.force},t.children)}function io(t){let r=lo(),a=n.useContext(Vn),s=Mr(t),[l,i]=n.useState(()=>{if(!r&&a!==null||St.isServer)return null;let o=s==null?void 0:s.getElementById("headlessui-portal-root");if(o)return o;if(s===null)return null;let d=s.createElement("div");return d.setAttribute("id","headlessui-portal-root"),s.body.appendChild(d)});return n.useEffect(()=>{l!==null&&(s!=null&&s.body.contains(l)||s==null||s.body.appendChild(l))},[l,s]),n.useEffect(()=>{r||a!==null&&i(a.current)},[a,i,r]),l}let oo=n.Fragment;function co(t,r){let a=t,s=n.useRef(null),l=pt(Ui(g=>{s.current=g}),r),i=Mr(s),o=io(s),[d]=n.useState(()=>{var g;return St.isServer?null:(g=i==null?void 0:i.createElement("div"))!=null?g:null}),c=n.useContext(Qs),x=mr();return ot(()=>{!o||!d||o.contains(d)||(d.setAttribute("data-headlessui-portal",""),o.appendChild(d))},[o,d]),ot(()=>{if(d&&c)return c.register(d)},[c,d]),Pn(()=>{var g;!o||!d||(d instanceof Node&&o.contains(d)&&o.removeChild(d),o.childNodes.length<=0&&((g=o.parentElement)==null||g.removeChild(o)))}),x?!o||!d?null:fn.createPortal(ct({ourProps:{ref:l},theirProps:a,defaultTag:oo,name:"Portal"}),d):null}let mo=n.Fragment,Vn=n.createContext(null);function xo(t,r){let{target:a,...s}=t,l={ref:pt(r)};return te.createElement(Vn.Provider,{value:a},ct({ourProps:l,theirProps:s,defaultTag:mo,name:"Popover.Group"}))}let Qs=n.createContext(null);function go(){let t=n.useContext(Qs),r=n.useRef([]),a=Se(i=>(r.current.push(i),t&&t.register(i),()=>s(i))),s=Se(i=>{let o=r.current.indexOf(i);o!==-1&&r.current.splice(o,1),t&&t.unregister(i)}),l=n.useMemo(()=>({register:a,unregister:s,portals:r}),[a,s,r]);return[r,n.useMemo(()=>function({children:i}){return te.createElement(Qs.Provider,{value:l},i)},[l])]}let uo=et(co),ho=et(xo),Js=Object.assign(uo,{Group:ho});function po(t,r){return t===r&&(t!==0||1/t===1/r)||t!==t&&r!==r}const fo=typeof Object.is=="function"?Object.is:po,{useState:bo,useEffect:yo,useLayoutEffect:vo,useDebugValue:jo}=Er;function wo(t,r,a){const s=r(),[{inst:l},i]=bo({inst:{value:s,getSnapshot:r}});return vo(()=>{l.value=s,l.getSnapshot=r,Ts(l)&&i({inst:l})},[t,s,r]),yo(()=>(Ts(l)&&i({inst:l}),t(()=>{Ts(l)&&i({inst:l})})),[t]),jo(s),s}function Ts(t){const r=t.getSnapshot,a=t.value;try{const s=r();return!fo(a,s)}catch{return!0}}function No(t,r,a){return r()}const ko=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Eo=!ko,So=Eo?No:wo,Co="useSyncExternalStore"in Er?(t=>t.useSyncExternalStore)(Er):So;function Ro(t){return Co(t.subscribe,t.getSnapshot,t.getSnapshot)}function Ao(t,r){let a=t(),s=new Set;return{getSnapshot(){return a},subscribe(l){return s.add(l),()=>s.delete(l)},dispatch(l,...i){let o=r[l].call(a,...i);o&&(a=o,s.forEach(d=>d()))}}}function Mo(){let t;return{before({doc:r}){var a;let s=r.documentElement;t=((a=r.defaultView)!=null?a:window).innerWidth-s.clientWidth},after({doc:r,d:a}){let s=r.documentElement,l=s.clientWidth-s.offsetWidth,i=t-l;a.style(s,"paddingRight",`${i}px`)}}}function $o(){return Mn()?{before({doc:t,d:r,meta:a}){function s(l){return a.containers.flatMap(i=>i()).some(i=>i.contains(l))}r.microTask(()=>{var l;if(window.getComputedStyle(t.documentElement).scrollBehavior!=="auto"){let d=sr();d.style(t.documentElement,"scrollBehavior","auto"),r.add(()=>r.microTask(()=>d.dispose()))}let i=(l=window.scrollY)!=null?l:window.pageYOffset,o=null;r.addEventListener(t,"click",d=>{if(d.target instanceof HTMLElement)try{let c=d.target.closest("a");if(!c)return;let{hash:x}=new URL(c.href),g=t.querySelector(x);g&&!s(g)&&(o=g)}catch{}},!0),r.addEventListener(t,"touchstart",d=>{if(d.target instanceof HTMLElement)if(s(d.target)){let c=d.target;for(;c.parentElement&&s(c.parentElement);)c=c.parentElement;r.style(c,"overscrollBehavior","contain")}else r.style(d.target,"touchAction","none")}),r.addEventListener(t,"touchmove",d=>{if(d.target instanceof HTMLElement)if(s(d.target)){let c=d.target;for(;c.parentElement&&c.dataset.headlessuiPortal!==""&&!(c.scrollHeight>c.clientHeight||c.scrollWidth>c.clientWidth);)c=c.parentElement;c.dataset.headlessuiPortal===""&&d.preventDefault()}else d.preventDefault()},{passive:!1}),r.add(()=>{var d;let c=(d=window.scrollY)!=null?d:window.pageYOffset;i!==c&&window.scrollTo(0,i),o&&o.isConnected&&(o.scrollIntoView({block:"nearest"}),o=null)})})}}:{}}function Do(){return{before({doc:t,d:r}){r.style(t.documentElement,"overflow","hidden")}}}function Lo(t){let r={};for(let a of t)Object.assign(r,a(r));return r}let Wt=Ao(()=>new Map,{PUSH(t,r){var a;let s=(a=this.get(t))!=null?a:{doc:t,count:0,d:sr(),meta:new Set};return s.count++,s.meta.add(r),this.set(t,s),this},POP(t,r){let a=this.get(t);return a&&(a.count--,a.meta.delete(r)),this},SCROLL_PREVENT({doc:t,d:r,meta:a}){let s={doc:t,d:r,meta:Lo(a)},l=[$o(),Mo(),Do()];l.forEach(({before:i})=>i==null?void 0:i(s)),l.forEach(({after:i})=>i==null?void 0:i(s))},SCROLL_ALLOW({d:t}){t.dispose()},TEARDOWN({doc:t}){this.delete(t)}});Wt.subscribe(()=>{let t=Wt.getSnapshot(),r=new Map;for(let[a]of t)r.set(a,a.documentElement.style.overflow);for(let a of t.values()){let s=r.get(a.doc)==="hidden",l=a.count!==0;(l&&!s||!l&&s)&&Wt.dispatch(a.count>0?"SCROLL_PREVENT":"SCROLL_ALLOW",a),a.count===0&&Wt.dispatch("TEARDOWN",a)}});function To(t,r,a){let s=Ro(Wt),l=t?s.get(t):void 0,i=l?l.count>0:!1;return ot(()=>{if(!(!t||!r))return Wt.dispatch("PUSH",t,a),()=>Wt.dispatch("POP",t,a)},[r,t]),i}let _s=new Map,ur=new Map;function Va(t,r=!0){ot(()=>{var a;if(!r)return;let s=typeof t=="function"?t():t.current;if(!s)return;function l(){var o;if(!s)return;let d=(o=ur.get(s))!=null?o:1;if(d===1?ur.delete(s):ur.set(s,d-1),d!==1)return;let c=_s.get(s);c&&(c["aria-hidden"]===null?s.removeAttribute("aria-hidden"):s.setAttribute("aria-hidden",c["aria-hidden"]),s.inert=c.inert,_s.delete(s))}let i=(a=ur.get(s))!=null?a:0;return ur.set(s,i+1),i!==0||(_s.set(s,{"aria-hidden":s.getAttribute("aria-hidden"),inert:s.inert}),s.setAttribute("aria-hidden","true"),s.inert=!0),l},[t,r])}function _o({defaultContainers:t=[],portals:r,mainTreeNodeRef:a}={}){var s;let l=n.useRef((s=a==null?void 0:a.current)!=null?s:null),i=Mr(l),o=Se(()=>{var d,c,x;let g=[];for(let u of t)u!==null&&(u instanceof HTMLElement?g.push(u):"current"in u&&u.current instanceof HTMLElement&&g.push(u.current));if(r!=null&&r.current)for(let u of r.current)g.push(u);for(let u of(d=i==null?void 0:i.querySelectorAll("html > *, body > *"))!=null?d:[])u!==document.body&&u!==document.head&&u instanceof HTMLElement&&u.id!=="headlessui-portal-root"&&(u.contains(l.current)||u.contains((x=(c=l.current)==null?void 0:c.getRootNode())==null?void 0:x.host)||g.some(h=>u.contains(h))||g.push(u));return g});return{resolveContainers:o,contains:Se(d=>o().some(c=>c.contains(d))),mainTreeNodeRef:l,MainTreeNode:n.useMemo(()=>function(){return a!=null?null:te.createElement(Zs,{features:rs.Hidden,ref:l})},[l,a])}}let pa=n.createContext(()=>{});pa.displayName="StackContext";var Ks=(t=>(t[t.Add=0]="Add",t[t.Remove=1]="Remove",t))(Ks||{});function Po(){return n.useContext(pa)}function Fo({children:t,onUpdate:r,type:a,element:s,enabled:l}){let i=Po(),o=Se((...d)=>{r==null||r(...d),i(...d)});return ot(()=>{let d=l===void 0||l===!0;return d&&o(0,a,s),()=>{d&&o(1,a,s)}},[o,a,s,l]),te.createElement(pa.Provider,{value:o},t)}let Bn=n.createContext(null);function zn(){let t=n.useContext(Bn);if(t===null){let r=new Error("You used a <Description /> component, but it is not inside a relevant parent.");throw Error.captureStackTrace&&Error.captureStackTrace(r,zn),r}return t}function Io(){let[t,r]=n.useState([]);return[t.length>0?t.join(" "):void 0,n.useMemo(()=>function(a){let s=Se(i=>(r(o=>[...o,i]),()=>r(o=>{let d=o.slice(),c=d.indexOf(i);return c!==-1&&d.splice(c,1),d}))),l=n.useMemo(()=>({register:s,slot:a.slot,name:a.name,props:a.props}),[s,a.slot,a.name,a.props]);return te.createElement(Bn.Provider,{value:l},a.children)},[r])]}let Oo="p";function qo(t,r){let a=xr(),{id:s=`headlessui-description-${a}`,...l}=t,i=zn(),o=pt(r);ot(()=>i.register(s),[s,i.register]);let d={ref:o,...i.props,id:s};return ct({ourProps:d,theirProps:l,slot:i.slot||{},defaultTag:Oo,name:i.name||"Description"})}let Vo=et(qo),Bo=Object.assign(Vo,{});var zo=(t=>(t[t.Open=0]="Open",t[t.Closed=1]="Closed",t))(zo||{}),Uo=(t=>(t[t.SetTitleId=0]="SetTitleId",t))(Uo||{});let Ho={0(t,r){return t.titleId===r.id?t:{...t,titleId:r.id}}},ss=n.createContext(null);ss.displayName="DialogContext";function Dr(t){let r=n.useContext(ss);if(r===null){let a=new Error(`<${t} /> is missing a parent <Dialog /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(a,Dr),a}return r}function Go(t,r,a=()=>[document.body]){To(t,r,s=>{var l;return{containers:[...(l=s.containers)!=null?l:[],a]}})}function Wo(t,r){return Oe(r.type,Ho,t,r)}let Zo="div",Yo=ts.RenderStrategy|ts.Static;function Qo(t,r){let a=xr(),{id:s=`headlessui-dialog-${a}`,open:l,onClose:i,initialFocus:o,role:d="dialog",__demoMode:c=!1,...x}=t,[g,u]=n.useState(0),h=n.useRef(!1);d=function(){return d==="dialog"||d==="alertdialog"?d:(h.current||(h.current=!0,console.warn(`Invalid role [${d}] passed to <Dialog />. Only \`dialog\` and and \`alertdialog\` are supported. Using \`dialog\` instead.`)),"dialog")}();let p=ha();l===void 0&&p!==null&&(l=(p&Ye.Open)===Ye.Open);let f=n.useRef(null),j=pt(f,r),m=Mr(f),E=t.hasOwnProperty("open")||p!==null,b=t.hasOwnProperty("onClose");if(!E&&!b)throw new Error("You have to provide an `open` and an `onClose` prop to the `Dialog` component.");if(!E)throw new Error("You provided an `onClose` prop to the `Dialog`, but forgot an `open` prop.");if(!b)throw new Error("You provided an `open` prop to the `Dialog`, but forgot an `onClose` prop.");if(typeof l!="boolean")throw new Error(`You provided an \`open\` prop to the \`Dialog\`, but the value is not a boolean. Received: ${l}`);if(typeof i!="function")throw new Error(`You provided an \`onClose\` prop to the \`Dialog\`, but the value is not a function. Received: ${i}`);let v=l?0:1,[N,w]=n.useReducer(Wo,{titleId:null,descriptionId:null,panelRef:n.createRef()}),C=Se(()=>i(!1)),k=Se(de=>w({type:0,id:de})),M=mr()?c?!1:v===0:!1,$=g>1,A=n.useContext(ss)!==null,[I,F]=go(),T={get current(){var de;return(de=N.panelRef.current)!=null?de:f.current}},{resolveContainers:z,mainTreeNodeRef:W,MainTreeNode:Z}=_o({portals:I,defaultContainers:[T]}),G=$?"parent":"leaf",R=p!==null?(p&Ye.Closing)===Ye.Closing:!1,V=(()=>A||R?!1:M)(),J=n.useCallback(()=>{var de,xe;return(xe=Array.from((de=m==null?void 0:m.querySelectorAll("body > *"))!=null?de:[]).find(ye=>ye.id==="headlessui-portal-root"?!1:ye.contains(W.current)&&ye instanceof HTMLElement))!=null?xe:null},[W]);Va(J,V);let L=(()=>$?!0:M)(),q=n.useCallback(()=>{var de,xe;return(xe=Array.from((de=m==null?void 0:m.querySelectorAll("[data-headlessui-portal]"))!=null?de:[]).find(ye=>ye.contains(W.current)&&ye instanceof HTMLElement))!=null?xe:null},[W]);Va(q,L);let D=(()=>!(!M||$))();zi(z,de=>{de.preventDefault(),C()},D);let B=(()=>!($||v!==0))();_n(m==null?void 0:m.defaultView,"keydown",de=>{B&&(de.defaultPrevented||de.key===Tn.Escape&&(de.preventDefault(),de.stopPropagation(),C()))});let K=(()=>!(R||v!==0||A))();Go(m,K,z),n.useEffect(()=>{if(v!==0||!f.current)return;let de=new ResizeObserver(xe=>{for(let ye of xe){let qe=ye.target.getBoundingClientRect();qe.x===0&&qe.y===0&&qe.width===0&&qe.height===0&&C()}});return de.observe(f.current),()=>de.disconnect()},[v,f,C]);let[le,oe]=Io(),Q=n.useMemo(()=>[{dialogState:v,close:C,setTitleId:k},N],[v,N,C,k]),be=n.useMemo(()=>({open:v===0}),[v]),je={ref:j,id:s,role:d,"aria-modal":v===0?!0:void 0,"aria-labelledby":N.titleId,"aria-describedby":le};return te.createElement(Fo,{type:"Dialog",enabled:v===0,element:f,onUpdate:Se((de,xe)=>{xe==="Dialog"&&Oe(de,{[Ks.Add]:()=>u(ye=>ye+1),[Ks.Remove]:()=>u(ye=>ye-1)})})},te.createElement(Ys,{force:!0},te.createElement(Js,null,te.createElement(ss.Provider,{value:Q},te.createElement(Js.Group,{target:f},te.createElement(Ys,{force:!1},te.createElement(oe,{slot:be,name:"Dialog.Description"},te.createElement(gr,{initialFocus:o,containers:z,features:M?Oe(G,{parent:gr.features.RestoreFocus,leaf:gr.features.All&~gr.features.FocusLock}):gr.features.None},te.createElement(F,null,ct({ourProps:je,theirProps:x,slot:be,defaultTag:Zo,features:Yo,visible:v===0,name:"Dialog"}))))))))),te.createElement(Z,null))}let Jo="div";function Ko(t,r){let a=xr(),{id:s=`headlessui-dialog-overlay-${a}`,...l}=t,[{dialogState:i,close:o}]=Dr("Dialog.Overlay"),d=pt(r),c=Se(g=>{if(g.target===g.currentTarget){if(Qi(g.currentTarget))return g.preventDefault();g.preventDefault(),g.stopPropagation(),o()}}),x=n.useMemo(()=>({open:i===0}),[i]);return ct({ourProps:{ref:d,id:s,"aria-hidden":!0,onClick:c},theirProps:l,slot:x,defaultTag:Jo,name:"Dialog.Overlay"})}let Xo="div";function ed(t,r){let a=xr(),{id:s=`headlessui-dialog-backdrop-${a}`,...l}=t,[{dialogState:i},o]=Dr("Dialog.Backdrop"),d=pt(r);n.useEffect(()=>{if(o.panelRef.current===null)throw new Error("A <Dialog.Backdrop /> component is being used, but a <Dialog.Panel /> component is missing.")},[o.panelRef]);let c=n.useMemo(()=>({open:i===0}),[i]);return te.createElement(Ys,{force:!0},te.createElement(Js,null,ct({ourProps:{ref:d,id:s,"aria-hidden":!0},theirProps:l,slot:c,defaultTag:Xo,name:"Dialog.Backdrop"})))}let td="div";function rd(t,r){let a=xr(),{id:s=`headlessui-dialog-panel-${a}`,...l}=t,[{dialogState:i},o]=Dr("Dialog.Panel"),d=pt(r,o.panelRef),c=n.useMemo(()=>({open:i===0}),[i]),x=Se(g=>{g.stopPropagation()});return ct({ourProps:{ref:d,id:s,onClick:x},theirProps:l,slot:c,defaultTag:td,name:"Dialog.Panel"})}let sd="h2";function ad(t,r){let a=xr(),{id:s=`headlessui-dialog-title-${a}`,...l}=t,[{dialogState:i,setTitleId:o}]=Dr("Dialog.Title"),d=pt(r);n.useEffect(()=>(o(s),()=>o(null)),[s,o]);let c=n.useMemo(()=>({open:i===0}),[i]);return ct({ourProps:{ref:d,id:s},theirProps:l,slot:c,defaultTag:sd,name:"Dialog.Title"})}let nd=et(Qo),ld=et(ed),id=et(rd),od=et(Ko),dd=et(ad),Je=Object.assign(nd,{Backdrop:ld,Panel:id,Overlay:od,Title:dd,Description:Bo});function cd(t=0){let[r,a]=n.useState(t),s=$r(),l=n.useCallback(c=>{s.current&&a(x=>x|c)},[r,s]),i=n.useCallback(c=>!!(r&c),[r]),o=n.useCallback(c=>{s.current&&a(x=>x&~c)},[a,s]),d=n.useCallback(c=>{s.current&&a(x=>x^c)},[a]);return{flags:r,addFlag:l,hasFlag:i,removeFlag:o,toggleFlag:d}}function md(t){let r={called:!1};return(...a)=>{if(!r.called)return r.called=!0,t(...a)}}function Ps(t,...r){t&&r.length>0&&t.classList.add(...r)}function Fs(t,...r){t&&r.length>0&&t.classList.remove(...r)}function xd(t,r){let a=sr();if(!t)return a.dispose;let{transitionDuration:s,transitionDelay:l}=getComputedStyle(t),[i,o]=[s,l].map(c=>{let[x=0]=c.split(",").filter(Boolean).map(g=>g.includes("ms")?parseFloat(g):parseFloat(g)*1e3).sort((g,u)=>u-g);return x}),d=i+o;if(d!==0){a.group(x=>{x.setTimeout(()=>{r(),x.dispose()},d),x.addEventListener(t,"transitionrun",g=>{g.target===g.currentTarget&&x.dispose()})});let c=a.addEventListener(t,"transitionend",x=>{x.target===x.currentTarget&&(r(),c())})}else r();return a.add(()=>r()),a.dispose}function gd(t,r,a,s){let l=a?"enter":"leave",i=sr(),o=s!==void 0?md(s):()=>{};l==="enter"&&(t.removeAttribute("hidden"),t.style.display="");let d=Oe(l,{enter:()=>r.enter,leave:()=>r.leave}),c=Oe(l,{enter:()=>r.enterTo,leave:()=>r.leaveTo}),x=Oe(l,{enter:()=>r.enterFrom,leave:()=>r.leaveFrom});return Fs(t,...r.base,...r.enter,...r.enterTo,...r.enterFrom,...r.leave,...r.leaveFrom,...r.leaveTo,...r.entered),Ps(t,...r.base,...d,...x),i.nextFrame(()=>{Fs(t,...r.base,...d,...x),Ps(t,...r.base,...d,...c),xd(t,()=>(Fs(t,...r.base,...d),Ps(t,...r.base,...r.entered),o()))}),i.dispose}function ud({immediate:t,container:r,direction:a,classes:s,onStart:l,onStop:i}){let o=$r(),d=xa(),c=Ct(a);ot(()=>{t&&(c.current="enter")},[t]),ot(()=>{let x=sr();d.add(x.dispose);let g=r.current;if(g&&c.current!=="idle"&&o.current)return x.dispose(),l.current(c.current),x.add(gd(g,s.current,c.current==="enter",()=>{x.dispose(),i.current(c.current)})),x.dispose},[a])}function Lt(t=""){return t.split(/\s+/).filter(r=>r.length>1)}let us=n.createContext(null);us.displayName="TransitionContext";var hd=(t=>(t.Visible="visible",t.Hidden="hidden",t))(hd||{});function pd(){let t=n.useContext(us);if(t===null)throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return t}function fd(){let t=n.useContext(hs);if(t===null)throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return t}let hs=n.createContext(null);hs.displayName="NestingContext";function ps(t){return"children"in t?ps(t.children):t.current.filter(({el:r})=>r.current!==null).filter(({state:r})=>r==="visible").length>0}function Un(t,r){let a=Ct(t),s=n.useRef([]),l=$r(),i=xa(),o=Se((p,f=Ot.Hidden)=>{let j=s.current.findIndex(({el:m})=>m===p);j!==-1&&(Oe(f,{[Ot.Unmount](){s.current.splice(j,1)},[Ot.Hidden](){s.current[j].state="hidden"}}),i.microTask(()=>{var m;!ps(s)&&l.current&&((m=a.current)==null||m.call(a))}))}),d=Se(p=>{let f=s.current.find(({el:j})=>j===p);return f?f.state!=="visible"&&(f.state="visible"):s.current.push({el:p,state:"visible"}),()=>o(p,Ot.Unmount)}),c=n.useRef([]),x=n.useRef(Promise.resolve()),g=n.useRef({enter:[],leave:[],idle:[]}),u=Se((p,f,j)=>{c.current.splice(0),r&&(r.chains.current[f]=r.chains.current[f].filter(([m])=>m!==p)),r==null||r.chains.current[f].push([p,new Promise(m=>{c.current.push(m)})]),r==null||r.chains.current[f].push([p,new Promise(m=>{Promise.all(g.current[f].map(([E,b])=>b)).then(()=>m())})]),f==="enter"?x.current=x.current.then(()=>r==null?void 0:r.wait.current).then(()=>j(f)):j(f)}),h=Se((p,f,j)=>{Promise.all(g.current[f].splice(0).map(([m,E])=>E)).then(()=>{var m;(m=c.current.shift())==null||m()}).then(()=>j(f))});return n.useMemo(()=>({children:s,register:d,unregister:o,onStart:u,onStop:h,wait:x,chains:g}),[d,o,s,u,h,g,x])}function bd(){}let yd=["beforeEnter","afterEnter","beforeLeave","afterLeave"];function Ba(t){var r;let a={};for(let s of yd)a[s]=(r=t[s])!=null?r:bd;return a}function vd(t){let r=n.useRef(Ba(t));return n.useEffect(()=>{r.current=Ba(t)},[t]),r}let jd="div",Hn=ts.RenderStrategy;function wd(t,r){var a,s;let{beforeEnter:l,afterEnter:i,beforeLeave:o,afterLeave:d,enter:c,enterFrom:x,enterTo:g,entered:u,leave:h,leaveFrom:p,leaveTo:f,...j}=t,m=n.useRef(null),E=pt(m,r),b=(a=j.unmount)==null||a?Ot.Unmount:Ot.Hidden,{show:v,appear:N,initial:w}=pd(),[C,k]=n.useState(v?"visible":"hidden"),M=fd(),{register:$,unregister:A}=M;n.useEffect(()=>$(m),[$,m]),n.useEffect(()=>{if(b===Ot.Hidden&&m.current){if(v&&C!=="visible"){k("visible");return}return Oe(C,{hidden:()=>A(m),visible:()=>$(m)})}},[C,m,$,A,v,b]);let I=Ct({base:Lt(j.className),enter:Lt(c),enterFrom:Lt(x),enterTo:Lt(g),entered:Lt(u),leave:Lt(h),leaveFrom:Lt(p),leaveTo:Lt(f)}),F=vd({beforeEnter:l,afterEnter:i,beforeLeave:o,afterLeave:d}),T=mr();n.useEffect(()=>{if(T&&C==="visible"&&m.current===null)throw new Error("Did you forget to passthrough the `ref` to the actual DOM node?")},[m,C,T]);let z=w&&!N,W=N&&v&&w,Z=(()=>!T||z?"idle":v?"enter":"leave")(),G=cd(0),R=Se(B=>Oe(B,{enter:()=>{G.addFlag(Ye.Opening),F.current.beforeEnter()},leave:()=>{G.addFlag(Ye.Closing),F.current.beforeLeave()},idle:()=>{}})),V=Se(B=>Oe(B,{enter:()=>{G.removeFlag(Ye.Opening),F.current.afterEnter()},leave:()=>{G.removeFlag(Ye.Closing),F.current.afterLeave()},idle:()=>{}})),J=Un(()=>{k("hidden"),A(m)},M),L=n.useRef(!1);ud({immediate:W,container:m,classes:I,direction:Z,onStart:Ct(B=>{L.current=!0,J.onStart(m,B,R)}),onStop:Ct(B=>{L.current=!1,J.onStop(m,B,V),B==="leave"&&!ps(J)&&(k("hidden"),A(m))})});let q=j,D={ref:E};return W?q={...q,className:es(j.className,...I.current.enter,...I.current.enterFrom)}:L.current&&(q.className=es(j.className,(s=m.current)==null?void 0:s.className),q.className===""&&delete q.className),te.createElement(hs.Provider,{value:J},te.createElement(Zi,{value:Oe(C,{visible:Ye.Open,hidden:Ye.Closed})|G.flags},ct({ourProps:D,theirProps:q,defaultTag:jd,features:Hn,visible:C==="visible",name:"Transition.Child"})))}function Nd(t,r){let{show:a,appear:s=!1,unmount:l=!0,...i}=t,o=n.useRef(null),d=pt(o,r);mr();let c=ha();if(a===void 0&&c!==null&&(a=(c&Ye.Open)===Ye.Open),![!0,!1].includes(a))throw new Error("A <Transition /> is used but it is missing a `show={true | false}` prop.");let[x,g]=n.useState(a?"visible":"hidden"),u=Un(()=>{g("hidden")}),[h,p]=n.useState(!0),f=n.useRef([a]);ot(()=>{h!==!1&&f.current[f.current.length-1]!==a&&(f.current.push(a),p(!1))},[f,a]);let j=n.useMemo(()=>({show:a,appear:s,initial:h}),[a,s,h]);n.useEffect(()=>{if(a)g("visible");else if(!ps(u))g("hidden");else{let v=o.current;if(!v)return;let N=v.getBoundingClientRect();N.x===0&&N.y===0&&N.width===0&&N.height===0&&g("hidden")}},[a,u]);let m={unmount:l},E=Se(()=>{var v;h&&p(!1),(v=t.beforeEnter)==null||v.call(t)}),b=Se(()=>{var v;h&&p(!1),(v=t.beforeLeave)==null||v.call(t)});return te.createElement(hs.Provider,{value:u},te.createElement(us.Provider,{value:j},ct({ourProps:{...m,as:n.Fragment,children:te.createElement(Gn,{ref:d,...m,...i,beforeEnter:E,beforeLeave:b})},theirProps:{},defaultTag:n.Fragment,features:Hn,visible:x==="visible",name:"Transition"})))}function kd(t,r){let a=n.useContext(us)!==null,s=ha()!==null;return te.createElement(te.Fragment,null,!a&&s?te.createElement(Xs,{ref:r,...t}):te.createElement(Gn,{ref:r,...t}))}let Xs=et(Nd),Gn=et(wd),Ed=et(kd),Pe=Object.assign(Xs,{Child:Ed,Root:Xs});function Sd({title:t,titleId:r,...a},s){return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":r},a),t?n.createElement("title",{id:r},t):null,n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4.26 10.147a60.438 60.438 0 0 0-.491 6.347A48.62 48.62 0 0 1 12 20.904a48.62 48.62 0 0 1 8.232-4.41 60.46 60.46 0 0 0-.491-6.347m-15.482 0a50.636 50.636 0 0 0-2.658-.813A59.906 59.906 0 0 1 12 3.493a59.903 59.903 0 0 1 10.399 5.84c-.896.248-1.783.52-2.658.814m-15.482 0A50.717 50.717 0 0 1 12 13.489a50.702 50.702 0 0 1 7.74-3.342M6.75 15a.75.75 0 1 0 0-1.5.75.75 0 0 0 0 1.5Zm0 0v-3.675A55.378 55.378 0 0 1 12 8.443m-7.007 11.55A5.981 5.981 0 0 0 6.75 15.75v-1.5"}))}const Cd=n.forwardRef(Sd),ea=Cd;function Rd({title:t,titleId:r,...a},s){return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":r},a),t?n.createElement("title",{id:r},t):null,n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10.5 6h9.75M10.5 6a1.5 1.5 0 1 1-3 0m3 0a1.5 1.5 0 1 0-3 0M3.75 6H7.5m3 12h9.75m-9.75 0a1.5 1.5 0 0 1-3 0m3 0a1.5 1.5 0 0 0-3 0m-3.75 0H7.5m9-6h3.75m-3.75 0a1.5 1.5 0 0 1-3 0m3 0a1.5 1.5 0 0 0-3 0m-9.75 0h9.75"}))}const Ad=n.forwardRef(Rd),Md=Ad;function $d({title:t,titleId:r,...a},s){return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":r},a),t?n.createElement("title",{id:r},t):null,n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 16.5v2.25A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75V16.5M16.5 12 12 16.5m0 0L7.5 12m4.5 4.5V3"}))}const Dd=n.forwardRef($d),Ld=Dd;function Td({title:t,titleId:r,...a},s){return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":r},a),t?n.createElement("title",{id:r},t):null,n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10.5 19.5 3 12m0 0 7.5-7.5M3 12h18"}))}const _d=n.forwardRef(Td),We=_d;function Pd({title:t,titleId:r,...a},s){return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":r},a),t?n.createElement("title",{id:r},t):null,n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.023 9.348h4.992v-.001M2.985 19.644v-4.992m0 0h4.992m-4.993 0 3.181 3.183a8.25 8.25 0 0 0 13.803-3.7M4.031 9.865a8.25 8.25 0 0 1 13.803-3.7l3.181 3.182m0-4.991v4.99"}))}const Fd=n.forwardRef(Pd),Lr=Fd;function Id({title:t,titleId:r,...a},s){return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":r},a),t?n.createElement("title",{id:r},t):null,n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 9V5.25A2.25 2.25 0 0 0 13.5 3h-6a2.25 2.25 0 0 0-2.25 2.25v13.5A2.25 2.25 0 0 0 7.5 21h6a2.25 2.25 0 0 0 2.25-2.25V15m3 0 3-3m0 0-3-3m3 3H9"}))}const Od=n.forwardRef(Id),Sr=Od;function qd({title:t,titleId:r,...a},s){return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":r},a),t?n.createElement("title",{id:r},t):null,n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13.5 4.5 21 12m0 0-7.5 7.5M21 12H3"}))}const Vd=n.forwardRef(qd),lr=Vd;function Bd({title:t,titleId:r,...a},s){return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":r},a),t?n.createElement("title",{id:r},t):null,n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13.5 6H5.25A2.25 2.25 0 0 0 3 8.25v10.5A2.25 2.25 0 0 0 5.25 21h10.5A2.25 2.25 0 0 0 18 18.75V10.5m-10.5 6L21 3m0 0h-5.25M21 3v5.25"}))}const zd=n.forwardRef(Bd),Ud=zd;function Hd({title:t,titleId:r,...a},s){return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":r},a),t?n.createElement("title",{id:r},t):null,n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 6 9 12.75l4.286-4.286a11.948 11.948 0 0 1 4.306 6.43l.776 2.898m0 0 3.182-5.511m-3.182 5.51-5.511-3.181"}))}const Gd=n.forwardRef(Hd),Wd=Gd;function Zd({title:t,titleId:r,...a},s){return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":r},a),t?n.createElement("title",{id:r},t):null,n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 18 9 11.25l4.306 4.306a11.95 11.95 0 0 1 5.814-5.518l2.74-1.22m0 0-5.94-2.281m5.94 2.28-2.28 5.941"}))}const Yd=n.forwardRef(Zd),Qd=Yd;function Jd({title:t,titleId:r,...a},s){return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":r},a),t?n.createElement("title",{id:r},t):null,n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25h16.5"}))}const Kd=n.forwardRef(Jd),Wn=Kd;function Xd({title:t,titleId:r,...a},s){return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":r},a),t?n.createElement("title",{id:r},t):null,n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.143 17.082a24.248 24.248 0 0 0 3.844.148m-3.844-.148a23.856 23.856 0 0 1-5.455-1.31 8.964 8.964 0 0 0 2.3-5.542m3.155 6.852a3 3 0 0 0 5.667 1.97m1.965-2.277L21 21m-4.225-4.225a23.81 23.81 0 0 0 3.536-1.003A8.967 8.967 0 0 1 18 9.75V9A6 6 0 0 0 6.53 6.53m10.245 10.245L6.53 6.53M3 3l3.53 3.53"}))}const ec=n.forwardRef(Xd),tc=ec;function rc({title:t,titleId:r,...a},s){return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":r},a),t?n.createElement("title",{id:r},t):null,n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M14.857 17.082a23.848 23.848 0 0 0 5.454-1.31A8.967 8.967 0 0 1 18 9.75V9A6 6 0 0 0 6 9v.75a8.967 8.967 0 0 1-2.312 6.022c1.733.64 3.56 1.085 5.455 1.31m5.714 0a24.255 24.255 0 0 1-5.714 0m5.714 0a3 3 0 1 1-5.714 0"}))}const sc=n.forwardRef(rc),ht=sc;function ac({title:t,titleId:r,...a},s){return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":r},a),t?n.createElement("title",{id:r},t):null,n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m3.75 13.5 10.5-11.25L12 10.5h8.25L9.75 21.75 12 13.5H3.75Z"}))}const nc=n.forwardRef(ac),lc=nc;function ic({title:t,titleId:r,...a},s){return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":r},a),t?n.createElement("title",{id:r},t):null,n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 21h16.5M4.5 3h15M5.25 3v18m13.5-18v18M9 6.75h1.5m-1.5 3h1.5m-1.5 3h1.5m3-6H15m-1.5 3H15m-1.5 3H15M9 21v-3.375c0-.621.504-1.125 1.125-1.125h3.75c.621 0 1.125.504 1.125 1.125V21"}))}const oc=n.forwardRef(ic),dc=oc;function cc({title:t,titleId:r,...a},s){return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":r},a),t?n.createElement("title",{id:r},t):null,n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6.75 3v2.25M17.25 3v2.25M3 18.75V7.5a2.25 2.25 0 0 1 2.25-2.25h13.5A2.25 2.25 0 0 1 21 7.5v11.25m-18 0A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75m-18 0v-7.5A2.25 2.25 0 0 1 5.25 9h13.5A2.25 2.25 0 0 1 21 11.25v7.5m-9-6h.008v.008H12v-.008ZM12 15h.008v.008H12V15Zm0 2.25h.008v.008H12v-.008ZM9.75 15h.008v.008H9.75V15Zm0 2.25h.008v.008H9.75v-.008ZM7.5 15h.008v.008H7.5V15Zm0 2.25h.008v.008H7.5v-.008Zm6.75-4.5h.008v.008h-.008v-.008Zm0 2.25h.008v.008h-.008V15Zm0 2.25h.008v.008h-.008v-.008Zm2.25-4.5h.008v.008H16.5v-.008Zm0 2.25h.008v.008H16.5V15Z"}))}const mc=n.forwardRef(cc),wt=mc;function xc({title:t,titleId:r,...a},s){return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":r},a),t?n.createElement("title",{id:r},t):null,n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6.75 3v2.25M17.25 3v2.25M3 18.75V7.5a2.25 2.25 0 0 1 2.25-2.25h13.5A2.25 2.25 0 0 1 21 7.5v11.25m-18 0A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75m-18 0v-7.5A2.25 2.25 0 0 1 5.25 9h13.5A2.25 2.25 0 0 1 21 11.25v7.5"}))}const gc=n.forwardRef(xc),dt=gc;function uc({title:t,titleId:r,...a},s){return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":r},a),t?n.createElement("title",{id:r},t):null,n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6.827 6.175A2.31 2.31 0 0 1 5.186 7.23c-.38.054-.757.112-1.134.175C2.999 7.58 2.25 8.507 2.25 9.574V18a2.25 2.25 0 0 0 2.25 2.25h15A2.25 2.25 0 0 0 21.75 18V9.574c0-1.067-.75-1.994-1.802-2.169a47.865 47.865 0 0 0-1.134-.175 2.31 2.31 0 0 1-1.64-1.055l-.822-1.316a2.192 2.192 0 0 0-1.736-1.039 48.774 48.774 0 0 0-5.232 0 2.192 2.192 0 0 0-1.736 1.039l-.821 1.316Z"}),n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.5 12.75a4.5 4.5 0 1 1-9 0 4.5 4.5 0 0 1 9 0ZM18.75 10.5h.008v.008h-.008V10.5Z"}))}const hc=n.forwardRef(uc),Zn=hc;function pc({title:t,titleId:r,...a},s){return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":r},a),t?n.createElement("title",{id:r},t):null,n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 13.125C3 12.504 3.504 12 4.125 12h2.25c.621 0 1.125.504 1.125 1.125v6.75C7.5 20.496 6.996 21 6.375 21h-2.25A1.125 1.125 0 0 1 3 19.875v-6.75ZM9.75 8.625c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125v11.25c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 0 1-1.125-1.125V8.625ZM16.5 4.125c0-.621.504-1.125 1.125-1.125h2.25C20.496 3 21 3.504 21 4.125v15.75c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 0 1-1.125-1.125V4.125Z"}))}const fc=n.forwardRef(pc),qt=fc;function bc({title:t,titleId:r,...a},s){return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":r},a),t?n.createElement("title",{id:r},t):null,n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M7.5 8.25h9m-9 3H12m-9.75 1.51c0 1.6 1.123 2.994 2.707 3.227 1.129.166 2.27.293 3.423.379.35.026.67.21.865.501L12 21l2.755-4.133a1.14 1.14 0 0 1 .865-.501 48.172 48.172 0 0 0 3.423-.379c1.584-.233 2.707-1.626 2.707-3.228V6.741c0-1.602-1.123-2.995-2.707-3.228A48.394 48.394 0 0 0 12 3c-2.392 0-4.744.175-7.043.513C3.373 3.746 2.25 5.14 2.25 6.741v6.018Z"}))}const yc=n.forwardRef(bc),Yn=yc;function vc({title:t,titleId:r,...a},s){return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":r},a),t?n.createElement("title",{id:r},t):null,n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M20.25 8.511c.884.284 1.5 1.128 1.5 2.097v4.286c0 1.136-.847 2.1-1.98 2.193-.34.027-.68.052-1.02.072v3.091l-3-3c-1.354 0-2.694-.055-4.02-.163a2.115 2.115 0 0 1-.825-.242m9.345-8.334a2.126 2.126 0 0 0-.476-.095 48.64 48.64 0 0 0-8.048 0c-1.131.094-1.976 1.057-1.976 2.192v4.286c0 .837.46 1.58 1.155 1.951m9.345-8.334V6.637c0-1.621-1.152-3.026-2.76-3.235A48.455 48.455 0 0 0 11.25 3c-2.115 0-4.198.137-6.24.402-1.608.209-2.76 1.614-2.76 3.235v6.226c0 1.621 1.152 3.026 2.76 3.235.577.075 1.157.14 1.74.194V21l4.155-4.155"}))}const jc=n.forwardRef(vc),at=jc;function wc({title:t,titleId:r,...a},s){return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":r},a),t?n.createElement("title",{id:r},t):null,n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 12.76c0 1.6 1.123 2.994 2.707 3.227 1.087.16 2.185.283 3.293.369V21l4.076-4.076a1.526 1.526 0 0 1 1.037-.443 48.282 48.282 0 0 0 5.68-.494c1.584-.233 2.707-1.626 2.707-3.228V6.741c0-1.602-1.123-2.995-2.707-3.228A48.394 48.394 0 0 0 12 3c-2.392 0-4.744.175-7.043.513C3.373 3.746 2.25 5.14 2.25 6.741v6.018Z"}))}const Nc=n.forwardRef(wc),ta=Nc;function kc({title:t,titleId:r,...a},s){return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":r},a),t?n.createElement("title",{id:r},t):null,n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75 11.25 15 15 9.75M21 12c0 1.268-.63 2.39-1.593 3.068a3.745 3.745 0 0 1-1.043 3.296 3.745 3.745 0 0 1-3.296 1.043A3.745 3.745 0 0 1 12 21c-1.268 0-2.39-.63-3.068-1.593a3.746 3.746 0 0 1-3.296-1.043 3.745 3.745 0 0 1-1.043-3.296A3.745 3.745 0 0 1 3 12c0-1.268.63-2.39 1.593-3.068a3.745 3.745 0 0 1 1.043-3.296 3.746 3.746 0 0 1 3.296-1.043A3.746 3.746 0 0 1 12 3c1.268 0 2.39.63 3.068 1.593a3.746 3.746 0 0 1 3.296 1.043 3.746 3.746 0 0 1 1.043 3.296A3.745 3.745 0 0 1 21 12Z"}))}const Ec=n.forwardRef(kc),ra=Ec;function Sc({title:t,titleId:r,...a},s){return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":r},a),t?n.createElement("title",{id:r},t):null,n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75 11.25 15 15 9.75M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const Cc=n.forwardRef(Sc),De=Cc;function Rc({title:t,titleId:r,...a},s){return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":r},a),t?n.createElement("title",{id:r},t):null,n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m4.5 12.75 6 6 9-13.5"}))}const Ac=n.forwardRef(Rc),fs=Ac;function Mc({title:t,titleId:r,...a},s){return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":r},a),t?n.createElement("title",{id:r},t):null,n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m19.5 8.25-7.5 7.5-7.5-7.5"}))}const $c=n.forwardRef(Mc),Qn=$c;function Dc({title:t,titleId:r,...a},s){return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":r},a),t?n.createElement("title",{id:r},t):null,n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12h3.75M9 15h3.75M9 18h3.75m3 .75H18a2.25 2.25 0 0 0 2.25-2.25V6.108c0-1.135-.845-2.098-1.976-2.192a48.424 48.424 0 0 0-1.123-.08m-5.801 0c-.065.21-.1.433-.1.664 0 .414.336.75.75.75h4.5a.75.75 0 0 0 .75-.75 2.25 2.25 0 0 0-.1-.664m-5.8 0A2.251 2.251 0 0 1 13.5 2.25H15c1.012 0 1.867.668 2.15 1.586m-5.8 0c-.376.023-.75.05-1.124.08C9.095 4.01 8.25 4.973 8.25 6.108V8.25m0 0H4.875c-.621 0-1.125.504-1.125 1.125v11.25c0 .621.504 1.125 1.125 1.125h9.75c.621 0 1.125-.504 1.125-1.125V9.375c0-.621-.504-1.125-1.125-1.125H8.25ZM6.75 12h.008v.008H6.75V12Zm0 3h.008v.008H6.75V15Zm0 3h.008v.008H6.75V18Z"}))}const Lc=n.forwardRef(Dc),Tc=Lc;function _c({title:t,titleId:r,...a},s){return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":r},a),t?n.createElement("title",{id:r},t):null,n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8.25 7.5V6.108c0-1.135.845-2.098 1.976-2.192.373-.03.748-.057 1.123-.08M15.75 18H18a2.25 2.25 0 0 0 2.25-2.25V6.108c0-1.135-.845-2.098-1.976-2.192a48.424 48.424 0 0 0-1.123-.08M15.75 18.75v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5A3.375 3.375 0 0 0 6.375 7.5H5.25m11.9-3.664A2.251 2.251 0 0 0 15 2.25h-1.5a2.251 2.251 0 0 0-2.15 1.586m5.8 0c.065.21.1.433.1.664v.75h-6V4.5c0-.231.035-.454.1-.664M6.75 7.5H4.875c-.621 0-1.125.504-1.125 1.125v12c0 .621.504 1.125 1.125 1.125h9.75c.621 0 1.125-.504 1.125-1.125V16.5a9 9 0 0 0-9-9Z"}))}const Pc=n.forwardRef(_c),Fc=Pc;function Ic({title:t,titleId:r,...a},s){return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":r},a),t?n.createElement("title",{id:r},t):null,n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6v6h4.5m4.5 0a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const Oc=n.forwardRef(Ic),Ae=Oc;function qc({title:t,titleId:r,...a},s){return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":r},a),t?n.createElement("title",{id:r},t):null,n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 15a4.5 4.5 0 0 0 4.5 4.5H18a3.75 3.75 0 0 0 1.332-7.257 3 3 0 0 0-3.758-3.848 5.25 5.25 0 0 0-10.233 2.33A4.502 4.502 0 0 0 2.25 15Z"}))}const Vc=n.forwardRef(qc),za=Vc;function Bc({title:t,titleId:r,...a},s){return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":r},a),t?n.createElement("title",{id:r},t):null,n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M17.25 6.75 22.5 12l-5.25 5.25m-10.5 0L1.5 12l5.25-5.25m7.5-3-4.5 16.5"}))}const zc=n.forwardRef(Bc),Uc=zc;function Hc({title:t,titleId:r,...a},s){return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":r},a),t?n.createElement("title",{id:r},t):null,n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.594 3.94c.09-.542.56-.94 1.11-.94h2.593c.55 0 1.02.398 1.11.94l.213 1.281c.063.374.313.686.645.87.074.04.147.083.22.127.325.196.72.257 1.075.124l1.217-.456a1.125 1.125 0 0 1 1.37.49l1.296 2.247a1.125 1.125 0 0 1-.26 1.431l-1.003.827c-.293.241-.438.613-.43.992a7.723 7.723 0 0 1 0 .255c-.008.378.137.75.43.991l1.004.827c.424.35.534.955.26 1.43l-1.298 2.247a1.125 1.125 0 0 1-1.369.491l-1.217-.456c-.355-.133-.75-.072-1.076.124a6.47 6.47 0 0 1-.22.128c-.331.183-.581.495-.644.869l-.213 1.281c-.09.543-.56.94-1.11.94h-2.594c-.55 0-1.019-.398-1.11-.94l-.213-1.281c-.062-.374-.312-.686-.644-.87a6.52 6.52 0 0 1-.22-.127c-.325-.196-.72-.257-1.076-.124l-1.217.456a1.125 1.125 0 0 1-1.369-.49l-1.297-2.247a1.125 1.125 0 0 1 .26-1.431l1.004-.827c.292-.24.437-.613.43-.991a6.932 6.932 0 0 1 0-.255c.007-.38-.138-.751-.43-.992l-1.004-.827a1.125 1.125 0 0 1-.26-1.43l1.297-2.247a1.125 1.125 0 0 1 1.37-.491l1.216.456c.356.133.751.072 1.076-.124.072-.044.146-.086.22-.128.332-.183.582-.495.644-.869l.214-1.28Z"}),n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"}))}const Gc=n.forwardRef(Hc),Wc=Gc;function Zc({title:t,titleId:r,...a},s){return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":r},a),t?n.createElement("title",{id:r},t):null,n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4.5 12a7.5 7.5 0 0 0 15 0m-15 0a7.5 7.5 0 1 1 15 0m-15 0H3m16.5 0H21m-1.5 0H12m-8.457 3.077 1.41-.513m14.095-5.13 1.41-.513M5.106 17.785l1.15-.964m11.49-9.642 1.149-.964M7.501 19.795l.75-1.3m7.5-12.99.75-1.3m-6.063 16.658.26-1.477m2.605-14.772.26-1.477m0 17.726-.26-1.477M10.698 4.614l-.26-1.477M16.5 19.794l-.75-1.299M7.5 4.205 12 12m6.894 5.785-1.149-.964M6.256 7.178l-1.15-.964m15.352 8.864-1.41-.513M4.954 9.435l-1.41-.514M12.002 12l-3.75 6.495"}))}const Yc=n.forwardRef(Zc),Cr=Yc;function Qc({title:t,titleId:r,...a},s){return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":r},a),t?n.createElement("title",{id:r},t):null,n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6v12m-3-2.818.879.659c1.171.879 3.07.879 4.242 0 1.172-.879 1.172-2.303 0-3.182C13.536 12.219 12.768 12 12 12c-.725 0-1.45-.22-2.003-.659-1.106-.879-1.106-2.303 0-3.182s2.9-.879 4.006 0l.415.33M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const Jc=n.forwardRef(Qc),Is=Jc;function Kc({title:t,titleId:r,...a},s){return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":r},a),t?n.createElement("title",{id:r},t):null,n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 14.25v-2.625a3.375 3.375 0 0 0-3.375-3.375h-1.5A1.125 1.125 0 0 1 13.5 7.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H8.25m.75 12 3 3m0 0 3-3m-3 3v-6m-1.5-9H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 0 0-9-9Z"}))}const Xc=n.forwardRef(Kc),Ua=Xc;function e0({title:t,titleId:r,...a},s){return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":r},a),t?n.createElement("title",{id:r},t):null,n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 14.25v-2.625a3.375 3.375 0 0 0-3.375-3.375h-1.5A1.125 1.125 0 0 1 13.5 7.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H8.25M9 16.5v.75m3-3v3M15 12v5.25m-4.5-15H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 0 0-9-9Z"}))}const t0=n.forwardRef(e0),r0=t0;function s0({title:t,titleId:r,...a},s){return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":r},a),t?n.createElement("title",{id:r},t):null,n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6.75a.75.75 0 1 1 0-1.5.75.75 0 0 1 0 1.5ZM12 12.75a.75.75 0 1 1 0-1.5.75.75 0 0 1 0 1.5ZM12 18.75a.75.75 0 1 1 0-1.5.75.75 0 0 1 0 1.5Z"}))}const a0=n.forwardRef(s0),Jn=a0;function n0({title:t,titleId:r,...a},s){return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":r},a),t?n.createElement("title",{id:r},t):null,n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21.75 6.75v10.5a2.25 2.25 0 0 1-2.25 2.25h-15a2.25 2.25 0 0 1-2.25-2.25V6.75m19.5 0A2.25 2.25 0 0 0 19.5 4.5h-15a2.25 2.25 0 0 0-2.25 2.25m19.5 0v.243a2.25 2.25 0 0 1-1.07 1.916l-7.5 4.615a2.25 2.25 0 0 1-2.36 0L3.32 8.91a2.25 2.25 0 0 1-1.07-1.916V6.75"}))}const l0=n.forwardRef(n0),Kt=l0;function i0({title:t,titleId:r,...a},s){return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":r},a),t?n.createElement("title",{id:r},t):null,n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v3.75m-9.303 3.376c-.866 1.5.217 3.374 1.948 3.374h14.71c1.73 0 2.813-1.874 1.948-3.374L13.949 3.378c-.866-1.5-3.032-1.5-3.898 0L2.697 16.126ZM12 15.75h.007v.008H12v-.008Z"}))}const o0=n.forwardRef(i0),fa=o0;function d0({title:t,titleId:r,...a},s){return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":r},a),t?n.createElement("title",{id:r},t):null,n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.98 8.223A10.477 10.477 0 0 0 1.934 12C3.226 16.338 7.244 19.5 12 19.5c.993 0 1.953-.138 2.863-.395M6.228 6.228A10.451 10.451 0 0 1 12 4.5c4.756 0 8.773 3.162 10.065 7.498a10.522 10.522 0 0 1-4.293 5.774M6.228 6.228 3 3m3.228 3.228 3.65 3.65m7.894 7.894L21 21m-3.228-3.228-3.65-3.65m0 0a3 3 0 1 0-4.243-4.243m4.242 4.242L9.88 9.88"}))}const c0=n.forwardRef(d0),Kn=c0;function m0({title:t,titleId:r,...a},s){return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":r},a),t?n.createElement("title",{id:r},t):null,n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.036 12.322a1.012 1.012 0 0 1 0-.639C3.423 7.51 7.36 4.5 12 4.5c4.638 0 8.573 3.007 9.963 7.178.07.207.07.431 0 .639C20.577 16.49 16.64 19.5 12 19.5c-4.638 0-8.573-3.007-9.963-7.178Z"}),n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"}))}const x0=n.forwardRef(m0),Ke=x0;function g0({title:t,titleId:r,...a},s){return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":r},a),t?n.createElement("title",{id:r},t):null,n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.362 5.214A8.252 8.252 0 0 1 12 21 8.25 8.25 0 0 1 6.038 7.047 8.287 8.287 0 0 0 9 9.601a8.983 8.983 0 0 1 3.361-6.867 8.21 8.21 0 0 0 3 2.48Z"}),n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 18a3.75 3.75 0 0 0 .495-7.468 5.99 5.99 0 0 0-1.925 3.547 5.975 5.975 0 0 1-2.133-1.001A3.75 3.75 0 0 0 12 18Z"}))}const u0=n.forwardRef(g0),Qe=u0;function h0({title:t,titleId:r,...a},s){return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":r},a),t?n.createElement("title",{id:r},t):null,n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 3c2.755 0 5.455.232 8.083.678.533.09.917.556.917 1.096v1.044a2.25 2.25 0 0 1-.659 1.591l-5.432 5.432a2.25 2.25 0 0 0-.659 1.591v2.927a2.25 2.25 0 0 1-1.244 2.013L9.75 21v-6.568a2.25 2.25 0 0 0-.659-1.591L3.659 7.409A2.25 2.25 0 0 1 3 5.818V4.774c0-.54.384-1.006.917-1.096A48.32 48.32 0 0 1 12 3Z"}))}const p0=n.forwardRef(h0),f0=p0;function b0({title:t,titleId:r,...a},s){return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":r},a),t?n.createElement("title",{id:r},t):null,n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 21a9.004 9.004 0 0 0 8.716-6.747M12 21a9.004 9.004 0 0 1-8.716-6.747M12 21c2.485 0 4.5-4.03 4.5-9S14.485 3 12 3m0 18c-2.485 0-4.5-4.03-4.5-9S9.515 3 12 3m0 0a8.997 8.997 0 0 1 7.843 4.582M12 3a8.997 8.997 0 0 0-7.843 4.582m15.686 0A11.953 11.953 0 0 1 12 10.5c-2.998 0-5.74-1.1-7.843-2.918m15.686 0A8.959 8.959 0 0 1 21 12c0 .778-.099 1.533-.284 2.253m0 0A17.919 17.919 0 0 1 12 16.5c-3.162 0-6.133-.815-8.716-2.247m0 0A9.015 9.015 0 0 1 3 12c0-1.605.42-3.113 1.157-4.418"}))}const y0=n.forwardRef(b0),Rr=y0;function v0({title:t,titleId:r,...a},s){return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":r},a),t?n.createElement("title",{id:r},t):null,n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6.633 10.25c.806 0 1.533-.446 2.031-1.08a9.041 9.041 0 0 1 2.861-2.4c.723-.384 1.35-.956 1.653-1.715a4.498 4.498 0 0 0 .322-1.672V2.75a.75.75 0 0 1 .75-.75 2.25 2.25 0 0 1 2.25 2.25c0 1.152-.26 2.243-.723 3.218-.266.558.107 1.282.725 1.282m0 0h3.126c1.026 0 1.945.694 2.054 1.715.045.422.068.85.068 1.285a11.95 11.95 0 0 1-2.649 7.521c-.388.482-.987.729-1.605.729H13.48c-.483 0-.964-.078-1.423-.23l-3.114-1.04a4.501 4.501 0 0 0-1.423-.23H5.904m10.598-9.75H14.25M5.904 18.5c.083.205.173.405.27.602.197.4-.078.898-.523.898h-.908c-.889 0-1.713-.518-1.972-1.368a12 12 0 0 1-.521-3.507c0-1.553.295-3.036.831-4.398C3.387 9.953 4.167 9.5 5 9.5h1.053c.472 0 .745.556.5.96a8.958 8.958 0 0 0-1.302 4.665c0 1.194.232 2.333.654 3.375Z"}))}const j0=n.forwardRef(v0),w0=j0;function N0({title:t,titleId:r,...a},s){return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":r},a),t?n.createElement("title",{id:r},t):null,n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21 8.25c0-2.485-2.099-4.5-4.688-4.5-1.935 0-3.597 1.126-4.312 2.733-.715-1.607-2.377-2.733-4.313-2.733C5.1 3.75 3 5.765 3 8.25c0 7.22 9 12 9 12s9-4.78 9-12Z"}))}const k0=n.forwardRef(N0),Le=k0;function E0({title:t,titleId:r,...a},s){return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":r},a),t?n.createElement("title",{id:r},t):null,n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m2.25 12 8.954-8.955c.44-.439 1.152-.439 1.591 0L21.75 12M4.5 9.75v10.125c0 .621.504 1.125 1.125 1.125H9.75v-4.875c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125V21h4.125c.621 0 1.125-.504 1.125-1.125V9.75M8.25 21h8.25"}))}const S0=n.forwardRef(E0),ir=S0;function C0({title:t,titleId:r,...a},s){return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":r},a),t?n.createElement("title",{id:r},t):null,n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m11.25 11.25.041-.02a.75.75 0 0 1 1.063.852l-.708 2.836a.75.75 0 0 0 1.063.853l.041-.021M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Zm-9-3.75h.008v.008H12V8.25Z"}))}const R0=n.forwardRef(C0),or=R0;function A0({title:t,titleId:r,...a},s){return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":r},a),t?n.createElement("title",{id:r},t):null,n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8.25 6.75h12M8.25 12h12m-12 5.25h12M3.75 6.75h.007v.008H3.75V6.75Zm.375 0a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0ZM3.75 12h.007v.008H3.75V12Zm.375 0a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0Zm-.375 5.25h.007v.008H3.75v-.008Zm.375 0a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0Z"}))}const M0=n.forwardRef(A0),$0=M0;function D0({title:t,titleId:r,...a},s){return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":r},a),t?n.createElement("title",{id:r},t):null,n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.5 10.5V6.75a4.5 4.5 0 1 0-9 0v3.75m-.75 11.25h10.5a2.25 2.25 0 0 0 2.25-2.25v-6.75a2.25 2.25 0 0 0-2.25-2.25H6.75a2.25 2.25 0 0 0-2.25 2.25v6.75a2.25 2.25 0 0 0 2.25 2.25Z"}))}const L0=n.forwardRef(D0),Vt=L0;function T0({title:t,titleId:r,...a},s){return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":r},a),t?n.createElement("title",{id:r},t):null,n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m21 21-5.197-5.197m0 0A7.5 7.5 0 1 0 5.196 5.196a7.5 7.5 0 0 0 10.607 10.607Z"}))}const _0=n.forwardRef(T0),Mt=_0;function P0({title:t,titleId:r,...a},s){return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":r},a),t?n.createElement("title",{id:r},t):null,n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 10.5a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"}),n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 10.5c0 7.142-7.5 11.25-7.5 11.25S4.5 17.642 4.5 10.5a7.5 7.5 0 1 1 15 0Z"}))}const F0=n.forwardRef(P0),fe=F0;function I0({title:t,titleId:r,...a},s){return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":r},a),t?n.createElement("title",{id:r},t):null,n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21.752 15.002A9.72 9.72 0 0 1 18 15.75c-5.385 0-9.75-4.365-9.75-9.75 0-1.33.266-2.597.748-3.752A9.753 9.753 0 0 0 3 11.25C3 16.635 7.365 21 12.75 21a9.753 9.753 0 0 0 9.002-5.998Z"}))}const O0=n.forwardRef(I0),Xn=O0;function q0({title:t,titleId:r,...a},s){return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":r},a),t?n.createElement("title",{id:r},t):null,n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 12 3.269 3.125A59.769 59.769 0 0 1 21.485 12 59.768 59.768 0 0 1 3.27 20.875L5.999 12Zm0 0h7.5"}))}const V0=n.forwardRef(q0),ba=V0;function B0({title:t,titleId:r,...a},s){return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":r},a),t?n.createElement("title",{id:r},t):null,n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m16.862 4.487 1.687-1.688a1.875 1.875 0 1 1 2.652 2.652L10.582 16.07a4.5 4.5 0 0 1-1.897 1.13L6 18l.8-2.685a4.5 4.5 0 0 1 1.13-1.897l8.932-8.931Zm0 0L19.5 7.125M18 14v4.75A2.25 2.25 0 0 1 15.75 21H5.25A2.25 2.25 0 0 1 3 18.75V8.25A2.25 2.25 0 0 1 5.25 6H10"}))}const z0=n.forwardRef(B0),bs=z0;function U0({title:t,titleId:r,...a},s){return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":r},a),t?n.createElement("title",{id:r},t):null,n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m16.862 4.487 1.687-1.688a1.875 1.875 0 1 1 2.652 2.652L6.832 19.82a4.5 4.5 0 0 1-1.897 1.13l-2.685.8.8-2.685a4.5 4.5 0 0 1 1.13-1.897L16.863 4.487Zm0 0L19.5 7.125"}))}const H0=n.forwardRef(U0),G0=H0;function W0({title:t,titleId:r,...a},s){return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":r},a),t?n.createElement("title",{id:r},t):null,n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 6.75c0 8.284 6.716 15 15 15h2.25a2.25 2.25 0 0 0 2.25-2.25v-1.372c0-.516-.351-.966-.852-1.091l-4.423-1.106c-.44-.11-.902.055-1.173.417l-.97 1.293c-.282.376-.769.542-1.21.38a12.035 12.035 0 0 1-7.143-7.143c-.162-.441.004-.928.38-1.21l1.293-.97c.363-.271.527-.734.417-1.173L6.963 3.102a1.125 1.125 0 0 0-1.091-.852H4.5A2.25 2.25 0 0 0 2.25 4.5v2.25Z"}))}const Z0=n.forwardRef(W0),Tr=Z0;function Y0({title:t,titleId:r,...a},s){return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":r},a),t?n.createElement("title",{id:r},t):null,n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m2.25 15.75 5.159-5.159a2.25 2.25 0 0 1 3.182 0l5.159 5.159m-1.5-1.5 1.409-1.409a2.25 2.25 0 0 1 3.182 0l2.909 2.909m-18 3.75h16.5a1.5 1.5 0 0 0 1.5-1.5V6a1.5 1.5 0 0 0-1.5-1.5H3.75A1.5 1.5 0 0 0 2.25 6v12a1.5 1.5 0 0 0 1.5 1.5Zm10.5-11.25h.008v.008h-.008V8.25Zm.375 0a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0Z"}))}const Q0=n.forwardRef(Y0),Ur=Q0;function J0({title:t,titleId:r,...a},s){return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":r},a),t?n.createElement("title",{id:r},t):null,n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5.25 5.653c0-.856.917-1.398 1.667-.986l11.54 6.347a1.125 1.125 0 0 1 0 1.972l-11.54 6.347a1.125 1.125 0 0 1-1.667-.986V5.653Z"}))}const K0=n.forwardRef(J0),Ha=K0;function X0({title:t,titleId:r,...a},s){return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":r},a),t?n.createElement("title",{id:r},t):null,n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v6m3-3H9m12 0a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const em=n.forwardRef(X0),tm=em;function rm({title:t,titleId:r,...a},s){return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":r},a),t?n.createElement("title",{id:r},t):null,n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4.5v15m7.5-7.5h-15"}))}const sm=n.forwardRef(rm),Xt=sm;function am({title:t,titleId:r,...a},s){return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":r},a),t?n.createElement("title",{id:r},t):null,n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6.72 13.829c-.24.03-.48.062-.72.096m.72-.096a42.415 42.415 0 0 1 10.56 0m-10.56 0L6.34 18m10.94-4.171c.24.03.48.062.72.096m-.72-.096L17.66 18m0 0 .229 2.523a1.125 1.125 0 0 1-1.12 1.227H7.231c-.662 0-1.18-.568-1.12-1.227L6.34 18m11.318 0h1.091A2.25 2.25 0 0 0 21 15.75V9.456c0-1.081-.768-2.015-1.837-2.175a48.055 48.055 0 0 0-1.913-.247M6.34 18H5.25A2.25 2.25 0 0 1 3 15.75V9.456c0-1.081.768-2.015 1.837-2.175a48.041 48.041 0 0 1 1.913-.247m10.5 0a48.536 48.536 0 0 0-10.5 0m10.5 0V3.375c0-.621-.504-1.125-1.125-1.125h-8.25c-.621 0-1.125.504-1.125 1.125v3.659M18 10.5h.008v.008H18V10.5Zm-3 0h.008v.008H15V10.5Z"}))}const nm=n.forwardRef(am),lm=nm;function im({title:t,titleId:r,...a},s){return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":r},a),t?n.createElement("title",{id:r},t):null,n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 4.875c0-.621.504-1.125 1.125-1.125h4.5c.621 0 1.125.504 1.125 1.125v4.5c0 .621-.504 1.125-1.125 1.125h-4.5A1.125 1.125 0 0 1 3.75 9.375v-4.5ZM3.75 14.625c0-.621.504-1.125 1.125-1.125h4.5c.621 0 1.125.504 1.125 1.125v4.5c0 .621-.504 1.125-1.125 1.125h-4.5a1.125 1.125 0 0 1-1.125-1.125v-4.5ZM13.5 4.875c0-.621.504-1.125 1.125-1.125h4.5c.621 0 1.125.504 1.125 1.125v4.5c0 .621-.504 1.125-1.125 1.125h-4.5A1.125 1.125 0 0 1 13.5 9.375v-4.5Z"}),n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6.75 6.75h.75v.75h-.75v-.75ZM6.75 16.5h.75v.75h-.75v-.75ZM16.5 6.75h.75v.75h-.75v-.75ZM13.5 13.5h.75v.75h-.75v-.75ZM13.5 19.5h.75v.75h-.75v-.75ZM19.5 13.5h.75v.75h-.75v-.75ZM19.5 19.5h.75v.75h-.75v-.75ZM16.5 16.5h.75v.75h-.75v-.75Z"}))}const om=n.forwardRef(im),jr=om;function dm({title:t,titleId:r,...a},s){return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":r},a),t?n.createElement("title",{id:r},t):null,n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21.75 17.25v-.228a4.5 4.5 0 0 0-.12-1.03l-2.268-9.64a3.375 3.375 0 0 0-3.285-2.602H7.923a3.375 3.375 0 0 0-3.285 2.602l-2.268 9.64a4.5 4.5 0 0 0-.12 1.03v.228m19.5 0a3 3 0 0 1-3 3H5.25a3 3 0 0 1-3-3m19.5 0a3 3 0 0 0-3-3H5.25a3 3 0 0 0-3 3m16.5 0h.008v.008h-.008v-.008Zm-3 0h.008v.008h-.008v-.008Z"}))}const cm=n.forwardRef(dm),mm=cm;function xm({title:t,titleId:r,...a},s){return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":r},a),t?n.createElement("title",{id:r},t):null,n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M7.217 10.907a2.25 2.25 0 1 0 0 2.186m0-2.186c.18.324.283.696.283 1.093s-.103.77-.283 1.093m0-2.186 9.566-5.314m-9.566 7.5 9.566 5.314m0 0a2.25 2.25 0 1 0 3.935 2.186 2.25 2.25 0 0 0-3.935-2.186Zm0-12.814a2.25 2.25 0 1 0 3.933-2.185 2.25 2.25 0 0 0-3.933 2.185Z"}))}const gm=n.forwardRef(xm),um=gm;function hm({title:t,titleId:r,...a},s){return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":r},a),t?n.createElement("title",{id:r},t):null,n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75 11.25 15 15 9.75m-3-7.036A11.959 11.959 0 0 1 3.598 6 11.99 11.99 0 0 0 3 9.749c0 5.592 3.824 10.29 9 11.623 5.176-1.332 9-6.03 9-11.622 0-1.31-.21-2.571-.598-3.751h-.152c-3.196 0-6.1-1.248-8.25-3.285Z"}))}const pm=n.forwardRef(hm),_r=pm;function fm({title:t,titleId:r,...a},s){return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":r},a),t?n.createElement("title",{id:r},t):null,n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.813 15.904 9 18.75l-.813-2.846a4.5 4.5 0 0 0-3.09-3.09L2.25 12l2.846-.813a4.5 4.5 0 0 0 3.09-3.09L9 5.25l.813 2.846a4.5 4.5 0 0 0 3.09 3.09L15.75 12l-2.846.813a4.5 4.5 0 0 0-3.09 3.09ZM18.259 8.715 18 9.75l-.259-1.035a3.375 3.375 0 0 0-2.455-2.456L14.25 6l1.036-.259a3.375 3.375 0 0 0 2.455-2.456L18 2.25l.259 1.035a3.375 3.375 0 0 0 2.456 2.456L21.75 6l-1.035.259a3.375 3.375 0 0 0-2.456 2.456ZM16.894 20.567 16.5 21.75l-.394-1.183a2.25 2.25 0 0 0-1.423-1.423L13.5 18.75l1.183-.394a2.25 2.25 0 0 0 1.423-1.423l.394-1.183.394 1.183a2.25 2.25 0 0 0 1.423 1.423l1.183.394-1.183.394a2.25 2.25 0 0 0-1.423 1.423Z"}))}const bm=n.forwardRef(fm),_e=bm;function ym({title:t,titleId:r,...a},s){return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":r},a),t?n.createElement("title",{id:r},t):null,n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 6A2.25 2.25 0 0 1 6 3.75h2.25A2.25 2.25 0 0 1 10.5 6v2.25a2.25 2.25 0 0 1-2.25 2.25H6a2.25 2.25 0 0 1-2.25-2.25V6ZM3.75 15.75A2.25 2.25 0 0 1 6 13.5h2.25a2.25 2.25 0 0 1 2.25 2.25V18a2.25 2.25 0 0 1-2.25 2.25H6A2.25 2.25 0 0 1 3.75 18v-2.25ZM13.5 6a2.25 2.25 0 0 1 2.25-2.25H18A2.25 2.25 0 0 1 20.25 6v2.25A2.25 2.25 0 0 1 18 10.5h-2.25a2.25 2.25 0 0 1-2.25-2.25V6ZM13.5 15.75a2.25 2.25 0 0 1 2.25-2.25H18a2.25 2.25 0 0 1 2.25 2.25V18A2.25 2.25 0 0 1 18 20.25h-2.25A2.25 2.25 0 0 1 13.5 18v-2.25Z"}))}const vm=n.forwardRef(ym),jm=vm;function wm({title:t,titleId:r,...a},s){return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":r},a),t?n.createElement("title",{id:r},t):null,n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M11.48 3.499a.562.562 0 0 1 1.04 0l2.125 5.111a.563.563 0 0 0 .475.345l5.518.442c.499.04.701.663.321.988l-4.204 3.602a.563.563 0 0 0-.182.557l1.285 5.385a.562.562 0 0 1-.84.61l-4.725-2.885a.562.562 0 0 0-.586 0L6.982 20.54a.562.562 0 0 1-.84-.61l1.285-5.386a.562.562 0 0 0-.182-.557l-4.204-3.602a.562.562 0 0 1 .321-.988l5.518-.442a.563.563 0 0 0 .475-.345L11.48 3.5Z"}))}const Nm=n.forwardRef(wm),Xe=Nm;function km({title:t,titleId:r,...a},s){return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":r},a),t?n.createElement("title",{id:r},t):null,n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5.25 7.5A2.25 2.25 0 0 1 7.5 5.25h9a2.25 2.25 0 0 1 2.25 2.25v9a2.25 2.25 0 0 1-2.25 2.25h-9a2.25 2.25 0 0 1-2.25-2.25v-9Z"}))}const Em=n.forwardRef(km),el=Em;function Sm({title:t,titleId:r,...a},s){return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":r},a),t?n.createElement("title",{id:r},t):null,n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 3v2.25m6.364.386-1.591 1.591M21 12h-2.25m-.386 6.364-1.591-1.591M12 18.75V21m-4.773-4.227-1.591 1.591M5.25 12H3m4.227-4.773L5.636 5.636M15.75 12a3.75 3.75 0 1 1-7.5 0 3.75 3.75 0 0 1 7.5 0Z"}))}const Cm=n.forwardRef(Sm),Rm=Cm;function Am({title:t,titleId:r,...a},s){return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":r},a),t?n.createElement("title",{id:r},t):null,n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.568 3H5.25A2.25 2.25 0 0 0 3 5.25v4.318c0 .597.237 1.17.659 1.591l9.581 9.581c.699.699 1.78.872 2.607.33a18.095 18.095 0 0 0 5.223-5.223c.542-.827.369-1.908-.33-2.607L11.16 3.66A2.25 2.25 0 0 0 9.568 3Z"}),n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 6h.008v.008H6V6Z"}))}const Mm=n.forwardRef(Am),as=Mm;function $m({title:t,titleId:r,...a},s){return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":r},a),t?n.createElement("title",{id:r},t):null,n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m14.74 9-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 0 1-2.244 2.077H8.084a2.25 2.25 0 0 1-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 0 0-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 0 1 3.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 0 0-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 0 0-7.5 0"}))}const Dm=n.forwardRef($m),ys=Dm;function Lm({title:t,titleId:r,...a},s){return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":r},a),t?n.createElement("title",{id:r},t):null,n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.5 18.75h-9m9 0a3 3 0 0 1 3 3h-15a3 3 0 0 1 3-3m9 0v-3.375c0-.621-.503-1.125-1.125-1.125h-.871M7.5 18.75v-3.375c0-.621.504-1.125 1.125-1.125h.872m5.007 0H9.497m5.007 0a7.454 7.454 0 0 1-.982-3.172M9.497 14.25a7.454 7.454 0 0 0 .981-3.172M5.25 4.236c-.982.143-1.954.317-2.916.52A6.003 6.003 0 0 0 7.73 9.728M5.25 4.236V4.5c0 2.108.966 3.99 2.48 5.228M5.25 4.236V2.721C7.456 2.41 9.71 2.25 12 2.25c2.291 0 4.545.16 6.75.47v1.516M7.73 9.728a6.726 6.726 0 0 0 2.748 1.35m8.272-6.842V4.5c0 2.108-.966 3.99-2.48 5.228m2.48-5.492a46.32 46.32 0 0 1 2.916.52 6.003 6.003 0 0 1-5.395 4.972m0 0a6.726 6.726 0 0 1-2.749 1.35m0 0a6.772 6.772 0 0 1-3.044 0"}))}const Tm=n.forwardRef(Lm),nt=Tm;function _m({title:t,titleId:r,...a},s){return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":r},a),t?n.createElement("title",{id:r},t):null,n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M17.982 18.725A7.488 7.488 0 0 0 12 15.75a7.488 7.488 0 0 0-5.982 2.975m11.963 0a9 9 0 1 0-11.963 0m11.963 0A8.966 8.966 0 0 1 12 21a8.966 8.966 0 0 1-5.982-2.275M15 9.75a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"}))}const Pm=n.forwardRef(_m),ns=Pm;function Fm({title:t,titleId:r,...a},s){return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":r},a),t?n.createElement("title",{id:r},t):null,n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M18 18.72a9.094 9.094 0 0 0 3.741-.479 3 3 0 0 0-4.682-2.72m.94 3.198.001.031c0 .225-.012.447-.037.666A11.944 11.944 0 0 1 12 21c-2.17 0-4.207-.576-5.963-1.584A6.062 6.062 0 0 1 6 18.719m12 0a5.971 5.971 0 0 0-.941-3.197m0 0A5.995 5.995 0 0 0 12 12.75a5.995 5.995 0 0 0-5.058 2.772m0 0a3 3 0 0 0-4.681 2.72 8.986 8.986 0 0 0 3.74.477m.94-3.197a5.971 5.971 0 0 0-.94 3.197M15 6.75a3 3 0 1 1-6 0 3 3 0 0 1 6 0Zm6 3a2.25 2.25 0 1 1-4.5 0 2.25 2.25 0 0 1 4.5 0Zm-13.5 0a2.25 2.25 0 1 1-4.5 0 2.25 2.25 0 0 1 4.5 0Z"}))}const Im=n.forwardRef(Fm),Ne=Im;function Om({title:t,titleId:r,...a},s){return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":r},a),t?n.createElement("title",{id:r},t):null,n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M22 10.5h-6m-2.25-4.125a3.375 3.375 0 1 1-6.75 0 3.375 3.375 0 0 1 6.75 0ZM4 19.235v-.11a6.375 6.375 0 0 1 12.75 0v.109A12.318 12.318 0 0 1 10.374 21c-2.331 0-4.512-.645-6.374-1.766Z"}))}const qm=n.forwardRef(Om),tl=qm;function Vm({title:t,titleId:r,...a},s){return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":r},a),t?n.createElement("title",{id:r},t):null,n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M18 7.5v3m0 0v3m0-3h3m-3 0h-3m-2.25-4.125a3.375 3.375 0 1 1-6.75 0 3.375 3.375 0 0 1 6.75 0ZM3 19.235v-.11a6.375 6.375 0 0 1 12.75 0v.109A12.318 12.318 0 0 1 9.374 21c-2.331 0-4.512-.645-6.374-1.766Z"}))}const Bm=n.forwardRef(Vm),er=Bm;function zm({title:t,titleId:r,...a},s){return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":r},a),t?n.createElement("title",{id:r},t):null,n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 6a3.75 3.75 0 1 1-7.5 0 3.75 3.75 0 0 1 7.5 0ZM4.501 20.118a7.5 7.5 0 0 1 14.998 0A17.933 17.933 0 0 1 12 21.75c-2.676 0-5.216-.584-7.499-1.632Z"}))}const Um=n.forwardRef(zm),Rt=Um;function Hm({title:t,titleId:r,...a},s){return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":r},a),t?n.createElement("title",{id:r},t):null,n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 19.128a9.38 9.38 0 0 0 2.625.372 9.337 9.337 0 0 0 4.121-.952 4.125 4.125 0 0 0-7.533-2.493M15 19.128v-.003c0-1.113-.285-2.16-.786-3.07M15 19.128v.106A12.318 12.318 0 0 1 8.624 21c-2.331 0-4.512-.645-6.374-1.766l-.001-.109a6.375 6.375 0 0 1 11.964-3.07M12 6.375a3.375 3.375 0 1 1-6.75 0 3.375 3.375 0 0 1 6.75 0Zm8.25 2.25a2.625 2.625 0 1 1-5.25 0 2.625 2.625 0 0 1 5.25 0Z"}))}const Gm=n.forwardRef(Hm),At=Gm;function Wm({title:t,titleId:r,...a},s){return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":r},a),t?n.createElement("title",{id:r},t):null,n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m9.75 9.75 4.5 4.5m0-4.5-4.5 4.5M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const Zm=n.forwardRef(Wm),dr=Zm;function Ym({title:t,titleId:r,...a},s){return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":r},a),t?n.createElement("title",{id:r},t):null,n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18 18 6M6 6l12 12"}))}const Qm=n.forwardRef(Ym),pe=Qm;function Jm({title:t,titleId:r,...a},s){return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":r},a),t?n.createElement("title",{id:r},t):null,n.createElement("path",{fillRule:"evenodd",d:"M5.25 9a6.75 6.75 0 0 1 13.5 0v.75c0 2.123.8 4.057 2.118 5.52a.75.75 0 0 1-.297 1.206c-1.544.57-3.16.99-4.831 1.243a3.75 3.75 0 1 1-7.48 0 24.585 24.585 0 0 1-4.831-1.244.75.75 0 0 1-.298-1.205A8.217 8.217 0 0 0 5.25 9.75V9Zm4.502 8.9a2.25 2.25 0 1 0 4.496 0 25.057 25.057 0 0 1-4.496 0Z",clipRule:"evenodd"}))}const Km=n.forwardRef(Jm),Pr=Km;function Xm({title:t,titleId:r,...a},s){return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":r},a),t?n.createElement("title",{id:r},t):null,n.createElement("path",{d:"M12.75 12.75a.75.75 0 1 1-1.5 0 .75.75 0 0 1 1.5 0ZM7.5 15.75a.75.75 0 1 0 0-1.5.75.75 0 0 0 0 1.5ZM8.25 17.25a.75.75 0 1 1-1.5 0 .75.75 0 0 1 1.5 0ZM9.75 15.75a.75.75 0 1 0 0-1.5.75.75 0 0 0 0 1.5ZM10.5 17.25a.75.75 0 1 1-1.5 0 .75.75 0 0 1 1.5 0ZM12 15.75a.75.75 0 1 0 0-1.5.75.75 0 0 0 0 1.5ZM12.75 17.25a.75.75 0 1 1-1.5 0 .75.75 0 0 1 1.5 0ZM14.25 15.75a.75.75 0 1 0 0-1.5.75.75 0 0 0 0 1.5ZM15 17.25a.75.75 0 1 1-1.5 0 .75.75 0 0 1 1.5 0ZM16.5 15.75a.75.75 0 1 0 0-1.5.75.75 0 0 0 0 1.5ZM15 12.75a.75.75 0 1 1-1.5 0 .75.75 0 0 1 1.5 0ZM16.5 13.5a.75.75 0 1 0 0-1.5.75.75 0 0 0 0 1.5Z"}),n.createElement("path",{fillRule:"evenodd",d:"M6.75 2.25A.75.75 0 0 1 7.5 3v1.5h9V3A.75.75 0 0 1 18 3v1.5h.75a3 3 0 0 1 3 3v11.25a3 3 0 0 1-3 3H5.25a3 3 0 0 1-3-3V7.5a3 3 0 0 1 3-3H6V3a.75.75 0 0 1 .75-.75Zm13.5 9a1.5 1.5 0 0 0-1.5-1.5H5.25a1.5 1.5 0 0 0-1.5 1.5v7.5a1.5 1.5 0 0 0 1.5 1.5h13.5a1.5 1.5 0 0 0 1.5-1.5v-7.5Z",clipRule:"evenodd"}))}const ex=n.forwardRef(Xm),rl=ex;function tx({title:t,titleId:r,...a},s){return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":r},a),t?n.createElement("title",{id:r},t):null,n.createElement("path",{d:"M18.375 2.25c-1.035 0-1.875.84-1.875 1.875v15.75c0 1.035.84 1.875 1.875 1.875h.75c1.035 0 1.875-.84 1.875-1.875V4.125c0-1.036-.84-1.875-1.875-1.875h-.75ZM9.75 8.625c0-1.036.84-1.875 1.875-1.875h.75c1.036 0 1.875.84 1.875 1.875v11.25c0 1.035-.84 1.875-1.875 1.875h-.75a1.875 1.875 0 0 1-1.875-1.875V8.625ZM3 13.125c0-1.036.84-1.875 1.875-1.875h.75c1.036 0 1.875.84 1.875 1.875v6.75c0 1.035-.84 1.875-1.875 1.875h-.75A1.875 1.875 0 0 1 3 19.875v-6.75Z"}))}const rx=n.forwardRef(tx),sx=rx;function ax({title:t,titleId:r,...a},s){return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":r},a),t?n.createElement("title",{id:r},t):null,n.createElement("path",{d:"M4.913 2.658c2.075-.27 4.19-.408 6.337-.408 2.147 0 4.262.139 6.337.408 1.922.25 3.291 1.861 3.405 3.727a4.403 4.403 0 0 0-1.032-.211 50.89 50.89 0 0 0-8.42 0c-2.358.196-4.04 2.19-4.04 4.434v4.286a4.47 4.47 0 0 0 2.433 3.984L7.28 21.53A.75.75 0 0 1 6 21v-4.03a48.527 48.527 0 0 1-1.087-.128C2.905 16.58 1.5 14.833 1.5 12.862V6.638c0-1.97 1.405-3.718 3.413-3.979Z"}),n.createElement("path",{d:"M15.75 7.5c-1.376 0-2.739.057-4.086.169C10.124 7.797 9 9.103 9 10.609v4.285c0 1.507 1.128 2.814 2.67 2.94 1.243.102 2.5.157 3.768.165l2.782 2.781a.75.75 0 0 0 1.28-.53v-2.39l.33-.026c1.542-.125 2.67-1.433 2.67-2.94v-4.286c0-1.505-1.125-2.811-2.664-2.94A49.392 49.392 0 0 0 15.75 7.5Z"}))}const nx=n.forwardRef(ax),lx=nx;function ix({title:t,titleId:r,...a},s){return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":r},a),t?n.createElement("title",{id:r},t):null,n.createElement("path",{fillRule:"evenodd",d:"M2.25 12c0-5.385 4.365-9.75 9.75-9.75s9.75 4.365 9.75 9.75-4.365 9.75-9.75 9.75S2.25 17.385 2.25 12Zm13.36-1.814a.75.75 0 1 0-1.22-.872l-3.236 4.53L9.53 12.22a.75.75 0 0 0-1.06 1.06l2.25 2.25a.75.75 0 0 0 1.14-.094l3.75-5.25Z",clipRule:"evenodd"}))}const ox=n.forwardRef(ix),ya=ox;function dx({title:t,titleId:r,...a},s){return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":r},a),t?n.createElement("title",{id:r},t):null,n.createElement("path",{d:"M17.004 10.407c.138.435-.216.842-.672.842h-3.465a.75.75 0 0 1-.65-.375l-1.732-3c-.229-.396-.053-.907.393-1.004a5.252 5.252 0 0 1 6.126 3.537ZM8.12 8.464c.307-.338.838-.235 1.066.16l1.732 3a.75.75 0 0 1 0 .75l-1.732 3c-.229.397-.76.5-1.067.161A5.23 5.23 0 0 1 6.75 12a5.23 5.23 0 0 1 1.37-3.536ZM10.878 17.13c-.447-.098-.623-.608-.394-1.004l1.733-3.002a.75.75 0 0 1 .65-.375h3.465c.457 0 .81.407.672.842a5.252 5.252 0 0 1-6.126 3.539Z"}),n.createElement("path",{fillRule:"evenodd",d:"M21 12.75a.75.75 0 1 0 0-1.5h-.783a8.22 8.22 0 0 0-.237-1.357l.734-.267a.75.75 0 1 0-.513-1.41l-.735.268a8.24 8.24 0 0 0-.689-1.192l.6-.503a.75.75 0 1 0-.964-1.149l-.6.504a8.3 8.3 0 0 0-1.054-.885l.391-.678a.75.75 0 1 0-1.299-.75l-.39.676a8.188 8.188 0 0 0-1.295-.47l.136-.77a.75.75 0 0 0-1.477-.26l-.136.77a8.36 8.36 0 0 0-1.377 0l-.136-.77a.75.75 0 1 0-1.477.26l.136.77c-.448.121-.88.28-1.294.47l-.39-.676a.75.75 0 0 0-1.3.75l.392.678a8.29 8.29 0 0 0-1.054.885l-.6-.504a.75.75 0 1 0-.965 1.149l.6.503a8.243 8.243 0 0 0-.689 1.192L3.8 8.216a.75.75 0 1 0-.513 1.41l.735.267a8.222 8.222 0 0 0-.238 1.356h-.783a.75.75 0 0 0 0 1.5h.783c.042.464.122.917.238 1.356l-.735.268a.75.75 0 0 0 .513 1.41l.735-.268c.197.417.428.816.69 1.191l-.6.504a.75.75 0 0 0 .963 1.15l.601-.505c.326.323.679.62 1.054.885l-.392.68a.75.75 0 0 0 1.3.75l.39-.679c.414.192.847.35 1.294.471l-.136.77a.75.75 0 0 0 1.477.261l.137-.772a8.332 8.332 0 0 0 1.376 0l.136.772a.75.75 0 1 0 1.477-.26l-.136-.771a8.19 8.19 0 0 0 1.294-.47l.391.677a.75.75 0 0 0 1.3-.75l-.393-.679a8.29 8.29 0 0 0 1.054-.885l.601.504a.75.75 0 0 0 .964-1.15l-.6-.503c.261-.375.492-.774.69-1.191l.735.267a.75.75 0 1 0 .512-1.41l-.734-.267c.115-.439.195-.892.237-1.356h.784Zm-2.657-3.06a6.744 6.744 0 0 0-1.19-2.053 6.784 6.784 0 0 0-1.82-1.51A6.705 6.705 0 0 0 12 5.25a6.8 6.8 0 0 0-1.225.11 6.7 6.7 0 0 0-2.15.793 6.784 6.784 0 0 0-2.952 3.489.76.76 0 0 1-.036.098A6.74 6.74 0 0 0 5.251 12a6.74 6.74 0 0 0 3.366 5.842l.009.005a6.704 6.704 0 0 0 2.18.798l.022.003a6.792 6.792 0 0 0 2.368-.004 6.704 6.704 0 0 0 2.205-.811 6.785 6.785 0 0 0 1.762-1.484l.009-.01.009-.01a6.743 6.743 0 0 0 1.18-2.066c.253-.707.39-1.469.39-2.263a6.74 6.74 0 0 0-.408-2.309Z",clipRule:"evenodd"}))}const cx=n.forwardRef(dx),mx=cx;function xx({title:t,titleId:r,...a},s){return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":r},a),t?n.createElement("title",{id:r},t):null,n.createElement("path",{d:"M1.5 8.67v8.58a3 3 0 0 0 3 3h15a3 3 0 0 0 3-3V8.67l-8.928 5.493a3 3 0 0 1-3.144 0L1.5 8.67Z"}),n.createElement("path",{d:"M22.5 6.908V6.75a3 3 0 0 0-3-3h-15a3 3 0 0 0-3 3v.158l9.714 5.978a1.5 1.5 0 0 0 1.572 0L22.5 6.908Z"}))}const gx=n.forwardRef(xx),sl=gx;function ux({title:t,titleId:r,...a},s){return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":r},a),t?n.createElement("title",{id:r},t):null,n.createElement("path",{fillRule:"evenodd",d:"M12.963 2.286a.75.75 0 0 0-1.071-.136 9.742 9.742 0 0 0-3.539 6.176 7.547 7.547 0 0 1-1.705-1.715.75.75 0 0 0-1.152-.082A9 9 0 1 0 15.68 4.534a7.46 7.46 0 0 1-2.717-2.248ZM15.75 14.25a3.75 3.75 0 1 1-7.313-1.172c.628.465 1.35.81 2.133 1a5.99 5.99 0 0 1 1.925-3.546 3.75 3.75 0 0 1 3.255 3.718Z",clipRule:"evenodd"}))}const hx=n.forwardRef(ux),Ga=hx;function px({title:t,titleId:r,...a},s){return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":r},a),t?n.createElement("title",{id:r},t):null,n.createElement("path",{d:"m11.645 20.91-.007-.003-.022-.012a15.247 15.247 0 0 1-.383-.218 25.18 25.18 0 0 1-4.244-3.17C4.688 15.36 2.25 12.174 2.25 8.25 2.25 5.322 4.714 3 7.688 3A5.5 5.5 0 0 1 12 5.052 5.5 5.5 0 0 1 16.313 3c2.973 0 5.437 2.322 5.437 5.25 0 3.925-2.438 7.111-4.739 9.256a25.175 25.175 0 0 1-4.244 3.17 15.247 15.247 0 0 1-.383.219l-.022.012-.007.004-.003.001a.752.752 0 0 1-.704 0l-.003-.001Z"}))}const fx=n.forwardRef(px),Fe=fx;function bx({title:t,titleId:r,...a},s){return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":r},a),t?n.createElement("title",{id:r},t):null,n.createElement("path",{d:"M11.47 3.841a.75.75 0 0 1 1.06 0l8.69 8.69a.75.75 0 1 0 1.06-1.061l-8.689-8.69a2.25 2.25 0 0 0-3.182 0l-8.69 8.69a.75.75 0 1 0 1.061 1.06l8.69-8.689Z"}),n.createElement("path",{d:"m12 5.432 8.159 8.159c.03.03.06.058.091.086v6.198c0 1.035-.84 1.875-1.875 1.875H15a.75.75 0 0 1-.75-.75v-4.5a.75.75 0 0 0-.75-.75h-3a.75.75 0 0 0-.75.75V21a.75.75 0 0 1-.75.75H5.625a1.875 1.875 0 0 1-1.875-1.875v-6.198a2.29 2.29 0 0 0 .091-.086L12 5.432Z"}))}const yx=n.forwardRef(bx),vs=yx;function vx({title:t,titleId:r,...a},s){return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":r},a),t?n.createElement("title",{id:r},t):null,n.createElement("path",{fillRule:"evenodd",d:"M12 1.5a5.25 5.25 0 0 0-5.25 5.25v3a3 3 0 0 0-3 3v6.75a3 3 0 0 0 3 3h10.5a3 3 0 0 0 3-3v-6.75a3 3 0 0 0-3-3v-3c0-2.9-2.35-5.25-5.25-5.25Zm3.75 8.25v-3a3.75 3.75 0 1 0-7.5 0v3h7.5Z",clipRule:"evenodd"}))}const jx=n.forwardRef(vx),Wa=jx;function wx({title:t,titleId:r,...a},s){return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":r},a),t?n.createElement("title",{id:r},t):null,n.createElement("path",{fillRule:"evenodd",d:"m11.54 22.351.07.04.028.016a.76.76 0 0 0 .723 0l.028-.015.071-.041a16.975 16.975 0 0 0 1.144-.742 19.58 19.58 0 0 0 2.683-2.282c1.944-1.99 3.963-4.98 3.963-8.827a8.25 8.25 0 0 0-16.5 0c0 3.846 2.02 6.837 3.963 8.827a19.58 19.58 0 0 0 2.682 2.282 16.975 16.975 0 0 0 1.145.742ZM12 13.5a3 3 0 1 0 0-6 3 3 0 0 0 0 6Z",clipRule:"evenodd"}))}const Nx=n.forwardRef(wx),Zt=Nx;function kx({title:t,titleId:r,...a},s){return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":r},a),t?n.createElement("title",{id:r},t):null,n.createElement("path",{fillRule:"evenodd",d:"M12 2.25c-5.385 0-9.75 4.365-9.75 9.75s4.365 9.75 9.75 9.75 9.75-4.365 9.75-9.75S17.385 2.25 12 2.25ZM12.75 9a.75.75 0 0 0-1.5 0v2.25H9a.75.75 0 0 0 0 1.5h2.25V15a.75.75 0 0 0 1.5 0v-2.25H15a.75.75 0 0 0 0-1.5h-2.25V9Z",clipRule:"evenodd"}))}const Ex=n.forwardRef(kx),sa=Ex;function Sx({title:t,titleId:r,...a},s){return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":r},a),t?n.createElement("title",{id:r},t):null,n.createElement("path",{fillRule:"evenodd",d:"M9 4.5a.75.75 0 0 1 .721.544l.813 2.846a3.75 3.75 0 0 0 2.576 2.576l2.846.813a.75.75 0 0 1 0 1.442l-2.846.813a3.75 3.75 0 0 0-2.576 2.576l-.813 2.846a.75.75 0 0 1-1.442 0l-.813-2.846a3.75 3.75 0 0 0-2.576-2.576l-2.846-.813a.75.75 0 0 1 0-1.442l2.846-.813A3.75 3.75 0 0 0 7.466 7.89l.813-2.846A.75.75 0 0 1 9 4.5ZM18 1.5a.75.75 0 0 1 .728.568l.258 1.036c.236.94.97 1.674 1.91 1.91l1.036.258a.75.75 0 0 1 0 1.456l-1.036.258c-.94.236-1.674.97-1.91 1.91l-.258 1.036a.75.75 0 0 1-1.456 0l-.258-1.036a2.625 2.625 0 0 0-1.91-1.91l-1.036-.258a.75.75 0 0 1 0-1.456l1.036-.258a2.625 2.625 0 0 0 1.91-1.91l.258-1.036A.75.75 0 0 1 18 1.5ZM16.5 15a.75.75 0 0 1 .712.513l.394 1.183c.15.447.5.799.948.948l1.183.395a.75.75 0 0 1 0 1.422l-1.183.395c-.447.15-.799.5-.948.948l-.395 1.183a.75.75 0 0 1-1.422 0l-.395-1.183a1.5 1.5 0 0 0-.948-.948l-1.183-.395a.75.75 0 0 1 0-1.422l1.183-.395c.447-.15.799-.5.948-.948l.395-1.183A.75.75 0 0 1 16.5 15Z",clipRule:"evenodd"}))}const Cx=n.forwardRef(Sx),al=Cx;function Rx({title:t,titleId:r,...a},s){return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":r},a),t?n.createElement("title",{id:r},t):null,n.createElement("path",{fillRule:"evenodd",d:"M10.788 3.21c.448-1.077 1.976-1.077 2.424 0l2.082 5.006 5.404.434c1.164.093 1.636 1.545.749 2.305l-4.117 3.527 1.257 5.273c.271 1.136-.964 2.033-1.96 1.425L12 18.354 7.373 21.18c-.996.608-2.231-.29-1.96-1.425l1.257-5.273-4.117-3.527c-.887-.76-.415-2.212.749-2.305l5.404-.434 2.082-5.005Z",clipRule:"evenodd"}))}const Ax=n.forwardRef(Rx),tr=Ax;function Mx({title:t,titleId:r,...a},s){return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":r},a),t?n.createElement("title",{id:r},t):null,n.createElement("path",{fillRule:"evenodd",d:"M5.166 2.621v.858c-1.035.148-2.059.33-3.071.543a.75.75 0 0 0-.584.859 6.753 6.753 0 0 0 6.138 5.6 6.73 6.73 0 0 0 2.743 1.346A6.707 6.707 0 0 1 9.279 15H8.54c-1.036 0-1.875.84-1.875 1.875V19.5h-.75a2.25 2.25 0 0 0-2.25 2.25c0 .414.336.75.75.75h15a.75.75 0 0 0 .75-.75 2.25 2.25 0 0 0-2.25-2.25h-.75v-2.625c0-1.036-.84-1.875-1.875-1.875h-.739a6.706 6.706 0 0 1-1.112-3.173 6.73 6.73 0 0 0 2.743-1.347 6.753 6.753 0 0 0 6.139-5.6.75.75 0 0 0-.585-.858 47.077 47.077 0 0 0-3.07-.543V2.62a.75.75 0 0 0-.658-.744 49.22 49.22 0 0 0-6.093-.377c-2.063 0-4.096.128-6.093.377a.75.75 0 0 0-.657.744Zm0 2.629c0 1.196.312 2.32.857 3.294A5.266 5.266 0 0 1 3.16 5.337a45.6 45.6 0 0 1 2.006-.343v.256Zm13.5 0v-.256c.674.1 1.343.214 2.006.343a5.265 5.265 0 0 1-2.863 3.207 6.72 6.72 0 0 0 .857-3.294Z",clipRule:"evenodd"}))}const $x=n.forwardRef(Mx),Dx=$x;function Lx({title:t,titleId:r,...a},s){return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":r},a),t?n.createElement("title",{id:r},t):null,n.createElement("path",{fillRule:"evenodd",d:"M18.685 19.097A9.723 9.723 0 0 0 21.75 12c0-5.385-4.365-9.75-9.75-9.75S2.25 6.615 2.25 12a9.723 9.723 0 0 0 3.065 7.097A9.716 9.716 0 0 0 12 21.75a9.716 9.716 0 0 0 6.685-2.653Zm-12.54-1.285A7.486 7.486 0 0 1 12 15a7.486 7.486 0 0 1 5.855 2.812A8.224 8.224 0 0 1 12 20.25a8.224 8.224 0 0 1-5.855-2.438ZM15.75 9a3.75 3.75 0 1 1-7.5 0 3.75 3.75 0 0 1 7.5 0Z",clipRule:"evenodd"}))}const Tx=n.forwardRef(Lx),_x=Tx;function Px({title:t,titleId:r,...a},s){return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":r},a),t?n.createElement("title",{id:r},t):null,n.createElement("path",{fillRule:"evenodd",d:"M8.25 6.75a3.75 3.75 0 1 1 7.5 0 3.75 3.75 0 0 1-7.5 0ZM15.75 9.75a3 3 0 1 1 6 0 3 3 0 0 1-6 0ZM2.25 9.75a3 3 0 1 1 6 0 3 3 0 0 1-6 0ZM6.31 15.117A6.745 6.745 0 0 1 12 12a6.745 6.745 0 0 1 6.709 7.498.75.75 0 0 1-.372.568A12.696 12.696 0 0 1 12 21.75c-2.305 0-4.47-.612-6.337-1.684a.75.75 0 0 1-.372-.568 6.787 6.787 0 0 1 1.019-4.38Z",clipRule:"evenodd"}),n.createElement("path",{d:"M5.082 14.254a8.287 8.287 0 0 0-1.308 5.135 9.687 9.687 0 0 1-1.764-.44l-.115-.04a.563.563 0 0 1-.373-.487l-.01-.121a3.75 3.75 0 0 1 3.57-4.047ZM20.226 19.389a8.287 8.287 0 0 0-1.308-5.135 3.75 3.75 0 0 1 3.57 4.047l-.01.121a.563.563 0 0 1-.373.486l-.115.04c-.567.2-1.156.349-1.764.441Z"}))}const Fx=n.forwardRef(Px),aa=Fx;function Ix({title:t,titleId:r,...a},s){return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":r},a),t?n.createElement("title",{id:r},t):null,n.createElement("path",{d:"M5.25 6.375a4.125 4.125 0 1 1 8.25 0 4.125 4.125 0 0 1-8.25 0ZM2.25 19.125a7.125 7.125 0 0 1 14.25 0v.003l-.001.119a.75.75 0 0 1-.363.63 13.067 13.067 0 0 1-6.761 1.873c-2.472 0-4.786-.684-6.76-1.873a.75.75 0 0 1-.364-.63l-.001-.122ZM18.75 7.5a.75.75 0 0 0-1.5 0v2.25H15a.75.75 0 0 0 0 1.5h2.25v2.25a.75.75 0 0 0 1.5 0v-2.25H21a.75.75 0 0 0 0-1.5h-2.25V7.5Z"}))}const Ox=n.forwardRef(Ix),qx=Ox;function Vx({title:t,titleId:r,...a},s){return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":r},a),t?n.createElement("title",{id:r},t):null,n.createElement("path",{fillRule:"evenodd",d:"M7.5 6a4.5 4.5 0 1 1 9 0 4.5 4.5 0 0 1-9 0ZM3.751 20.105a8.25 8.25 0 0 1 16.498 0 .75.75 0 0 1-.437.695A18.683 18.683 0 0 1 12 22.5c-2.786 0-5.433-.608-7.812-1.7a.75.75 0 0 1-.437-.695Z",clipRule:"evenodd"}))}const Bx=n.forwardRef(Vx),Za=Bx,zx=t=>{const r=[{name:"Dashboard",href:"/dashboard",icon:vs},{name:"Gardens",href:"/gardens",icon:Zt},{name:"Events",href:"/events",icon:rl}];return t==="admin"?[...r,{name:"Admin Panel",href:"/admin",icon:mx},{name:"Manage Gardens",href:"/manage-gardens",icon:aa},{name:"My Dogs",href:"/my-dogs",icon:Fe},{name:"Check In",href:"/check-in",icon:Zt}]:t==="garden_manager"?[...r,{name:"Manage Gardens",href:"/manage-gardens",icon:aa},{name:"My Dogs",href:"/my-dogs",icon:Fe},{name:"Check In",href:"/check-in",icon:Zt}]:[...r,{name:"My Dogs",href:"/my-dogs",icon:Fe},{name:"Check In",href:"/check-in",icon:Zt}]};function Hr(...t){return t.filter(Boolean).join(" ")}const Ux=()=>{var x,g,u,h,p,f;const{user:t,logout:r}=ge(),a=Ce(),s=Ar(),l=zx(t==null?void 0:t.role),[i,o]=n.useState(!1),d=()=>{r(),a("/login")},c=j=>s.pathname===j;return e.jsxs(e.Fragment,{children:[e.jsx(Pe.Root,{show:i,as:n.Fragment,children:e.jsxs(Je,{as:"div",className:"relative z-50 lg:hidden",onClose:o,children:[e.jsx(Pe.Child,{as:n.Fragment,enter:"transition-opacity ease-linear duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"transition-opacity ease-linear duration-300",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:e.jsx("div",{className:"fixed inset-0 bg-gray-900/80"})}),e.jsx("div",{className:"fixed inset-0 flex",children:e.jsx(Pe.Child,{as:n.Fragment,enter:"transition ease-in-out duration-300 transform",enterFrom:"-translate-x-full",enterTo:"translate-x-0",leave:"transition ease-in-out duration-300 transform",leaveFrom:"translate-x-0",leaveTo:"-translate-x-full",children:e.jsxs(Je.Panel,{className:"relative mr-16 flex w-full max-w-xs flex-1",children:[e.jsx(Pe.Child,{as:n.Fragment,enter:"ease-in-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in-out duration-300",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:e.jsx("div",{className:"absolute left-full top-0 flex w-16 justify-center pt-5",children:e.jsxs("button",{type:"button",className:"-m-2.5 p-2.5",onClick:()=>o(!1),children:[e.jsx("span",{className:"sr-only",children:"Close sidebar"}),e.jsx(pe,{className:"h-6 w-6 text-white","aria-hidden":"true"})]})})}),e.jsxs("div",{className:"flex grow flex-col gap-y-5 overflow-y-auto bg-white dark:bg-gray-800 px-6 pb-4",children:[e.jsx("div",{className:"flex h-16 shrink-0 items-center",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-600 rounded-xl p-2",children:e.jsx(Fe,{className:"h-6 w-6 text-white"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-xl font-bold text-gray-900 dark:text-white",children:"PawPals"}),e.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 -mt-1",children:"Community"})]})]})}),e.jsx("nav",{className:"flex flex-1 flex-col",children:e.jsxs("ul",{role:"list",className:"flex flex-1 flex-col gap-y-7",children:[e.jsx("li",{children:e.jsx("ul",{role:"list",className:"-mx-2 space-y-1",children:l.map(j=>{const m=j.icon,E=c(j.href);return e.jsx("li",{children:e.jsxs(ce,{to:j.href,className:Hr(E?"bg-blue-50 dark:bg-blue-900 text-blue-700 dark:text-blue-300":"text-gray-700 dark:text-gray-300 hover:text-blue-700 dark:hover:text-blue-300 hover:bg-blue-50 dark:hover:bg-gray-700","group flex gap-x-3 rounded-lg p-3 text-sm leading-6 font-semibold"),onClick:()=>o(!1),children:[e.jsx(m,{className:Hr(E?"text-blue-700 dark:text-blue-300":"text-gray-400 dark:text-gray-500 group-hover:text-blue-700 dark:group-hover:text-blue-300","h-6 w-6 shrink-0"),"aria-hidden":"true"}),j.name]})},j.name)})})}),e.jsx("li",{className:"mt-auto",children:e.jsxs("div",{className:"border-t border-gray-200 dark:border-gray-700 pt-4",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[e.jsx("div",{className:"h-10 w-10 rounded-lg bg-gradient-to-r from-blue-600 to-indigo-600 flex items-center justify-center text-white font-semibold",children:((g=(x=t==null?void 0:t.firstName)==null?void 0:x[0])==null?void 0:g.toUpperCase())||"U"}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("p",{className:"text-sm font-medium text-gray-900 dark:text-white truncate",children:[t==null?void 0:t.firstName," ",t==null?void 0:t.lastName]}),e.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 capitalize truncate",children:(u=t==null?void 0:t.role)==null?void 0:u.replace("_"," ")})]})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsxs(ce,{to:"/profile",className:"flex items-center gap-x-3 rounded-lg p-3 text-sm font-semibold text-gray-700 dark:text-gray-300 hover:text-blue-700 dark:hover:text-blue-300 hover:bg-blue-50 dark:hover:bg-gray-700 transition-colors",onClick:()=>o(!1),children:[e.jsx(ns,{className:"h-5 w-5 text-gray-400 dark:text-gray-500"}),"Profile Settings"]}),e.jsxs("button",{onClick:()=>{d(),o(!1)},className:"flex items-center gap-x-3 rounded-lg p-3 text-sm font-semibold text-gray-700 dark:text-gray-300 hover:text-red-700 dark:hover:text-red-400 hover:bg-red-50 dark:hover:bg-red-900/20 transition-colors w-full text-left",children:[e.jsx(Sr,{className:"h-5 w-5 text-gray-400 dark:text-gray-500"}),"Sign Out"]})]})]})})]})})]})]})})})]})}),e.jsx("div",{className:"hidden lg:fixed lg:inset-y-0 lg:z-50 lg:flex lg:w-72 lg:flex-col",children:e.jsxs("div",{className:"flex grow flex-col gap-y-5 overflow-y-auto bg-white dark:bg-gray-800 border-r border-gray-200 dark:border-gray-700 px-6 pb-4",children:[e.jsx("div",{className:"flex h-16 shrink-0 items-center",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-600 rounded-xl p-2",children:e.jsx(Fe,{className:"h-6 w-6 text-white"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-xl font-bold text-gray-900 dark:text-white",children:"PawPals"}),e.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 -mt-1",children:"Community"})]})]})}),e.jsx("nav",{className:"flex flex-1 flex-col",children:e.jsxs("ul",{role:"list",className:"flex flex-1 flex-col gap-y-7",children:[e.jsx("li",{children:e.jsx("ul",{role:"list",className:"-mx-2 space-y-1",children:l.map(j=>{const m=j.icon,E=c(j.href);return e.jsx("li",{children:e.jsxs(ce,{to:j.href,className:Hr(E?"bg-blue-50 dark:bg-blue-900 text-blue-700 dark:text-blue-300":"text-gray-700 dark:text-gray-300 hover:text-blue-700 dark:hover:text-blue-300 hover:bg-blue-50 dark:hover:bg-gray-700","group flex gap-x-3 rounded-lg p-3 text-sm leading-6 font-semibold transition-colors"),children:[e.jsx(m,{className:Hr(E?"text-blue-700 dark:text-blue-300":"text-gray-400 dark:text-gray-500 group-hover:text-blue-700 dark:group-hover:text-blue-300","h-6 w-6 shrink-0"),"aria-hidden":"true"}),j.name]})},j.name)})})}),e.jsx("li",{className:"mt-auto",children:e.jsxs("div",{className:"border-t border-gray-200 dark:border-gray-700 pt-4",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[e.jsx("div",{className:"h-10 w-10 rounded-lg bg-gradient-to-r from-blue-600 to-indigo-600 flex items-center justify-center text-white font-semibold",children:((p=(h=t==null?void 0:t.firstName)==null?void 0:h[0])==null?void 0:p.toUpperCase())||"U"}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("p",{className:"text-sm font-medium text-gray-900 dark:text-white truncate",children:[t==null?void 0:t.firstName," ",t==null?void 0:t.lastName]}),e.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 capitalize truncate",children:(f=t==null?void 0:t.role)==null?void 0:f.replace("_"," ")})]})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsxs(ce,{to:"/profile",className:"flex items-center gap-x-3 rounded-lg p-3 text-sm font-semibold text-gray-700 dark:text-gray-300 hover:text-blue-700 dark:hover:text-blue-300 hover:bg-blue-50 dark:hover:bg-gray-700 transition-colors",children:[e.jsx(ns,{className:"h-5 w-5 text-gray-400 dark:text-gray-500"}),"Profile Settings"]}),e.jsxs("button",{onClick:d,className:"flex items-center gap-x-3 rounded-lg p-3 text-sm font-semibold text-gray-700 dark:text-gray-300 hover:text-red-700 dark:hover:text-red-400 hover:bg-red-50 dark:hover:bg-red-900/20 transition-colors w-full text-left",children:[e.jsx(Sr,{className:"h-5 w-5 text-gray-400 dark:text-gray-500"}),"Sign Out"]})]})]})})]})})]})}),e.jsxs("div",{className:"sticky top-0 z-40 flex items-center gap-x-6 bg-white dark:bg-gray-800 px-4 py-4 shadow-sm dark:shadow-gray-900/20 sm:px-6 lg:hidden",children:[e.jsxs("button",{type:"button",className:"-m-2.5 p-2.5 text-gray-700 dark:text-gray-300 lg:hidden",onClick:()=>o(!0),children:[e.jsx("span",{className:"sr-only",children:"Open sidebar"}),e.jsx(Wn,{className:"h-6 w-6","aria-hidden":"true"})]}),e.jsx("div",{className:"flex-1 text-sm font-semibold leading-6 text-gray-900 dark:text-white",children:" PawPals Community"})]})]})},nl=n.createContext(),va=()=>{const t=n.useContext(nl);if(!t)throw new Error("useTheme must be used within a ThemeProvider");return t},Hx=({children:t})=>{const[r,a]=n.useState(()=>{const i=localStorage.getItem("theme");return i||(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light")});n.useEffect(()=>{const i=window.document.documentElement;r==="dark"?i.classList.add("dark"):i.classList.remove("dark"),localStorage.setItem("theme",r)},[r]);const l={theme:r,setTheme:a,toggleTheme:()=>{a(i=>i==="light"?"dark":"light")},isDark:r==="dark"};return e.jsx(nl.Provider,{value:l,children:t})},it={async getStats(){var t,r;try{const a=await H.get("/gamification/stats");return console.log("Gamification stats loaded:",a.data),a.data}catch(a){throw console.error("Error fetching gamification stats:",a),console.error("Status:",(t=a.response)==null?void 0:t.status),console.error("Data:",(r=a.response)==null?void 0:r.data),a}},async getBadges(){try{return(await H.get("/gamification/badges")).data}catch(t){throw console.error("Error fetching badges:",t),t}},async getAllBadges(){try{return(await H.get("/gamification/badges/all")).data}catch(t){throw console.error("Error fetching all badges:",t),t}},async getBadgeStats(){try{return(await H.get("/gamification/badges/stats")).data}catch(t){throw console.error("Error fetching badge stats:",t),t}},async getLevelInfo(){try{return(await H.get("/gamification/level")).data}catch(t){throw console.error("Error fetching level info:",t),t}},async getAllLevels(){try{return(await H.get("/gamification/levels")).data}catch(t){throw console.error("Error fetching all levels:",t),t}},async getStreakInfo(){try{return(await H.get("/gamification/streak")).data}catch(t){throw console.error("Error fetching streak info:",t),t}},async getStreakLeaderboard(t=10){try{return(await H.get(`/gamification/leaderboard/streak?limit=${t}`)).data}catch(r){throw console.error("Error fetching streak leaderboard:",r),r}},async getLongestStreakLeaderboard(t=10){try{return(await H.get(`/gamification/leaderboard/longest-streak?limit=${t}`)).data}catch(r){throw console.error("Error fetching longest streak leaderboard:",r),r}},async awardPoints(t,r,a){try{return(await H.post("/gamification/points/award",{targetUserId:t,pointType:r,amount:a})).data}catch(s){throw console.error("Error awarding points:",s),s}},async awardBadge(t,r){try{return(await H.post("/gamification/badges/award",{targetUserId:t,badgeId:r})).data}catch(a){throw console.error("Error awarding badge:",a),a}},async resetStreak(t){try{return(await H.post("/gamification/streak/reset",{targetUserId:t})).data}catch(r){throw console.error("Error resetting streak:",r),r}},async getAchievements(){try{return(await H.get("/gamification/achievements")).data}catch(t){throw console.error("Error fetching achievements:",t),t}},async getRecentActivity(t=10){try{return(await H.get(`/gamification/activity?limit=${t}`)).data}catch(r){throw console.error("Error fetching recent activity:",r),r}}};/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gx=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Wx=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(r,a,s)=>s?s.toUpperCase():a.toLowerCase()),Ya=t=>{const r=Wx(t);return r.charAt(0).toUpperCase()+r.slice(1)},ll=(...t)=>t.filter((r,a,s)=>!!r&&r.trim()!==""&&s.indexOf(r)===a).join(" ").trim(),Zx=t=>{for(const r in t)if(r.startsWith("aria-")||r==="role"||r==="title")return!0};/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Yx={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qx=n.forwardRef(({color:t="currentColor",size:r=24,strokeWidth:a=2,absoluteStrokeWidth:s,className:l="",children:i,iconNode:o,...d},c)=>n.createElement("svg",{ref:c,...Yx,width:r,height:r,stroke:t,strokeWidth:s?Number(a)*24/Number(r):a,className:ll("lucide",l),...!i&&!Zx(d)&&{"aria-hidden":"true"},...d},[...o.map(([x,g])=>n.createElement(x,g)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Be=(t,r)=>{const a=n.forwardRef(({className:s,...l},i)=>n.createElement(Qx,{ref:i,iconNode:r,className:ll(`lucide-${Gx(Ya(t))}`,`lucide-${t}`,s),...l}));return a.displayName=Ya(t),a};/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jx=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M17 17H4a1 1 0 0 1-.74-1.673C4.59 13.956 6 12.499 6 8a6 6 0 0 1 .258-1.742",key:"178tsu"}],["path",{d:"m2 2 20 20",key:"1ooewy"}],["path",{d:"M8.668 3.01A6 6 0 0 1 18 8c0 2.687.77 4.653 1.707 6.05",key:"1hqiys"}]],Kx=Be("bell-off",Jx);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xx=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],il=Be("bell",Xx);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eg=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],tg=Be("calendar",eg);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rg=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],ol=Be("check",rg);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sg=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],ag=Be("circle-check-big",sg);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ng=[["path",{d:"m16 18 6-6-6-6",key:"eg8j8"}],["path",{d:"m8 6-6 6 6 6",key:"ppft3o"}]],Qa=Be("code",ng);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lg=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]],ig=Be("ellipsis-vertical",lg);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const og=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],dg=Be("map-pin",og);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cg=[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]],mg=Be("message-circle",cg);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xg=[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Ja=Be("settings",xg);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gg=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],ug=Be("star",gg);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hg=[["path",{d:"M14.5 2v17.5c0 1.4-1.1 2.5-2.5 2.5c-1.4 0-2.5-1.1-2.5-2.5V2",key:"125lnx"}],["path",{d:"M8.5 2h7",key:"csnxdl"}],["path",{d:"M14.5 16h-5",key:"1ox875"}]],pg=Be("test-tube",hg);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fg=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],bg=Be("trash-2",fg);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yg=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],vg=Be("user-plus",yg);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jg=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],na=Be("x",jg),ja=()=>{const[t,r]=n.useState([]),[a,s]=n.useState(0),[l,i]=n.useState(!0),[o,d]=n.useState(null);return n.useEffect(()=>{if(!localStorage.getItem("token")){i(!1);return}return He.subscribe(({notifications:m,unreadCount:E})=>{r(m),s(E),i(!1),d(null)})},[]),{notifications:t,unreadCount:a,loading:l,error:o,loadNotifications:async(f={})=>{try{i(!0);const j=await He.loadNotifications(f);return d(null),j}catch(j){return d("Failed to load notifications"),console.error("Error loading notifications:",j),{notifications:[],unreadCount:0}}finally{i(!1)}},markAsRead:async f=>{try{const j=await He.markAsRead(f);return j||d("Failed to mark notification as read"),j}catch(j){return d("Error marking notification as read"),console.error("Error marking notification as read:",j),!1}},markAllAsRead:async()=>{try{const f=await He.markAllAsRead();return f||d("Failed to mark all notifications as read"),f}catch(f){return d("Error marking all notifications as read"),console.error("Error marking all notifications as read:",f),!1}},deleteNotification:async f=>{try{const j=await He.deleteNotification(f);return j||d("Failed to delete notification"),j}catch(j){return d("Error deleting notification"),console.error("Error deleting notification:",j),!1}},createTestNotification:async()=>{try{const f=await He.createTestNotification();return f||d("Failed to create test notification"),f}catch(f){return d("Error creating test notification"),console.error("Error creating test notification:",f),!1}},requestPermission:async()=>{try{return await He.requestPermission()}catch(f){return d("Error requesting notification permission"),console.error("Error requesting notification permission:",f),!1}}}},wg=({isOpen:t,onClose:r,onToggle:a})=>{const[s,l]=n.useState(null),i=n.useRef(null),o=Ce(),{notifications:d,unreadCount:c,markAsRead:x,markAllAsRead:g,deleteNotification:u}=ja();n.useEffect(()=>{const N=w=>{i.current&&!i.current.contains(w.target)&&(r&&r(),l(null))};return document.addEventListener("mousedown",N),()=>document.removeEventListener("mousedown",N)},[r]);const h=N=>{const w=new Date,C=new Date(N),k=w-C,M=Math.floor(k/6e4),$=Math.floor(M/60),A=Math.floor($/24);return M<1?"Just now":M===1?"1m ago":M<60?`${M}m ago`:$===1?"1h ago":$<24?`${$}h ago`:A===1?"Yesterday":A<7?`${A}d ago`:C.toLocaleDateString("en-US",{month:"short",day:"numeric"})},p=N=>({new_message:"",friend_request:"",friend_request_accepted:"",friend_request_declined:"",event_registration:"",event_status_update:"",event_reminder:"",event_cancelled:"",garden_update:"",permission_request:"",visit_reminder:"",review_response:"",check_in_alert:"",system:""})[N]||"",f=N=>({urgent:"border-l-red-400 bg-red-50/70 dark:bg-red-900/20",high:"border-l-orange-400 bg-orange-50/70 dark:bg-orange-900/20",medium:"border-l-blue-400 bg-blue-50/70 dark:bg-blue-900/20",low:"border-l-gray-400 bg-gray-50/70 dark:bg-gray-800/50"})[N]||"border-l-gray-300 bg-gray-50/70 dark:bg-gray-800/50",j=async N=>{var w,C,k;N.isRead||await x(N._id),N.actionUrl?o(N.actionUrl):(w=N.data)!=null&&w.chatId?o(`/chat/${N.data.chatId}`):(C=N.data)!=null&&C.eventId?o(`/events/${N.data.eventId}`):(k=N.data)!=null&&k.gardenId?o(`/gardens/${N.data.gardenId}`):N.type==="friend_request"&&o("/friends"),r&&r()},m=async(N,w)=>{N.stopPropagation(),await x(w)},E=async(N,w)=>{N.stopPropagation(),await u(w),l(null)},b=async()=>{await g(),l(null)},v=d.slice(0,6);return e.jsxs("div",{className:"relative",ref:i,children:[e.jsxs("button",{onClick:a,className:`relative p-2.5 rounded-xl transition-all duration-300 ${c>0?"text-blue-600 dark:text-blue-400 bg-blue-50 dark:bg-blue-900/30 hover:bg-blue-100 dark:hover:bg-blue-900/50":"text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-800"}`,"aria-label":"Notifications",children:[e.jsx(il,{size:18,className:"transition-transform duration-200 hover:scale-110"}),c>0&&e.jsx("span",{className:"absolute -top-1 -right-1 bg-gradient-to-r from-red-500 to-pink-500 text-white text-xs rounded-full h-4 w-4 flex items-center justify-center min-w-[16px] shadow-sm border border-white dark:border-gray-900 font-medium",children:c>9?"9+":c})]}),t&&e.jsxs("div",{className:`absolute right-0 mt-2 w-80 bg-gradient-to-b from-gray-100 to-white dark:from-gray-900 dark:to-gray-600
 backdrop-blur-xl rounded-xl shadow-xl border border-gray-200/60 dark:border-gray-700/60 z-50 overflow-hidden`,children:[e.jsx("div",{className:"px-4 py-3 border-b border-gray-100 dark:border-gray-800",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("h3",{className:"font-medium text-gray-900 dark:text-white text-sm",children:"Notifications"}),c>0&&e.jsxs("span",{className:"bg-blue-100 dark:bg-blue-900/50 text-blue-700 dark:text-blue-300 text-xs px-2 py-0.5 rounded-full font-medium",children:[c," new"]})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[c>0&&e.jsx("button",{onClick:b,className:"text-xs text-blue-600 dark:text-blue-400 hover:text-blue-700 dark:hover:text-blue-300 hover:bg-blue-50 dark:hover:bg-blue-900/30 px-2 py-1 rounded-md transition-colors font-medium",children:"Mark all read"}),e.jsx("button",{onClick:r,className:"text-gray-400 dark:text-gray-500 hover:text-gray-600 dark:hover:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-800 p-1 rounded-md transition-colors",children:e.jsx(na,{size:14})})]})]})}),e.jsx("div",{className:"max-h-80 overflow-y-auto",children:v.length===0?e.jsxs("div",{className:"p-8 text-center",children:[e.jsx("div",{className:"w-12 h-12 bg-gray-100 dark:bg-gray-800 rounded-full flex items-center justify-center mx-auto mb-3",children:e.jsx(Kx,{size:20,className:"text-gray-400 dark:text-gray-500"})}),e.jsx("p",{className:"text-sm font-medium text-gray-900 dark:text-white mb-1",children:"All caught up!"}),e.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"No new notifications to show"})]}):e.jsx("div",{className:"py-1",children:v.map((N,w)=>e.jsxs("div",{onClick:()=>j(N),className:`relative px-4 py-3 hover:bg-gray-50 dark:hover:bg-gray-800/50 cursor-pointer transition-all duration-200 border-l-2 ${f(N.priority)} ${N.isRead?"":"bg-blue-50/30 dark:bg-blue-900/10"}`,children:[e.jsxs("div",{className:"flex gap-3",children:[e.jsx("div",{className:"flex-shrink-0 mt-0.5",children:e.jsx("div",{className:"w-8 h-8 bg-white dark:bg-gray-800 rounded-full border border-gray-200 dark:border-gray-700 flex items-center justify-center text-sm shadow-sm",children:p(N.type)})}),e.jsx("div",{className:"flex-1 min-w-0",children:e.jsxs("div",{className:"flex items-start justify-between gap-2",children:[e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-sm font-medium text-gray-900 dark:text-white truncate leading-tight",children:N.title}),e.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400 mt-0.5 line-clamp-2 leading-relaxed",children:N.content}),e.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[e.jsx("span",{className:"text-xs text-gray-400 dark:text-gray-500",children:h(N.createdAt)}),!N.isRead&&e.jsx("div",{className:"w-1.5 h-1.5 bg-blue-500 rounded-full"})]})]}),e.jsxs("div",{className:"flex items-center gap-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[!N.isRead&&e.jsx("button",{onClick:C=>m(C,N._id),className:"p-1 text-blue-500 hover:text-blue-600 hover:bg-blue-50 dark:hover:bg-blue-900/30 rounded transition-colors",title:"Mark as read",children:e.jsx(ol,{size:12})}),e.jsxs("div",{className:"relative",children:[e.jsx("button",{onClick:C=>{C.stopPropagation(),l(s===N._id?null:N._id)},className:"p-1 text-gray-400 dark:text-gray-500 hover:text-gray-600 dark:hover:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 rounded transition-colors",children:e.jsx(ig,{size:12})}),s===N._id&&e.jsx("div",{className:"absolute right-0 top-full mt-1 w-28 bg-white dark:bg-gray-800 rounded-lg shadow-lg border border-gray-200 dark:border-gray-700 z-10 py-1",children:e.jsxs("button",{onClick:C=>E(C,N._id),className:"w-full px-3 py-1.5 text-left text-xs text-red-600 dark:text-red-400 hover:bg-red-50 dark:hover:bg-red-900/20 flex items-center gap-2 transition-colors",children:[e.jsx(bg,{size:10}),"Delete"]})})]})]})]})})]}),e.jsx("div",{className:"absolute inset-x-0 bottom-0 h-px bg-gradient-to-r from-transparent via-gray-200 dark:via-gray-700 to-transparent opacity-0 group-hover:opacity-100 transition-opacity"})]},N._id))})}),d.length>6&&e.jsx("div",{className:"px-4 py-3 border-t border-gray-100 dark:border-gray-800 bg-gray-50/50 dark:bg-gray-800/50",children:e.jsxs("button",{onClick:()=>{o("/notifications"),r&&r()},className:"w-full text-xs text-center text-blue-600 dark:text-blue-400 hover:text-blue-700 dark:hover:text-blue-300 font-medium py-1 transition-colors",children:["View all notifications (",d.length,")"]})})]})]})},Ng=()=>{var v,N;const{user:t,logout:r}=ge(),{theme:a,toggleTheme:s,isDark:l}=va(),i=Ce(),[o,d]=n.useState(!1),[c,x]=n.useState(!1),[g,u]=n.useState({level:1,points:0,currentStreak:0,levelProgress:{current:0,needed:100,percentage:0}}),h=n.useRef(null);n.useEffect(()=>{const w=async()=>{try{if(t){const k=await it.getStats();u({level:k.level||1,points:k.points||0,currentStreak:k.currentStreak||0,levelProgress:k.levelProgress||{current:0,needed:100,percentage:0}})}}catch(k){console.error("Error loading gamification stats for TopHeader:",k)}};w();const C=setInterval(w,3e4);return()=>clearInterval(C)},[t]),n.useEffect(()=>{const w=C=>{h.current&&!h.current.contains(C.target)&&d(!1)};return document.addEventListener("mousedown",w),()=>{document.removeEventListener("mousedown",w)}},[]);const p=async()=>{try{await r(),i("/login")}catch(w){console.error("Logout error:",w)}},f=()=>{d(!1),i("/events?view=manage")},j=()=>{x(!c)},m=()=>{x(!1)},E=(t==null?void 0:t.role)==="garden_manager"||(t==null?void 0:t.role)==="admin",b=(v=t==null?void 0:t.eventPermissions)==null?void 0:v.canCreateEvents;return e.jsx("div",{className:"sticky top-0 z-40 bg-white dark:bg-gray-900 border-b border-gray-200 dark:border-gray-700 backdrop-blur-lg bg-opacity-95 dark:bg-opacity-95",children:e.jsxs("div",{className:"max-w-lg mx-auto px-4 py-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("div",{className:"flex items-center space-x-4",children:e.jsxs(ce,{to:"/profile",className:"flex items-center space-x-3 group",children:[e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-purple-500 to-pink-500 rounded-full flex items-center justify-center shadow-lg",children:e.jsx("span",{className:"text-white font-bold text-lg",children:"P"})}),e.jsx("div",{className:"absolute -bottom-1 -right-1",children:e.jsx("div",{className:"w-5 h-5 bg-green-500 rounded-full flex items-center justify-center border-2 border-white dark:border-gray-900",children:e.jsx("div",{className:"w-2 h-2 bg-green-400 rounded-full"})})})]}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-lg font-bold bg-gradient-to-r from-gray-800 to-gray-600 dark:from-white dark:to-gray-300 bg-clip-text text-transparent group-hover:from-purple-600 group-hover:to-pink-600 transition-all duration-200",children:"PawPals"}),e.jsxs("div",{className:"flex items-center space-x-3 text-xs",children:[e.jsxs("div",{className:"flex items-center space-x-1 bg-gradient-to-r from-orange-400 to-orange-500 text-white px-2 py-1 rounded-full",children:[e.jsx(nt,{className:"w-3 h-3"}),e.jsxs("span",{className:"font-medium",children:["Level ",g.level]})]}),e.jsxs("div",{className:"flex items-center space-x-1 bg-gradient-to-r from-blue-400 to-purple-500 text-white px-2 py-1 rounded-full",children:[e.jsx(Qe,{className:"w-3 h-3"}),e.jsx("span",{className:"font-medium",children:g.points.toLocaleString()})]})]})]})]})}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(wg,{isOpen:c,onClose:m,onToggle:j}),e.jsxs("div",{className:"relative",ref:h,children:[e.jsxs("button",{onClick:()=>d(!o),className:"flex items-center space-x-1 p-2 text-gray-600 dark:text-gray-400 hover:text-gray-800 dark:hover:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-800 rounded-xl transition-all duration-200",children:[e.jsx(Wc,{className:"w-5 h-5"}),e.jsx(Qn,{className:`w-4 h-4 transition-transform duration-200 ${o?"rotate-180":""}`})]}),o&&e.jsxs("div",{className:"absolute right-0 mt-2 w-56 bg-white dark:bg-gray-800 rounded-2xl shadow-xl border border-gray-200 dark:border-gray-700 py-2 z-50",children:[e.jsxs("div",{className:"px-4 py-3 border-b border-gray-100 dark:border-gray-700",children:[e.jsxs("p",{className:"text-sm font-medium text-gray-900 dark:text-white",children:[t==null?void 0:t.firstName," ",t==null?void 0:t.lastName]}),e.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 capitalize",children:((N=t==null?void 0:t.role)==null?void 0:N.replace("_"," "))||"Member"})]}),e.jsxs("div",{className:"py-2",children:[e.jsxs(ce,{to:"/profile",onClick:()=>d(!1),className:"flex items-center space-x-3 px-4 py-2 text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors",children:[e.jsx(ns,{className:"w-5 h-5"}),e.jsx("span",{className:"text-sm",children:"Profile"})]}),e.jsxs("button",{onClick:()=>{s(),d(!1)},className:"flex items-center space-x-3 px-4 py-2 text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors w-full text-left",children:[l?e.jsx(Rm,{className:"w-5 h-5"}):e.jsx(Xn,{className:"w-5 h-5"}),e.jsx("span",{className:"text-sm",children:l?"Light Mode":"Dark Mode"})]}),(E||b)&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"border-t border-gray-100 dark:border-gray-700 my-2"}),b&&e.jsxs("button",{onClick:f,className:"flex items-center space-x-3 px-4 py-2 text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors w-full text-left",children:[e.jsx(wt,{className:"w-5 h-5"}),e.jsx("span",{className:"text-sm",children:"Manage Events"})]}),E&&e.jsxs(e.Fragment,{children:[e.jsxs(ce,{to:"/manage-gardens",onClick:()=>d(!1),className:"flex items-center space-x-3 px-4 py-2 text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors",children:[e.jsx(dc,{className:"w-5 h-5"}),e.jsx("span",{className:"text-sm",children:"Manage Gardens"})]}),e.jsxs(ce,{to:"/admin/requests",onClick:()=>d(!1),className:"flex items-center space-x-3 px-4 py-2 text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors",children:[e.jsx(_r,{className:"w-5 h-5"}),e.jsx("span",{className:"text-sm",children:"Permission Requests"})]})]})]}),e.jsx("div",{className:"border-t border-gray-100 dark:border-gray-700 my-2"}),e.jsxs("button",{onClick:()=>{d(!1),p()},className:"flex items-center space-x-3 px-4 py-2 text-red-600 dark:text-red-400 hover:bg-red-50 dark:hover:bg-red-900/20 transition-colors w-full text-left",children:[e.jsx(Sr,{className:"w-5 h-5"}),e.jsx("span",{className:"text-sm",children:"Sign Out"})]})]})]})]})]})]}),e.jsxs("div",{className:"mt-3",children:[e.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-500 dark:text-gray-400 mb-1",children:[e.jsxs("span",{children:["Level ",g.level]}),e.jsxs("span",{children:["Level ",g.level+1]})]}),e.jsx("div",{className:"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-2 overflow-hidden",children:e.jsx("div",{className:"h-full bg-gradient-to-r from-blue-500 to-purple-600 rounded-full transition-all duration-500 ease-out",style:{width:"68%"},children:e.jsx("div",{className:"h-full bg-gradient-to-r from-white/20 to-transparent rounded-full animate-pulse"})})}),e.jsx("div",{className:"text-center mt-1",children:e.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:"680 / 1000 XP"})})]})]})})},kg=()=>{const t=Ar(),r=[{name:"Home",href:"/dashboard",outlineIcon:ir,solidIcon:vs,preload:()=>he(()=>Promise.resolve().then(()=>yl),void 0)},{name:"Parks",href:"/gardens",outlineIcon:fe,solidIcon:Zt,badge:"",preload:()=>he(()=>Promise.resolve().then(()=>wl),void 0)},{name:"My Dogs",href:"/my-dogs",outlineIcon:Le,solidIcon:Fe,preload:()=>he(()=>Promise.resolve().then(()=>Ll),void 0)},{name:"Social",href:"/friends",outlineIcon:at,solidIcon:lx,badge:"3",preload:()=>he(()=>Promise.resolve().then(()=>zl),void 0)},{name:"Events",href:"/events",outlineIcon:wt,solidIcon:rl,preload:()=>he(()=>Promise.resolve().then(()=>Rl),void 0)}],a=s=>s==="/dashboard"?t.pathname==="/dashboard"||t.pathname==="/":t.pathname.startsWith(s);return e.jsx("div",{className:"fixed bottom-0 left-0 right-0 z-50 bg-white dark:bg-gray-800 border-t border-gray-200 dark:border-gray-700",children:e.jsx("div",{className:"flex justify-around items-center py-2 px-4 max-w-lg mx-auto",children:r.map(s=>{const l=a(s.href)?s.solidIcon:s.outlineIcon,i=a(s.href);return e.jsxs(ce,{to:s.href,className:`flex flex-col items-center justify-center p-2 rounded-2xl transition-all duration-200 min-w-0 flex-1 ${i?"text-purple-600 dark:text-purple-400 bg-purple-50 dark:bg-purple-900/20":"text-gray-500 dark:text-gray-400 hover:text-purple-600 dark:hover:text-purple-400 hover:bg-gray-50 dark:hover:bg-gray-700/50"}`,...s.preload?Ni(s.preload):{},children:[e.jsxs("div",{className:"relative",children:[e.jsx(l,{className:"h-6 w-6"}),s.badge&&e.jsx("span",{className:"absolute -top-2 -right-2 min-w-[18px] h-[18px] bg-red-500 text-white text-xs rounded-full flex items-center justify-center font-medium",children:s.badge})]}),e.jsx("span",{className:`text-xs mt-1 font-medium truncate max-w-full ${i?"text-purple-600 dark:text-purple-400":"text-gray-500 dark:text-gray-400"}`,children:s.name})]},s.name)})})})},Qr={getChats:async()=>{try{return(await H.get("/chats")).data}catch(t){throw console.error("Error fetching chats:",t),t}},getMessages:async(t,r=50,a=0)=>{try{return(await H.get(`/chats/${t}/messages`,{params:{limit:r,skip:a}})).data}catch(s){throw console.error("Error fetching messages:",s),s}},sendMessage:async(t,r)=>{try{return(await H.post(`/chats/${t}/messages`,{message:r})).data}catch(a){throw console.error("Error sending message:",a),a}},createChat:async(t,r)=>{try{return(await H.post("/chats",{userId:t,message:r})).data}catch(a){throw console.error("Error creating chat:",a),a}},markAsRead:async t=>{try{return(await H.put(`/chats/messages/${t}/read`)).data}catch(r){throw console.error("Error marking message as read:",r),r}},deleteMessage:async t=>{try{return(await H.delete(`/chats/messages/${t}`)).data}catch(r){throw console.error("Error deleting message:",r),r}}},Eg=()=>{var Z,G,R,V,J;const{user:t}=ge(),[r,a]=n.useState([]),[s,l]=n.useState(null),[i,o]=n.useState([]),[d,c]=n.useState(""),[x,g]=n.useState(!0),[u,h]=n.useState(!1),p=n.useRef(null),[f,j]=n.useState(!1),[m,E]=n.useState(0);n.useState(!1),n.useState(new Set);const[b,v]=n.useState(0),[N,w]=n.useState(!1),[C,k]=n.useState(!1);n.useEffect(()=>{M();const L=setInterval(()=>{f?(M(),s&&$()):M()},1e4),q=B=>{j(!0),k(!1),w(!1)},D=B=>{const{chatId:K,targetUser:le}=B.detail,oe=r.find(Q=>Q._id===K);oe?l(oe):le&&(l({_id:K,participants:[le],lastMessage:"",lastMessageTime:new Date}),setTimeout(M,500))};return window.addEventListener("openChat",q),window.addEventListener("selectChat",D),()=>{clearInterval(L),window.removeEventListener("openChat",q),window.removeEventListener("selectChat",D)}},[f,s,r]),n.useEffect(()=>{s&&$()},[s]),n.useEffect(()=>{F()},[i]),n.useEffect(()=>{const L=r.reduce((D,B)=>D+(B.messageCount||0),0),q=r.reduce((D,B)=>D+(B.unreadCount||0),0);E(q),!f&&L>b&&b>0&&(k(!0),w(!0),typeof Notification<"u"&&Notification.permission==="granted"&&new Notification("New message received!",{body:"You have a new message in Dog Parks",icon:"/favicon.ico"}),setTimeout(()=>{w(!1)},3e3)),v(L)},[r,f,b]),n.useEffect(()=>{const L=q=>{q.key==="Escape"&&f&&j(!1)};return window.addEventListener("keydown",L),()=>window.removeEventListener("keydown",L)},[f]),n.useEffect(()=>{typeof Notification<"u"&&Notification.permission==="default"&&Notification.requestPermission()},[]);const M=async()=>{try{g(!0);const L=await Qr.getChats();a(L.chats||[])}catch(L){console.error("Error loading chats:",L)}finally{g(!1)}},$=async()=>{if(s)try{const L=await Qr.getMessages(s._id);o(L.messages||[])}catch(L){console.error("Error loading messages:",L),_.error("Failed to load messages")}},A=async L=>{if(L.preventDefault(),!(!d.trim()||!s))try{h(!0);const q=await Qr.sendMessage(s._id,{type:"text",text:d});o([...i,q.message]),c("")}catch(q){console.error("Error sending message:",q),_.error("Failed to send message")}finally{h(!1)}},I=()=>{j(!f),f||(k(!1),w(!1))},F=()=>{var L;(L=p.current)==null||L.scrollIntoView({behavior:"smooth"})},T=L=>{const q=new Date(L),B=Math.floor((new Date-q)/(1e3*60));return B<1?"now":B<60?`${B}m`:B<1440?`${Math.floor(B/60)}h`:q.toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit"})},z=L=>{const q=new Date(L),D=new Date,B=new Date(D);return B.setDate(B.getDate()-1),q.toDateString()===D.toDateString()?"Today":q.toDateString()===B.toDateString()?"Yesterday":q.toLocaleDateString("en-US",{month:"short",day:"numeric"})},W=L=>{const q=new Date(L),B=Math.floor((new Date-q)/(1e3*60));return B<1?"now":B<60?`${B}m`:B<1440?`${Math.floor(B/60)}h`:B<10080?`${Math.floor(B/1440)}d`:q.toLocaleDateString("en-US",{month:"short",day:"numeric"})};return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"fixed bottom-4 right-4 z-40",children:[N&&e.jsxs("div",{className:"absolute bottom-16 right-0 bg-white rounded-lg shadow-lg border border-gray-200 p-3 mb-2 animate-bounce",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full animate-pulse"}),e.jsx("span",{className:"text-sm text-gray-700 font-medium",children:"New message!"})]}),e.jsx("div",{className:"absolute bottom-0 right-4 transform translate-y-1/2 rotate-45 w-2 h-2 bg-white border-r border-b border-gray-200"})]}),e.jsx("button",{onClick:I,"data-chat-toggle":!0,className:"inline-flex items-center justify-center w-14 h-14 bg-blue-600 text-white rounded-full shadow-lg hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-all duration-200 relative",children:f?e.jsx(pe,{className:"h-6 w-6"}):e.jsxs("div",{className:"relative",children:[e.jsx(at,{className:"h-6 w-6"}),(m>0||C)&&e.jsx("span",{className:`absolute -top-2 -right-2 text-white text-xs rounded-full h-5 w-5 flex items-center justify-center font-medium ${C?"bg-red-500 animate-pulse":"bg-red-500"}`,children:m>9?"9+":m||"!"}),C&&e.jsx("div",{className:"absolute -top-1 -right-1 w-3 h-3 bg-red-500 rounded-full animate-ping"})]})})]}),f&&e.jsxs("div",{className:"fixed bottom-20 right-4 z-40 w-96 h-[600px] bg-white rounded-xl shadow-2xl flex flex-col border border-gray-200 overflow-hidden",children:[e.jsxs("div",{className:"bg-gradient-to-r from-blue-600 to-blue-700 text-white p-4 flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(at,{className:"h-6 w-6 mr-2"}),e.jsx("h3",{className:"text-lg font-semibold",children:"Messages"})]}),e.jsx("button",{onClick:()=>j(!1),className:"p-1 hover:bg-blue-500 rounded-full transition-colors",children:e.jsx(pe,{className:"h-5 w-5"})})]}),e.jsxs("div",{className:"flex flex-1 overflow-hidden",children:[e.jsx("div",{className:"w-2/5 border-r border-gray-200 overflow-y-auto bg-gray-50",children:e.jsxs("div",{className:"p-3",children:[e.jsx("h4",{className:"text-xs font-semibold text-gray-600 uppercase tracking-wider mb-3",children:"Conversations"}),x?e.jsxs("div",{className:"text-center py-8",children:[e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto"}),e.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"Loading..."})]}):r.length===0?e.jsxs("div",{className:"text-center py-8",children:[e.jsx(at,{className:"h-12 w-12 text-gray-300 mx-auto mb-2"}),e.jsx("p",{className:"text-sm text-gray-500",children:"No conversations yet"}),e.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Start chatting with other dog owners!"})]}):e.jsx("div",{className:"space-y-1",children:r.map(L=>{var q,D,B,K,le;return e.jsx("button",{onClick:()=>l(L),className:`w-full text-left p-3 rounded-lg hover:bg-white transition-all duration-200 ${(s==null?void 0:s._id)===L._id?"bg-white shadow-sm border border-blue-200":"hover:shadow-sm"}`,children:e.jsxs("div",{className:"flex items-center",children:[e.jsxs("div",{className:"relative",children:[(q=L.participants[0])!=null&&q.profileImage?e.jsx("img",{src:L.participants[0].profileImage,alt:"",className:"w-10 h-10 rounded-full object-cover"}):e.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-blue-400 to-blue-600 rounded-full flex items-center justify-center text-white text-sm font-semibold",children:((B=(D=L.participants[0])==null?void 0:D.firstName)==null?void 0:B[0])||"U"}),e.jsx("div",{className:"absolute -bottom-1 -right-1 w-3 h-3 bg-green-400 border-2 border-white rounded-full"})]}),e.jsxs("div",{className:"ml-3 flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("p",{className:"text-sm font-medium text-gray-900 truncate",children:[(K=L.participants[0])==null?void 0:K.firstName," ",(le=L.participants[0])==null?void 0:le.lastName]}),L.lastMessageTime&&e.jsx("span",{className:"text-xs text-gray-500",children:W(L.lastMessageTime)})]}),e.jsx("p",{className:"text-xs text-gray-500 truncate mt-1",children:L.lastMessage||"No messages"})]})]})},L._id)})})]})}),e.jsx("div",{className:"flex-1 flex flex-col",children:s?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"p-4 border-b border-gray-200 bg-white",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsxs("div",{className:"relative",children:[(Z=s.participants[0])!=null&&Z.profileImage?e.jsx("img",{src:s.participants[0].profileImage,alt:"",className:"w-10 h-10 rounded-full object-cover"}):e.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-blue-400 to-blue-600 rounded-full flex items-center justify-center text-white text-sm font-semibold",children:((R=(G=s.participants[0])==null?void 0:G.firstName)==null?void 0:R[0])||"U"}),e.jsx("div",{className:"absolute -bottom-1 -right-1 w-3 h-3 bg-green-400 border-2 border-white rounded-full"})]}),e.jsxs("div",{className:"ml-3",children:[e.jsxs("p",{className:"text-sm font-medium text-gray-900",children:[(V=s.participants[0])==null?void 0:V.firstName," ",(J=s.participants[0])==null?void 0:J.lastName]}),e.jsx("p",{className:"text-xs text-green-600 font-medium",children:"Online"})]})]}),e.jsx("button",{className:"p-2 hover:bg-gray-100 rounded-full transition-colors",children:e.jsx(Jn,{className:"h-5 w-5 text-gray-500"})})]})}),e.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-3 bg-gray-50",children:[i.length===0?e.jsx("div",{className:"flex items-center justify-center h-full",children:e.jsxs("div",{className:"text-center",children:[e.jsx(at,{className:"h-16 w-16 text-gray-300 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-500 text-sm",children:"No messages yet"}),e.jsx("p",{className:"text-gray-400 text-xs mt-1",children:"Start the conversation!"})]})}):i.map((L,q)=>{var le,oe,Q;const D=L.sender._id===t._id||L.sender===t._id,B=q===0||z(L.createdAt)!==z(i[q-1].createdAt),K=!D&&(q===i.length-1||((le=i[q+1])==null?void 0:le.sender._id)!==L.sender._id);return e.jsxs("div",{children:[B&&e.jsx("div",{className:"text-center mb-4",children:e.jsx("span",{className:"text-xs text-gray-500 bg-white px-3 py-1 rounded-full shadow-sm",children:z(L.createdAt)})}),e.jsxs("div",{className:`flex items-end space-x-2 ${D?"justify-end":"justify-start"}`,children:[!D&&e.jsx("div",{className:"w-8 h-8 flex-shrink-0",children:K&&(L.sender.profileImage?e.jsx("img",{src:L.sender.profileImage,alt:"",className:"w-8 h-8 rounded-full object-cover"}):e.jsx("div",{className:"w-8 h-8 bg-gradient-to-br from-gray-400 to-gray-600 rounded-full flex items-center justify-center text-white text-xs font-semibold",children:((oe=L.sender.firstName)==null?void 0:oe[0])||"U"}))}),e.jsxs("div",{className:`max-w-[75%] px-4 py-2 rounded-2xl shadow-sm ${D?"bg-blue-600 text-white rounded-br-md":"bg-white text-gray-900 rounded-bl-md border border-gray-200"}`,children:[e.jsx("p",{className:"text-sm break-words",children:((Q=L.content)==null?void 0:Q.text)||L.text}),e.jsx("p",{className:`text-xs mt-1 ${D?"text-blue-100":"text-gray-500"}`,children:T(L.createdAt)})]})]})]},L._id)}),e.jsx("div",{ref:p})]}),e.jsx("form",{onSubmit:A,className:"p-4 border-t border-gray-200 bg-white",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsxs("div",{className:"flex-1 relative",children:[e.jsx("input",{type:"text",value:d,onChange:L=>c(L.target.value),onKeyPress:L=>{L.key==="Enter"&&!L.shiftKey&&(L.preventDefault(),A(L))},placeholder:"Type a message...",className:"w-full rounded-full px-4 py-3 bg-gray-100 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:bg-white transition-all duration-200",disabled:u}),u&&e.jsx("div",{className:"absolute right-3 top-1/2 transform -translate-y-1/2",children:e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-blue-600"})})]}),e.jsx("button",{type:"submit",disabled:!d.trim()||u,className:"inline-flex items-center justify-center w-10 h-10 rounded-full bg-blue-600 text-white hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200",children:e.jsx(ba,{className:"h-5 w-5"})})]})})]}):e.jsx("div",{className:"flex-1 flex items-center justify-center bg-gray-50",children:e.jsxs("div",{className:"text-center",children:[e.jsx(at,{className:"h-16 w-16 text-gray-300 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-500 text-sm",children:"Select a conversation to start messaging"}),e.jsx("p",{className:"text-gray-400 text-xs mt-1",children:"Choose from your conversations on the left"})]})})})]})]})]})},Ka=[{name:"Gardens",href:"/gardens",icon:Zt},{name:"Events",href:"/public-events",icon:wt}];function Os(...t){return t.filter(Boolean).join(" ")}const Sg=()=>{const t=Ar(),[r,a]=n.useState(!1),[s,l]=n.useState(!1);n.useEffect(()=>{const d=localStorage.getItem("darkMode"),c=window.matchMedia("(prefers-color-scheme: dark)").matches,x=d?d==="true":c;l(x),x?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")},[]);const i=()=>{const d=!s;l(d),localStorage.setItem("darkMode",d.toString()),d?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")},o=d=>t.pathname===d;return e.jsxs(e.Fragment,{children:[e.jsx(Pe.Root,{show:r,as:n.Fragment,children:e.jsxs(Je,{as:"div",className:"relative z-50 lg:hidden",onClose:a,children:[e.jsx(Pe.Child,{as:n.Fragment,enter:"transition-opacity ease-linear duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"transition-opacity ease-linear duration-300",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:e.jsx("div",{className:"fixed inset-0 bg-gray-900/80"})}),e.jsx("div",{className:"fixed inset-0 flex",children:e.jsx(Pe.Child,{as:n.Fragment,enter:"transition ease-in-out duration-300 transform",enterFrom:"-translate-x-full",enterTo:"translate-x-0",leave:"transition ease-in-out duration-300 transform",leaveFrom:"translate-x-0",leaveTo:"-translate-x-full",children:e.jsxs(Je.Panel,{className:"relative mr-16 flex w-full max-w-xs flex-1",children:[e.jsx(Pe.Child,{as:n.Fragment,enter:"ease-in-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in-out duration-300",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:e.jsx("div",{className:"absolute left-full top-0 flex w-16 justify-center pt-5",children:e.jsxs("button",{type:"button",className:"-m-2.5 p-2.5",onClick:()=>a(!1),children:[e.jsx("span",{className:"sr-only",children:"Close sidebar"}),e.jsx(pe,{className:"h-6 w-6 text-white","aria-hidden":"true"})]})})}),e.jsxs("div",{className:"flex grow flex-col gap-y-5 overflow-y-auto bg-white dark:bg-gray-900 px-6 pb-4",children:[e.jsx("div",{className:"flex h-16 shrink-0 items-center",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"bg-gradient-to-r from-purple-600 to-pink-600 rounded-xl p-2",children:e.jsx(Fe,{className:"h-6 w-6 text-white"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-xl font-bold bg-gradient-to-r from-purple-600 to-pink-600 bg-clip-text text-transparent",children:"PawConnect"}),e.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 -mt-1",children:"Dog Parks"})]})]})}),e.jsx("nav",{className:"flex flex-1 flex-col",children:e.jsxs("ul",{role:"list",className:"flex flex-1 flex-col gap-y-7",children:[e.jsx("li",{children:e.jsx("ul",{role:"list",className:"-mx-2 space-y-1",children:Ka.map(d=>{const c=d.icon,x=o(d.href);return e.jsx("li",{children:e.jsxs(ce,{to:d.href,className:Os(x?"bg-purple-50 dark:bg-purple-900 text-purple-700 dark:text-purple-300":"text-gray-700 dark:text-gray-300 hover:text-purple-700 dark:hover:text-purple-300 hover:bg-purple-50 dark:hover:bg-purple-900","group flex gap-x-3 rounded-2xl p-3 text-sm leading-6 font-semibold transition-all"),onClick:()=>a(!1),children:[e.jsx(c,{className:Os(x?"text-purple-700 dark:text-purple-300":"text-gray-400 dark:text-gray-500 group-hover:text-purple-700 dark:group-hover:text-purple-300","h-6 w-6 shrink-0"),"aria-hidden":"true"}),d.name]})},d.name)})})}),e.jsx("li",{children:e.jsxs("button",{onClick:i,className:"flex items-center justify-between w-full gap-x-3 rounded-2xl p-3 text-sm font-semibold text-gray-700 dark:text-gray-300 hover:text-purple-700 dark:hover:text-purple-300 hover:bg-purple-50 dark:hover:bg-purple-900 transition-all",children:[e.jsxs("div",{className:"flex items-center gap-x-3",children:[e.jsx(Xn,{className:"h-5 w-5 text-gray-400 dark:text-gray-500"}),e.jsx("span",{children:"Dark Mode"})]}),e.jsx("div",{className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors duration-200 ${s?"bg-purple-600":"bg-gray-200 dark:bg-gray-700"}`,children:e.jsx("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition-transform duration-200 ${s?"translate-x-6":"translate-x-1"}`})})]})}),e.jsx("li",{className:"mt-auto",children:e.jsxs("div",{className:"border-t border-gray-200 dark:border-gray-700 pt-4 space-y-1",children:[e.jsxs(ce,{to:"/login",className:"flex items-center gap-x-3 rounded-2xl p-3 text-sm font-semibold text-gray-700 dark:text-gray-300 hover:text-purple-700 dark:hover:text-purple-300 hover:bg-purple-50 dark:hover:bg-purple-900 transition-all",onClick:()=>a(!1),children:[e.jsx(Sr,{className:"h-5 w-5 text-gray-400 dark:text-gray-500"}),"Login"]}),e.jsxs(ce,{to:"/register",className:"flex items-center gap-x-3 rounded-2xl p-3 text-sm font-semibold text-white bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700 transition-all shadow-lg",onClick:()=>a(!1),children:[e.jsx(er,{className:"h-5 w-5"}),"Sign Up"]})]})})]})})]})]})})})]})}),e.jsx("div",{className:"bg-white dark:bg-gray-900 shadow-lg border-b border-gray-200 dark:border-gray-700 transition-colors",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"flex justify-between items-center h-16",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"bg-gradient-to-r from-purple-600 to-pink-600 rounded-xl p-2 shadow-lg",children:e.jsx(Fe,{className:"h-6 w-6 text-white"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-xl font-bold bg-gradient-to-r from-purple-600 to-pink-600 bg-clip-text text-transparent",children:"PawPals"}),e.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 -mt-1",children:"Community"})]})]}),e.jsx("nav",{className:"hidden md:flex space-x-8",children:Ka.map(d=>{const c=d.icon,x=o(d.href);return e.jsxs(ce,{to:d.href,className:Os(x?"text-purple-700 dark:text-purple-300 border-purple-700 dark:border-purple-300":"text-gray-700 dark:text-gray-300 hover:text-purple-700 dark:hover:text-purple-300 border-transparent hover:border-purple-300 dark:hover:border-purple-600","flex items-center px-3 py-2 border-b-2 text-sm font-medium transition-all"),children:[e.jsx(c,{className:"h-5 w-5 mr-2"}),d.name]},d.name)})}),e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx(ce,{to:"/login",className:"text-gray-700 dark:text-gray-300 hover:text-purple-700 dark:hover:text-purple-300 font-medium text-sm transition-colors",children:"Login"}),e.jsx(ce,{to:"/register",className:"bg-gradient-to-r from-purple-600 to-pink-600 text-white px-4 py-2 rounded-2xl text-sm font-medium hover:from-purple-700 hover:to-pink-700 transition-all shadow-lg",children:"Sign Up"}),e.jsxs("button",{type:"button",className:"md:hidden -m-2.5 p-2.5 text-gray-700 dark:text-gray-300 hover:text-purple-700 dark:hover:text-purple-300 transition-colors",onClick:()=>a(!0),children:[e.jsx("span",{className:"sr-only",children:"Open main menu"}),e.jsx(Wn,{className:"h-6 w-6"})]})]})]})})})]})},la=()=>{const{isAuthenticated:t}=ge();return t?e.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900",children:[e.jsx("div",{className:"hidden lg:block",children:e.jsx(Ux,{})}),e.jsx("div",{className:"lg:hidden",children:e.jsx(Ng,{})}),e.jsx("main",{className:"lg:pl-72 pb-20 lg:pb-0",children:e.jsx("div",{className:"pt-0 lg:pt-8",children:e.jsx(Us,{})})}),e.jsx("div",{className:"lg:hidden",children:e.jsx(kg,{})}),e.jsx("div",{className:"hidden lg:block",children:e.jsx(Eg,{})})]}):e.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900",children:[e.jsx(Sg,{}),e.jsx("main",{children:e.jsx(Us,{})})]})},Cg=Object.freeze(Object.defineProperty({__proto__:null,default:la},Symbol.toStringTag,{value:"Module"})),dl=()=>{const{isAuthenticated:t}=ge();return t?e.jsx(Us,{}):e.jsx(bn,{to:"/login",replace:!0})},Rg=Object.freeze(Object.defineProperty({__proto__:null,default:dl},Symbol.toStringTag,{value:"Module"})),ar=({children:t,allowedRoles:r=[]})=>{const{user:a,isAuthenticated:s}=ge();return s?r.length>0&&!r.includes(a==null?void 0:a.role)?e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:e.jsxs("div",{className:"max-w-md w-full bg-white shadow-lg rounded-lg p-6 text-center",children:[e.jsx("div",{className:"text-red-500 text-6xl mb-4",children:""}),e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Access Denied"}),e.jsx("p",{className:"text-gray-600 mb-4",children:"You don't have permission to access this page."}),e.jsxs("p",{className:"text-sm text-gray-500 mb-6",children:["Required role: ",r.join(" or "),e.jsx("br",{}),"Your role: ",(a==null?void 0:a.role)||"Unknown"]}),e.jsx("button",{onClick:()=>window.history.back(),className:"bg-primary-600 text-white px-4 py-2 rounded-md hover:bg-primary-700",children:"Go Back"})]})}):t:e.jsx(bn,{to:"/login",replace:!0})},js=({fullScreen:t=!1,minDisplayTime:r=100,size:a="md",showText:s=!0})=>{const l={sm:"w-8 h-8",md:"w-12 h-12",lg:"w-16 h-16",xl:"w-24 h-24"},i=t?"fixed inset-0 flex flex-col items-center justify-center bg-white/95 dark:bg-gray-900/95 backdrop-blur-md z-50":"flex flex-col items-center justify-center p-8 min-h-screen",o=["Woof woof! Sniffing out the best parks...","Arf arf! Finding play dates...","Ruff ruff! Tail wagging intensifies...","Woof! Searching for treats and friends...","Bow wow! Getting ready to fetch...","Yip yip! So excited to play...","Woof woof! Fetching amazing adventures...","Arf! Barking with excitement...","Ruff! Can't wait to meet new friends...","Woof! Pawsome things loading...","Bow wow wow! Adventure time soon...","Yap yap! Happy tail wagging...","Woof woof! Sniff sniff... something good coming...","Arf arf! Zoomies incoming...","Ruff ruff! Best day ever loading...","Woof! Paws crossed for fun...","Bow wow! Ready to make friends...","Yip! Squeaky toy excitement level...","Woof woof! Belly rub approved content...","Arf! Treat-level happiness loading..."],d=n.useMemo(()=>o[Math.floor(Math.random()*o.length)],[]);return e.jsx("div",{className:i,children:e.jsxs("div",{className:"flex flex-col items-center space-y-6",children:[e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute -inset-6 opacity-30",children:e.jsxs("div",{className:"animate-spin",style:{animationDuration:"8s"},children:[e.jsx(fe,{className:"absolute top-0 left-1/2 transform -translate-x-1/2 w-5 h-5 text-purple-500"}),e.jsx(Ne,{className:"absolute right-0 top-1/2 transform -translate-y-1/2 w-5 h-5 text-pink-500"}),e.jsx(dt,{className:"absolute bottom-0 left-1/2 transform -translate-x-1/2 w-5 h-5 text-blue-500"}),e.jsx(Le,{className:"absolute left-0 top-1/2 transform -translate-y-1/2 w-5 h-5 text-green-500"})]})}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:`${l[a]} rounded-full border-4 border-gray-100 dark:border-gray-800`}),e.jsx("div",{className:`${l[a]} rounded-full border-4 border-transparent border-t-purple-600 border-r-pink-600 animate-spin absolute top-0 left-0`,style:{animationDuration:"1.2s"}}),e.jsx("div",{className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2",children:e.jsx(_e,{className:"w-5 h-5 text-purple-600 animate-pulse"})})]})]}),s&&e.jsxs("div",{className:"text-center max-w-xs",children:[e.jsx("p",{className:"text-gray-600 dark:text-gray-400 font-medium text-sm",children:d}),e.jsxs("div",{className:"flex justify-center space-x-1 mt-3",children:[e.jsx("div",{className:"w-2 h-2 bg-purple-600 rounded-full animate-pulse",style:{animationDelay:"0ms"}}),e.jsx("div",{className:"w-2 h-2 bg-pink-600 rounded-full animate-pulse",style:{animationDelay:"200ms"}}),e.jsx("div",{className:"w-2 h-2 bg-blue-600 rounded-full animate-pulse",style:{animationDelay:"400ms"}})]})]}),t&&e.jsx("div",{className:"absolute bottom-8 left-1/2 transform -translate-x-1/2",children:e.jsxs("div",{className:"text-center",children:[e.jsxs("div",{className:"flex items-center justify-center space-x-3 mb-2",children:[e.jsx(fe,{className:"w-6 h-6 text-purple-600 dark:text-purple-400"}),e.jsx("span",{className:"text-xl font-bold bg-gradient-to-r from-purple-600 to-pink-600 bg-clip-text text-transparent",children:"PawPals"}),e.jsx(Xe,{className:"w-6 h-6 text-pink-600 dark:text-pink-400"})]}),e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Connecting pets and their owners"})]})}),t&&e.jsxs("div",{className:"absolute inset-0 pointer-events-none overflow-hidden",children:[e.jsx("div",{className:"absolute top-10 left-10 opacity-10",children:e.jsx(fe,{className:"w-8 h-8 text-purple-500 animate-pulse",style:{animationDelay:"0s"}})}),e.jsx("div",{className:"absolute top-20 right-16 opacity-10",children:e.jsx(Ne,{className:"w-6 h-6 text-pink-500 animate-pulse",style:{animationDelay:"2s"}})}),e.jsx("div",{className:"absolute bottom-32 left-20 opacity-10",children:e.jsx(dt,{className:"w-10 h-10 text-blue-500 animate-pulse",style:{animationDelay:"4s"}})}),e.jsx("div",{className:"absolute bottom-20 right-10 opacity-10",children:e.jsx(Le,{className:"w-6 h-6 text-green-500 animate-pulse",style:{animationDelay:"6s"}})})]})]})})},Ag=({size:t="sm",className:r="",theme:a="purple"})=>{const s={xs:"w-3 h-3",sm:"w-4 h-4",md:"w-5 h-5",lg:"w-6 h-6"},l={purple:"border-t-purple-600",pink:"border-t-pink-600",blue:"border-t-blue-600",green:"border-t-green-600"};return e.jsx("div",{className:`${s[t]} ${r} relative`,children:e.jsx("div",{className:`${s[t]} rounded-full border-2 border-transparent ${l[a]} animate-spin`})})},Mg=({className:t="",lines:r=3})=>e.jsx("div",{className:`animate-pulse ${t}`,children:Array.from({length:r}).map((a,s)=>e.jsxs("div",{className:"flex items-center mb-3",children:[e.jsx("div",{className:"w-8 h-8 bg-gray-200 dark:bg-gray-700 rounded-full mr-3 flex items-center justify-center",children:e.jsx("div",{className:"w-3 h-3 bg-gray-300 dark:bg-gray-600 rounded-full"})}),e.jsx("div",{className:`h-4 bg-gray-200 dark:bg-gray-700 rounded ${s===r-1?"w-3/4":"w-full"}`})]},s))}),$g=()=>{const[t,r]=n.useState(!1),a=n.useCallback(async s=>{r(!0);try{await s()}catch(l){throw l}finally{r(!1)}},[]);return{isLoading:t,showLoadingFor:a}},Dg=(t=50)=>{const[r,a]=n.useState(!1),s=n.useCallback(async l=>{a(!0);const i=Date.now();try{await l()}catch(o){throw o}finally{const o=Date.now()-i,d=Math.max(0,t-o);d>0&&o<50&&await new Promise(c=>setTimeout(c,d)),a(!1)}},[t]);return{isLoading:r,showLoadingFor:s}},Lg={INSTANT:0,FAST:50,NORMAL:100,SLOW:300,HEAVY:600},Tg=Object.freeze(Object.defineProperty({__proto__:null,LOADING_PRESETS:Lg,LoadingSkeleton:Mg,LoadingSpinner:Ag,default:js,useFastLoading:$g,useLoadingWithMinTime:Dg},Symbol.toStringTag,{value:"Module"})),_g=({children:t})=>{const r=Ar(),[a,s]=n.useState(r),[l,i]=n.useState("fadeIn");return n.useEffect(()=>{r!==a&&i("fadeOut")},[r,a]),n.useEffect(()=>{if(l==="fadeOut"){const o=setTimeout(()=>{s(r),i("fadeIn")},50);return()=>clearTimeout(o)}},[l,r]),e.jsx("div",{className:`transition-opacity duration-50 ${l==="fadeOut"?"opacity-0":"opacity-100"}`,style:{transitionDuration:"50ms"},children:t})};class Pg{constructor(){this.cache=new Map,this.cacheExpiry=new Map,this.defaultTTL=5*60*1e3}set(r,a,s=this.defaultTTL){this.cache.set(r,a),this.cacheExpiry.set(r,Date.now()+s)}get(r){if(!this.cache.has(r))return null;const a=this.cacheExpiry.get(r);return Date.now()>a?(this.cache.delete(r),this.cacheExpiry.delete(r),null):this.cache.get(r)}has(r){return this.get(r)!==null}cleanup(){const r=Date.now();for(const[a,s]of this.cacheExpiry.entries())r>s&&(this.cache.delete(a),this.cacheExpiry.delete(a))}clear(){this.cache.clear(),this.cacheExpiry.clear()}getStats(){return{size:this.cache.size,keys:Array.from(this.cache.keys())}}}const Jr=new Pg;setInterval(()=>{Jr.cleanup()},5*60*1e3);class Fg{constructor(){this.preloadedServices=new Set,this.preloadedData=new Map}async preloadServices(){const r=[()=>he(()=>Promise.resolve().then(()=>mi),void 0),()=>he(()=>Promise.resolve().then(()=>xi),void 0),()=>he(()=>Promise.resolve().then(()=>xn),void 0),()=>he(()=>Promise.resolve().then(()=>gn),void 0),()=>he(()=>Promise.resolve().then(()=>_u),void 0),()=>he(()=>Promise.resolve().then(()=>pu),void 0),()=>he(()=>Promise.resolve().then(()=>Si),void 0)],a=await Promise.allSettled(r.map(s=>s()));console.log(`Preloaded ${a.filter(s=>s.status==="fulfilled").length}/${a.length} services`)}async preloadEssentialData(r){if(r)try{const a=[];a.push(he(()=>Promise.resolve().then(()=>gn),void 0).then(async({dogService:l})=>{try{const i=await l.getMyDogs();return Jr.set("user_dogs",i,10*60*1e3),i}catch{return null}})),navigator.geolocation&&a.push(new Promise(l=>{navigator.geolocation.getCurrentPosition(async i=>{try{const{gardenService:o}=await he(()=>Promise.resolve().then(()=>xn),void 0),d=await o.getNearbyGardens(i.coords.latitude,i.coords.longitude,10);Jr.set("nearby_gardens",d,5*60*1e3),Jr.set("user_location",{lat:i.coords.latitude,lng:i.coords.longitude},30*60*1e3),l(d)}catch{l(null)}},()=>l(null),{timeout:5e3})}));const s=await Promise.allSettled(a);console.log(`Preloaded ${s.filter(l=>l.status==="fulfilled").length} data sources`)}catch(a){console.warn("Failed to preload some data:",a)}}async preloadComponents(){const r=[()=>he(()=>Promise.resolve().then(()=>Tg),void 0),()=>he(()=>Promise.resolve().then(()=>Cg),void 0),()=>he(()=>Promise.resolve().then(()=>Rg),void 0),()=>he(()=>Promise.resolve().then(()=>Sh),void 0)],a=await Promise.allSettled(r.map(s=>s()));console.log(`Preloaded ${a.filter(s=>s.status==="fulfilled").length}/${a.length} components`)}async preloadAll(r=null){console.log(" Starting app preload...");const a=[{name:"services",fn:()=>this.preloadServices()},{name:"components",fn:()=>this.preloadComponents()}];r&&a.push({name:"data",fn:()=>this.preloadEssentialData(r)});for(const s of a)try{await s.fn(),console.log(` ${s.name} preloaded`)}catch(l){console.warn(` Failed to preload ${s.name}:`,l)}console.log(" App preload complete!")}isReady(){return this.preloadedServices.size>0}}const qs=new Fg;var Fr=t=>t.type==="checkbox",Yt=t=>t instanceof Date,Ve=t=>t==null;const cl=t=>typeof t=="object";var Re=t=>!Ve(t)&&!Array.isArray(t)&&cl(t)&&!Yt(t),Ig=t=>Re(t)&&t.target?Fr(t.target)?t.target.checked:t.target.value:t,Og=t=>t.substring(0,t.search(/\.\d+(\.|$)/))||t,qg=(t,r)=>t.has(Og(r)),Vg=t=>{const r=t.constructor&&t.constructor.prototype;return Re(r)&&r.hasOwnProperty("isPrototypeOf")},wa=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function Ie(t){let r;const a=Array.isArray(t),s=typeof FileList<"u"?t instanceof FileList:!1;if(t instanceof Date)r=new Date(t);else if(t instanceof Set)r=new Set(t);else if(!(wa&&(t instanceof Blob||s))&&(a||Re(t)))if(r=a?[]:{},!a&&!Vg(t))r=t;else for(const l in t)t.hasOwnProperty(l)&&(r[l]=Ie(t[l]));else return t;return r}var ws=t=>/^\w*$/.test(t),Me=t=>t===void 0,Na=t=>Array.isArray(t)?t.filter(Boolean):[],ka=t=>Na(t.replace(/["|']|\]/g,"").split(/\.|\[/)),ne=(t,r,a)=>{if(!r||!Re(t))return a;const s=(ws(r)?[r]:ka(r)).reduce((l,i)=>Ve(l)?l:l[i],t);return Me(s)||s===t?Me(t[r])?a:t[r]:s},yt=t=>typeof t=="boolean",ke=(t,r,a)=>{let s=-1;const l=ws(r)?[r]:ka(r),i=l.length,o=i-1;for(;++s<i;){const d=l[s];let c=a;if(s!==o){const x=t[d];c=Re(x)||Array.isArray(x)?x:isNaN(+l[s+1])?{}:[]}if(d==="__proto__"||d==="constructor"||d==="prototype")return;t[d]=c,t=t[d]}};const Xa={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},xt={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},Nt={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},Bg=te.createContext(null);Bg.displayName="HookFormContext";var zg=(t,r,a,s=!0)=>{const l={defaultValues:r._defaultValues};for(const i in t)Object.defineProperty(l,i,{get:()=>{const o=i;return r._proxyFormState[o]!==xt.all&&(r._proxyFormState[o]=!s||xt.all),a&&(a[o]=!0),t[o]}});return l};const Ug=typeof window<"u"?n.useLayoutEffect:n.useEffect;var vt=t=>typeof t=="string",Hg=(t,r,a,s,l)=>vt(t)?(s&&r.watch.add(t),ne(a,t,l)):Array.isArray(t)?t.map(i=>(s&&r.watch.add(i),ne(a,i))):(s&&(r.watchAll=!0),a),Gg=(t,r,a,s,l)=>r?{...a[t],types:{...a[t]&&a[t].types?a[t].types:{},[s]:l||!0}}:{},wr=t=>Array.isArray(t)?t:[t],en=()=>{let t=[];return{get observers(){return t},next:l=>{for(const i of t)i.next&&i.next(l)},subscribe:l=>(t.push(l),{unsubscribe:()=>{t=t.filter(i=>i!==l)}}),unsubscribe:()=>{t=[]}}},ia=t=>Ve(t)||!cl(t);function Pt(t,r){if(ia(t)||ia(r))return t===r;if(Yt(t)&&Yt(r))return t.getTime()===r.getTime();const a=Object.keys(t),s=Object.keys(r);if(a.length!==s.length)return!1;for(const l of a){const i=t[l];if(!s.includes(l))return!1;if(l!=="ref"){const o=r[l];if(Yt(i)&&Yt(o)||Re(i)&&Re(o)||Array.isArray(i)&&Array.isArray(o)?!Pt(i,o):i!==o)return!1}}return!0}var ze=t=>Re(t)&&!Object.keys(t).length,Ea=t=>t.type==="file",gt=t=>typeof t=="function",ls=t=>{if(!wa)return!1;const r=t?t.ownerDocument:0;return t instanceof(r&&r.defaultView?r.defaultView.HTMLElement:HTMLElement)},ml=t=>t.type==="select-multiple",Sa=t=>t.type==="radio",Wg=t=>Sa(t)||Fr(t),Vs=t=>ls(t)&&t.isConnected;function Zg(t,r){const a=r.slice(0,-1).length;let s=0;for(;s<a;)t=Me(t)?s++:t[r[s++]];return t}function Yg(t){for(const r in t)if(t.hasOwnProperty(r)&&!Me(t[r]))return!1;return!0}function $e(t,r){const a=Array.isArray(r)?r:ws(r)?[r]:ka(r),s=a.length===1?t:Zg(t,a),l=a.length-1,i=a[l];return s&&delete s[i],l!==0&&(Re(s)&&ze(s)||Array.isArray(s)&&Yg(s))&&$e(t,a.slice(0,-1)),t}var xl=t=>{for(const r in t)if(gt(t[r]))return!0;return!1};function is(t,r={}){const a=Array.isArray(t);if(Re(t)||a)for(const s in t)Array.isArray(t[s])||Re(t[s])&&!xl(t[s])?(r[s]=Array.isArray(t[s])?[]:{},is(t[s],r[s])):Ve(t[s])||(r[s]=!0);return r}function gl(t,r,a){const s=Array.isArray(t);if(Re(t)||s)for(const l in t)Array.isArray(t[l])||Re(t[l])&&!xl(t[l])?Me(r)||ia(a[l])?a[l]=Array.isArray(t[l])?is(t[l],[]):{...is(t[l])}:gl(t[l],Ve(r)?{}:r[l],a[l]):a[l]=!Pt(t[l],r[l]);return a}var hr=(t,r)=>gl(t,r,is(r));const tn={value:!1,isValid:!1},rn={value:!0,isValid:!0};var ul=t=>{if(Array.isArray(t)){if(t.length>1){const r=t.filter(a=>a&&a.checked&&!a.disabled).map(a=>a.value);return{value:r,isValid:!!r.length}}return t[0].checked&&!t[0].disabled?t[0].attributes&&!Me(t[0].attributes.value)?Me(t[0].value)||t[0].value===""?rn:{value:t[0].value,isValid:!0}:rn:tn}return tn},hl=(t,{valueAsNumber:r,valueAsDate:a,setValueAs:s})=>Me(t)?t:r?t===""?NaN:t&&+t:a&&vt(t)?new Date(t):s?s(t):t;const sn={isValid:!1,value:null};var pl=t=>Array.isArray(t)?t.reduce((r,a)=>a&&a.checked&&!a.disabled?{isValid:!0,value:a.value}:r,sn):sn;function an(t){const r=t.ref;return Ea(r)?r.files:Sa(r)?pl(t.refs).value:ml(r)?[...r.selectedOptions].map(({value:a})=>a):Fr(r)?ul(t.refs).value:hl(Me(r.value)?t.ref.value:r.value,t)}var Qg=(t,r,a,s)=>{const l={};for(const i of t){const o=ne(r,i);o&&ke(l,i,o._f)}return{criteriaMode:a,names:[...t],fields:l,shouldUseNativeValidation:s}},os=t=>t instanceof RegExp,pr=t=>Me(t)?t:os(t)?t.source:Re(t)?os(t.value)?t.value.source:t.value:t,nn=t=>({isOnSubmit:!t||t===xt.onSubmit,isOnBlur:t===xt.onBlur,isOnChange:t===xt.onChange,isOnAll:t===xt.all,isOnTouch:t===xt.onTouched});const ln="AsyncFunction";var Jg=t=>!!t&&!!t.validate&&!!(gt(t.validate)&&t.validate.constructor.name===ln||Re(t.validate)&&Object.values(t.validate).find(r=>r.constructor.name===ln)),Kg=t=>t.mount&&(t.required||t.min||t.max||t.maxLength||t.minLength||t.pattern||t.validate),on=(t,r,a)=>!a&&(r.watchAll||r.watch.has(t)||[...r.watch].some(s=>t.startsWith(s)&&/^\.\w+/.test(t.slice(s.length))));const Nr=(t,r,a,s)=>{for(const l of a||Object.keys(t)){const i=ne(t,l);if(i){const{_f:o,...d}=i;if(o){if(o.refs&&o.refs[0]&&r(o.refs[0],l)&&!s)return!0;if(o.ref&&r(o.ref,o.name)&&!s)return!0;if(Nr(d,r))break}else if(Re(d)&&Nr(d,r))break}}};function dn(t,r,a){const s=ne(t,a);if(s||ws(a))return{error:s,name:a};const l=a.split(".");for(;l.length;){const i=l.join("."),o=ne(r,i),d=ne(t,i);if(o&&!Array.isArray(o)&&a!==i)return{name:a};if(d&&d.type)return{name:i,error:d};if(d&&d.root&&d.root.type)return{name:`${i}.root`,error:d.root};l.pop()}return{name:a}}var Xg=(t,r,a,s)=>{a(t);const{name:l,...i}=t;return ze(i)||Object.keys(i).length>=Object.keys(r).length||Object.keys(i).find(o=>r[o]===(!s||xt.all))},eu=(t,r,a)=>!t||!r||t===r||wr(t).some(s=>s&&(a?s===r:s.startsWith(r)||r.startsWith(s))),tu=(t,r,a,s,l)=>l.isOnAll?!1:!a&&l.isOnTouch?!(r||t):(a?s.isOnBlur:l.isOnBlur)?!t:(a?s.isOnChange:l.isOnChange)?t:!0,ru=(t,r)=>!Na(ne(t,r)).length&&$e(t,r),su=(t,r,a)=>{const s=wr(ne(t,a));return ke(s,"root",r[a]),ke(t,a,s),t},Kr=t=>vt(t);function cn(t,r,a="validate"){if(Kr(t)||Array.isArray(t)&&t.every(Kr)||yt(t)&&!t)return{type:a,message:Kr(t)?t:"",ref:r}}var nr=t=>Re(t)&&!os(t)?t:{value:t,message:""},mn=async(t,r,a,s,l,i)=>{const{ref:o,refs:d,required:c,maxLength:x,minLength:g,min:u,max:h,pattern:p,validate:f,name:j,valueAsNumber:m,mount:E}=t._f,b=ne(a,j);if(!E||r.has(j))return{};const v=d?d[0]:o,N=F=>{l&&v.reportValidity&&(v.setCustomValidity(yt(F)?"":F||""),v.reportValidity())},w={},C=Sa(o),k=Fr(o),M=C||k,$=(m||Ea(o))&&Me(o.value)&&Me(b)||ls(o)&&o.value===""||b===""||Array.isArray(b)&&!b.length,A=Gg.bind(null,j,s,w),I=(F,T,z,W=Nt.maxLength,Z=Nt.minLength)=>{const G=F?T:z;w[j]={type:F?W:Z,message:G,ref:o,...A(F?W:Z,G)}};if(i?!Array.isArray(b)||!b.length:c&&(!M&&($||Ve(b))||yt(b)&&!b||k&&!ul(d).isValid||C&&!pl(d).isValid)){const{value:F,message:T}=Kr(c)?{value:!!c,message:c}:nr(c);if(F&&(w[j]={type:Nt.required,message:T,ref:v,...A(Nt.required,T)},!s))return N(T),w}if(!$&&(!Ve(u)||!Ve(h))){let F,T;const z=nr(h),W=nr(u);if(!Ve(b)&&!isNaN(b)){const Z=o.valueAsNumber||b&&+b;Ve(z.value)||(F=Z>z.value),Ve(W.value)||(T=Z<W.value)}else{const Z=o.valueAsDate||new Date(b),G=J=>new Date(new Date().toDateString()+" "+J),R=o.type=="time",V=o.type=="week";vt(z.value)&&b&&(F=R?G(b)>G(z.value):V?b>z.value:Z>new Date(z.value)),vt(W.value)&&b&&(T=R?G(b)<G(W.value):V?b<W.value:Z<new Date(W.value))}if((F||T)&&(I(!!F,z.message,W.message,Nt.max,Nt.min),!s))return N(w[j].message),w}if((x||g)&&!$&&(vt(b)||i&&Array.isArray(b))){const F=nr(x),T=nr(g),z=!Ve(F.value)&&b.length>+F.value,W=!Ve(T.value)&&b.length<+T.value;if((z||W)&&(I(z,F.message,T.message),!s))return N(w[j].message),w}if(p&&!$&&vt(b)){const{value:F,message:T}=nr(p);if(os(F)&&!b.match(F)&&(w[j]={type:Nt.pattern,message:T,ref:o,...A(Nt.pattern,T)},!s))return N(T),w}if(f){if(gt(f)){const F=await f(b,a),T=cn(F,v);if(T&&(w[j]={...T,...A(Nt.validate,T.message)},!s))return N(T.message),w}else if(Re(f)){let F={};for(const T in f){if(!ze(F)&&!s)break;const z=cn(await f[T](b,a),v,T);z&&(F={...z,...A(T,z.message)},N(z.message),s&&(w[j]=F))}if(!ze(F)&&(w[j]={ref:v,...F},!s))return w}}return N(!0),w};const au={mode:xt.onSubmit,reValidateMode:xt.onChange,shouldFocusError:!0};function nu(t={}){let r={...au,...t},a={submitCount:0,isDirty:!1,isReady:!1,isLoading:gt(r.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:r.errors||{},disabled:r.disabled||!1};const s={};let l=Re(r.defaultValues)||Re(r.values)?Ie(r.defaultValues||r.values)||{}:{},i=r.shouldUnregister?{}:Ie(l),o={action:!1,mount:!1,watch:!1},d={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},c,x=0;const g={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let u={...g};const h={array:en(),state:en()},p=r.criteriaMode===xt.all,f=S=>P=>{clearTimeout(x),x=setTimeout(S,P)},j=async S=>{if(!r.disabled&&(g.isValid||u.isValid||S)){const P=r.resolver?ze((await k()).errors):await $(s,!0);P!==a.isValid&&h.state.next({isValid:P})}},m=(S,P)=>{!r.disabled&&(g.isValidating||g.validatingFields||u.isValidating||u.validatingFields)&&((S||Array.from(d.mount)).forEach(U=>{U&&(P?ke(a.validatingFields,U,P):$e(a.validatingFields,U))}),h.state.next({validatingFields:a.validatingFields,isValidating:!ze(a.validatingFields)}))},E=(S,P=[],U,re,ee=!0,X=!0)=>{if(re&&U&&!r.disabled){if(o.action=!0,X&&Array.isArray(ne(s,S))){const ie=U(ne(s,S),re.argA,re.argB);ee&&ke(s,S,ie)}if(X&&Array.isArray(ne(a.errors,S))){const ie=U(ne(a.errors,S),re.argA,re.argB);ee&&ke(a.errors,S,ie),ru(a.errors,S)}if((g.touchedFields||u.touchedFields)&&X&&Array.isArray(ne(a.touchedFields,S))){const ie=U(ne(a.touchedFields,S),re.argA,re.argB);ee&&ke(a.touchedFields,S,ie)}(g.dirtyFields||u.dirtyFields)&&(a.dirtyFields=hr(l,i)),h.state.next({name:S,isDirty:I(S,P),dirtyFields:a.dirtyFields,errors:a.errors,isValid:a.isValid})}else ke(i,S,P)},b=(S,P)=>{ke(a.errors,S,P),h.state.next({errors:a.errors})},v=S=>{a.errors=S,h.state.next({errors:a.errors,isValid:!1})},N=(S,P,U,re)=>{const ee=ne(s,S);if(ee){const X=ne(i,S,Me(U)?ne(l,S):U);Me(X)||re&&re.defaultChecked||P?ke(i,S,P?X:an(ee._f)):z(S,X),o.mount&&j()}},w=(S,P,U,re,ee)=>{let X=!1,ie=!1;const ve={name:S};if(!r.disabled){if(!U||re){(g.isDirty||u.isDirty)&&(ie=a.isDirty,a.isDirty=ve.isDirty=I(),X=ie!==ve.isDirty);const we=Pt(ne(l,S),P);ie=!!ne(a.dirtyFields,S),we?$e(a.dirtyFields,S):ke(a.dirtyFields,S,!0),ve.dirtyFields=a.dirtyFields,X=X||(g.dirtyFields||u.dirtyFields)&&ie!==!we}if(U){const we=ne(a.touchedFields,S);we||(ke(a.touchedFields,S,U),ve.touchedFields=a.touchedFields,X=X||(g.touchedFields||u.touchedFields)&&we!==U)}X&&ee&&h.state.next(ve)}return X?ve:{}},C=(S,P,U,re)=>{const ee=ne(a.errors,S),X=(g.isValid||u.isValid)&&yt(P)&&a.isValid!==P;if(r.delayError&&U?(c=f(()=>b(S,U)),c(r.delayError)):(clearTimeout(x),c=null,U?ke(a.errors,S,U):$e(a.errors,S)),(U?!Pt(ee,U):ee)||!ze(re)||X){const ie={...re,...X&&yt(P)?{isValid:P}:{},errors:a.errors,name:S};a={...a,...ie},h.state.next(ie)}},k=async S=>{m(S,!0);const P=await r.resolver(i,r.context,Qg(S||d.mount,s,r.criteriaMode,r.shouldUseNativeValidation));return m(S),P},M=async S=>{const{errors:P}=await k(S);if(S)for(const U of S){const re=ne(P,U);re?ke(a.errors,U,re):$e(a.errors,U)}else a.errors=P;return P},$=async(S,P,U={valid:!0})=>{for(const re in S){const ee=S[re];if(ee){const{_f:X,...ie}=ee;if(X){const ve=d.array.has(X.name),we=ee._f&&Jg(ee._f);we&&g.validatingFields&&m([re],!0);const tt=await mn(ee,d.disabled,i,p,r.shouldUseNativeValidation&&!P,ve);if(we&&g.validatingFields&&m([re]),tt[X.name]&&(U.valid=!1,P))break;!P&&(ne(tt,X.name)?ve?su(a.errors,tt,X.name):ke(a.errors,X.name,tt[X.name]):$e(a.errors,X.name))}!ze(ie)&&await $(ie,P,U)}}return U.valid},A=()=>{for(const S of d.unMount){const P=ne(s,S);P&&(P._f.refs?P._f.refs.every(U=>!Vs(U)):!Vs(P._f.ref))&&oe(S)}d.unMount=new Set},I=(S,P)=>!r.disabled&&(S&&P&&ke(i,S,P),!Pt(J(),l)),F=(S,P,U)=>Hg(S,d,{...o.mount?i:Me(P)?l:vt(S)?{[S]:P}:P},U,P),T=S=>Na(ne(o.mount?i:l,S,r.shouldUnregister?ne(l,S,[]):[])),z=(S,P,U={})=>{const re=ne(s,S);let ee=P;if(re){const X=re._f;X&&(!X.disabled&&ke(i,S,hl(P,X)),ee=ls(X.ref)&&Ve(P)?"":P,ml(X.ref)?[...X.ref.options].forEach(ie=>ie.selected=ee.includes(ie.value)):X.refs?Fr(X.ref)?X.refs.forEach(ie=>{(!ie.defaultChecked||!ie.disabled)&&(Array.isArray(ee)?ie.checked=!!ee.find(ve=>ve===ie.value):ie.checked=ee===ie.value||!!ee)}):X.refs.forEach(ie=>ie.checked=ie.value===ee):Ea(X.ref)?X.ref.value="":(X.ref.value=ee,X.ref.type||h.state.next({name:S,values:Ie(i)})))}(U.shouldDirty||U.shouldTouch)&&w(S,ee,U.shouldTouch,U.shouldDirty,!0),U.shouldValidate&&V(S)},W=(S,P,U)=>{for(const re in P){if(!P.hasOwnProperty(re))return;const ee=P[re],X=S+"."+re,ie=ne(s,X);(d.array.has(S)||Re(ee)||ie&&!ie._f)&&!Yt(ee)?W(X,ee,U):z(X,ee,U)}},Z=(S,P,U={})=>{const re=ne(s,S),ee=d.array.has(S),X=Ie(P);ke(i,S,X),ee?(h.array.next({name:S,values:Ie(i)}),(g.isDirty||g.dirtyFields||u.isDirty||u.dirtyFields)&&U.shouldDirty&&h.state.next({name:S,dirtyFields:hr(l,i),isDirty:I(S,X)})):re&&!re._f&&!Ve(X)?W(S,X,U):z(S,X,U),on(S,d)&&h.state.next({...a}),h.state.next({name:o.mount?S:void 0,values:Ie(i)})},G=async S=>{o.mount=!0;const P=S.target;let U=P.name,re=!0;const ee=ne(s,U),X=we=>{re=Number.isNaN(we)||Yt(we)&&isNaN(we.getTime())||Pt(we,ne(i,U,we))},ie=nn(r.mode),ve=nn(r.reValidateMode);if(ee){let we,tt;const Or=P.type?an(ee._f):Ig(S),Dt=S.type===Xa.BLUR||S.type===Xa.FOCUS_OUT,Jl=!Kg(ee._f)&&!r.resolver&&!ne(a.errors,U)&&!ee._f.deps||tu(Dt,ne(a.touchedFields,U),a.isSubmitted,ve,ie),Es=on(U,d,Dt);ke(i,U,Or),Dt?(ee._f.onBlur&&ee._f.onBlur(S),c&&c(0)):ee._f.onChange&&ee._f.onChange(S);const Ss=w(U,Or,Dt),Kl=!ze(Ss)||Es;if(!Dt&&h.state.next({name:U,type:S.type,values:Ie(i)}),Jl)return(g.isValid||u.isValid)&&(r.mode==="onBlur"?Dt&&j():Dt||j()),Kl&&h.state.next({name:U,...Es?{}:Ss});if(!Dt&&Es&&h.state.next({...a}),r.resolver){const{errors:$a}=await k([U]);if(X(Or),re){const Xl=dn(a.errors,s,U),Da=dn($a,s,Xl.name||U);we=Da.error,U=Da.name,tt=ze($a)}}else m([U],!0),we=(await mn(ee,d.disabled,i,p,r.shouldUseNativeValidation))[U],m([U]),X(Or),re&&(we?tt=!1:(g.isValid||u.isValid)&&(tt=await $(s,!0)));re&&(ee._f.deps&&V(ee._f.deps),C(U,tt,we,Ss))}},R=(S,P)=>{if(ne(a.errors,P)&&S.focus)return S.focus(),1},V=async(S,P={})=>{let U,re;const ee=wr(S);if(r.resolver){const X=await M(Me(S)?S:ee);U=ze(X),re=S?!ee.some(ie=>ne(X,ie)):U}else S?(re=(await Promise.all(ee.map(async X=>{const ie=ne(s,X);return await $(ie&&ie._f?{[X]:ie}:ie)}))).every(Boolean),!(!re&&!a.isValid)&&j()):re=U=await $(s);return h.state.next({...!vt(S)||(g.isValid||u.isValid)&&U!==a.isValid?{}:{name:S},...r.resolver||!S?{isValid:U}:{},errors:a.errors}),P.shouldFocus&&!re&&Nr(s,R,S?ee:d.mount),re},J=S=>{const P={...o.mount?i:l};return Me(S)?P:vt(S)?ne(P,S):S.map(U=>ne(P,U))},L=(S,P)=>({invalid:!!ne((P||a).errors,S),isDirty:!!ne((P||a).dirtyFields,S),error:ne((P||a).errors,S),isValidating:!!ne(a.validatingFields,S),isTouched:!!ne((P||a).touchedFields,S)}),q=S=>{S&&wr(S).forEach(P=>$e(a.errors,P)),h.state.next({errors:S?a.errors:{}})},D=(S,P,U)=>{const re=(ne(s,S,{_f:{}})._f||{}).ref,ee=ne(a.errors,S)||{},{ref:X,message:ie,type:ve,...we}=ee;ke(a.errors,S,{...we,...P,ref:re}),h.state.next({name:S,errors:a.errors,isValid:!1}),U&&U.shouldFocus&&re&&re.focus&&re.focus()},B=(S,P)=>gt(S)?h.state.subscribe({next:U=>S(F(void 0,P),U)}):F(S,P,!0),K=S=>h.state.subscribe({next:P=>{eu(S.name,P.name,S.exact)&&Xg(P,S.formState||g,se,S.reRenderRoot)&&S.callback({values:{...i},...a,...P})}}).unsubscribe,le=S=>(o.mount=!0,u={...u,...S.formState},K({...S,formState:u})),oe=(S,P={})=>{for(const U of S?wr(S):d.mount)d.mount.delete(U),d.array.delete(U),P.keepValue||($e(s,U),$e(i,U)),!P.keepError&&$e(a.errors,U),!P.keepDirty&&$e(a.dirtyFields,U),!P.keepTouched&&$e(a.touchedFields,U),!P.keepIsValidating&&$e(a.validatingFields,U),!r.shouldUnregister&&!P.keepDefaultValue&&$e(l,U);h.state.next({values:Ie(i)}),h.state.next({...a,...P.keepDirty?{isDirty:I()}:{}}),!P.keepIsValid&&j()},Q=({disabled:S,name:P})=>{(yt(S)&&o.mount||S||d.disabled.has(P))&&(S?d.disabled.add(P):d.disabled.delete(P))},be=(S,P={})=>{let U=ne(s,S);const re=yt(P.disabled)||yt(r.disabled);return ke(s,S,{...U||{},_f:{...U&&U._f?U._f:{ref:{name:S}},name:S,mount:!0,...P}}),d.mount.add(S),U?Q({disabled:yt(P.disabled)?P.disabled:r.disabled,name:S}):N(S,!0,P.value),{...re?{disabled:P.disabled||r.disabled}:{},...r.progressive?{required:!!P.required,min:pr(P.min),max:pr(P.max),minLength:pr(P.minLength),maxLength:pr(P.maxLength),pattern:pr(P.pattern)}:{},name:S,onChange:G,onBlur:G,ref:ee=>{if(ee){be(S,P),U=ne(s,S);const X=Me(ee.value)&&ee.querySelectorAll&&ee.querySelectorAll("input,select,textarea")[0]||ee,ie=Wg(X),ve=U._f.refs||[];if(ie?ve.find(we=>we===X):X===U._f.ref)return;ke(s,S,{_f:{...U._f,...ie?{refs:[...ve.filter(Vs),X,...Array.isArray(ne(l,S))?[{}]:[]],ref:{type:X.type,name:S}}:{ref:X}}}),N(S,!1,void 0,X)}else U=ne(s,S,{}),U._f&&(U._f.mount=!1),(r.shouldUnregister||P.shouldUnregister)&&!(qg(d.array,S)&&o.action)&&d.unMount.add(S)}}},je=()=>r.shouldFocusError&&Nr(s,R,d.mount),de=S=>{yt(S)&&(h.state.next({disabled:S}),Nr(s,(P,U)=>{const re=ne(s,U);re&&(P.disabled=re._f.disabled||S,Array.isArray(re._f.refs)&&re._f.refs.forEach(ee=>{ee.disabled=re._f.disabled||S}))},0,!1))},xe=(S,P)=>async U=>{let re;U&&(U.preventDefault&&U.preventDefault(),U.persist&&U.persist());let ee=Ie(i);if(h.state.next({isSubmitting:!0}),r.resolver){const{errors:X,values:ie}=await k();a.errors=X,ee=ie}else await $(s);if(d.disabled.size)for(const X of d.disabled)ke(ee,X,void 0);if($e(a.errors,"root"),ze(a.errors)){h.state.next({errors:{}});try{await S(ee,U)}catch(X){re=X}}else P&&await P({...a.errors},U),je(),setTimeout(je);if(h.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:ze(a.errors)&&!re,submitCount:a.submitCount+1,errors:a.errors}),re)throw re},ye=(S,P={})=>{ne(s,S)&&(Me(P.defaultValue)?Z(S,Ie(ne(l,S))):(Z(S,P.defaultValue),ke(l,S,Ie(P.defaultValue))),P.keepTouched||$e(a.touchedFields,S),P.keepDirty||($e(a.dirtyFields,S),a.isDirty=P.defaultValue?I(S,Ie(ne(l,S))):I()),P.keepError||($e(a.errors,S),g.isValid&&j()),h.state.next({...a}))},qe=(S,P={})=>{const U=S?Ie(S):l,re=Ie(U),ee=ze(S),X=ee?l:re;if(P.keepDefaultValues||(l=U),!P.keepValues){if(P.keepDirtyValues){const ie=new Set([...d.mount,...Object.keys(hr(l,i))]);for(const ve of Array.from(ie))ne(a.dirtyFields,ve)?ke(X,ve,ne(i,ve)):Z(ve,ne(X,ve))}else{if(wa&&Me(S))for(const ie of d.mount){const ve=ne(s,ie);if(ve&&ve._f){const we=Array.isArray(ve._f.refs)?ve._f.refs[0]:ve._f.ref;if(ls(we)){const tt=we.closest("form");if(tt){tt.reset();break}}}}for(const ie of d.mount)Z(ie,ne(X,ie))}i=Ie(X),h.array.next({values:{...X}}),h.state.next({values:{...X}})}d={mount:P.keepDirtyValues?d.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},o.mount=!g.isValid||!!P.keepIsValid||!!P.keepDirtyValues,o.watch=!!r.shouldUnregister,h.state.next({submitCount:P.keepSubmitCount?a.submitCount:0,isDirty:ee?!1:P.keepDirty?a.isDirty:!!(P.keepDefaultValues&&!Pt(S,l)),isSubmitted:P.keepIsSubmitted?a.isSubmitted:!1,dirtyFields:ee?{}:P.keepDirtyValues?P.keepDefaultValues&&i?hr(l,i):a.dirtyFields:P.keepDefaultValues&&S?hr(l,S):P.keepDirty?a.dirtyFields:{},touchedFields:P.keepTouched?a.touchedFields:{},errors:P.keepErrors?a.errors:{},isSubmitSuccessful:P.keepIsSubmitSuccessful?a.isSubmitSuccessful:!1,isSubmitting:!1})},ft=(S,P)=>qe(gt(S)?S(i):S,P),Y=(S,P={})=>{const U=ne(s,S),re=U&&U._f;if(re){const ee=re.refs?re.refs[0]:re.ref;ee.focus&&(ee.focus(),P.shouldSelect&&gt(ee.select)&&ee.select())}},se=S=>{a={...a,...S}},me={control:{register:be,unregister:oe,getFieldState:L,handleSubmit:xe,setError:D,_subscribe:K,_runSchema:k,_focusError:je,_getWatch:F,_getDirty:I,_setValid:j,_setFieldArray:E,_setDisabledField:Q,_setErrors:v,_getFieldArray:T,_reset:qe,_resetDefaultValues:()=>gt(r.defaultValues)&&r.defaultValues().then(S=>{ft(S,r.resetOptions),h.state.next({isLoading:!1})}),_removeUnmounted:A,_disableForm:de,_subjects:h,_proxyFormState:g,get _fields(){return s},get _formValues(){return i},get _state(){return o},set _state(S){o=S},get _defaultValues(){return l},get _names(){return d},set _names(S){d=S},get _formState(){return a},get _options(){return r},set _options(S){r={...r,...S}}},subscribe:le,trigger:V,register:be,handleSubmit:xe,watch:B,setValue:Z,getValues:J,reset:ft,resetField:ye,clearErrors:q,unregister:oe,setError:D,setFocus:Y,getFieldState:L};return{...me,formControl:me}}function rr(t={}){const r=te.useRef(void 0),a=te.useRef(void 0),[s,l]=te.useState({isDirty:!1,isValidating:!1,isLoading:gt(t.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1,isReady:!1,defaultValues:gt(t.defaultValues)?void 0:t.defaultValues});if(!r.current)if(t.formControl)r.current={...t.formControl,formState:s},t.defaultValues&&!gt(t.defaultValues)&&t.formControl.reset(t.defaultValues,t.resetOptions);else{const{formControl:o,...d}=nu(t);r.current={...d,formState:s}}const i=r.current.control;return i._options=t,Ug(()=>{const o=i._subscribe({formState:i._proxyFormState,callback:()=>l({...i._formState}),reRenderRoot:!0});return l(d=>({...d,isReady:!0})),i._formState.isReady=!0,o},[i]),te.useEffect(()=>i._disableForm(t.disabled),[i,t.disabled]),te.useEffect(()=>{t.mode&&(i._options.mode=t.mode),t.reValidateMode&&(i._options.reValidateMode=t.reValidateMode)},[i,t.mode,t.reValidateMode]),te.useEffect(()=>{t.errors&&(i._setErrors(t.errors),i._focusError())},[i,t.errors]),te.useEffect(()=>{t.shouldUnregister&&i._subjects.state.next({values:i._getWatch()})},[i,t.shouldUnregister]),te.useEffect(()=>{if(i._proxyFormState.isDirty){const o=i._getDirty();o!==s.isDirty&&i._subjects.state.next({isDirty:o})}},[i,s.isDirty]),te.useEffect(()=>{t.values&&!Pt(t.values,a.current)?(i._reset(t.values,i._options.resetOptions),a.current=t.values,l(o=>({...o}))):i._resetDefaultValues()},[i,t.values]),te.useEffect(()=>{i._state.mount||(i._setValid(),i._state.mount=!0),i._state.watch&&(i._state.watch=!1,i._subjects.state.next({...i._formState})),i._removeUnmounted()}),r.current.formState=zg(s,i),r.current}function lu(t={}){const{nonce:r,onScriptLoadSuccess:a,onScriptLoadError:s}=t,[l,i]=n.useState(!1),o=n.useRef(a);o.current=a;const d=n.useRef(s);return d.current=s,n.useEffect(()=>{const c=document.createElement("script");return c.src="https://accounts.google.com/gsi/client",c.async=!0,c.defer=!0,c.nonce=r,c.onload=()=>{var x;i(!0),(x=o.current)===null||x===void 0||x.call(o)},c.onerror=()=>{var x;i(!1),(x=d.current)===null||x===void 0||x.call(d)},document.body.appendChild(c),()=>{document.body.removeChild(c)}},[r]),l}const fl=n.createContext(null);function iu({clientId:t,nonce:r,onScriptLoadSuccess:a,onScriptLoadError:s,children:l}){const i=lu({nonce:r,onScriptLoadSuccess:a,onScriptLoadError:s}),o=n.useMemo(()=>({clientId:t,scriptLoadedSuccessfully:i}),[t,i]);return te.createElement(fl.Provider,{value:o},l)}function ou(){const t=n.useContext(fl);if(!t)throw new Error("Google OAuth components must be used within GoogleOAuthProvider");return t}function du(t){var r;return(r=t==null?void 0:t.clientId)!==null&&r!==void 0?r:t==null?void 0:t.client_id}const cu={large:40,medium:32,small:20};function mu({onSuccess:t,onError:r,useOneTap:a,promptMomentNotification:s,type:l="standard",theme:i="outline",size:o="large",text:d,shape:c,logo_alignment:x,width:g,locale:u,click_listener:h,containerProps:p,...f}){const j=n.useRef(null),{clientId:m,scriptLoadedSuccessfully:E}=ou(),b=n.useRef(t);b.current=t;const v=n.useRef(r);v.current=r;const N=n.useRef(s);return N.current=s,n.useEffect(()=>{var w,C,k,M,$,A,I,F,T;if(E)return(k=(C=(w=window==null?void 0:window.google)===null||w===void 0?void 0:w.accounts)===null||C===void 0?void 0:C.id)===null||k===void 0||k.initialize({client_id:m,callback:z=>{var W;if(!(z!=null&&z.credential))return(W=v.current)===null||W===void 0?void 0:W.call(v);const{credential:Z,select_by:G}=z;b.current({credential:Z,clientId:du(z),select_by:G})},...f}),(A=($=(M=window==null?void 0:window.google)===null||M===void 0?void 0:M.accounts)===null||$===void 0?void 0:$.id)===null||A===void 0||A.renderButton(j.current,{type:l,theme:i,size:o,text:d,shape:c,logo_alignment:x,width:g,locale:u,click_listener:h}),a&&((T=(F=(I=window==null?void 0:window.google)===null||I===void 0?void 0:I.accounts)===null||F===void 0?void 0:F.id)===null||T===void 0||T.prompt(N.current)),()=>{var z,W,Z;a&&((Z=(W=(z=window==null?void 0:window.google)===null||z===void 0?void 0:z.accounts)===null||W===void 0?void 0:W.id)===null||Z===void 0||Z.cancel())}},[m,E,a,l,i,o,d,c,x,g,u]),te.createElement("div",{...p,ref:j,style:{height:cu[o],...p==null?void 0:p.style}})}const Ca=({className:t="",onSuccess:r})=>{const{loginWithGoogle:a}=ge(),s=Ce(),l=async o=>{try{(await a(o.credential)).success&&(r&&r(),s("/dashboard"))}catch(d){console.error("Google login error:",d)}},i=()=>{console.error("Google login failed")};return e.jsx("div",{className:t,children:e.jsx(mu,{onSuccess:l,onError:i,theme:"outline",size:"large",width:"100%",text:"continue_with"})})},xu=({isOpen:t,onClose:r,type:a})=>{const[s,l]=n.useState(a||"login"),[i,o]=n.useState(!1),{login:d,register:c}=ge(),x=Ce(),{register:g,handleSubmit:u,watch:h,reset:p,formState:{errors:f,isSubmitting:j}}=rr(),m=h("password");n.useEffect(()=>{a&&l(a)},[a]),n.useEffect(()=>{t&&p()},[t,s,p]);const E=async v=>{try{let N;if(s==="register"){const{confirmPassword:w,...C}=v;C.role=C.role||"dog_owner",N=await c(C)}else N=await d(v);N.success&&(r(),x("/dashboard"))}catch(N){console.error("Auth error:",N)}},b=()=>{l(v=>v==="login"?"register":"login"),p()};return e.jsx(Pe,{appear:!0,show:t,as:n.Fragment,children:e.jsxs(Je,{as:"div",className:"relative z-50",onClose:r,children:[e.jsx(Pe.Child,{as:n.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 backdrop-blur-sm"})}),e.jsx("div",{className:"fixed inset-0 overflow-y-auto",children:e.jsx("div",{className:"flex min-h-full items-center justify-center p-4 text-center",children:e.jsx(Pe.Child,{as:n.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0 scale-95",enterTo:"opacity-100 scale-100",leave:"ease-in duration-200",leaveFrom:"opacity-100 scale-100",leaveTo:"opacity-0 scale-95",children:e.jsxs(Je.Panel,{className:"w-full max-w-lg transform overflow-hidden rounded-2xl bg-white shadow-xl transition-all",children:[e.jsx("div",{className:"bg-gradient-to-r from-purple-600 to-indigo-600 text-white p-6",children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"bg-white/20 rounded-lg p-2",children:s==="login"?e.jsx(lr,{className:"h-6 w-6"}):e.jsx(er,{className:"h-6 w-6"})}),e.jsxs("div",{children:[e.jsx(Je.Title,{as:"h3",className:"text-xl font-bold",children:s==="login"?"Welcome Back! ":"Join Our Community! "}),e.jsx("p",{className:"text-purple-100 text-sm",children:s==="login"?"Sign in to access your account":"Create your account and start connecting"})]})]}),e.jsx("button",{type:"button",className:"text-white/80 hover:text-white transition-colors",onClick:r,children:e.jsx(pe,{className:"h-6 w-6"})})]})}),e.jsxs("div",{className:"p-6",children:[e.jsxs("form",{onSubmit:u(E),className:"space-y-5",children:[s==="register"&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"firstName",className:"block text-sm font-medium text-gray-700 mb-2",children:" First Name"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{...g("firstName",{required:"First name is required"}),type:"text",className:"w-full rounded-xl border border-gray-200 bg-gray-50 px-4 py-3 pl-12 text-base focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-purple-500 focus:bg-white transition-all duration-200",placeholder:"First name"}),e.jsx(Rt,{className:"h-5 w-5 text-gray-400 absolute left-4 top-1/2 transform -translate-y-1/2"})]}),f.firstName&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:f.firstName.message})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"lastName",className:"block text-sm font-medium text-gray-700 mb-2",children:" Last Name"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{...g("lastName",{required:"Last name is required"}),type:"text",className:"w-full rounded-xl border border-gray-200 bg-gray-50 px-4 py-3 pl-12 text-base focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-purple-500 focus:bg-white transition-all duration-200",placeholder:"Last name"}),e.jsx(Rt,{className:"h-5 w-5 text-gray-400 absolute left-4 top-1/2 transform -translate-y-1/2"})]}),f.lastName&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:f.lastName.message})]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"username",className:"block text-sm font-medium text-gray-700 mb-2",children:" Username"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{...g("username",{required:"Username is required",minLength:{value:3,message:"Username must be at least 3 characters"}}),type:"text",className:"w-full rounded-xl border border-gray-200 bg-gray-50 px-4 py-3 pl-12 text-base focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-purple-500 focus:bg-white transition-all duration-200",placeholder:"Choose a username"}),e.jsx(Rt,{className:"h-5 w-5 text-gray-400 absolute left-4 top-1/2 transform -translate-y-1/2"})]}),f.username&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:f.username.message})]}),e.jsxs("div",{children:[e.jsxs("label",{htmlFor:"phone",className:"block text-sm font-medium text-gray-700 mb-2",children:[" Phone ",e.jsx("span",{className:"text-gray-400",children:"(optional)"})]}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{...g("phone"),type:"tel",className:"w-full rounded-xl border border-gray-200 bg-gray-50 px-4 py-3 pl-12 text-base focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-purple-500 focus:bg-white transition-all duration-200",placeholder:"Phone number"}),e.jsx(Tr,{className:"h-5 w-5 text-gray-400 absolute left-4 top-1/2 transform -translate-y-1/2"})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-2",children:" Email Address"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{...g("email",{required:"Email is required",pattern:{value:/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,}$/i,message:"Invalid email address"}}),type:"email",className:"w-full rounded-xl border border-gray-200 bg-gray-50 px-4 py-3 pl-12 text-base focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-purple-500 focus:bg-white transition-all duration-200",placeholder:"Enter your email"}),e.jsx(Kt,{className:"h-5 w-5 text-gray-400 absolute left-4 top-1/2 transform -translate-y-1/2"})]}),f.email&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:f.email.message})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-2",children:" Password"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{...g("password",{required:"Password is required",minLength:{value:6,message:"Password must be at least 6 characters"}}),type:i?"text":"password",className:"w-full rounded-xl border border-gray-200 bg-gray-50 px-4 py-3 pl-12 pr-12 text-base focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-purple-500 focus:bg-white transition-all duration-200",placeholder:"Enter your password"}),e.jsx(Vt,{className:"h-5 w-5 text-gray-400 absolute left-4 top-1/2 transform -translate-y-1/2"}),e.jsx("button",{type:"button",className:"absolute right-4 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",onClick:()=>o(!i),children:i?e.jsx(Kn,{className:"h-5 w-5"}):e.jsx(Ke,{className:"h-5 w-5"})})]}),f.password&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:f.password.message})]}),s==="register"&&e.jsxs("div",{children:[e.jsx("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-gray-700 mb-2",children:" Confirm Password"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{...g("confirmPassword",{required:"Please confirm your password",validate:v=>v===m||"Passwords do not match"}),type:"password",className:"w-full rounded-xl border border-gray-200 bg-gray-50 px-4 py-3 pl-12 text-base focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-purple-500 focus:bg-white transition-all duration-200",placeholder:"Confirm your password"}),e.jsx(Vt,{className:"h-5 w-5 text-gray-400 absolute left-4 top-1/2 transform -translate-y-1/2"})]}),f.confirmPassword&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:f.confirmPassword.message})]}),e.jsx("button",{type:"submit",disabled:j,className:"w-full flex items-center justify-center py-3 px-4 bg-gradient-to-r from-purple-600 to-indigo-600 text-white font-medium rounded-xl hover:from-purple-700 hover:to-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-purple-500 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200 transform hover:scale-105",children:j?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white mr-2"}),s==="login"?"Signing in...":"Creating account..."]}):e.jsx(e.Fragment,{children:s==="login"?e.jsxs(e.Fragment,{children:[e.jsx(lr,{className:"h-5 w-5 mr-2"}),"Sign In"]}):e.jsxs(e.Fragment,{children:[e.jsx(De,{className:"h-5 w-5 mr-2"}),"Create Account"]})})})]}),e.jsxs("div",{className:"mt-6",children:[e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-0 flex items-center",children:e.jsx("div",{className:"w-full border-t border-gray-300"})}),e.jsx("div",{className:"relative flex justify-center text-sm",children:e.jsx("span",{className:"px-2 bg-white text-gray-500",children:"Or continue with"})})]}),e.jsx("div",{className:"mt-6",children:e.jsx(Ca,{onSuccess:r})})]}),e.jsx("div",{className:"mt-6 text-center",children:e.jsxs("p",{className:"text-gray-600",children:[s==="login"?"Don't have an account?":"Already have an account?"," ",e.jsx("button",{type:"button",onClick:b,className:"font-medium text-purple-600 hover:text-purple-500 transition-colors duration-200",children:s==="login"?"Create a new account":"Sign in to existing account"})]})})]})]})})})})]})})},gu=()=>{const[t,r]=n.useState("en"),[a,s]=n.useState(!1),[l,i]=n.useState("login"),{isAuthenticated:o}=ge(),d=Ce();n.useEffect(()=>{o&&d("/dashboard")},[o,d]);const c=()=>{r(h=>h==="en"?"he":"en")},x=h=>{i(h),s(!0)},g=()=>{s(!1)},u=(h,p)=>t==="he"?p:h;return e.jsxs("div",{className:`min-h-screen bg-white ${t==="he"?"rtl":""}`,dir:t==="he"?"rtl":"ltr",children:[e.jsx("header",{className:"fixed top-0 w-full bg-white/90 backdrop-blur-md border-b border-gray-100 z-50",children:e.jsxs("nav",{className:"max-w-6xl mx-auto flex justify-between items-center px-6 py-4",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-10 h-10 bg-gradient-to-r from-green-500 to-emerald-600 rounded-full flex items-center justify-center",children:e.jsx(Fe,{className:"h-5 w-5 text-white"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-lg font-semibold text-gray-900",children:u("PawPals","PawPals")}),e.jsx("p",{className:"text-xs text-gray-500 -mt-0.5",children:u("Community","Community")})]})]}),e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("button",{onClick:c,className:"text-sm text-gray-600 hover:text-gray-900 px-3 py-2 rounded-lg hover:bg-gray-50 transition-colors",children:t==="he"?"English":""}),e.jsx("button",{onClick:()=>x("login"),className:"text-sm text-gray-600 hover:text-gray-900 px-4 py-2 rounded-lg hover:bg-gray-50 transition-colors",children:u("Sign In","")}),e.jsx("button",{onClick:()=>x("register"),className:"text-sm bg-green-500 text-white px-4 py-2 rounded-lg hover:bg-green-600 transition-colors",children:u("Join","")})]})]})}),e.jsx("section",{className:"pt-24 pb-16 px-6",children:e.jsx("div",{className:"max-w-6xl mx-auto",children:e.jsxs("div",{className:"grid md:grid-cols-2 gap-12 items-center",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"inline-flex items-center gap-2 bg-green-50 text-green-700 px-4 py-2 rounded-full text-sm font-medium mb-6",children:[e.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full animate-pulse"}),u("500+ dog owners already joined"," 500+   ")]}),e.jsx("h1",{className:"text-4xl md:text-5xl font-semibold text-gray-900 mb-6 leading-tight",children:u("Find the perfect dog park for your furry friend","        ")}),e.jsx("p",{className:"text-lg text-gray-600 mb-8 leading-relaxed",children:u("Connect with local dog owners, discover safe parks, and make sure your dog gets the exercise and socialization they need.","    ,            .")}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 mb-8",children:[e.jsxs("button",{onClick:()=>x("register"),className:"bg-green-500 text-white px-8 py-3 rounded-lg font-medium hover:bg-green-600 transition-colors inline-flex items-center justify-center gap-2",children:[u("Get Started Free"," "),e.jsx(lr,{className:"h-4 w-4"})]}),e.jsxs(ce,{to:"/gardens",className:"text-gray-700 border border-gray-300 px-8 py-3 rounded-lg font-medium hover:bg-gray-50 transition-colors inline-flex items-center justify-center gap-2",children:[e.jsx(fe,{className:"h-4 w-4"}),u("Browse Parks"," ")]})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-8 max-w-sm",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-2xl font-semibold text-gray-900",children:"49"}),e.jsx("div",{className:"text-sm text-gray-600",children:u("Parks","")})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-2xl font-semibold text-gray-900",children:"500+"}),e.jsx("div",{className:"text-sm text-gray-600",children:u("Members","")})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-2xl font-semibold text-gray-900",children:"1.2K+"}),e.jsx("div",{className:"text-sm text-gray-600",children:u("Dogs","")})]})]})]}),e.jsx("div",{className:"relative",children:e.jsxs("div",{className:"relative rounded-2xl overflow-hidden shadow-2xl",children:[e.jsx("img",{src:"https://images.unsplash.com/photo-1601758228041-f3b2795255f1?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1000&q=80",alt:"Happy dogs playing in park",className:"w-full h-[500px] object-cover"}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/20 to-transparent"}),e.jsx("div",{className:"absolute top-6 left-6 bg-white/95 backdrop-blur-sm rounded-lg p-3 shadow-lg",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-8 h-8 bg-green-500 rounded-full flex items-center justify-center",children:e.jsx(At,{className:"h-4 w-4 text-white"})}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-medium text-gray-900",children:u("3 dogs playing now","3   ")}),e.jsx("div",{className:"text-xs text-gray-600",children:u("Yarkon Park"," ")})]})]})}),e.jsx("div",{className:"absolute bottom-6 right-6 bg-white/95 backdrop-blur-sm rounded-lg p-3 shadow-lg",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-8 h-8 bg-yellow-500 rounded-full flex items-center justify-center",children:e.jsx(Xe,{className:"h-4 w-4 text-white"})}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-medium text-gray-900",children:"4.8/5"}),e.jsx("div",{className:"text-xs text-gray-600",children:u("Average rating"," ")})]})]})})]})})]})})}),e.jsxs("section",{className:"py-16 bg-gray-50 relative overflow-hidden",children:[e.jsx("div",{className:"absolute inset-0",children:e.jsx("img",{src:"https://images.unsplash.com/photo-1568572933382-74d440642117?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=2000&q=80",alt:"Dog park landscape",className:"w-full h-full object-cover opacity-5"})}),e.jsxs("div",{className:"max-w-5xl mx-auto px-6 relative z-10",children:[e.jsxs("div",{className:"text-center mb-12",children:[e.jsx("h2",{className:"text-3xl font-semibold text-gray-900 mb-4",children:u("Everything you need","   ")}),e.jsx("p",{className:"text-lg text-gray-600 max-w-2xl mx-auto",children:u("Simple tools to help you and your dog make the most of your local dog parks","           ")})]}),e.jsx("div",{className:"grid md:grid-cols-3 gap-8",children:[{icon:At,image:"https://images.unsplash.com/photo-1544568100-847a948585b9?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=800&q=80",title:u("See who's there","  "),description:u("Check real-time activity before you go. See which dogs are there and plan the perfect playdate.","      .        .")},{icon:at,image:"https://images.unsplash.com/photo-1558788353-f76d92427f16?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=800&q=80",title:u("Connect with neighbors","  "),description:u("Chat with other dog owners in your area. Share tips and arrange playdates.","'     .     .")},{icon:Xe,image:"https://images.unsplash.com/photo-1583512603805-3cc6b41f3edb?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=800&q=80",title:u("Reviews and ratings"," "),description:u("Read honest reviews from other dog owners about cleanliness, safety, and facilities.","       ,  .")}].map((h,p)=>e.jsxs("div",{className:"bg-white p-6 rounded-xl border border-gray-200 hover:border-green-300 transition-all duration-300 hover:shadow-lg group",children:[e.jsx("div",{className:"mb-4 rounded-lg overflow-hidden",children:e.jsx("img",{src:h.image,alt:h.title,className:"w-full h-40 object-cover group-hover:scale-105 transition-transform duration-300"})}),e.jsx("div",{className:"w-10 h-10 bg-green-100 rounded-lg flex items-center justify-center mb-4",children:e.jsx(h.icon,{className:"h-5 w-5 text-green-600"})}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:h.title}),e.jsx("p",{className:"text-gray-600 leading-relaxed",children:h.description})]},p))})]})]}),e.jsx("section",{className:"py-16 bg-white relative",children:e.jsxs("div",{className:"max-w-4xl mx-auto px-6",children:[e.jsxs("div",{className:"text-center mb-12",children:[e.jsx("h2",{className:"text-3xl font-semibold text-gray-900 mb-4",children:u("How it works","  ")}),e.jsx("div",{className:"w-32 h-24 mx-auto mb-6 rounded-lg overflow-hidden",children:e.jsx("img",{src:"https://images.unsplash.com/photo-1415369629372-26f2fe60c467?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=800&q=80",alt:"Dogs playing together",className:"w-full h-full object-cover"})})]}),e.jsx("div",{className:"grid md:grid-cols-3 gap-8",children:[{step:"1",image:"https://images.unsplash.com/photo-1516734212186-a967f81ad0d7?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=800&q=80",title:u("Find a park"," "),description:u("Browse nearby dog parks and check who's currently there","        ")},{step:"2",image:"https://images.unsplash.com/photo-1548199973-03cce0bbc87b?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=800&q=80",title:u("Check in"," '-"),description:u("Let others know you're there with a quick check-in","      '- ")},{step:"3",image:"https://images.unsplash.com/photo-1601758228041-f3b2795255f1?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=800&q=80",title:u("Connect & play"," "),description:u("Meet new friends and arrange future playdates","      ")}].map((h,p)=>e.jsxs("div",{className:"text-center group",children:[e.jsxs("div",{className:"relative mb-6",children:[e.jsx("div",{className:"w-full h-32 rounded-lg overflow-hidden mb-4",children:e.jsx("img",{src:h.image,alt:h.title,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-300"})}),e.jsx("div",{className:"w-12 h-12 bg-green-500 text-white rounded-full flex items-center justify-center text-lg font-semibold mx-auto -mt-6 relative z-10 border-4 border-white shadow-lg",children:h.step})]}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:h.title}),e.jsx("p",{className:"text-gray-600",children:h.description})]},p))})]})}),e.jsxs("section",{className:"py-16 bg-green-50 relative overflow-hidden",children:[e.jsx("div",{className:"absolute inset-0",children:e.jsx("img",{src:"https://images.unsplash.com/photo-1587300003388-59208cc962cb?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=2000&q=80",alt:"Happy dog owners in park",className:"w-full h-full object-cover opacity-5"})}),e.jsxs("div",{className:"max-w-4xl mx-auto px-6 relative z-10",children:[e.jsxs("div",{className:"text-center mb-12",children:[e.jsx("h2",{className:"text-3xl font-semibold text-gray-900 mb-4",children:u("What dog owners say","   ")}),e.jsx("div",{className:"w-32 h-20 mx-auto mb-6 rounded-lg overflow-hidden",children:e.jsx("img",{src:"https://images.unsplash.com/photo-1552053831-71594a27632d?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=800&q=80",alt:"Happy dog and owner",className:"w-full h-full object-cover"})})]}),e.jsx("div",{className:"grid md:grid-cols-2 gap-8",children:[{name:u("Sarah & Max"," "),image:"https://images.unsplash.com/photo-1438761681033-6461ffad8d80?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=400&q=80",text:u("This app has been a game changer for us. We've met so many great dogs and their owners.","     .       .")},{name:u("David & Luna"," "),image:"https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=400&q=80",text:u("I love being able to see who's at the park before I make the trip. Perfect for planning.","           .  .")}].map((h,p)=>e.jsxs("div",{className:"bg-white p-6 rounded-xl border border-gray-200 shadow-lg hover:shadow-xl transition-shadow duration-300",children:[e.jsxs("p",{className:"text-gray-700 mb-4 italic text-lg",children:['"',h.text,'"']}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"w-12 h-12 rounded-full overflow-hidden mr-3",children:e.jsx("img",{src:h.image,alt:h.name,className:"w-full h-full object-cover"})}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-gray-900",children:h.name}),e.jsx("div",{className:"text-sm text-gray-500",children:u("Dog Parent"," ")})]})]})]},p))})]})]}),e.jsx("section",{className:"py-16",children:e.jsxs("div",{className:"max-w-3xl mx-auto text-center px-6",children:[e.jsx("h2",{className:"text-3xl font-semibold text-gray-900 mb-4",children:u("Ready to get started?"," ?")}),e.jsx("p",{className:"text-lg text-gray-600 mb-8",children:u("Join our community and help your dog make new friends today.","         .")}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[e.jsxs("button",{onClick:()=>x("register"),className:"bg-green-500 text-white px-8 py-3 rounded-lg font-medium hover:bg-green-600 transition-colors inline-flex items-center justify-center gap-2",children:[u("Join for Free"," "),e.jsx(lr,{className:"h-4 w-4"})]}),e.jsxs(ce,{to:"/gardens",className:"text-green-600 border border-green-300 px-8 py-3 rounded-lg font-medium hover:bg-green-50 transition-colors inline-flex items-center justify-center gap-2",children:[e.jsx(fe,{className:"h-4 w-4"}),u("Explore Parks"," ")]})]})]})}),e.jsx("footer",{className:"border-t border-gray-200 py-12 bg-gray-50",children:e.jsxs("div",{className:"max-w-4xl mx-auto px-6",children:[e.jsxs("div",{className:"grid md:grid-cols-3 gap-8",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[e.jsx("div",{className:"w-8 h-8 bg-gradient-to-r from-green-500 to-emerald-600 rounded-full flex items-center justify-center",children:e.jsx(Fe,{className:"h-4 w-4 text-white"})}),e.jsx("span",{className:"font-medium text-gray-900",children:u("Dog Parks Community","  ")})]}),e.jsx("p",{className:"text-gray-600 text-sm",children:u("Connecting dog owners and helping dogs find their perfect playmates.","          .")})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-medium text-gray-900 mb-4",children:u("Features","")}),e.jsxs("div",{className:"space-y-2 text-sm text-gray-600",children:[e.jsx("p",{children:u("Real-time park activity","   ")}),e.jsx("p",{children:u("Dog profiles"," ")}),e.jsx("p",{children:u("Community chat","' ")}),e.jsx("p",{children:u("Park reviews"," ")})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-medium text-gray-900 mb-4",children:u("Get Started","")}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("button",{onClick:()=>x("register"),className:"block text-sm text-gray-600 hover:text-green-600 transition-colors",children:u("Join the community"," ")}),e.jsx(ce,{to:"/gardens",className:"block text-sm text-gray-600 hover:text-green-600 transition-colors",children:u("Browse parks"," ")}),e.jsx(ce,{to:"/public-events",className:"block text-sm text-gray-600 hover:text-green-600 transition-colors",children:u("View events"," ")})]})]})]}),e.jsx("div",{className:"border-t border-gray-200 mt-8 pt-8 text-center text-sm text-gray-500",children:e.jsx("p",{children:u(" 2025 Dog Parks Community. Made with love for dogs and their humans."," 2025   .       .")})})]})}),a&&e.jsx(xu,{isOpen:a,onClose:g,type:l})]})},uu=()=>{const{login:t}=ge(),r=Ce(),{register:a,handleSubmit:s,formState:{errors:l,isSubmitting:i}}=rr(),o=async d=>{(await t(d)).success&&r("/dashboard")};return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-indigo-50 flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"max-w-md w-full",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-600 rounded-full w-20 h-20 flex items-center justify-center mx-auto mb-6",children:e.jsx("div",{className:"text-3xl",children:""})}),e.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Welcome Back! "}),e.jsx("p",{className:"text-gray-600",children:"Sign in to manage your furry friends and explore amazing dog parks"})]}),e.jsxs("div",{className:"bg-white rounded-2xl shadow-lg border border-gray-100 overflow-hidden",children:[e.jsx("div",{className:"px-8 py-6 border-b border-gray-100 bg-gradient-to-r from-blue-50 to-indigo-50",children:e.jsxs("h3",{className:"text-xl font-bold text-gray-900 text-center flex items-center justify-center",children:[e.jsx(Wa,{className:"h-6 w-6 text-blue-600 mr-2"}),"Sign In"]})}),e.jsxs("div",{className:"p-8",children:[e.jsxs("form",{onSubmit:s(o),className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-2",children:" Email Address"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{...a("email",{required:"Email is required",pattern:{value:/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,}$/i,message:"Invalid email address"}}),type:"email",autoComplete:"email",className:"w-full rounded-xl border border-gray-200 bg-gray-50 px-4 py-3 pl-12 text-base focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 focus:bg-white transition-all duration-200",placeholder:"Enter your email address"}),e.jsx(sl,{className:"h-5 w-5 text-gray-400 absolute left-4 top-1/2 transform -translate-y-1/2"})]}),l.email&&e.jsxs("p",{className:"mt-2 text-sm text-red-600 flex items-center",children:[e.jsx(pe,{className:"h-4 w-4 mr-1"}),l.email.message]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-2",children:" Password"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{...a("password",{required:"Password is required"}),type:"password",autoComplete:"current-password",className:"w-full rounded-xl border border-gray-200 bg-gray-50 px-4 py-3 pl-12 text-base focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 focus:bg-white transition-all duration-200",placeholder:"Enter your password"}),e.jsx(Wa,{className:"h-5 w-5 text-gray-400 absolute left-4 top-1/2 transform -translate-y-1/2"})]}),l.password&&e.jsxs("p",{className:"mt-2 text-sm text-red-600 flex items-center",children:[e.jsx(pe,{className:"h-4 w-4 mr-1"}),l.password.message]})]}),e.jsx("button",{type:"submit",disabled:i,className:"w-full flex items-center justify-center py-3 px-4 bg-gradient-to-r from-blue-600 to-indigo-600 text-white font-medium rounded-xl hover:from-blue-700 hover:to-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200 transform hover:scale-105",children:i?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white mr-2"}),"Signing in..."]}):e.jsxs(e.Fragment,{children:[e.jsx(lr,{className:"h-5 w-5 mr-2"}),"Sign In"]})})]}),e.jsxs("div",{className:"mt-6",children:[e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-0 flex items-center",children:e.jsx("div",{className:"w-full border-t border-gray-300"})}),e.jsx("div",{className:"relative flex justify-center text-sm",children:e.jsx("span",{className:"px-2 bg-white text-gray-500",children:"Or continue with"})})]}),e.jsx("div",{className:"mt-6",children:e.jsx(Ca,{})})]})]})]}),e.jsx("div",{className:"mt-6 text-center",children:e.jsxs("p",{className:"text-gray-600",children:["Don't have an account?"," ",e.jsxs(ce,{to:"/register",className:"inline-flex items-center font-medium text-blue-600 hover:text-blue-500 transition-colors duration-200",children:[e.jsx(er,{className:"h-4 w-4 mr-1"}),"Create a new account"]})]})}),e.jsxs("div",{className:"mt-8 bg-white rounded-2xl shadow-lg border border-gray-100 p-6",children:[e.jsxs("h4",{className:"text-lg font-semibold text-gray-900 mb-4 text-center flex items-center justify-center",children:[e.jsx(Fe,{className:"h-5 w-5 text-red-500 mr-2"}),"Why Join Our Community?"]}),e.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[e.jsxs("div",{className:"flex items-center p-3 bg-blue-50 rounded-xl",children:[e.jsx("div",{className:"text-2xl mr-3",children:""}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-900",children:"Find Dog Parks"}),e.jsx("p",{className:"text-xs text-gray-600",children:"Discover amazing places for your dogs"})]})]}),e.jsxs("div",{className:"flex items-center p-3 bg-green-50 rounded-xl",children:[e.jsx("div",{className:"text-2xl mr-3",children:""}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-900",children:"Meet Other Owners"}),e.jsx("p",{className:"text-xs text-gray-600",children:"Connect with fellow dog lovers"})]})]}),e.jsxs("div",{className:"flex items-center p-3 bg-purple-50 rounded-xl",children:[e.jsx("div",{className:"text-2xl mr-3",children:""}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-900",children:"Track Visits"}),e.jsx("p",{className:"text-xs text-gray-600",children:"Monitor your dog's activities"})]})]})]})]})]})})},hu=()=>{const{register:t}=ge(),r=Ce(),{register:a,handleSubmit:s,watch:l,formState:{errors:i,isSubmitting:o}}=rr(),d=l("password"),c=async x=>{const{confirmPassword:g,...u}=x;(await t(u)).success&&r("/dashboard")};return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-green-50 via-white to-emerald-50 flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"max-w-lg w-full",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("div",{className:"bg-gradient-to-r from-green-600 to-emerald-600 rounded-full w-20 h-20 flex items-center justify-center mx-auto mb-6",children:e.jsx("div",{className:"text-3xl",children:""})}),e.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Join Our Community! "}),e.jsx("p",{className:"text-gray-600",children:"Create your account and start connecting with fellow dog lovers"})]}),e.jsxs("div",{className:"bg-white rounded-2xl shadow-lg border border-gray-100 overflow-hidden",children:[e.jsx("div",{className:"px-8 py-6 border-b border-gray-100 bg-gradient-to-r from-green-50 to-emerald-50",children:e.jsxs("h3",{className:"text-xl font-bold text-gray-900 text-center flex items-center justify-center",children:[e.jsx(qx,{className:"h-6 w-6 text-green-600 mr-2"}),"Create Account"]})}),e.jsxs("div",{className:"p-8",children:[e.jsxs("form",{onSubmit:s(c),className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"firstName",className:"block text-sm font-medium text-gray-700 mb-2",children:" First Name"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{...a("firstName",{required:"First name is required"}),type:"text",className:"w-full rounded-xl border border-gray-200 bg-gray-50 px-4 py-3 pl-12 text-base focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-green-500 focus:bg-white transition-all duration-200",placeholder:"First name"}),e.jsx(Za,{className:"h-5 w-5 text-gray-400 absolute left-4 top-1/2 transform -translate-y-1/2"})]}),i.firstName&&e.jsxs("p",{className:"mt-1 text-sm text-red-600 flex items-center",children:[e.jsx(pe,{className:"h-3 w-3 mr-1"}),i.firstName.message]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"lastName",className:"block text-sm font-medium text-gray-700 mb-2",children:" Last Name"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{...a("lastName",{required:"Last name is required"}),type:"text",className:"w-full rounded-xl border border-gray-200 bg-gray-50 px-4 py-3 pl-12 text-base focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-green-500 focus:bg-white transition-all duration-200",placeholder:"Last name"}),e.jsx(Za,{className:"h-5 w-5 text-gray-400 absolute left-4 top-1/2 transform -translate-y-1/2"})]}),i.lastName&&e.jsxs("p",{className:"mt-1 text-sm text-red-600 flex items-center",children:[e.jsx(pe,{className:"h-3 w-3 mr-1"}),i.lastName.message]})]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"username",className:"block text-sm font-medium text-gray-700 mb-2",children:" Username"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{...a("username",{required:"Username is required",minLength:{value:3,message:"Username must be at least 3 characters"}}),type:"text",className:"w-full rounded-xl border border-gray-200 bg-gray-50 px-4 py-3 pl-12 text-base focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-green-500 focus:bg-white transition-all duration-200",placeholder:"Choose a unique username"}),e.jsx(ra,{className:"h-5 w-5 text-gray-400 absolute left-4 top-1/2 transform -translate-y-1/2"})]}),i.username&&e.jsxs("p",{className:"mt-1 text-sm text-red-600 flex items-center",children:[e.jsx(pe,{className:"h-4 w-4 mr-1"}),i.username.message]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-2",children:" Email Address"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{...a("email",{required:"Email is required",pattern:{value:/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,}$/i,message:"Invalid email address"}}),type:"email",className:"w-full rounded-xl border border-gray-200 bg-gray-50 px-4 py-3 pl-12 text-base focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-green-500 focus:bg-white transition-all duration-200",placeholder:"Enter your email address"}),e.jsx(Kt,{className:"h-5 w-5 text-gray-400 absolute left-4 top-1/2 transform -translate-y-1/2"})]}),i.email&&e.jsxs("p",{className:"mt-1 text-sm text-red-600 flex items-center",children:[e.jsx(pe,{className:"h-4 w-4 mr-1"}),i.email.message]})]}),e.jsxs("div",{children:[e.jsxs("label",{htmlFor:"phone",className:"block text-sm font-medium text-gray-700 mb-2",children:[" Phone Number ",e.jsx("span",{className:"text-gray-400",children:"(optional)"})]}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{...a("phone"),type:"tel",className:"w-full rounded-xl border border-gray-200 bg-gray-50 px-4 py-3 pl-12 text-base focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-green-500 focus:bg-white transition-all duration-200",placeholder:"Enter your phone number"}),e.jsx(Tr,{className:"h-5 w-5 text-gray-400 absolute left-4 top-1/2 transform -translate-y-1/2"})]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"role",className:"block text-sm font-medium text-gray-700 mb-2",children:" Account Type"}),e.jsxs("select",{...a("role"),className:"w-full rounded-xl border border-gray-200 bg-gray-50 px-4 py-3 text-base focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-green-500 focus:bg-white transition-all duration-200",children:[e.jsx("option",{value:"dog_owner",children:" Dog Owner"}),e.jsx("option",{value:"garden_manager",children:" Garden Manager"})]}),e.jsxs("p",{className:"mt-1 text-xs text-gray-500 flex items-center",children:[e.jsx(al,{className:"h-3 w-3 mr-1 text-purple-400"}),'Choose "Garden Manager" if you want to create and manage dog parks']})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-2",children:" Password"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{...a("password",{required:"Password is required",minLength:{value:6,message:"Password must be at least 6 characters"}}),type:"password",className:"w-full rounded-xl border border-gray-200 bg-gray-50 px-4 py-3 pl-12 text-base focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-green-500 focus:bg-white transition-all duration-200",placeholder:"Create password"}),e.jsx(Vt,{className:"h-5 w-5 text-gray-400 absolute left-4 top-1/2 transform -translate-y-1/2"})]}),i.password&&e.jsxs("p",{className:"mt-1 text-sm text-red-600 flex items-center",children:[e.jsx(pe,{className:"h-3 w-3 mr-1"}),i.password.message]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-gray-700 mb-2",children:" Confirm Password"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{...a("confirmPassword",{required:"Please confirm your password",validate:x=>x===d||"Passwords do not match"}),type:"password",className:"w-full rounded-xl border border-gray-200 bg-gray-50 px-4 py-3 pl-12 text-base focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-green-500 focus:bg-white transition-all duration-200",placeholder:"Confirm password"}),e.jsx(Vt,{className:"h-5 w-5 text-gray-400 absolute left-4 top-1/2 transform -translate-y-1/2"})]}),i.confirmPassword&&e.jsxs("p",{className:"mt-1 text-sm text-red-600 flex items-center",children:[e.jsx(pe,{className:"h-3 w-3 mr-1"}),i.confirmPassword.message]})]})]}),e.jsx("button",{type:"submit",disabled:o,className:"w-full flex items-center justify-center py-3 px-4 bg-gradient-to-r from-green-600 to-emerald-600 text-white font-medium rounded-xl hover:from-green-700 hover:to-emerald-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200 transform hover:scale-105",children:o?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white mr-2"}),"Creating account..."]}):e.jsxs(e.Fragment,{children:[e.jsx(De,{className:"h-5 w-5 mr-2"}),"Create Account"]})})]}),e.jsxs("div",{className:"mt-6",children:[e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-0 flex items-center",children:e.jsx("div",{className:"w-full border-t border-gray-300"})}),e.jsx("div",{className:"relative flex justify-center text-sm",children:e.jsx("span",{className:"px-2 bg-white text-gray-500",children:"Or continue with"})})]}),e.jsx("div",{className:"mt-6",children:e.jsx(Ca,{})})]})]})]}),e.jsx("div",{className:"mt-6 text-center",children:e.jsxs("p",{className:"text-gray-600",children:["Already have an account?"," ",e.jsxs(ce,{to:"/login",className:"inline-flex items-center font-medium text-green-600 hover:text-green-500 transition-colors duration-200",children:[e.jsx(lr,{className:"h-4 w-4 mr-1"}),"Sign in to existing account"]})]})}),e.jsxs("div",{className:"mt-8 bg-white rounded-2xl shadow-lg border border-gray-100 p-6",children:[e.jsxs("h4",{className:"text-lg font-semibold text-gray-900 mb-4 text-center flex items-center justify-center",children:[e.jsx(Fe,{className:"h-5 w-5 text-red-500 mr-2"}),"What You'll Get"]}),e.jsxs("div",{className:"grid grid-cols-1 gap-3",children:[e.jsxs("div",{className:"flex items-center p-3 bg-green-50 rounded-xl",children:[e.jsx("div",{className:"text-xl mr-3",children:""}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-900",children:"Free Account"}),e.jsx("p",{className:"text-xs text-gray-600",children:"No subscription fees, ever!"})]})]}),e.jsxs("div",{className:"flex items-center p-3 bg-blue-50 rounded-xl",children:[e.jsx("div",{className:"text-xl mr-3",children:""}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-900",children:"Personalized Experience"}),e.jsx("p",{className:"text-xs text-gray-600",children:"Tailored recommendations for you and your dogs"})]})]}),e.jsxs("div",{className:"flex items-center p-3 bg-purple-50 rounded-xl",children:[e.jsx("div",{className:"text-xl mr-3",children:""}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-900",children:"Community Access"}),e.jsx("p",{className:"text-xs text-gray-600",children:"Join thousands of dog lovers nationwide"})]})]})]})]})]})})},Te={async getAllGardens(t={}){return(await H.get("/gardens",{params:t})).data},async getGardenById(t){return(await H.get(`/gardens/${t}`)).data},async createGarden(t){return(await H.post("/gardens",t)).data},async updateGarden(t,r){return(await H.put(`/gardens/${t}`,r)).data},async deleteGarden(t){return(await H.delete(`/gardens/${t}`)).data},async getCurrentVisitors(t){return(await H.get(`/gardens/${t}/visitors`)).data},async updateCustomProfile(t,r){return(await H.put(`/gardens/${t}/custom-profile`,r)).data},async getMyGardens(){return(await H.get("/gardens/my-gardens")).data},async getNearbyGardens(t,r,a=10){try{return(await H.get("/gardens/nearby",{params:{lat:t,lng:r,radius:a}})).data}catch(s){return console.warn("Backend gardens API failed:",s.message),{gardens:[],total:0,error:s.message}}},async subscribeToNewsletter(t,r={}){return(await H.post(`/gardens/${t}/newsletter/subscribe`,{preferences:r})).data},async unsubscribeFromNewsletter(t){return(await H.delete(`/gardens/${t}/newsletter/unsubscribe`)).data},async getNewsletterStatus(t){return(await H.get(`/gardens/${t}/newsletter/status`)).data},async getNewsletterSubscribers(t,r={}){return(await H.get(`/gardens/${t}/newsletter/subscribers`,{params:r})).data},async getNewsletterStats(t){return(await H.get(`/gardens/${t}/newsletter/stats`)).data},async sendNewsletter(t,r){return(await H.post(`/gardens/${t}/newsletter/send`,r)).data}},xn=Object.freeze(Object.defineProperty({__proto__:null,gardenService:Te},Symbol.toStringTag,{value:"Module"})),lt={async getMyDogs(){return(await H.get("/dogs")).data},async getDogById(t){return(await H.get(`/dogs/${t}`)).data},async createDog(t){return(await H.post("/dogs",t)).data},async updateDog(t,r){return(await H.put(`/dogs/${t}`,r)).data},async deleteDog(t){return(await H.delete(`/dogs/${t}`)).data},async getDogPublicProfile(t){return(await H.get(`/dogs/profile/${t}`)).data},async updateCustomProfile(t,r){return(await H.put(`/dogs/${t}/custom-profile`,r)).data}},gn=Object.freeze(Object.defineProperty({__proto__:null,dogService:lt},Symbol.toStringTag,{value:"Module"})),jt={async checkIn(t){return(await H.post("/visits/checkin",t)).data},async checkOut(t){return(await H.post("/visits/checkout",t)).data},async getMyVisits(t={}){return(await H.get("/visits/my-visits",{params:t})).data},async getActiveVisit(){return(await H.get("/visits/active")).data}},pu=Object.freeze(Object.defineProperty({__proto__:null,visitService:jt},Symbol.toStringTag,{value:"Module"})),O=({className:t="",variant:r="text"})=>{const a="animate-pulse bg-gray-200 dark:bg-gray-700 rounded",s={text:"h-4",title:"h-6",avatar:"w-10 h-10 rounded-full",card:"h-32",button:"h-10 w-24",image:"h-48 w-full"};return e.jsx("div",{className:`${a} ${s[r]} ${t}`})},fu=()=>e.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900",children:e.jsxs("div",{className:"max-w-lg mx-auto",children:[e.jsxs("div",{className:"bg-gradient-to-br from-gray-300 to-gray-400 dark:from-gray-600 dark:to-gray-700 mx-4 mt-4 rounded-3xl p-6 animate-pulse",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx(O,{variant:"title",className:"w-48 mb-2 bg-gray-400 dark:bg-gray-600"}),e.jsx(O,{variant:"text",className:"w-32 bg-gray-400 dark:bg-gray-600"})]}),e.jsxs("div",{className:"text-right",children:[e.jsx(O,{variant:"text",className:"w-8 h-4 mb-1 bg-gray-400 dark:bg-gray-600"}),e.jsx(O,{variant:"text",className:"w-12 h-3 bg-gray-400 dark:bg-gray-600"})]})]}),e.jsxs("div",{className:"flex items-center mb-4",children:[e.jsx(O,{variant:"text",className:"w-32 bg-gray-400 dark:bg-gray-600"}),e.jsx(O,{variant:"text",className:"w-16 ml-auto bg-gray-400 dark:bg-gray-600"})]}),e.jsx("div",{className:"w-full bg-gray-400 dark:bg-gray-600 rounded-full h-2 animate-pulse"})]}),e.jsxs("div",{className:"px-4 mt-6",children:[e.jsx(O,{variant:"title",className:"w-32 mb-4"}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl p-6 border border-gray-100 dark:border-gray-700",children:[e.jsx(O,{variant:"avatar",className:"w-12 h-12 mx-auto mb-3"}),e.jsx(O,{variant:"text",className:"w-16 mx-auto"})]}),e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl p-6 border border-gray-100 dark:border-gray-700",children:[e.jsx(O,{variant:"avatar",className:"w-12 h-12 mx-auto mb-3"}),e.jsx(O,{variant:"text",className:"w-16 mx-auto"})]})]})]}),e.jsx("div",{className:"px-4 mt-6",children:e.jsx("div",{className:"grid grid-cols-3 gap-4",children:[1,2,3].map(t=>e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl p-4 text-center border border-gray-100 dark:border-gray-700",children:[e.jsx(O,{variant:"title",className:"w-12 h-8 mx-auto mb-2"}),e.jsx(O,{variant:"text",className:"w-16 h-3 mx-auto"})]},t))})})]})}),Ns=()=>e.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900",children:e.jsxs("div",{className:"max-w-lg mx-auto lg:max-w-7xl px-1 sm:px-0",children:[e.jsxs("div",{className:"bg-gradient-to-br from-gray-300 to-gray-400 dark:from-gray-600 dark:to-gray-700 mx-2 sm:mx-4 mt-2 sm:mt-4 rounded-2xl sm:rounded-3xl p-4 sm:p-6 animate-pulse",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between mb-4 space-y-3 sm:space-y-0",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx(O,{variant:"title",className:"w-48 mb-2 bg-gray-400 dark:bg-gray-600"}),e.jsx(O,{variant:"text",className:"w-64 mb-3 bg-gray-400 dark:bg-gray-600"}),e.jsxs("div",{className:"flex space-x-4",children:[e.jsx(O,{variant:"text",className:"w-20 bg-gray-400 dark:bg-gray-600"}),e.jsx(O,{variant:"text",className:"w-20 bg-gray-400 dark:bg-gray-600"})]})]}),e.jsx("div",{className:"hidden sm:block",children:e.jsx(O,{variant:"avatar",className:"w-16 h-16 bg-gray-400 dark:bg-gray-600"})})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[e.jsx(O,{variant:"button",className:"w-full h-12 bg-gray-400 dark:bg-gray-600"}),e.jsx(O,{variant:"button",className:"w-full h-12 bg-gray-400 dark:bg-gray-600"})]})]}),e.jsxs("div",{className:"px-2 sm:px-4 py-4 sm:py-6",children:[e.jsx("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-3 sm:gap-4 mb-4 sm:mb-6",children:[1,2,3,4].map(t=>e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl sm:rounded-3xl p-3 sm:p-4 text-center border border-gray-100 dark:border-gray-700",children:[e.jsx(O,{variant:"avatar",className:"w-6 sm:w-8 h-6 sm:h-8 mx-auto mb-2"}),e.jsx(O,{variant:"title",className:"w-16 h-6 sm:h-8 mx-auto mb-1"}),e.jsx(O,{variant:"text",className:"w-20 h-3 mx-auto"})]},t))}),e.jsx("div",{className:"space-y-6",children:[1,2].map(t=>e.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-2xl sm:rounded-3xl border border-gray-100 dark:border-gray-700",children:e.jsxs("div",{className:"p-3 sm:p-6",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between mb-4 space-y-2 sm:space-y-0",children:[e.jsx(O,{variant:"title",className:"w-40"}),e.jsx(O,{variant:"text",className:"w-16 h-6 rounded-full"})]}),e.jsx(O,{variant:"text",className:"w-full h-12 mb-4 rounded-2xl"}),e.jsx("div",{className:"space-y-3",children:[1,2,3].map(r=>e.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 dark:bg-gray-700 rounded-xl",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(O,{variant:"avatar",className:"w-8 sm:w-10 h-8 sm:h-10"}),e.jsxs("div",{children:[e.jsx(O,{variant:"text",className:"w-32 mb-1"}),e.jsx(O,{variant:"text",className:"w-48 h-3"})]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(O,{variant:"text",className:"w-20 h-6 rounded-full"}),e.jsx(O,{variant:"button",className:"w-8 h-8 rounded-lg"}),e.jsx(O,{variant:"button",className:"w-8 h-8 rounded-lg"})]})]},r))})]})},t))})]})]})}),bu=()=>e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-100 to-gray-200 dark:from-gray-800 dark:to-gray-900",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[e.jsx("div",{className:"bg-gradient-to-r from-gray-300 to-gray-400 dark:from-gray-600 dark:to-gray-700 rounded-3xl p-8 mb-8 animate-pulse",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx(O,{variant:"title",className:"w-80 h-10 mb-4 bg-gray-400 dark:bg-gray-600"}),e.jsx(O,{variant:"text",className:"w-96 h-6 mb-4 bg-gray-400 dark:bg-gray-600"}),e.jsxs("div",{className:"flex space-x-6",children:[e.jsx(O,{variant:"text",className:"w-32 bg-gray-400 dark:bg-gray-600"}),e.jsx(O,{variant:"text",className:"w-32 bg-gray-400 dark:bg-gray-600"})]})]}),e.jsx("div",{className:"hidden md:block",children:e.jsx(O,{variant:"avatar",className:"w-20 h-20 bg-gray-400 dark:bg-gray-600"})})]})}),e.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-3xl shadow-lg border border-gray-100 dark:border-gray-700 p-6 mb-8",children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx(O,{variant:"title",className:"w-64 mb-2"}),e.jsx(O,{variant:"text",className:"w-80"})]}),e.jsx(O,{variant:"button",className:"w-48 h-12 rounded-xl"})]})}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[1,2,3,4,5,6].map(t=>e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-3xl shadow-lg border border-gray-100 dark:border-gray-700 overflow-hidden",children:[e.jsx(O,{variant:"image",className:"rounded-none"}),e.jsxs("div",{className:"p-6",children:[e.jsx(O,{variant:"title",className:"w-40 mb-2"}),e.jsx(O,{variant:"text",className:"w-full mb-4"}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx(O,{variant:"text",className:"w-24 h-6 rounded-full"}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsx(O,{variant:"button",className:"w-8 h-8 rounded-lg"}),e.jsx(O,{variant:"button",className:"w-8 h-8 rounded-lg"}),e.jsx(O,{variant:"button",className:"w-8 h-8 rounded-lg"})]})]})]})]},t))})]})}),yu=()=>e.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx(O,{variant:"title",className:"w-64 h-8 mb-4"}),e.jsx(O,{variant:"text",className:"w-96 mb-6"}),e.jsx(O,{variant:"text",className:"w-full h-12 rounded-2xl"})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[1,2,3,4,5,6].map(t=>e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow-lg border border-gray-100 dark:border-gray-700 overflow-hidden",children:[e.jsx(O,{variant:"image",className:"rounded-none"}),e.jsxs("div",{className:"p-6",children:[e.jsx(O,{variant:"title",className:"w-40 mb-2"}),e.jsx(O,{variant:"text",className:"w-full mb-2"}),e.jsx(O,{variant:"text",className:"w-32 mb-4"}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx(O,{variant:"text",className:"w-20 h-6 rounded-full"}),e.jsx(O,{variant:"button",className:"w-24 h-8 rounded-lg"})]})]})]},t))})]})}),vu=()=>e.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx(O,{variant:"title",className:"w-48 h-8 mb-4"}),e.jsx(O,{variant:"text",className:"w-80 mb-6"}),e.jsxs("div",{className:"flex space-x-4",children:[e.jsx(O,{variant:"button",className:"w-32 h-10 rounded-xl"}),e.jsx(O,{variant:"button",className:"w-32 h-10 rounded-xl"})]})]}),e.jsx("div",{className:"space-y-6",children:[1,2,3,4].map(t=>e.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow-lg border border-gray-100 dark:border-gray-700 p-6",children:e.jsxs("div",{className:"flex items-start space-x-4",children:[e.jsx(O,{variant:"avatar",className:"w-16 h-16 rounded-2xl"}),e.jsxs("div",{className:"flex-1",children:[e.jsx(O,{variant:"title",className:"w-64 mb-2"}),e.jsx(O,{variant:"text",className:"w-full mb-2"}),e.jsx(O,{variant:"text",className:"w-48 mb-4"}),e.jsxs("div",{className:"flex space-x-4",children:[e.jsx(O,{variant:"text",className:"w-24 h-6 rounded-full"}),e.jsx(O,{variant:"text",className:"w-32 h-6 rounded-full"})]})]}),e.jsx(O,{variant:"button",className:"w-24 h-10 rounded-xl"})]})},t))})]})}),ju=()=>e.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900",children:e.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[e.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-3xl shadow-lg border border-gray-100 dark:border-gray-700 p-8 mb-8",children:e.jsxs("div",{className:"flex items-center space-x-6",children:[e.jsx(O,{variant:"avatar",className:"w-24 h-24"}),e.jsxs("div",{className:"flex-1",children:[e.jsx(O,{variant:"title",className:"w-48 mb-2"}),e.jsx(O,{variant:"text",className:"w-64 mb-4"}),e.jsxs("div",{className:"flex space-x-4",children:[e.jsx(O,{variant:"text",className:"w-32 h-6 rounded-full"}),e.jsx(O,{variant:"text",className:"w-32 h-6 rounded-full"})]})]}),e.jsx(O,{variant:"button",className:"w-32 h-10 rounded-xl"})]})}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[e.jsx("div",{className:"lg:col-span-2",children:e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-3xl shadow-lg border border-gray-100 dark:border-gray-700 p-6",children:[e.jsx(O,{variant:"title",className:"w-32 mb-4"}),e.jsx("div",{className:"space-y-4",children:[1,2,3].map(t=>e.jsxs("div",{className:"flex items-center space-x-4 p-4 bg-gray-50 dark:bg-gray-700 rounded-xl",children:[e.jsx(O,{variant:"avatar",className:"w-12 h-12"}),e.jsxs("div",{className:"flex-1",children:[e.jsx(O,{variant:"text",className:"w-32 mb-1"}),e.jsx(O,{variant:"text",className:"w-48 h-3"})]})]},t))})]})}),e.jsx("div",{className:"space-y-6",children:e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-3xl shadow-lg border border-gray-100 dark:border-gray-700 p-6",children:[e.jsx(O,{variant:"title",className:"w-24 mb-4"}),e.jsx("div",{className:"space-y-3",children:[1,2,3].map(t=>e.jsx(O,{variant:"text",className:"w-full h-8 rounded-lg"},t))})]})})]})]})}),wu=()=>e.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900",children:e.jsxs("div",{className:"max-w-lg mx-auto",children:[e.jsxs("div",{className:"bg-gradient-to-br from-gray-300 to-gray-400 dark:from-gray-600 dark:to-gray-700 mx-4 mt-4 rounded-3xl p-6 animate-pulse",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx(O,{variant:"title",className:"w-48 mb-2 bg-gray-400 dark:bg-gray-600"}),e.jsx(O,{variant:"text",className:"w-32 bg-gray-400 dark:bg-gray-600"})]}),e.jsxs("div",{className:"text-right",children:[e.jsx(O,{variant:"text",className:"w-20 h-4 mb-1 bg-gray-400 dark:bg-gray-600"}),e.jsx(O,{variant:"text",className:"w-24 h-3 bg-gray-400 dark:bg-gray-600"})]})]}),e.jsx(O,{variant:"text",className:"w-64 bg-gray-400 dark:bg-gray-600"})]}),e.jsxs("div",{className:"px-4 mt-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx(O,{variant:"title",className:"w-32"}),e.jsx(O,{variant:"text",className:"w-16 h-6 rounded-full"})]}),e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-3xl shadow-lg border border-gray-100 dark:border-gray-700",children:[e.jsxs("div",{className:"bg-gradient-to-r from-gray-300 to-gray-400 dark:from-gray-600 dark:to-gray-700 p-4 animate-pulse",children:[e.jsx(O,{variant:"title",className:"w-48 mb-1 bg-gray-400 dark:bg-gray-600"}),e.jsx(O,{variant:"text",className:"w-64 bg-gray-400 dark:bg-gray-600"})]}),e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-6",children:[e.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700 rounded-xl p-4 text-center",children:[e.jsx(O,{variant:"title",className:"w-16 h-8 mx-auto mb-1"}),e.jsx(O,{variant:"text",className:"w-20 h-3 mx-auto"})]}),e.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700 rounded-xl p-4 text-center",children:[e.jsx(O,{variant:"title",className:"w-8 h-8 mx-auto mb-1"}),e.jsx(O,{variant:"text",className:"w-16 h-3 mx-auto"})]})]}),e.jsx("div",{className:"space-y-3",children:[1,2].map(t=>e.jsxs("div",{className:"flex items-center p-3 bg-gray-50 dark:bg-gray-700 rounded-xl",children:[e.jsx(O,{variant:"avatar",className:"w-10 h-10 mr-3"}),e.jsxs("div",{className:"flex-1",children:[e.jsx(O,{variant:"text",className:"w-24 mb-1"}),e.jsx(O,{variant:"text",className:"w-16 h-3"})]})]},t))}),e.jsx(O,{variant:"button",className:"w-full h-12 mt-6 rounded-xl"})]})]})]})]})}),Nu=()=>e.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900",children:e.jsxs("div",{className:"max-w-lg mx-auto",children:[e.jsxs("div",{className:"bg-gradient-to-br from-gray-300 to-gray-400 dark:from-gray-600 dark:to-gray-700 mx-4 mt-4 rounded-3xl p-6 animate-pulse",children:[e.jsx(O,{variant:"button",className:"w-24 h-10 mb-4 bg-gray-400 dark:bg-gray-600 rounded-xl"}),e.jsxs("div",{className:"flex space-x-2 mb-3",children:[e.jsx(O,{variant:"text",className:"w-20 h-6 rounded-full bg-gray-400 dark:bg-gray-600"}),e.jsx(O,{variant:"text",className:"w-16 h-6 rounded-full bg-gray-400 dark:bg-gray-600"})]}),e.jsx(O,{variant:"title",className:"w-48 mb-2 bg-gray-400 dark:bg-gray-600"}),e.jsx(O,{variant:"text",className:"w-64 mb-4 bg-gray-400 dark:bg-gray-600"}),e.jsx("div",{className:"grid grid-cols-3 gap-4",children:[1,2,3].map(t=>e.jsxs("div",{className:"bg-gray-400 dark:bg-gray-600 rounded-xl p-3 text-center animate-pulse",children:[e.jsx(O,{variant:"text",className:"w-12 h-6 mx-auto mb-1 bg-gray-500 dark:bg-gray-500"}),e.jsx(O,{variant:"text",className:"w-16 h-3 mx-auto bg-gray-500 dark:bg-gray-500"})]},t))})]}),e.jsxs("div",{className:"px-4 mt-6",children:[e.jsx("div",{className:"flex space-x-1 bg-gray-100 dark:bg-gray-800 rounded-2xl p-1 mb-6",children:[1,2,3].map(t=>e.jsx(O,{variant:"button",className:"flex-1 h-10 rounded-xl"},t))}),e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-3xl shadow-lg border border-gray-100 dark:border-gray-700 p-6",children:[e.jsx(O,{variant:"title",className:"w-32 mb-4"}),e.jsx("div",{className:"space-y-4",children:[1,2,3,4].map(t=>e.jsxs("div",{className:"flex items-center space-x-3 p-3 bg-gray-50 dark:bg-gray-700 rounded-xl",children:[e.jsx(O,{variant:"avatar",className:"w-6 h-6"}),e.jsx(O,{variant:"text",className:"flex-1"})]},t))})]}),e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-3xl shadow-lg border border-gray-100 dark:border-gray-700 p-6 mt-6",children:[e.jsx(O,{variant:"title",className:"w-40 mb-4"}),e.jsx("div",{className:"grid grid-cols-1 gap-3 mb-4",children:[1,2].map(t=>e.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 dark:bg-gray-700 rounded-xl",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(O,{variant:"avatar",className:"w-10 h-10"}),e.jsxs("div",{children:[e.jsx(O,{variant:"text",className:"w-20 mb-1"}),e.jsx(O,{variant:"text",className:"w-16 h-3"})]})]}),e.jsx(O,{variant:"button",className:"w-8 h-8 rounded-lg"})]},t))}),e.jsx(O,{variant:"button",className:"w-full h-12 rounded-xl"})]})]})]})}),ku=()=>e.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900",children:e.jsxs("div",{className:"max-w-lg mx-auto lg:max-w-7xl",children:[e.jsxs("div",{className:"bg-gradient-to-br from-gray-300 to-gray-400 dark:from-gray-600 dark:to-gray-700 mx-4 mt-4 rounded-3xl p-6 animate-pulse",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx(O,{variant:"title",className:"w-48 mb-2 bg-gray-400 dark:bg-gray-600"}),e.jsx(O,{variant:"text",className:"w-32 bg-gray-400 dark:bg-gray-600"})]}),e.jsx(O,{variant:"avatar",className:"w-12 h-12 bg-gray-400 dark:bg-gray-600"})]}),e.jsx(O,{variant:"button",className:"w-full h-12 bg-gray-400 dark:bg-gray-600 rounded-2xl"})]}),e.jsxs("div",{className:"px-4 py-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx(O,{variant:"title",className:"w-24"}),e.jsx(O,{variant:"button",className:"w-24 h-10 rounded-2xl"})]}),e.jsx("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2 lg:grid-cols-3",children:[1,2,3,4,5,6].map(t=>e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-3xl overflow-hidden shadow-lg border border-gray-100 dark:border-gray-700",children:[e.jsx(O,{variant:"image",className:"h-48 rounded-none"}),e.jsxs("div",{className:"p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx(O,{variant:"text",className:"w-24"}),e.jsx(O,{variant:"text",className:"w-8"})]}),e.jsx(O,{variant:"text",className:"w-32 mb-3"}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsx(O,{variant:"button",className:"flex-1 h-8 rounded-lg"}),e.jsx(O,{variant:"button",className:"flex-1 h-8 rounded-lg"})]})]})]},t))})]})]})}),Eu=()=>e.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900",children:e.jsxs("div",{className:"max-w-lg mx-auto lg:max-w-7xl",children:[e.jsxs("div",{className:"bg-gradient-to-br from-gray-300 to-gray-400 dark:from-gray-600 dark:to-gray-700 mx-4 mt-4 rounded-3xl p-6 animate-pulse",children:[e.jsx(O,{variant:"title",className:"w-48 mb-2 bg-gray-400 dark:bg-gray-600"}),e.jsx(O,{variant:"text",className:"w-32 bg-gray-400 dark:bg-gray-600"})]}),e.jsxs("div",{className:"px-4 py-6",children:[e.jsx(O,{variant:"text",className:"w-full h-12 rounded-3xl mb-6"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[1,2,3,4,5,6].map(t=>e.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-3xl shadow-lg border border-gray-100 dark:border-gray-700 p-6",children:e.jsxs("div",{className:"text-center",children:[e.jsx(O,{variant:"avatar",className:"w-16 h-16 mx-auto mb-3"}),e.jsx(O,{variant:"text",className:"w-32 mx-auto mb-2"}),e.jsx(O,{variant:"text",className:"w-24 mx-auto mb-4 h-3"}),e.jsx(O,{variant:"button",className:"w-full h-10 rounded-xl"})]})},t))})]})]})}),Su=()=>e.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900",children:e.jsxs("div",{className:"max-w-lg mx-auto",children:[e.jsxs("div",{className:"bg-gradient-to-br from-gray-300 to-gray-400 dark:from-gray-600 dark:to-gray-700 mx-4 mt-4 rounded-3xl p-6 animate-pulse",children:[e.jsx(O,{variant:"title",className:"w-40 mb-2 bg-gray-400 dark:bg-gray-600"}),e.jsx(O,{variant:"text",className:"w-32 bg-gray-400 dark:bg-gray-600"})]}),e.jsx("div",{className:"px-4 py-6",children:e.jsx("div",{className:"space-y-3",children:[1,2,3,4,5,6].map(t=>e.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow-lg border border-gray-100 dark:border-gray-700 p-4",children:e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx(O,{variant:"avatar",className:"w-10 h-10 rounded-xl"}),e.jsxs("div",{className:"flex-1",children:[e.jsx(O,{variant:"text",className:"w-48 mb-2"}),e.jsx(O,{variant:"text",className:"w-full mb-1 h-3"}),e.jsx(O,{variant:"text",className:"w-24 h-3"})]}),e.jsx(O,{variant:"text",className:"w-8 h-8 rounded-full"})]})},t))})})]})}),Cu=()=>e.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900",children:e.jsxs("div",{className:"max-w-4xl mx-auto px-4 py-8",children:[e.jsx(O,{variant:"button",className:"w-24 h-10 mb-6 rounded-xl"}),e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-3xl shadow-lg border border-gray-100 dark:border-gray-700 overflow-hidden mb-6",children:[e.jsx(O,{variant:"image",className:"h-64 rounded-none"}),e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex justify-between items-start mb-4",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx(O,{variant:"title",className:"w-64 mb-2"}),e.jsx(O,{variant:"text",className:"w-48 mb-4"}),e.jsxs("div",{className:"flex space-x-4",children:[e.jsx(O,{variant:"text",className:"w-32 h-6 rounded-full"}),e.jsx(O,{variant:"text",className:"w-24 h-6 rounded-full"})]})]}),e.jsx(O,{variant:"button",className:"w-24 h-10 rounded-xl"})]}),e.jsx(O,{variant:"text",className:"w-full mb-2"}),e.jsx(O,{variant:"text",className:"w-3/4"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsx("div",{className:"lg:col-span-2",children:e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-3xl shadow-lg border border-gray-100 dark:border-gray-700 p-6",children:[e.jsx(O,{variant:"title",className:"w-32 mb-4"}),e.jsx("div",{className:"space-y-4",children:[1,2,3].map(t=>e.jsxs("div",{className:"flex items-center space-x-3 p-3 bg-gray-50 dark:bg-gray-700 rounded-xl",children:[e.jsx(O,{variant:"avatar",className:"w-6 h-6"}),e.jsx(O,{variant:"text",className:"flex-1"})]},t))})]})}),e.jsx("div",{className:"space-y-6",children:e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-3xl shadow-lg border border-gray-100 dark:border-gray-700 p-6",children:[e.jsx(O,{variant:"title",className:"w-24 mb-4"}),e.jsx("div",{className:"space-y-3",children:[1,2,3].map(t=>e.jsx(O,{variant:"text",className:"w-full h-8 rounded-lg"},t))})]})})]})]})}),bl=()=>{var m,E,b;const{user:t}=ge(),[r,a]=n.useState({dogs:0,visits:0,activeVisit:null,nearbyGardens:[],points:0,level:1,currentStreak:0,badges:[],levelProgress:{current:0,needed:100,percentage:0}}),[s,l]=n.useState([]),[i,o]=n.useState([]),[d,c]=n.useState(!1),[x,g]=n.useState(!0);n.useEffect(()=>{const v=localStorage.getItem("loginTime");v&&Date.now()-parseInt(v)<3e3?setTimeout(()=>{u()},1e3):u()},[]);const u=async()=>{try{g(!0);const[v,N,w,C,k,M,$]=await Promise.all([lt.getMyDogs().catch(A=>({count:0,dogs:[]})),jt.getMyVisits({limit:5}).catch(A=>({total:0,visits:[]})),jt.getActiveVisit().catch(A=>({visit:null})),Te.getAllGardens({limit:4}).catch(A=>({gardens:[]})),it.getStats().catch(A=>({points:0,level:1,currentStreak:0,badges:[],levelProgress:{current:0,needed:100,percentage:0}})),it.getAchievements().catch(A=>({achievements:[]})),it.getRecentActivity(5).catch(A=>({activity:[]}))]);a({dogs:v.count||0,visits:N.total||0,activeVisit:w.visit||null,nearbyGardens:C.gardens||[],points:k.points||0,level:k.level||1,currentStreak:k.currentStreak||0,badges:k.badges||[],levelProgress:k.levelProgress||{current:0,needed:100,percentage:0}}),l(M.achievements||[]),o($.activity||[])}catch(v){console.error("Error loading dashboard data:",v),a({dogs:0,visits:0,activeVisit:null,nearbyGardens:[],points:0,level:1,currentStreak:0,badges:[],levelProgress:{current:0,needed:100,percentage:0}}),l([]),o([])}finally{g(!1)}},h=async()=>{var v,N;if(r.activeVisit){c(!0);try{await jt.checkOut({visitId:r.activeVisit._id}),_.success("Checked out successfully!"),await u()}catch(w){console.error("Check-out error:",w),_.error(((N=(v=w.response)==null?void 0:v.data)==null?void 0:N.error)||"Failed to check out")}finally{c(!1)}}},p=v=>{if(v===null||typeof v>"u")return"N/A";if(v<1)return"< 1m";const N=Math.floor(v/60),w=Math.round(v%60);return N>0?`${N}h ${w}m`:`${w}m`},f=v=>{if(!v)return"N/A";const w=(Date.now()-new Date(v).getTime())/6e4;return p(w)},j=()=>{const v=new Date().getHours();return v<12?"Good morning":v<18?"Good afternoon":"Good evening"};return x?e.jsx(fu,{}):e.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900",children:e.jsxs("div",{className:"max-w-lg mx-auto",children:[e.jsxs("div",{className:"bg-gradient-to-br from-purple-600 via-pink-600 to-indigo-700 dark:from-purple-700 dark:via-pink-700 dark:to-indigo-800 mx-4 mt-4 rounded-3xl p-6 text-white relative overflow-hidden",children:[e.jsx("div",{className:"absolute -top-6 -right-6 opacity-20",children:e.jsx("div",{className:"text-8xl",children:""})}),e.jsxs("div",{className:"relative z-10",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{children:[e.jsxs("h1",{className:"text-2xl font-bold",children:[j(),", ",t==null?void 0:t.firstName,"! "]}),e.jsx("p",{className:"text-purple-100 dark:text-purple-200",children:"Ready for today's adventure? "})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("div",{className:"text-sm text-purple-200",children:[" ",r.currentStreak]}),e.jsx("div",{className:"text-xs text-purple-300",children:"Day Streak"})]})]}),e.jsxs("div",{className:"flex items-center mb-4",children:[e.jsxs("div",{className:"text-lg",children:[" ",r.points," points total"]}),e.jsxs("div",{className:"ml-auto text-sm",children:["Level ",r.level]})]}),e.jsx("div",{className:"w-full bg-white bg-opacity-20 rounded-full h-2",children:e.jsx("div",{className:"bg-yellow-400 h-2 rounded-full",style:{width:`${r.levelProgress.percentage}%`}})})]})]}),e.jsxs("div",{className:"px-4 mt-6",children:[e.jsxs("h2",{className:"text-lg font-bold text-gray-900 dark:text-white mb-4 flex items-center",children:[e.jsx(_e,{className:"h-5 w-5 mr-2 text-purple-600"}),"Quick Actions"]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.activeVisit?e.jsxs(ce,{to:"/check-in",className:"bg-gradient-to-br from-blue-500 to-indigo-600 dark:from-blue-600 dark:to-indigo-700 text-white rounded-2xl p-6 flex flex-col items-center text-center hover:shadow-lg transition-all duration-300 transform hover:scale-105",children:[e.jsx("div",{className:"bg-white bg-opacity-20 rounded-xl p-3 mb-3",children:e.jsx(Ke,{className:"h-6 w-6"})}),e.jsx("span",{className:"font-medium",children:"Manage Visit"})]}):e.jsxs(ce,{to:"/check-in",className:"bg-gradient-to-br from-orange-500 to-red-500 dark:from-orange-600 dark:to-red-600 text-white rounded-2xl p-6 flex flex-col items-center text-center hover:shadow-lg transition-all duration-300 transform hover:scale-105",children:[e.jsx("div",{className:"bg-white bg-opacity-20 rounded-xl p-3 mb-3",children:e.jsx(tm,{className:"h-6 w-6"})}),e.jsx("span",{className:"font-medium",children:"Check In"})]}),e.jsxs(ce,{to:"/gardens",className:"bg-gradient-to-br from-green-500 to-emerald-600 dark:from-green-600 dark:to-emerald-700 text-white rounded-2xl p-6 flex flex-col items-center text-center hover:shadow-lg transition-all duration-300 transform hover:scale-105",children:[e.jsx("div",{className:"bg-white bg-opacity-20 rounded-xl p-3 mb-3",children:e.jsx(Mt,{className:"h-6 w-6"})}),e.jsx("span",{className:"font-medium",children:"Explore"})]})]})]}),e.jsx("div",{className:"px-4 mt-6",children:e.jsx(ce,{to:"/rewards",className:"block bg-gradient-to-br from-indigo-500 to-purple-600 dark:from-indigo-600 dark:to-purple-700 rounded-2xl p-4 text-white shadow-lg hover:shadow-xl transition-all duration-300 transform hover:scale-105",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"text-base font-bold mb-1",children:" Rewards Center"}),e.jsx("p",{className:"text-indigo-100 dark:text-indigo-200 text-sm",children:"Tap to view achievements & badges"})]}),e.jsx("div",{className:"flex items-center space-x-2",children:e.jsx("div",{className:"bg-white bg-opacity-20 rounded-lg p-2",children:e.jsx(_e,{className:"h-5 w-5"})})})]})})}),r.activeVisit?e.jsxs("div",{className:"px-4 mt-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("h2",{className:"text-lg font-bold text-gray-900 dark:text-white flex items-center",children:[e.jsx(Qe,{className:"h-5 w-5 mr-2 text-red-500"}),"Live Visit"]}),e.jsx("span",{className:"bg-red-100 dark:bg-red-900/30 text-red-600 dark:text-red-400 text-xs px-2 py-1 rounded-full animate-pulse",children:" Live"})]}),e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-3xl shadow-lg border border-gray-100 dark:border-gray-700 overflow-hidden",children:[e.jsxs("div",{className:"bg-gradient-to-r from-green-500 to-emerald-600 p-4 text-white relative overflow-hidden",children:[e.jsx("div",{className:"absolute -top-4 -right-4 opacity-20",children:e.jsx("div",{className:"text-6xl",children:""})}),e.jsx("div",{className:"relative z-10",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-green-100 text-sm",children:"You are at"}),e.jsx("h3",{className:"text-xl font-bold",children:((m=r.activeVisit.garden)==null?void 0:m.name)||"Unknown Garden"})]}),e.jsx("div",{className:"bg-white bg-opacity-20 rounded-xl p-2",children:e.jsx(fe,{className:"h-5 w-5"})})]})})]}),e.jsxs("div",{className:"p-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[e.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700/50 rounded-xl p-3 text-center",children:[e.jsx("div",{className:"text-xl font-bold text-gray-800 dark:text-white",children:f(r.activeVisit.checkInTime)}),e.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Time Elapsed"})]}),e.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700/50 rounded-xl p-3 text-center",children:[e.jsx("div",{className:"text-xl font-bold text-gray-800 dark:text-white",children:((E=r.activeVisit.dogs)==null?void 0:E.length)||0}),e.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Dogs Playing"})]})]}),e.jsxs("div",{className:"mb-4",children:[e.jsxs("h4",{className:"text-sm font-medium text-gray-500 dark:text-gray-400 mb-2 flex items-center",children:[e.jsx(Le,{className:"h-4 w-4 mr-1 text-pink-500"}),"Your Dogs"]}),e.jsx("div",{className:"flex flex-wrap gap-2",children:(b=r.activeVisit.dogs)==null?void 0:b.map(v=>e.jsxs("div",{className:"flex items-center px-3 py-1 bg-purple-100 dark:bg-purple-900/30 text-purple-800 dark:text-purple-200 rounded-full text-sm",children:[e.jsx("span",{className:"mr-1",children:""})," ",(v==null?void 0:v.name)||"Unknown Dog"]},v._id))})]}),e.jsx("button",{onClick:h,disabled:d,className:"w-full inline-flex items-center justify-center px-4 py-3 bg-gradient-to-r from-red-500 to-pink-500 text-white font-medium rounded-xl hover:from-red-600 hover:to-pink-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 disabled:opacity-50 transition-all duration-200 transform hover:scale-105 active:scale-95",children:d?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Checking out..."]}):e.jsxs(e.Fragment,{children:[e.jsx(el,{className:"h-5 w-5 mr-2"}),"Check Out Now"]})})]})]})]}):e.jsxs("div",{className:"px-4 mt-6",children:[e.jsx("div",{className:"flex items-center justify-between mb-4",children:e.jsxs("h2",{className:"text-lg font-bold text-gray-900 dark:text-white flex items-center",children:[e.jsx(fe,{className:"h-5 w-5 mr-2 text-gray-500"}),"No Active Visit"]})}),e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-3xl shadow-lg border border-gray-100 dark:border-gray-700 p-6 text-center",children:[e.jsx("div",{className:"text-5xl mb-4",children:""}),e.jsx("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-2",children:"Ready for Adventure?"}),e.jsx("p",{className:"text-gray-500 dark:text-gray-400 mb-6",children:"Find a perfect dog park and start your visit today!"}),e.jsxs(ce,{to:"/gardens",className:"inline-flex items-center px-6 py-3 bg-gradient-to-r from-purple-500 to-pink-500 text-white font-medium rounded-xl hover:from-purple-600 hover:to-pink-600 transition-all duration-200 transform hover:scale-105",children:[e.jsx(Mt,{className:"h-5 w-5 mr-2"}),"Find a Park"]})]})]}),e.jsxs("div",{className:"px-4 mt-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("h2",{className:"text-lg font-bold text-gray-900 dark:text-white flex items-center",children:[e.jsx(Xe,{className:"h-5 w-5 mr-2 text-yellow-500"}),"Achievement Badges"]}),e.jsx(ce,{to:"/rewards?tab=achievements",className:"text-sm text-blue-600 dark:text-blue-400 hover:underline",children:"View All"})]}),s.length>0?e.jsx("div",{className:"space-y-3",children:s.slice(0,2).map((v,N)=>e.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-3xl shadow-lg border border-gray-100 dark:border-gray-700 p-4",children:e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:"text-3xl",children:v.icon||""}),e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"text-base font-bold text-gray-900 dark:text-white mb-1",children:v.name}),e.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400 mb-2",children:v.description}),v.progress&&e.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700 rounded-xl p-3",children:[e.jsxs("div",{className:"flex items-center justify-between mb-1",children:[e.jsxs("span",{className:"text-xs text-gray-700 dark:text-gray-300 font-medium",children:["Progress: ",v.progress.current,"/",v.progress.target]}),e.jsxs("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:[Math.round(v.progress.current/v.progress.target*100),"%"]})]}),e.jsx("div",{className:"w-full bg-gray-200 dark:bg-gray-600 rounded-full h-2",children:e.jsx("div",{className:"bg-gradient-to-r from-blue-500 to-purple-600 h-2 rounded-full transition-all duration-300",style:{width:`${Math.min(v.progress.current/v.progress.target*100,100)}%`}})})]})]})]})},v.id||N))}):r.badges&&r.badges.length>0?e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-3xl shadow-lg border border-gray-100 dark:border-gray-700 p-6 text-center",children:[e.jsx("div",{className:"text-4xl mb-3",children:r.badges[0].icon||""}),e.jsx("div",{className:"text-lg font-bold text-gray-900 dark:text-white mb-1",children:r.badges[0].name||"Badge Earned"}),e.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400 mb-3",children:r.badges[0].description||"Keep collecting badges!"}),e.jsxs("div",{className:"text-xs text-green-600 dark:text-green-400 font-medium",children:[r.badges.length," badge",r.badges.length!==1?"s":""," earned"]})]}):e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-3xl shadow-lg border border-gray-100 dark:border-gray-700 p-6 text-center",children:[e.jsx("div",{className:"text-4xl mb-3",children:""}),e.jsx("div",{className:"text-lg font-bold text-gray-900 dark:text-white mb-1",children:"Start Your Journey"}),e.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Visit dog parks to unlock your first achievements!"})]})]}),e.jsxs("div",{className:"px-4 mt-6 pb-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("h2",{className:"text-lg font-bold text-gray-900 dark:text-white flex items-center",children:[e.jsx(Ae,{className:"h-5 w-5 mr-2 text-blue-500"}),"Recent Activity"]}),e.jsx(ce,{to:"/rewards?tab=overview",className:"text-sm text-blue-600 dark:text-blue-400 hover:underline",children:"View All"})]}),i.length>0?e.jsx("div",{className:"space-y-3",children:i.slice(0,3).map((v,N)=>e.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-2xl p-4 border border-gray-100 dark:border-gray-700 shadow-md",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:`h-10 w-10 rounded-full flex items-center justify-center text-white font-semibold ${v.type==="visit"?"bg-gradient-to-r from-green-400 to-blue-500":v.type==="achievement"?"bg-gradient-to-r from-purple-400 to-pink-500":v.type==="badge"?"bg-gradient-to-r from-yellow-400 to-orange-500":v.type==="level"?"bg-gradient-to-r from-indigo-400 to-purple-500":"bg-gradient-to-r from-gray-400 to-gray-500"}`,children:v.icon||(v.type==="visit"?"":v.type==="achievement"?"":v.type==="badge"?"":v.type==="level"?"":"")}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:v.title||"You"}),e.jsx("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:v.description})]}),e.jsxs("div",{className:"flex items-center space-x-2 text-xs text-gray-500 dark:text-gray-400",children:[e.jsx("span",{children:v.timeAgo||new Date(v.createdAt).toLocaleDateString()}),v.points&&e.jsxs("span",{children:[" +",v.points," points"]})]})]}),e.jsx("div",{className:"bg-gray-100 dark:bg-gray-700 rounded-full px-3 py-1",children:e.jsx("span",{className:"text-sm",children:v.type==="visit"?"":v.type==="achievement"?"":v.type==="badge"?"":v.type==="level"?"":""})})]})},v.id||N))}):r.currentStreak>0||r.points>0?e.jsxs("div",{className:"space-y-3",children:[r.currentStreak>0&&e.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-2xl p-4 border border-gray-100 dark:border-gray-700 shadow-md",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"h-10 w-10 bg-gradient-to-r from-orange-400 to-red-500 rounded-full flex items-center justify-center text-white font-semibold",children:""}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:"Streak Active"}),e.jsxs("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:[r.currentStreak," day",r.currentStreak!==1?"s":""," in a row"]})]}),e.jsx("div",{className:"flex items-center space-x-2 text-xs text-gray-500 dark:text-gray-400",children:e.jsx("span",{children:"Keep visiting to maintain your streak!"})})]}),e.jsx("div",{className:"bg-gray-100 dark:bg-gray-700 rounded-full px-3 py-1",children:e.jsx("span",{className:"text-sm",children:""})})]})}),r.level>1&&e.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-2xl p-4 border border-gray-100 dark:border-gray-700 shadow-md",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"h-10 w-10 bg-gradient-to-r from-indigo-400 to-purple-500 rounded-full flex items-center justify-center text-white font-semibold",children:""}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("span",{className:"font-medium text-gray-900 dark:text-white",children:["Level ",r.level]}),e.jsxs("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:[r.points," total points"]})]}),e.jsx("div",{className:"flex items-center space-x-2 text-xs text-gray-500 dark:text-gray-400",children:e.jsx("span",{children:"You're making great progress!"})})]}),e.jsx("div",{className:"bg-gray-100 dark:bg-gray-700 rounded-full px-3 py-1",children:e.jsx("span",{className:"text-sm",children:""})})]})})]}):e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl p-6 border border-gray-100 dark:border-gray-700 shadow-md text-center",children:[e.jsx("div",{className:"text-4xl mb-3",children:""}),e.jsx("div",{className:"text-lg font-bold text-gray-900 dark:text-white mb-1",children:"No Recent Activity"}),e.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Start visiting dog parks to see your activity here!"})]})]})]})})},yl=Object.freeze(Object.defineProperty({__proto__:null,default:bl},Symbol.toStringTag,{value:"Module"})),vl=({isOpen:t,onClose:r,garden:a,onSubscriptionChange:s})=>{const{user:l}=ge(),[i,o]=n.useState(!1),[d,c]=n.useState(!1),[x,g]=n.useState({events:!0,promotions:!0,announcements:!0,maintenance:!0}),[u,h]=n.useState({events:!0,promotions:!0,announcements:!0,maintenance:!0});n.useEffect(()=>{t&&a&&p()},[t,a]);const p=async()=>{try{const E=await Te.getNewsletterStatus(a._id);c(E.isSubscribed),E.preferences&&(g(E.preferences),h(E.preferences))}catch(E){console.error("Error loading subscription status:",E)}},f=async()=>{var E,b;if(!l){_.error("Please log in to subscribe to newsletters");return}o(!0);try{await Te.subscribeToNewsletter(a._id,u),c(!0),g(u),_.success("Successfully subscribed to newsletter!"),s==null||s(!0),r()}catch(v){console.error("Error subscribing:",v),_.error(((b=(E=v.response)==null?void 0:E.data)==null?void 0:b.error)||"Failed to subscribe to newsletter")}finally{o(!1)}},j=async()=>{var E,b;o(!0);try{await Te.unsubscribeFromNewsletter(a._id),c(!1),_.success("Successfully unsubscribed from newsletter"),s==null||s(!1),r()}catch(v){console.error("Error unsubscribing:",v),_.error(((b=(E=v.response)==null?void 0:E.data)==null?void 0:b.error)||"Failed to unsubscribe from newsletter")}finally{o(!1)}},m=(E,b)=>{h(v=>({...v,[E]:b}))};return!t||!a?null:e.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50",onClick:r}),e.jsxs("div",{className:"relative bg-white dark:bg-gray-800 rounded-3xl shadow-2xl max-w-md w-full mx-4 max-h-[90vh] overflow-y-auto",children:[e.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200 dark:border-gray-700",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"p-2 bg-blue-100 dark:bg-blue-900/30 rounded-full",children:e.jsx(Pr,{className:"h-6 w-6 text-blue-600 dark:text-blue-400"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-lg font-bold text-gray-900 dark:text-white",children:"Newsletter Subscription"}),e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:a.name})]})]}),e.jsx("button",{onClick:r,className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-full transition-colors",children:e.jsx(pe,{className:"h-5 w-5 text-gray-500 dark:text-gray-400"})})]}),e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"mb-6 p-4 bg-gray-50 dark:bg-gray-700 rounded-2xl",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-3",children:[e.jsx(Rt,{className:"h-5 w-5 text-gray-500 dark:text-gray-400"}),e.jsx("span",{className:"text-sm font-medium text-gray-900 dark:text-white",children:"Subscription Details"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Kt,{className:"h-4 w-4 text-gray-400"}),e.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-300",children:l==null?void 0:l.email})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Rt,{className:"h-4 w-4 text-gray-400"}),e.jsxs("span",{className:"text-sm text-gray-600 dark:text-gray-300",children:[l==null?void 0:l.firstName," ",l==null?void 0:l.lastName]})]}),(l==null?void 0:l.dogs)&&l.dogs.length>0&&e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Le,{className:"h-4 w-4 text-gray-400"}),e.jsxs("span",{className:"text-sm text-gray-600 dark:text-gray-300",children:["Dog: ",l.dogs[0].name]})]})]})]}),e.jsxs("div",{className:"mb-6",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-3",children:[e.jsx(or,{className:"h-5 w-5 text-blue-500"}),e.jsx("span",{className:"text-sm font-medium text-gray-900 dark:text-white",children:"Subscription Status"})]}),e.jsx("div",{className:`p-3 rounded-xl ${d?"bg-green-50 dark:bg-green-900/20 text-green-800 dark:text-green-400":"bg-gray-50 dark:bg-gray-700 text-gray-600 dark:text-gray-400"}`,children:e.jsxs("div",{className:"flex items-center space-x-2",children:[d?e.jsx(fs,{className:"h-4 w-4"}):e.jsx(ht,{className:"h-4 w-4"}),e.jsx("span",{className:"text-sm font-medium",children:d?"Subscribed":"Not Subscribed"})]})})]}),e.jsxs("div",{className:"mb-6",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-4",children:[e.jsx(ht,{className:"h-5 w-5 text-gray-500 dark:text-gray-400"}),e.jsx("span",{className:"text-sm font-medium text-gray-900 dark:text-white",children:"What would you like to receive?"})]}),e.jsx("div",{className:"space-y-3",children:[{key:"events",label:"Events & Activities",description:"Notifications about upcoming events and activities"},{key:"promotions",label:"Promotions & Offers",description:"Special offers and promotional content"},{key:"announcements",label:"General Announcements",description:"Important updates and news"},{key:"maintenance",label:"Maintenance Updates",description:"Information about closures and maintenance"}].map(E=>e.jsxs("label",{className:"flex items-start space-x-3 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:u[E.key],onChange:b=>m(E.key,b.target.checked),className:"mt-1 h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:E.label}),e.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:E.description})]})]},E.key))})]}),e.jsx("div",{className:"mb-6 p-4 bg-blue-50 dark:bg-blue-900/20 rounded-2xl",children:e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx(or,{className:"h-5 w-5 text-blue-500 mt-0.5"}),e.jsxs("div",{className:"text-sm text-blue-700 dark:text-blue-300",children:[e.jsx("p",{className:"font-medium mb-1",children:"Newsletter Information"}),e.jsx("p",{className:"text-xs",children:"You can unsubscribe at any time using the link in our emails or by clicking the bell icon again. We respect your privacy and will only send relevant updates."})]})]})}),e.jsx("div",{className:"flex space-x-3",children:d?e.jsxs(e.Fragment,{children:[e.jsx("button",{onClick:j,disabled:i,className:"flex-1 px-4 py-3 bg-red-500 text-white rounded-xl hover:bg-red-600 disabled:opacity-50 disabled:cursor-not-allowed transition-colors font-medium",children:i?"Unsubscribing...":"Unsubscribe"}),e.jsx("button",{onClick:f,disabled:i,className:"flex-1 px-4 py-3 bg-blue-500 text-white rounded-xl hover:bg-blue-600 disabled:opacity-50 disabled:cursor-not-allowed transition-colors font-medium",children:i?"Updating...":"Update Preferences"})]}):e.jsxs(e.Fragment,{children:[e.jsx("button",{onClick:r,className:"flex-1 px-4 py-3 bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-300 rounded-xl hover:bg-gray-300 dark:hover:bg-gray-600 transition-colors font-medium",children:"Cancel"}),e.jsx("button",{onClick:f,disabled:i,className:"flex-1 px-4 py-3 bg-blue-500 text-white rounded-xl hover:bg-blue-600 disabled:opacity-50 disabled:cursor-not-allowed transition-colors font-medium",children:i?"Subscribing...":"Subscribe"})]})})]})]})]})},jl=()=>{const{user:t,isAuthenticated:r}=ge(),[a,s]=n.useState([]),[l,i]=n.useState([]),[o,d]=n.useState([]),[c,x]=n.useState(!0),[g,u]=n.useState(""),[h,p]=n.useState("all"),[f,j]=n.useState("cards"),[m,E]=n.useState(10),[b,v]=n.useState(5),[N,w]=n.useState(null),[C,k]=n.useState(!1),[M,$]=n.useState(!1),[A,I]=n.useState(!1),[F,T]=n.useState(!1),[z,W]=n.useState(null),[Z,G]=n.useState({}),R=[5,10,15,20,25,50],V=[2,5,10,15,25,50];n.useEffect(()=>{D(),J(),r&&K();const Y=setInterval(()=>{B()},6e4);return()=>clearInterval(Y)},[r]),n.useEffect(()=>{r&&l.length>0&&be()},[r,l]),n.useEffect(()=>{N&&l.length>0&&q()},[N,l,M,b]);const J=async()=>{if(!navigator.geolocation){console.log(" Geolocation not supported");return}console.log(" Requesting location permission..."),k(!0);try{const Y=await new Promise((ae,me)=>{navigator.geolocation.getCurrentPosition(ae,me,{enableHighAccuracy:!0,timeout:1e4,maximumAge:6e4})}),se={latitude:Y.coords.latitude,longitude:Y.coords.longitude,accuracy:Y.coords.accuracy};console.log(" Location detected:",se),console.log(" Total gardens before filter:",l.length),w(se),$(!0)}catch(Y){console.error(" Error getting location:",Y.message),console.log(' Try the "Test Location" button to test with sample coordinates')}finally{k(!1)}},L=(Y,se,ae,me)=>{const P=(ae-Y)*Math.PI/180,U=(me-se)*Math.PI/180,re=Math.sin(P/2)*Math.sin(P/2)+Math.cos(Y*Math.PI/180)*Math.cos(ae*Math.PI/180)*Math.sin(U/2)*Math.sin(U/2);return 6371*(2*Math.atan2(Math.sqrt(re),Math.sqrt(1-re)))},q=()=>{if(!N){console.log(" No user location available");return}console.log(" Updating gardens with distance calculation..."),console.log(" User location:",N),console.log(" Total gardens to process:",l.length);const Y=l.map(ae=>{var P,U;const me=(U=(P=ae.location)==null?void 0:P.coordinates)==null?void 0:U.coordinates;let S=0;if(me&&Array.isArray(me)&&me.length>=2){const[re,ee]=me;S=L(N.latitude,N.longitude,ee,re),console.log(` ${ae.name}: ${S.toFixed(2)}km away`)}else S=999999,console.log(` ${ae.name}: No coordinates available`);return{...ae,distance:S}});let se=Y;M&&(se=Y.filter(ae=>ae.distance<=b).sort((ae,me)=>ae.distance-me.distance),console.log(` Filtered to ${se.length} gardens within ${b}km`)),s(se)},D=async()=>{try{x(!0);let se=(await Te.getAllGardens()).gardens||[];se.length===0&&(console.log(" No gardens found, loading sample data..."),se=je()),i(se),s(se)}catch(Y){console.error("Error loading gardens:",Y),console.log(" Loading sample data due to error...");const se=je();i(se),s(se)}finally{x(!1)}},B=async()=>{try{const se=(await Te.getAllGardens()).gardens||[];i(se),M||s(se)}catch(Y){console.error("Error refreshing gardens:",Y)}},K=async()=>{if(r)try{const Y=await st.getFavorites();d(Y.favorites||[])}catch(Y){console.error("Error loading favorites:",Y),_.error("Failed to load favorites.")}},le=async Y=>{if(!r){_.info("Please log in to add to favorites.");return}try{if(o.some(ae=>ae._id===Y))await st.removeFavorite(Y),d(ae=>ae.filter(me=>me._id!==Y)),_.success("Garden removed from favorites!");else{await st.addFavorite(Y);const ae=l.find(me=>me._id===Y);ae&&d(me=>[...me,ae]),_.success("Garden added to favorites!")}}catch(se){console.error("Error toggling favorite:",se),_.error("Failed to toggle favorite.")}},oe=Y=>{if(!r){_.info("Please log in to manage newsletter subscriptions.");return}W(Y),T(!0)},Q=(Y,se)=>{G(ae=>({...ae,[Y]:se}))},be=async()=>{if(!(!r||l.length===0))try{const Y={},se=l.map(async ae=>{try{const me=await Te.getNewsletterStatus(ae._id);Y[ae._id]=me.isSubscribed}catch(me){console.warn(`Newsletter status check failed for garden ${ae._id}:`,me.message),Y[ae._id]=!1}});await Promise.all(se),G(Y)}catch(Y){console.error("Error loading newsletter statuses:",Y)}},je=()=>[{_id:"tel_aviv_democratic",name:"Democratic Dog Park",description:"A spacious dog park in the heart of Tel Aviv",type:"public",location:{address:"Democratic Street, Tel Aviv",city:"Tel Aviv",coordinates:{type:"Point",coordinates:[34.7818,32.0853]}},capacity:{maxDogs:25},currentOccupancy:12,amenities:["water","shade","parking","lighting"],statistics:{averageRating:4.5,totalReviews:89},openingHours:{monday:{open:"06:00",close:"22:00",closed:!1},tuesday:{open:"06:00",close:"22:00",closed:!1},wednesday:{open:"06:00",close:"22:00",closed:!1},thursday:{open:"06:00",close:"22:00",closed:!1},friday:{open:"06:00",close:"22:00",closed:!1},saturday:{open:"06:00",close:"22:00",closed:!1},sunday:{open:"06:00",close:"22:00",closed:!1}}},{_id:"jerusalem_sacher",name:"Sacher Dog Park",description:"Beautiful dog park in Sacher Park with great views",type:"public",location:{address:"Sacher Park, Jerusalem",city:"Jerusalem",coordinates:{type:"Point",coordinates:[35.2345,31.7767]}},capacity:{maxDogs:30},currentOccupancy:8,amenities:["water","shade","scenic_view","benches"],statistics:{averageRating:4.6,totalReviews:156},openingHours:{monday:{open:"06:00",close:"22:00",closed:!1},tuesday:{open:"06:00",close:"22:00",closed:!1},wednesday:{open:"06:00",close:"22:00",closed:!1},thursday:{open:"06:00",close:"22:00",closed:!1},friday:{open:"06:00",close:"22:00",closed:!1},saturday:{open:"06:00",close:"22:00",closed:!1},sunday:{open:"06:00",close:"22:00",closed:!1}}},{_id:"haifa_carmel",name:"Carmel Dog Park",description:"Mountain dog park with panoramic views",type:"public",location:{address:"Mount Carmel, Haifa",city:"Haifa",coordinates:{type:"Point",coordinates:[34.9896,32.794]}},capacity:{maxDogs:35},currentOccupancy:15,amenities:["water","shade","scenic_view","parking"],statistics:{averageRating:4.7,totalReviews:203},openingHours:{monday:{open:"06:00",close:"22:00",closed:!1},tuesday:{open:"06:00",close:"22:00",closed:!1},wednesday:{open:"06:00",close:"22:00",closed:!1},thursday:{open:"06:00",close:"22:00",closed:!1},friday:{open:"06:00",close:"22:00",closed:!1},saturday:{open:"06:00",close:"22:00",closed:!1},sunday:{open:"06:00",close:"22:00",closed:!1}}}],de=()=>{const Y=V.indexOf(b),se=Math.min(Y+1,V.length-1);v(V[se])},xe=a.filter(Y=>{var ae,me;const se=Y.name.toLowerCase().includes(g.toLowerCase())||((me=(ae=Y.location)==null?void 0:ae.address)==null?void 0:me.toLowerCase().includes(g.toLowerCase()));return h==="all"?se:h==="public"?se&&Y.type==="public":h==="private"?se&&Y.type==="private":h==="favorites"?se&&o.some(S=>S._id===Y._id):se}).sort((Y,se)=>{const ae=o.some(S=>S._id===Y._id),me=o.some(S=>S._id===se._id);return ae&&!me?-1:!ae&&me?1:0}),ye=xe.slice(0,m),qe=(Y,se)=>{const ae=Y/se*100;return ae>=90?{color:"text-red-600",bg:"bg-red-100 dark:bg-red-900",label:"Very Busy"}:ae>=70?{color:"text-orange-600",bg:"bg-orange-100 dark:bg-orange-900",label:"Busy"}:ae>=40?{color:"text-yellow-600",bg:"bg-yellow-100 dark:bg-yellow-900",label:"Moderate"}:{color:"text-green-600",bg:"bg-green-100 dark:bg-green-900",label:"Quiet"}},ft=[{name:"Total Parks",value:xe.length},{name:"Active Dogs",value:xe.reduce((Y,se)=>Y+(se.currentOccupancy||0),0)},{name:"Top Rated",value:xe.filter(Y=>{var se;return((se=Y.statistics)==null?void 0:se.averageRating)>=4}).length}];return c?e.jsx(yu,{}):e.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900",children:[e.jsxs("div",{className:"max-w-lg mx-auto lg:max-w-7xl",children:[e.jsx("div",{className:"p-4",children:e.jsxs("div",{className:"bg-gradient-to-br from-blue-600 via-purple-600 to-indigo-700 rounded-3xl p-6 text-white shadow-lg relative overflow-hidden",children:[e.jsx("div",{className:"absolute -top-4 -right-4 text-8xl opacity-10",children:""}),e.jsxs("div",{className:"relative z-10",children:[e.jsx("h1",{className:"text-2xl font-bold",children:"Discover Parks"}),e.jsx("p",{className:"text-blue-100",children:"Find the perfect spot for your furry friend"}),e.jsx("div",{className:"grid grid-cols-3 gap-4 mt-4 text-center",children:ft.map(Y=>e.jsxs("div",{className:"bg-white/20 backdrop-blur-sm rounded-2xl p-3",children:[e.jsx("div",{className:"text-2xl font-bold",children:Y.value}),e.jsx("div",{className:"text-xs text-blue-100",children:Y.name})]},Y.name))})]})]})}),e.jsxs("div",{className:"px-4 pb-6",children:[e.jsxs("div",{className:"relative mb-4",children:[e.jsx(Mt,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),e.jsx("input",{type:"text",placeholder:"Search parks...",value:g,onChange:Y=>u(Y.target.value),className:"w-full pl-10 pr-4 py-3 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-3xl text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-purple-500 transition-all"})]}),e.jsxs("div",{className:"flex items-center justify-between mb-4 gap-3",children:[e.jsxs("div",{className:"flex bg-gray-100 dark:bg-gray-800 rounded-xl p-1",children:[e.jsxs("button",{onClick:()=>j("cards"),className:`flex items-center px-3 py-2 rounded-lg text-sm font-medium transition-all ${f==="cards"?"bg-white dark:bg-gray-700 text-purple-600 dark:text-purple-400 shadow-sm":"text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-300"}`,children:[e.jsx(jm,{className:"h-4 w-4 mr-1"}),"Cards"]}),e.jsxs("button",{onClick:()=>j("list"),className:`flex items-center px-3 py-2 rounded-lg text-sm font-medium transition-all ${f==="list"?"bg-white dark:bg-gray-700 text-purple-600 dark:text-purple-400 shadow-sm":"text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-300"}`,children:[e.jsx($0,{className:"h-4 w-4 mr-1"}),"List"]})]}),e.jsxs("div",{className:"relative",children:[e.jsxs("button",{onClick:()=>I(!A),className:"flex items-center px-4 py-2 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-xl text-sm font-medium text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700 transition-all",children:[e.jsx(Md,{className:"h-4 w-4 mr-2"}),"Show ",m,e.jsx(Qn,{className:"h-4 w-4 ml-1"})]}),A&&e.jsx("div",{className:"absolute right-0 mt-2 w-48 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-xl shadow-lg z-10",children:e.jsxs("div",{className:"p-3",children:[e.jsx("div",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Display Count"}),e.jsx("div",{className:"grid grid-cols-3 gap-2",children:R.map(Y=>e.jsx("button",{onClick:()=>{E(Y),I(!1)},className:`px-3 py-1 rounded-lg text-sm font-medium transition-all ${m===Y?"bg-purple-100 dark:bg-purple-900 text-purple-600 dark:text-purple-400":"bg-gray-100 dark:bg-gray-700 text-gray-600 dark:text-gray-400 hover:bg-gray-200 dark:hover:bg-gray-600"}`,children:Y},Y))})]})})]})]}),N&&e.jsxs("div",{className:"mb-4 p-4 bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("div",{className:"flex items-center text-sm text-gray-600 dark:text-gray-400",children:[e.jsx(fe,{className:"h-4 w-4 mr-2"}),"Showing parks within ",b,"km"]}),e.jsx("button",{onClick:()=>$(!M),className:`px-3 py-1 rounded-lg text-sm font-medium transition-all ${M?"bg-purple-100 dark:bg-purple-900 text-purple-600 dark:text-purple-400":"bg-gray-100 dark:bg-gray-700 text-gray-600 dark:text-gray-400"}`,children:M?"By Distance":"All Parks"})]}),e.jsx("div",{className:"flex items-center gap-2",children:V.map(Y=>e.jsxs("button",{onClick:()=>v(Y),className:`px-3 py-1 rounded-lg text-sm font-medium transition-all ${b===Y?"bg-purple-500 text-white":"bg-gray-100 dark:bg-gray-700 text-gray-600 dark:text-gray-400 hover:bg-gray-200 dark:hover:bg-gray-600"}`,children:[Y,"km"]},Y))})]}),!N&&!C&&e.jsx("div",{className:"mb-4 p-4 bg-blue-50 dark:bg-blue-900/20 rounded-xl border border-blue-200 dark:border-blue-800",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center text-sm text-blue-600 dark:text-blue-400",children:[e.jsx(fe,{className:"h-4 w-4 mr-2"}),"Enable location to sort parks by distance"]}),e.jsx("button",{onClick:J,className:"px-4 py-2 bg-blue-500 text-white rounded-lg text-sm font-medium hover:bg-blue-600 transition-all",children:" Enable Location"})]})}),C&&e.jsx("div",{className:"mb-4 p-4 bg-orange-50 dark:bg-orange-900/20 rounded-xl border border-orange-200 dark:border-orange-800",children:e.jsxs("div",{className:"flex items-center text-sm text-orange-600 dark:text-orange-400",children:[e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-orange-600 mr-2"}),"Getting your location..."]})}),!N&&a.length>0&&e.jsx("div",{className:"mb-4 p-4 bg-gray-50 dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center text-sm text-gray-600 dark:text-gray-400",children:[e.jsx("div",{className:"text-2xl mr-2",children:""}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:"Showing all parks"}),e.jsx("div",{className:"text-xs",children:"Enable location to sort by distance"})]})]}),e.jsxs("div",{className:"text-right text-sm text-gray-500 dark:text-gray-400",children:[e.jsxs("div",{className:"font-medium",children:[xe.length," parks"]}),e.jsx("div",{className:"text-xs",children:"across the area"})]})]})}),!N&&!1,e.jsx("div",{className:"flex space-x-2 bg-gray-100 dark:bg-gray-800 rounded-full p-1 mb-6",children:[{name:"Favorites",type:"favorites",icon:Le},{name:"All",type:"all",icon:Rr},{name:"Public",type:"public",icon:Ne},{name:"Private",type:"private",icon:Vt}].map(Y=>{const se=Y.icon,ae=h===Y.type;return e.jsxs("button",{onClick:()=>p(Y.type),className:`flex-1 flex justify-center items-center space-x-2 px-4 py-2 rounded-full font-medium text-sm transition-all duration-300 ${ae?"bg-white dark:bg-gray-700 text-purple-600 dark:text-purple-300 shadow":"text-gray-500 dark:text-gray-400 hover:bg-gray-200 dark:hover:bg-gray-700/50"}`,children:[e.jsx(se,{className:"w-5 h-5"}),e.jsx("span",{children:Y.name})]},Y.type)})}),ye.length===0?e.jsx("div",{className:"text-center py-16",children:e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-3xl p-12 border border-gray-100 dark:border-gray-700 shadow-lg",children:[e.jsx("div",{className:"text-6xl mb-4",children:""}),e.jsx("h3",{className:"text-xl font-semibold bg-gradient-to-r from-purple-600 to-pink-600 bg-clip-text text-transparent mb-2",children:"No Parks Found"}),e.jsx("p",{className:"text-gray-500 dark:text-gray-400 mb-6",children:M&&N?`No parks found within ${b}km of your location.`:"We couldn't find any parks matching your search criteria."}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 justify-center",children:[e.jsx("button",{onClick:()=>{u(""),p("all")},className:"inline-flex items-center px-6 py-3 bg-gradient-to-r from-purple-600 to-pink-600 text-white rounded-3xl font-medium hover:from-purple-700 hover:to-pink-700 transition-all shadow-lg",children:"Clear Filters"}),M&&b<V[V.length-1]&&e.jsxs("button",{onClick:de,className:"inline-flex items-center px-6 py-3 bg-blue-500 text-white rounded-3xl font-medium hover:bg-blue-600 transition-all shadow-lg",children:[e.jsx(Xt,{className:"h-4 w-4 mr-2"}),"Expand Range"]})]})]})}):e.jsxs(e.Fragment,{children:[e.jsx("div",{className:f==="cards"?"space-y-6":"space-y-3",children:ye.map((Y,se)=>f==="cards"?e.jsx(Ru,{garden:Y,index:se,getOccupancyStatus:qe,isFavorite:o.some(ae=>ae._id===Y._id),toggleFavorite:le,isNewsletterSubscribed:Z[Y._id],onNewsletterClick:oe},Y._id):e.jsx(Au,{garden:Y,getOccupancyStatus:qe,isFavorite:o.some(ae=>ae._id===Y._id),toggleFavorite:le,isNewsletterSubscribed:Z[Y._id],onNewsletterClick:oe},Y._id))}),ye.length<xe.length&&e.jsx("div",{className:"text-center mt-8",children:e.jsxs("button",{onClick:()=>E(Y=>Math.min(Y+10,xe.length)),className:"inline-flex items-center px-8 py-3 bg-gradient-to-r from-purple-500 to-pink-500 text-white rounded-3xl font-medium hover:from-purple-600 hover:to-pink-600 transition-all shadow-lg transform hover:scale-105",children:[e.jsx(Lr,{className:"h-5 w-5 mr-2"}),"Load More Parks (",xe.length-ye.length," remaining)"]})}),M&&N&&ye.length===xe.length&&xe.length>0&&b<V[V.length-1]&&e.jsx("div",{className:"text-center mt-8",children:e.jsxs("button",{onClick:de,className:"inline-flex items-center px-8 py-3 bg-blue-500 text-white rounded-3xl font-medium hover:bg-blue-600 transition-all shadow-lg transform hover:scale-105",children:[e.jsx(Xt,{className:"h-5 w-5 mr-2"}),"Expand Range to ",V[V.indexOf(b)+1],"km"]})})]})]}),e.jsx("div",{className:"hidden lg:block px-8 py-8",children:e.jsx("div",{className:"text-center text-gray-500 dark:text-gray-400",children:"Desktop gardens layout coming soon..."})})]}),e.jsx(vl,{isOpen:F,onClose:()=>T(!1),garden:z,onSubscriptionChange:Y=>{z&&Q(z._id,Y)}})]})},Ru=({garden:t,index:r,getOccupancyStatus:a,isFavorite:s,toggleFavorite:l,isNewsletterSubscribed:i,onNewsletterClick:o})=>{var x,g,u,h,p,f;const d=a(t.currentOccupancy||0,((x=t.capacity)==null?void 0:x.maxDogs)||50),c=r<2&&(t.currentOccupancy||0)>3;return e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-3xl overflow-hidden shadow-lg border border-gray-100 dark:border-gray-700 hover:shadow-xl transition-all duration-300",children:[e.jsxs("div",{className:`relative h-32 ${t.type==="public"?"bg-gradient-to-br from-purple-400 via-pink-400 to-red-400":"bg-gradient-to-br from-purple-500 via-pink-500 to-red-500"}`,children:[e.jsx("div",{className:"absolute top-3 left-3",children:c?e.jsxs("div",{className:"bg-black bg-opacity-50 rounded-full px-3 py-1 flex items-center space-x-1",children:[e.jsx(Qe,{className:"h-4 w-4 text-orange-400"}),e.jsx("span",{className:"text-white text-xs font-medium",children:"Trending now!"})]}):(t.currentOccupancy||0)>0?e.jsx("div",{className:"bg-black bg-opacity-50 rounded-full px-3 py-1 flex items-center space-x-1",children:e.jsxs("span",{className:"text-white text-xs font-medium",children:[" ",t.currentOccupancy," dogs here"]})}):null}),e.jsx("div",{className:"absolute top-3 right-3",children:e.jsx("div",{className:`rounded-full px-3 py-1 ${t.type==="public","bg-white bg-opacity-90 backdrop-blur-sm"}`,children:e.jsx("span",{className:`text-xs font-bold ${t.type==="public"?"text-purple-700":"text-pink-700"}`,children:t.type==="public"?" Public":" Private"})})}),t.distance&&e.jsx("div",{className:"absolute bottom-3 left-3",children:e.jsx("div",{className:"bg-black bg-opacity-50 rounded-full px-3 py-1",children:e.jsxs("span",{className:"text-white text-xs font-medium",children:[" ",t.distance.toFixed(1),"km away"]})})}),e.jsxs("div",{className:"absolute bottom-3 right-3 flex space-x-2",children:[e.jsx("button",{onClick:()=>l(t._id),className:"p-2 bg-white bg-opacity-20 rounded-full hover:bg-opacity-30 transition-all backdrop-blur-sm",children:e.jsx(Le,{className:`h-5 w-5 ${s?"text-red-500":"text-white"}`})}),e.jsx("button",{onClick:()=>o(t),className:"p-2 bg-white bg-opacity-20 rounded-full hover:bg-opacity-30 transition-all backdrop-blur-sm",children:i?e.jsx(Pr,{className:"h-5 w-5 text-blue-500"}):e.jsx(ht,{className:"h-5 w-5 text-white"})})]})]}),e.jsxs("div",{className:"p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("h3",{className:"text-lg font-bold text-gray-900 dark:text-white",children:t.name}),((g=t.statistics)==null?void 0:g.averageRating)>0&&e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(tr,{className:"h-4 w-4 text-yellow-400"}),e.jsx("span",{className:"text-sm font-medium text-gray-900 dark:text-white",children:t.statistics.averageRating.toFixed(1)})]})]}),e.jsxs("div",{className:"flex items-center text-sm text-gray-600 dark:text-gray-400 mb-3",children:[e.jsx(fe,{className:"h-4 w-4 mr-1"}),e.jsx("span",{className:"truncate",children:((u=t.location)==null?void 0:u.address)||"Location not specified"})]}),e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("div",{className:"flex items-center text-sm text-gray-600 dark:text-gray-400",children:[e.jsx(Ne,{className:"h-4 w-4 mr-2"}),e.jsxs("span",{children:[t.currentOccupancy||0," / ",((h=t.capacity)==null?void 0:h.maxDogs)||"No limit"," dogs"]})]}),e.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${d.bg} ${d.color}`,children:d.label})]}),t.amenities&&t.amenities.length>0&&e.jsx("div",{className:"mb-4",children:e.jsxs("div",{className:"flex flex-wrap gap-2",children:[t.amenities.slice(0,3).map(j=>e.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-purple-50 dark:bg-purple-900 text-purple-700 dark:text-purple-300",children:[" ",j]},j)),t.amenities.length>3&&e.jsxs("span",{className:"text-xs text-gray-500 dark:text-gray-400 flex items-center px-2",children:["+",t.amenities.length-3," more"]})]})}),(t.currentOccupancy||0)>0&&e.jsxs("div",{className:"flex items-center justify-between mb-4 p-3 bg-gray-50 dark:bg-gray-700 rounded-2xl",children:[e.jsxs("div",{className:"flex -space-x-2",children:[((p=t.currentVisitors)==null?void 0:p.slice(0,4).map((j,m)=>{var E;return e.jsx("div",{className:"relative",children:(E=j.dog)!=null&&E.image?e.jsx("img",{src:j.dog.image,alt:j.dog.name,className:"h-8 w-8 rounded-full border-2 border-white dark:border-gray-700 object-cover"}):e.jsx("div",{className:"h-8 w-8 rounded-full bg-gradient-to-r from-purple-400 to-pink-500 border-2 border-white dark:border-gray-700 flex items-center justify-center text-sm",children:""})},m)}))||[...Array(Math.min(4,t.currentOccupancy||0))].map((j,m)=>e.jsx("div",{className:"h-8 w-8 rounded-full bg-gradient-to-r from-purple-400 to-pink-500 border-2 border-white dark:border-gray-700 flex items-center justify-center text-sm",children:""},m)),(t.currentOccupancy||0)>4&&e.jsxs("div",{className:"h-8 w-8 rounded-full bg-gray-400 border-2 border-white dark:border-gray-700 flex items-center justify-center text-xs text-white font-medium",children:["+",(t.currentOccupancy||0)-4]})]}),e.jsxs("div",{className:"flex items-center text-xs text-gray-500 dark:text-gray-400",children:[e.jsx(Ae,{className:"h-3 w-3 mr-1"}),"Active now"]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-4 text-sm text-gray-600 dark:text-gray-400",children:[e.jsxs("span",{className:"flex items-center",children:[" ",t.currentOccupancy||0," dogs"]}),((f=t.statistics)==null?void 0:f.averageRating)>0&&e.jsxs("span",{className:"flex items-center",children:[" ",t.statistics.averageRating.toFixed(1)]})]}),e.jsx(ce,{to:`/garden/${t._id}`,className:`px-6 py-2 rounded-2xl font-medium transition-all shadow-lg ${c?"bg-gradient-to-r from-orange-500 to-red-500 text-white hover:from-orange-600 hover:to-red-600":"bg-gradient-to-r from-purple-500 to-pink-500 text-white hover:from-purple-600 hover:to-pink-600"}`,children:(t.currentOccupancy||0)>0?"Join Now":"Visit"})]})]})]})},Au=({garden:t,getOccupancyStatus:r,isFavorite:a,toggleFavorite:s,isNewsletterSubscribed:l,onNewsletterClick:i})=>{var d,c,x;const o=r(t.currentOccupancy||0,((d=t.capacity)==null?void 0:d.maxDogs)||50);return e.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-gray-100 dark:border-gray-700 hover:shadow-lg transition-all duration-300",children:e.jsx("div",{className:"p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx("div",{className:`w-3 h-3 rounded-full ${t.type==="public"?"bg-purple-500":"bg-pink-500"}`}),e.jsx("h3",{className:"font-bold text-gray-900 dark:text-white",children:t.name}),t.distance&&e.jsxs("span",{className:"text-xs text-gray-500 dark:text-gray-400 bg-gray-100 dark:bg-gray-700 px-2 py-1 rounded-full",children:[t.distance.toFixed(1),"km"]})]}),e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsxs("div",{className:"flex items-center text-sm text-gray-600 dark:text-gray-400",children:[e.jsx(fe,{className:"h-4 w-4 mr-1"}),e.jsx("span",{className:"truncate",children:((c=t.location)==null?void 0:c.address)||"Address not specified"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{onClick:()=>s(t._id),className:"p-1 rounded-full hover:bg-gray-100 dark:hover:bg-gray-700 transition-all",children:e.jsx(Le,{className:`h-5 w-5 ${a?"text-red-500":"text-gray-400"}`})}),e.jsx("button",{onClick:()=>i(t),className:"p-1 rounded-full hover:bg-gray-100 dark:hover:bg-gray-700 transition-all",children:l?e.jsx(Pr,{className:"h-5 w-5 text-blue-500"}):e.jsx(ht,{className:"h-5 w-5 text-gray-400"})})]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center text-sm text-gray-600 dark:text-gray-400",children:[e.jsx(Ne,{className:"h-4 w-4 mr-2"}),e.jsxs("span",{children:[t.currentOccupancy||0," / ",((x=t.capacity)==null?void 0:x.maxDogs)||"No limit"," dogs"]})]}),e.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${o.bg} ${o.color}`,children:o.label})]})]}),e.jsx("div",{className:"ml-4",children:e.jsx(ce,{to:`/garden/${t._id}`,className:"px-4 py-2 bg-gradient-to-r from-purple-500 to-pink-500 text-white rounded-xl font-medium hover:from-purple-600 hover:to-pink-600 transition-all",children:"Visit"})})]})})})},wl=Object.freeze(Object.defineProperty({__proto__:null,default:jl},Symbol.toStringTag,{value:"Module"})),Ue={sendFriendRequest:async(t,r="")=>{var a,s;try{return(await H.post("/friendships/request",{recipientId:t,message:r})).data}catch(l){throw new Error(((s=(a=l.response)==null?void 0:a.data)==null?void 0:s.error)||"Failed to send friend request")}},acceptFriendRequest:async t=>{var r,a;try{return(await H.put(`/friendships/accept/${t}`)).data}catch(s){throw new Error(((a=(r=s.response)==null?void 0:r.data)==null?void 0:a.error)||"Failed to accept friend request")}},declineFriendRequest:async t=>{var r,a;try{return(await H.put(`/friendships/decline/${t}`)).data}catch(s){throw new Error(((a=(r=s.response)==null?void 0:r.data)==null?void 0:a.error)||"Failed to decline friend request")}},getFriends:async()=>{try{return(await H.get("/friendships")).data.friends||[]}catch{throw new Error("Failed to get friends")}},getPendingRequests:async()=>{try{return(await H.get("/friendships/requests/pending")).data.requests||[]}catch{throw new Error("Failed to get pending requests")}},getSentRequests:async()=>{try{return(await H.get("/friendships/requests/sent")).data.requests||[]}catch{throw new Error("Failed to get sent requests")}},removeFriend:async t=>{var r,a;try{return(await H.delete(`/friendships/${t}`)).data}catch(s){throw new Error(((a=(r=s.response)==null?void 0:r.data)==null?void 0:a.error)||"Failed to remove friend")}},blockUser:async t=>{var r,a;try{return(await H.post(`/friendships/block/${t}`)).data}catch(s){throw new Error(((a=(r=s.response)==null?void 0:r.data)==null?void 0:a.error)||"Failed to block user")}},getFriendshipStatus:async t=>{try{return(await H.get(`/friendships/status/${t}`)).data}catch{throw new Error("Failed to get friendship status")}},getMutualFriends:async t=>{try{return(await H.get(`/friendships/mutual/${t}`)).data.mutualFriends||[]}catch{throw new Error("Failed to get mutual friends")}},searchFriends:async t=>{try{return(await H.get(`/friendships/search?query=${encodeURIComponent(t)}`)).data.friends||[]}catch{throw new Error("Failed to search friends")}}},Ra=({targetUser:t,className:r="",size:a="md"})=>{const{user:s}=ge(),l=Ce(),[i,o]=n.useState(!1),d=async()=>{var g;if(!(!t||t._id===s._id)){o(!0);try{const u=window.innerWidth<1024,h=[s._id,t._id].sort().join("-");let p=null;try{const j=(g=(await Qr.getChats()).chats)==null?void 0:g.find(m=>m.participants.some(E=>E._id===t._id));j&&(p=j._id)}catch(f){console.log("No existing chats found or error fetching chats:",f)}if(p)if(u)l(`/chat/${p}`);else{const f=document.querySelector("[data-chat-toggle]");f?f.click():window.dispatchEvent(new CustomEvent("openChat",{detail:{chatId:p}})),setTimeout(()=>{window.dispatchEvent(new CustomEvent("selectChat",{detail:{chatId:p,targetUser:t}}))},100)}else if(u)l(`/chat/${h}`);else{const f=document.querySelector("[data-chat-toggle]");f?f.click():window.dispatchEvent(new CustomEvent("openChat",{detail:{chatId:h}})),setTimeout(()=>{window.dispatchEvent(new CustomEvent("selectChat",{detail:{chatId:h,targetUser:t}}))},100)}}catch(u){console.error("Error opening chat:",u),_.error("Failed to open chat. Please try again.")}finally{o(!1)}}},c={sm:"px-3 py-1.5 text-sm",md:"px-4 py-2 text-sm",lg:"px-6 py-3 text-base"},x={sm:"h-4 w-4",md:"h-5 w-5",lg:"h-6 w-6"};return!t||t._id===s._id?null:e.jsxs("button",{onClick:d,disabled:i,className:`
        inline-flex items-center justify-center
        bg-gradient-to-r from-purple-600 to-pink-600 
        hover:from-purple-700 hover:to-pink-700 
        text-white font-medium rounded-xl
        transition-all duration-200 transform hover:scale-105
        disabled:opacity-50 disabled:cursor-not-allowed disabled:transform-none
        shadow-lg hover:shadow-xl
        ${c[a]}
        ${r}
      `,children:[e.jsx(ta,{className:`${x[a]} mr-2`}),i?"Opening...":"Chat"]})},Nl=n.forwardRef(({gardenId:t},r)=>{const{isAuthenticated:a,user:s}=ge(),[l,i]=n.useState([]),[o,d]=n.useState({}),[c,x]=n.useState(!1);n.useEffect(()=>{g();const p=setInterval(g,3e4);return()=>clearInterval(p)},[t]);const g=async()=>{try{x(!0);const p=await Te.getCurrentVisitors(t);if(i(p.visitors),a&&s&&p.visitors.length>0){const f={};await Promise.all(p.visitors.map(async j=>{if(j.user._id!==s._id)try{const m=await Ue.getFriendshipStatus(j.user._id);f[j.user._id]=m}catch(m){console.error("Error loading friendship status:",m),f[j.user._id]=null}})),d(f)}}catch(p){console.error("Error loading visitors:",p),i([])}finally{x(!1)}};n.useImperativeHandle(r,()=>({refresh:g}));const u=p=>{const f=Math.floor((Date.now()-new Date(p).getTime())/6e4);return f<60?`${f}m ago`:`${Math.floor(f/60)}h ${f%60}m ago`},h=p=>{if(!a||!s||p._id===s._id)return!1;const f=o[p._id];return(f==null?void 0:f.status)==="accepted"};return c?e.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-3xl shadow-lg border border-gray-100 dark:border-gray-700 overflow-hidden",children:e.jsxs("div",{className:"px-6 py-5",children:[e.jsx("div",{className:"flex items-center justify-between mb-6",children:e.jsxs("h3",{className:"text-lg font-bold text-gray-900 dark:text-white flex items-center",children:[e.jsx(Ne,{className:"h-5 w-5 mr-2 text-purple-500"}),"Currently in the Park"]})}),e.jsxs("div",{className:"text-center py-8",children:[e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-purple-500 mx-auto"}),e.jsx("p",{className:"text-gray-500 dark:text-gray-400 mt-2",children:"Loading visitors..."})]})]})}):e.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-3xl shadow-lg border border-gray-100 dark:border-gray-700 overflow-hidden",children:e.jsxs("div",{className:"px-6 py-5",children:[e.jsx("div",{className:"flex items-center justify-between mb-6",children:e.jsxs("h3",{className:"text-lg font-bold text-gray-900 dark:text-white flex items-center",children:[e.jsx(Ne,{className:"h-5 w-5 mr-2 text-purple-500"}),"Currently in the Park (",l.length,")"]})}),l.length===0?e.jsxs("div",{className:"text-center py-8",children:[e.jsx("div",{className:"text-6xl mb-4",children:""}),e.jsx("p",{className:"text-gray-500 dark:text-gray-400 font-medium",children:"No one is currently in the park"}),e.jsx("p",{className:"text-sm text-gray-400 dark:text-gray-500 mt-1",children:"Be the first to check in!"})]}):e.jsx("div",{className:"space-y-4",children:l.map(p=>e.jsx("div",{className:"bg-gray-50 dark:bg-gray-700 rounded-2xl p-4 border border-gray-100 dark:border-gray-600",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex-shrink-0",children:p.user.profileImage?e.jsx("img",{className:"h-12 w-12 rounded-full object-cover border-2 border-white dark:border-gray-600 shadow-sm",src:p.user.profileImage,alt:""}):e.jsx("div",{className:"h-12 w-12 rounded-full bg-gradient-to-br from-purple-400 to-pink-400 flex items-center justify-center border-2 border-white dark:border-gray-600 shadow-sm",children:e.jsx("span",{className:"text-white font-bold text-lg",children:p.user.firstName[0]})})}),e.jsxs("div",{className:"ml-4",children:[e.jsxs("p",{className:"text-sm font-bold text-gray-900 dark:text-white",children:[p.user.firstName," ",p.user.lastName]}),e.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400 flex items-center",children:[e.jsx(Ae,{className:"h-3 w-3 mr-1"}),"Arrived ",u(p.checkInTime)]})]})]}),p.dogs.length>0&&e.jsxs("div",{className:"mt-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-300 mb-3",children:"With dogs:"}),e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:p.dogs.map(f=>e.jsxs(ce,{to:`/dogs/profile/${f._id}`,className:"flex items-center space-x-3 bg-gradient-to-r from-blue-50 to-indigo-50 dark:from-blue-900/20 dark:to-indigo-900/20 hover:from-blue-100 hover:to-indigo-100 dark:hover:from-blue-900/30 dark:hover:to-indigo-900/30 border border-blue-200 dark:border-blue-700 rounded-xl p-3 transition-all duration-200 hover:shadow-md group",children:[e.jsxs("div",{className:"flex-shrink-0 relative",children:[f.image||f.gallery&&f.gallery.length>0?e.jsx("img",{className:"h-12 w-12 rounded-full object-cover border-2 border-white dark:border-gray-600 shadow-sm group-hover:scale-105 transition-transform duration-200",src:f.image||f.gallery[0],alt:f.name,onError:j=>{j.target.style.display="none",j.target.nextSibling.style.display="flex"}}):null,e.jsx("div",{className:`h-12 w-12 rounded-full bg-gradient-to-br from-orange-100 to-amber-100 dark:from-orange-900/50 dark:to-amber-900/50 border-2 border-white dark:border-gray-600 shadow-sm flex items-center justify-center group-hover:scale-105 transition-transform duration-200 ${f.image||f.gallery&&f.gallery.length>0?"hidden":"flex"}`,children:e.jsx("span",{className:"text-xl",children:""})}),e.jsx("div",{className:"absolute -bottom-0.5 -right-0.5 w-4 h-4 bg-green-400 border-2 border-white dark:border-gray-600 rounded-full flex items-center justify-center",children:e.jsx("div",{className:"w-2 h-2 bg-green-600 rounded-full animate-pulse"})})]}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-sm font-semibold text-gray-900 dark:text-white truncate group-hover:text-blue-700 dark:group-hover:text-blue-300 transition-colors",children:f.name}),e.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400 truncate",children:[f.breed,"  ",f.size,f.age&&`  ${f.age} months`]})]}),e.jsx("div",{className:"flex-shrink-0",children:e.jsx("div",{className:"w-2 h-2 bg-green-400 rounded-full"})})]},f._id))})]})]}),h(p.user)&&e.jsx("div",{className:"ml-4 flex-shrink-0",children:e.jsx(Ra,{targetUser:p.user,size:"sm",className:"mt-2"})})]})},p._id))})]})})});Nl.displayName="CurrentVisitors";const Bs={async createReview(t){return(await H.post("/reviews",t)).data},async getGardenReviews(t,r={}){return(await H.get(`/reviews/garden/${t}`,{params:r})).data},async updateReview(t,r){return(await H.put(`/reviews/${t}`,r)).data},async deleteReview(t){return(await H.delete(`/reviews/${t}`)).data},async markHelpful(t){return(await H.post(`/reviews/${t}/helpful`)).data}},Mu=({gardenId:t,canReview:r=!1,visitId:a=null})=>{const{user:s,isAuthenticated:l}=ge(),[i,o]=n.useState([]),[d,c]=n.useState(!0),[x,g]=n.useState(!1),[u,h]=n.useState({rating:{overall:5,cleanliness:5,safety:5,amenities:5,accessibility:5},review:""});n.useEffect(()=>{p()},[t]);const p=async()=>{try{c(!0);const E=await Bs.getGardenReviews(t);o(E.reviews)}catch(E){console.error("Error loading reviews:",E),o([])}finally{c(!1)}},f=async E=>{var b,v;if(E.preventDefault(),!l){_.info("Please log in to write a review");return}if(!a){_.error("You can only review after a visit");return}try{await Bs.createReview({gardenId:t,visitId:a,...u}),_.success("Review submitted successfully!"),g(!1),p()}catch(N){console.error("Error submitting review:",N),_.error(((v=(b=N.response)==null?void 0:b.data)==null?void 0:v.error)||"Failed to submit review")}},j=async E=>{if(!l){_.info("Please log in to mark reviews as helpful");return}try{const b=await Bs.markHelpful(E);_.success("Feedback recorded"),o(i.map(v=>v._id===E?{...v,helpful:b.helpfulCount}:v))}catch(b){console.error("Error marking helpful:",b)}},m=({value:E,onChange:b=null,size:v="sm"})=>e.jsxs("div",{className:"flex items-center",children:[[1,2,3,4,5].map(N=>e.jsx("button",{type:"button",onClick:()=>b&&b(N),className:`${b?"cursor-pointer":"cursor-default"} ${v==="sm"?"text-lg":"text-2xl"}`,disabled:!b,children:e.jsx(tr,{className:`${v==="sm"?"h-5 w-5":"h-6 w-6"} ${N<=E?"text-yellow-400":"text-gray-300"}`})},N)),e.jsxs("span",{className:"ml-2 text-sm text-gray-600",children:[E,"/5"]})]});return e.jsx("div",{className:"bg-white shadow rounded-lg overflow-hidden",children:e.jsxs("div",{className:"px-4 py-5 sm:p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Reviews"}),r&&!x&&e.jsx("button",{onClick:()=>g(!0),className:"inline-flex items-center px-3 py-2 border border-transparent text-sm leading-4 font-medium rounded-md text-white bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500",children:"Write a Review"})]}),l&&!r&&e.jsx("div",{className:"mb-6 p-4 bg-blue-50 border border-blue-200 rounded-lg",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("span",{className:"text-blue-400 text-xl",children:""})}),e.jsx("div",{className:"ml-3",children:e.jsxs("p",{className:"text-sm text-blue-800",children:[e.jsx("strong",{children:"Want to write a review?"})," You can review this garden after completing a visit. Check in with your dogs and complete your visit to share your experience!"]})})]})}),!l&&e.jsx("div",{className:"mb-6 p-4 bg-gray-50 border border-gray-200 rounded-lg",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("span",{className:"text-gray-400 text-xl",children:""})}),e.jsx("div",{className:"ml-3",children:e.jsxs("p",{className:"text-sm text-gray-600",children:[e.jsx("strong",{children:"Want to write a review?"})," Please log in and complete a visit to this garden first."]})})]})}),x&&e.jsxs("form",{onSubmit:f,className:"mb-6 p-4 bg-gray-50 rounded-lg",children:[e.jsx("h4",{className:"text-md font-medium text-gray-900 mb-4",children:"Share Your Experience"}),e.jsxs("div",{className:"space-y-3 mb-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Overall Rating"}),e.jsx(m,{value:u.rating.overall,onChange:E=>h({...u,rating:{...u.rating,overall:E}}),size:"md"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs text-gray-600",children:"Cleanliness"}),e.jsx(m,{value:u.rating.cleanliness,onChange:E=>h({...u,rating:{...u.rating,cleanliness:E}})})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs text-gray-600",children:"Safety"}),e.jsx(m,{value:u.rating.safety,onChange:E=>h({...u,rating:{...u.rating,safety:E}})})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs text-gray-600",children:"Amenities"}),e.jsx(m,{value:u.rating.amenities,onChange:E=>h({...u,rating:{...u.rating,amenities:E}})})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs text-gray-600",children:"Accessibility"}),e.jsx(m,{value:u.rating.accessibility,onChange:E=>h({...u,rating:{...u.rating,accessibility:E}})})]})]})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{htmlFor:"review",className:"block text-sm font-medium text-gray-700 mb-1",children:"Your Review"}),e.jsx("textarea",{id:"review",rows:4,value:u.review,onChange:E=>h({...u,review:E.target.value}),className:"block w-full rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500 sm:text-sm",placeholder:"Share your experience...",required:!0})]}),e.jsxs("div",{className:"flex justify-end space-x-3",children:[e.jsx("button",{type:"button",onClick:()=>g(!1),className:"inline-flex items-center px-3 py-2 border border-gray-300 shadow-sm text-sm leading-4 font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500",children:"Cancel"}),e.jsx("button",{type:"submit",className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500",children:"Submit Review"})]})]}),d?e.jsx("div",{className:"text-center py-4",children:"Loading reviews..."}):i.length===0?e.jsx("p",{className:"text-center text-gray-500 py-8",children:"No reviews yet. Be the first to review!"}):e.jsx("div",{className:"space-y-6",children:i.map(E=>{var b;return e.jsxs("div",{className:"border-b pb-6 last:border-b-0",children:[e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex items-start",children:[E.user.profileImage?e.jsx("img",{className:"h-10 w-10 rounded-full",src:E.user.profileImage,alt:""}):e.jsx("div",{className:"h-10 w-10 rounded-full bg-gray-300 flex items-center justify-center",children:e.jsx("span",{className:"text-gray-600 text-sm",children:E.user.firstName[0]})}),e.jsxs("div",{className:"ml-3",children:[e.jsxs("p",{className:"text-sm font-medium text-gray-900",children:[E.user.firstName," ",E.user.lastName]}),e.jsx("p",{className:"text-xs text-gray-500",children:new Date(E.createdAt).toLocaleDateString()})]})]}),e.jsx(m,{value:E.rating.overall})]}),e.jsx("div",{className:"mt-3 text-sm text-gray-700",children:e.jsx("p",{children:E.review})}),E.rating.cleanliness&&e.jsxs("div",{className:"mt-3 grid grid-cols-2 gap-2 text-xs",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-500",children:"Cleanliness:"}),e.jsxs("span",{className:"font-medium",children:[E.rating.cleanliness,"/5"]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-500",children:"Safety:"}),e.jsxs("span",{className:"font-medium",children:[E.rating.safety,"/5"]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-500",children:"Amenities:"}),e.jsxs("span",{className:"font-medium",children:[E.rating.amenities,"/5"]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-500",children:"Accessibility:"}),e.jsxs("span",{className:"font-medium",children:[E.rating.accessibility,"/5"]})]})]}),e.jsx("div",{className:"mt-4 flex items-center",children:e.jsxs("button",{onClick:()=>j(E._id),className:"inline-flex items-center text-sm text-gray-500 hover:text-gray-700",children:[e.jsx(w0,{className:"h-4 w-4 mr-1"}),"Helpful (",((b=E.helpful)==null?void 0:b.length)||0,")"]})})]},E._id)})})]})})},kl=({garden:t,onQRGenerated:r})=>{const{user:a}=ge(),[s,l]=n.useState(null),[i,o]=n.useState(!1),[d,c]=n.useState(!1),[x,g]=n.useState(""),u=()=>!a||!t?!1:!!(a.role==="admin"||t.manager&&(t.manager._id===a._id||t.manager===a._id));if(!u())return null;n.useEffect(()=>{t&&u()&&h()},[t,a]);const h=async()=>{if(t){o(!0);try{const b=`${window.location.origin}/garden/${t._id}`;g(b);try{const v=`https://api.qrserver.com/v1/create-qr-code/?size=300x300&data=${encodeURIComponent(b)}&format=png&ecc=M&margin=1`,N=new Image;N.crossOrigin="anonymous",N.onload=()=>{const w=document.createElement("canvas"),C=w.getContext("2d"),k=300;w.width=k,w.height=k,C.fillStyle="#ffffff",C.fillRect(0,0,k,k),C.drawImage(N,10,10,k-20,k-20),C.strokeStyle="#e5e7eb",C.lineWidth=2,C.strokeRect(1,1,k-2,k-2);const M=w.toDataURL("image/png",1);l(M),r&&r({qrCodeDataUrl:M,qrUrl:b,qrId:t._id})},N.onerror=()=>{console.warn("QR API failed, using fallback QR generator."),p(b)},N.src=v}catch{console.log("API request failed, using fallback"),p(b)}}catch(b){console.error("Error generating QR code:",b),p(`${window.location.origin}/garden/${t._id}`)}finally{o(!1)}}},p=b=>{const v=document.createElement("canvas"),N=v.getContext("2d"),w=300;v.width=w,v.height=w,N.fillStyle="#ffffff",N.fillRect(0,0,w,w);const C=25,k=Math.floor((w-40)/C),M=(w-C*k)/2;N.fillStyle="#000000";const $=b.split("").reduce((T,z,W)=>T+z.charCodeAt(0)*(W+1),0),A=[];for(let T=0;T<C;T++){A[T]=[];for(let z=0;z<C;z++){const W=($+T*37+z*23)%100;A[T][z]=W<40}}const I=(T,z)=>{for(let W=0;W<7;W++)for(let Z=0;Z<7;Z++)T+W<C&&z+Z<C&&(A[T+W][z+Z]=!1);for(let W=0;W<7;W++)for(let Z=0;Z<7;Z++)T+W<C&&z+Z<C&&(W===0||W===6||Z===0||Z===6)&&(A[T+W][z+Z]=!0);for(let W=2;W<5;W++)for(let Z=2;Z<5;Z++)T+W<C&&z+Z<C&&(A[T+W][z+Z]=!0)};I(0,0),I(0,C-7),I(C-7,0);for(let T=8;T<C-8;T++)A[6][T]=T%2===0,A[T][6]=T%2===0;for(let T=0;T<C;T++)for(let z=0;z<C;z++)A[T][z]&&N.fillRect(M+z*k,M+T*k,k,k);N.strokeStyle="#e5e7eb",N.lineWidth=2,N.strokeRect(1,1,w-2,w-2);const F=v.toDataURL("image/png",1);l(F)},f=(b="png")=>{if(!s)return;const v=document.createElement("a"),N=`${t.name.replace(/[^a-zA-Z0-9]/g,"_")}-qr-code.${b}`;v.href=s,v.download=N,document.body.appendChild(v),v.click(),document.body.removeChild(v)},j=async()=>{try{await navigator.clipboard.writeText(x),c(!0),setTimeout(()=>c(!1),2e3)}catch(b){console.error("Failed to copy link:",b)}},m=async()=>{if(navigator.share)try{await navigator.share({title:`Dog Park - ${t.name}`,text:`Come visit the "${t.name}" dog park!`,url:x})}catch(b){console.error("Error sharing:",b),j()}else j()},E=()=>{if(!s)return;const b=window.open("","_blank");b.document.write(`
      <html>
        <head>
          <title>QR Code - ${t.name}</title>
          <style>
            body { 
              margin: 0; 
              padding: 20px; 
              text-align: center; 
              font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif;
            }
            .qr-container {
              max-width: 400px;
              margin: 20px auto;
              padding: 20px;
              border: 1px solid #ddd;
              border-radius: 12px;
            }
            .qr-image {
              width: 100%;
              max-width: 300px;
              height: auto;
              border-radius: 8px;
            }
            .garden-name {
              font-size: 24px;
              font-weight: bold;
              margin: 20px 0 10px 0;
            }
            .instruction {
              font-size: 16px;
              color: #555;
              margin-bottom: 20px;
            }
            .url {
              font-size: 12px;
              color: #999;
              word-break: break-all;
              margin-top: 10px;
            }
            @media print {
              body { margin: 0; padding: 0; }
              .qr-container { border: none; margin: 0; }
            }
          </style>
        </head>
        <body>
          <div class="qr-container">
            <div class="garden-name">${t.name}</div>
            <div class="instruction">Scan for more details</div>
            <img src="${s}" alt="QR Code for ${t.name}" class="qr-image" />
            <div class="url">${x}</div>
          </div>
        </body>
      </html>
    `),b.document.close(),setTimeout(()=>{b.print(),b.close()},250)};return t?e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-3xl shadow-lg border border-gray-100 dark:border-gray-700 overflow-hidden",children:[e.jsxs("div",{className:"px-6 py-4 border-b border-gray-100 dark:border-gray-700 bg-gradient-to-r from-gray-50 to-white dark:from-gray-800 dark:to-gray-800/50",children:[e.jsxs("h3",{className:"text-lg font-bold text-gray-900 dark:text-white flex items-center",children:[e.jsx(jr,{className:"h-5 w-5 mr-2 text-purple-600"}),"Garden QR Code"]}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mt-1",children:"Share this code for easy access to the garden's page."})]}),e.jsx("div",{className:"p-6",children:i?e.jsxs("div",{className:"text-center py-12",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-4 border-purple-600 border-t-transparent mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400 font-medium",children:"Generating QR Code..."})]}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-gradient-to-br from-gray-50 to-white dark:from-gray-700/30 dark:to-gray-700/60 p-6 rounded-2xl border border-gray-200 dark:border-gray-700 text-center",children:[e.jsxs("div",{className:"mb-4",children:[e.jsx("h4",{className:"font-bold text-lg text-gray-900 dark:text-white mb-1 line-clamp-2",children:t.name}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Scan for more details"})]}),e.jsx("div",{className:"inline-block p-2 bg-white rounded-lg shadow-md border border-gray-200 dark:border-gray-600",children:s?e.jsx("img",{src:s,alt:`QR Code for ${t.name}`,className:"mx-auto block w-40 h-40"}):e.jsx("div",{className:"w-40 h-40 bg-gray-100 dark:bg-gray-600 rounded-lg flex items-center justify-center",children:e.jsx(jr,{className:"h-16 w-16 text-gray-400 dark:text-gray-500"})})}),e.jsx("div",{className:"mt-4",children:e.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 break-all font-mono bg-gray-100 dark:bg-gray-800 p-2 rounded-lg leading-tight",children:x})})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs("button",{onClick:()=>f("png"),disabled:!s,className:"flex items-center justify-center px-4 py-3 bg-gradient-to-r from-green-500 to-emerald-600 text-white font-medium rounded-xl hover:from-green-600 hover:to-emerald-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500 transition-all duration-200 transform hover:scale-105 disabled:opacity-50 text-sm",children:[e.jsx(Ld,{className:"h-5 w-5 mr-2"}),"Download"]}),e.jsxs("button",{onClick:j,className:`flex items-center justify-center px-4 py-3 font-medium rounded-xl focus:outline-none focus:ring-2 focus:ring-offset-2 transition-all duration-200 transform hover:scale-105 text-sm ${d?"bg-gradient-to-r from-green-500 to-emerald-600 text-white focus:ring-green-500":"bg-gray-600 text-white hover:bg-gray-700 focus:ring-gray-500"}`,children:[d?e.jsx(fs,{className:"h-5 w-5 mr-2"}):e.jsx(Fc,{className:"h-5 w-5 mr-2"}),d?"Copied!":"Copy Link"]}),e.jsxs("button",{onClick:m,className:"flex items-center justify-center px-4 py-3 bg-gradient-to-r from-purple-500 to-pink-500 text-white font-medium rounded-xl hover:from-purple-600 hover:to-pink-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-purple-500 transition-all duration-200 transform hover:scale-105 text-sm",children:[e.jsx(um,{className:"h-5 w-5 mr-2"}),"Share"]}),e.jsxs("button",{onClick:E,disabled:!s,className:"flex items-center justify-center px-4 py-3 bg-gradient-to-r from-indigo-500 to-purple-600 text-white font-medium rounded-xl hover:from-indigo-600 hover:to-purple-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 transition-all duration-200 transform hover:scale-105 disabled:opacity-50 text-sm",children:[e.jsx(lm,{className:"h-5 w-5 mr-2"}),"Print"]})]}),e.jsx("div",{className:"text-center pt-2",children:e.jsxs("button",{onClick:h,className:"inline-flex items-center px-4 py-2 bg-gray-100 text-gray-700 dark:bg-gray-700 dark:text-gray-200 font-medium rounded-lg hover:bg-gray-200 dark:hover:bg-gray-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-purple-500 transition-all duration-200 text-xs",children:[e.jsx(Lr,{className:"h-4 w-4 mr-2"}),"Regenerate Code"]})})]})})]}):e.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-3xl shadow-lg border border-gray-100 dark:border-gray-700 p-6",children:e.jsxs("div",{className:"text-center text-gray-500 dark:text-gray-400",children:[e.jsx(jr,{className:"h-12 w-12 mx-auto mb-3 text-gray-300 dark:text-gray-600"}),e.jsx("p",{className:"font-medium",children:"No garden information available."})]})})},$u=()=>{var V,J,L;const{id:t}=cr(),r=Ce(),{user:a,isAuthenticated:s}=ge(),[l,i]=n.useState(null),[o,d]=n.useState([]),[c,x]=n.useState(null),[g,u]=n.useState([]),[h,p]=n.useState(!0),[f,j]=n.useState(!1),[m,E]=n.useState([]),[b,v]=n.useState("details"),[N,w]=n.useState(!1),[C,k]=n.useState(!1),M=n.useRef();n.useEffect(()=>{$()},[t,s]);const $=async()=>{try{p(!0);const q=await Te.getGardenById(t);if(i(q),s){const[D,B,K]=await Promise.all([lt.getMyDogs(),jt.getActiveVisit(),jt.getMyVisits()]);d(D.dogs||D||[]),x(B.visit||B),u(K.visits||K||[]),A()}}catch(q){console.error("Error loading garden data:",q),_.error("Failed to load garden details."),r("/gardens")}finally{p(!1)}},A=async()=>{try{const q=await Te.getNewsletterStatus(t);k(q.isSubscribed)}catch(q){console.warn("Newsletter status check failed:",q.message),k(!1)}},I=()=>{if(!s){_.info("Please log in to manage newsletter subscriptions.");return}w(!0)},F=q=>{k(q)},T=async()=>{var q,D,B;if(!(!s||m.length===0)){j(!0);try{await jt.checkIn({gardenId:t,dogIds:m}),_.success("Checked in successfully!"),E([]),await $(),(q=M.current)==null||q.refresh()}catch(K){_.error(((B=(D=K.response)==null?void 0:D.data)==null?void 0:B.error)||"Failed to check in.")}finally{j(!1)}}},z=q=>{E(D=>D.includes(q)?D.filter(B=>B!==q):[...D,q])},W=()=>{if(!(l!=null&&l.openingHours))return!1;const q=new Date,D=q.toLocaleDateString("en-US",{weekday:"long"}).toLowerCase(),B=l.openingHours[D];if(!B||B.closed)return!1;const K=q.toTimeString().slice(0,5);return K>=B.open&&K<=B.close};if(h)return e.jsx(Nu,{});if(!l)return e.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 flex justify-center items-center p-4",children:e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-3xl shadow-lg p-12 text-center border border-gray-100 dark:border-gray-700",children:[e.jsx("div",{className:"text-6xl mb-4",children:""}),e.jsx("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-2",children:"Garden Not Found"}),e.jsx("p",{className:"text-gray-500 dark:text-gray-400 mb-6",children:"The garden you're looking for doesn't exist."}),e.jsxs("button",{onClick:()=>r("/gardens"),className:"inline-flex items-center px-6 py-3 bg-gradient-to-r from-purple-500 to-pink-500 text-white font-medium rounded-xl hover:from-purple-600 hover:to-pink-600 transition-all duration-200 transform hover:scale-105",children:[e.jsx(We,{className:"h-5 w-5 mr-2"}),"Back to Gardens"]})]})});const Z=W(),G=[{id:"details",name:"Details",icon:fe},{id:"amenities",name:"Amenities",icon:_e},{id:"reviews",name:"Reviews",icon:Yn}],R=()=>{switch(b){case"amenities":return e.jsx(Lu,{amenities:l.amenities});case"reviews":const q=g.find(D=>D.garden===t&&D.status==="completed");return e.jsx(Mu,{gardenId:t,canReview:s&&!!q,visitId:q==null?void 0:q._id});case"details":default:return e.jsx(Du,{garden:l})}};return e.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900",children:[e.jsxs("div",{className:"max-w-lg mx-auto",children:[e.jsxs("div",{className:`bg-gradient-to-br ${l.type==="public"?"from-green-600 via-emerald-600 to-teal-700 dark:from-green-700 dark:via-emerald-700 dark:to-teal-800":"from-purple-600 via-pink-600 to-indigo-700 dark:from-purple-700 dark:via-pink-700 dark:to-indigo-800"} mx-4 mt-4 rounded-3xl p-6 text-white relative overflow-hidden`,children:[e.jsx("div",{className:"absolute -top-6 -right-6 opacity-20",children:e.jsx("div",{className:"text-8xl",children:l.type==="public"?"":""})}),e.jsxs("div",{className:"relative z-10",children:[e.jsxs("button",{onClick:()=>r("/gardens"),className:"flex items-center text-white/80 hover:text-white transition-colors mb-4 p-2 rounded-xl bg-white/20 hover:bg-white/30",children:[e.jsx(We,{className:"h-4 w-4 mr-2"}),"Back to Gardens"]}),e.jsxs("div",{className:"mb-4",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[e.jsx("span",{className:"bg-white/20 px-3 py-1 rounded-full text-sm",children:l.type==="public"?" Public":" Private"}),e.jsx("span",{className:`px-3 py-1 rounded-full text-sm ${Z?"bg-green-500/20 text-green-100":"bg-red-500/20 text-red-100"}`,children:Z?" Open":" Closed"})]}),e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("h1",{className:"text-2xl font-bold flex-1",children:l.name}),e.jsx("div",{className:"flex items-center space-x-2",children:e.jsx("button",{onClick:I,className:"p-2 bg-white/20 rounded-full hover:bg-white/30 transition-all",title:"Newsletter subscription",children:C?e.jsx(Pr,{className:"h-5 w-5 text-blue-400"}):e.jsx(ht,{className:"h-5 w-5 text-white/80"})})})]}),e.jsx("p",{className:"text-white/90 text-sm mb-4 line-clamp-2",children:l.description}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(fe,{className:"h-4 w-4 mr-2"}),((V=l.location)==null?void 0:V.city)||"Location"]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx(Ne,{className:"h-4 w-4 mr-2"}),l.currentOccupancy||0," / ",((J=l.capacity)==null?void 0:J.maxDogs)||"No limit"]}),((L=l.statistics)==null?void 0:L.averageRating)>0&&e.jsxs("div",{className:"flex items-center",children:[e.jsx(tr,{className:"h-4 w-4 mr-2 text-yellow-400"}),l.statistics.averageRating.toFixed(1)," (",l.statistics.totalReviews,")"]})]})]})]})]}),e.jsx("div",{className:"px-4 mt-6",children:e.jsx(Tu,{isAuthenticated:s,myDogs:o,selectedDogs:m,toggleDogSelection:z,handleCheckIn:T,checkingIn:f,gardenIsOpen:Z,navigate:r})}),e.jsx("div",{className:"px-4 mt-6",children:e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-3xl shadow-lg border border-gray-100 dark:border-gray-700 overflow-hidden",children:[e.jsx("div",{className:"px-6 py-4 border-b border-gray-100 dark:border-gray-700",children:e.jsxs("h3",{className:"text-lg font-bold text-gray-900 dark:text-white flex items-center",children:[e.jsx(Qe,{className:"h-5 w-5 mr-2 text-orange-500"}),"Who's Here Now"]})}),e.jsx("div",{className:"p-6",children:e.jsx(Nl,{gardenId:t,ref:M})})]})}),e.jsx("div",{className:"px-4 mt-6",children:e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-3xl shadow-lg border border-gray-100 dark:border-gray-700 overflow-hidden",children:[e.jsx("div",{className:"border-b border-gray-100 dark:border-gray-700",children:e.jsx("nav",{className:"flex",children:G.map(q=>e.jsxs("button",{onClick:()=>v(q.id),className:`flex-1 flex items-center justify-center py-4 px-1 border-b-2 font-medium text-sm transition-all ${b===q.id?"border-purple-500 text-purple-600 dark:text-purple-400 bg-purple-50 dark:bg-purple-900/20":"border-transparent text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-300"}`,children:[e.jsx(q.icon,{className:"h-4 w-4 mr-2"}),e.jsx("span",{children:q.name})]},q.id))})}),e.jsx("div",{className:"p-6",children:R()})]})}),e.jsx("div",{className:"px-4 mt-6 pb-6",children:e.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-3xl shadow-lg border border-gray-100 dark:border-gray-700 p-6",children:e.jsx(kl,{garden:l})})})]}),e.jsx(vl,{isOpen:N,onClose:()=>w(!1),garden:l,onSubscriptionChange:F})]})},Du=({garden:t})=>{var r,a;return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4 flex items-center",children:[e.jsx(fe,{className:"h-5 w-5 mr-2 text-purple-500"}),"Location & Contact"]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-start p-3 bg-gray-50 dark:bg-gray-700/50 rounded-xl",children:[e.jsx(fe,{className:"h-5 w-5 text-gray-400 dark:text-gray-500 mt-0.5 mr-3 flex-shrink-0"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-900 dark:text-white",children:"Address"}),e.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-300",children:[t.location.address,", ",t.location.city]})]})]}),((r=t.contact)==null?void 0:r.phone)&&e.jsxs("div",{className:"flex items-start p-3 bg-gray-50 dark:bg-gray-700/50 rounded-xl",children:[e.jsx(Tr,{className:"h-5 w-5 text-gray-400 dark:text-gray-500 mt-0.5 mr-3 flex-shrink-0"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-900 dark:text-white",children:"Phone"}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300",children:t.contact.phone})]})]}),((a=t.contact)==null?void 0:a.email)&&e.jsxs("div",{className:"flex items-start p-3 bg-gray-50 dark:bg-gray-700/50 rounded-xl",children:[e.jsx(Kt,{className:"h-5 w-5 text-gray-400 dark:text-gray-500 mt-0.5 mr-3 flex-shrink-0"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-900 dark:text-white",children:"Email"}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300",children:t.contact.email})]})]})]})]}),t.openingHours&&e.jsxs("div",{children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4 flex items-center",children:[e.jsx(Ae,{className:"h-5 w-5 mr-2 text-blue-500"}),"Opening Hours"]}),e.jsx("div",{className:"space-y-2",children:Object.entries(t.openingHours).map(([s,l])=>e.jsxs("div",{className:"flex justify-between items-center text-sm p-3 bg-gray-50 dark:bg-gray-700/50 rounded-xl",children:[e.jsx("span",{className:"capitalize font-medium text-gray-700 dark:text-gray-300",children:s}),e.jsx("span",{className:`font-medium ${l!=null&&l.closed?"text-red-600 dark:text-red-400":"text-green-600 dark:text-green-400"}`,children:l!=null&&l.closed?"Closed":`${(l==null?void 0:l.open)||""} - ${(l==null?void 0:l.close)||""}`})]},s))})]})]})},Lu=({amenities:t})=>e.jsxs("div",{children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4 flex items-center",children:[e.jsx(_e,{className:"h-5 w-5 mr-2 text-yellow-500"}),"What this park offers"]}),t&&t.length>0?e.jsx("div",{className:"grid grid-cols-1 gap-3",children:t.map(r=>e.jsxs("div",{className:"flex items-center p-3 bg-gray-50 dark:bg-gray-700/50 rounded-xl",children:[e.jsx(De,{className:"h-5 w-5 text-green-500 mr-3 flex-shrink-0"}),e.jsx("span",{className:"text-sm text-gray-700 dark:text-gray-300 capitalize font-medium",children:r.replace(/_/g," ")})]},r))}):e.jsxs("div",{className:"text-center py-8",children:[e.jsx("div",{className:"text-4xl mb-3",children:""}),e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"No amenities listed for this park."})]})]}),Tu=({isAuthenticated:t,myDogs:r,selectedDogs:a,toggleDogSelection:s,handleCheckIn:l,checkingIn:i,gardenIsOpen:o,navigate:d})=>t?r.length===0?e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-3xl shadow-lg border border-gray-100 dark:border-gray-700 p-6 text-center",children:[e.jsx("div",{className:"text-5xl mb-4",children:""}),e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-2",children:"No Dogs Found"}),e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 mb-6",children:"You need to add a dog to your profile before you can check in to parks."}),e.jsxs("button",{onClick:()=>d("/my-dogs"),className:"w-full inline-flex items-center justify-center px-6 py-3 bg-gradient-to-r from-purple-500 to-pink-500 text-white font-medium rounded-xl hover:from-purple-600 hover:to-pink-600 transition-all duration-200 transform hover:scale-105",children:[e.jsx(Le,{className:"h-5 w-5 mr-2"}),"Add a Dog"]})]}):e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-3xl shadow-lg border border-gray-100 dark:border-gray-700 overflow-hidden",children:[e.jsxs("div",{className:"px-6 py-4 border-b border-gray-100 dark:border-gray-700 bg-gradient-to-r from-purple-50 to-pink-50 dark:from-purple-900/20 dark:to-pink-900/20",children:[e.jsxs("h3",{className:"text-lg font-bold text-gray-900 dark:text-white flex items-center",children:[e.jsx(Ha,{className:"h-5 w-5 mr-2 text-purple-600"}),"Check In Your Dogs"]}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mt-1",children:"Select which dogs you want to bring:"})]}),e.jsxs("div",{className:"p-6",children:[e.jsx("div",{className:"space-y-3 mb-6 max-h-60 overflow-y-auto",children:r.map(c=>e.jsxs("label",{className:`flex items-center p-3 rounded-xl cursor-pointer border-2 transition-all duration-200 ${a.includes(c._id)?"bg-purple-50 dark:bg-purple-900/20 border-purple-500 shadow-md":"bg-gray-50 dark:bg-gray-700/50 border-transparent hover:border-purple-300 dark:hover:border-purple-600 hover:shadow-sm"}`,children:[e.jsx("input",{type:"checkbox",checked:a.includes(c._id),onChange:()=>s(c._id),className:"sr-only"}),e.jsx("div",{className:"h-10 w-10 bg-gradient-to-br from-orange-100 to-amber-100 dark:from-orange-900 dark:to-amber-900 rounded-full flex items-center justify-center text-lg mr-3 flex-shrink-0",children:""}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"font-semibold text-sm text-gray-900 dark:text-white",children:c.name}),e.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:c.breed})]}),e.jsx("div",{className:"ml-auto",children:a.includes(c._id)&&e.jsx(ya,{className:"h-6 w-6 text-purple-600"})})]},c._id))}),e.jsx("button",{onClick:l,disabled:i||a.length===0||!o,className:"w-full inline-flex items-center justify-center px-6 py-3 bg-gradient-to-r from-purple-500 to-pink-500 text-white font-medium rounded-xl hover:from-purple-600 hover:to-pink-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-purple-500 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200 transform hover:scale-105 active:scale-95",children:i?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Checking in..."]}):e.jsxs(e.Fragment,{children:[e.jsx(Ha,{className:"h-5 w-5 mr-2"}),"Check In ",a.length," Dog",a.length>1?"s":""]})}),!o&&e.jsx("div",{className:"mt-4 p-3 bg-red-50 dark:bg-red-900/20 rounded-xl",children:e.jsx("p",{className:"text-xs text-center text-red-600 dark:text-red-400 font-medium",children:" This garden is currently closed"})})]})]}):e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-3xl shadow-lg border border-gray-100 dark:border-gray-700 p-6 text-center",children:[e.jsx("div",{className:"text-5xl mb-4",children:""}),e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-2",children:"Join the Fun!"}),e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 mb-6",children:"Log in or create an account to check in your dogs and connect with other pet owners."}),e.jsxs("button",{onClick:()=>d("/login"),className:"w-full inline-flex items-center justify-center px-6 py-3 bg-gradient-to-r from-purple-500 to-pink-500 text-white font-medium rounded-xl hover:from-purple-600 hover:to-pink-600 transition-all duration-200 transform hover:scale-105",children:[e.jsx(er,{className:"h-5 w-5 mr-2"}),"Log In or Sign Up"]})]}),ut={async getAllEvents(t={}){return(await H.get("/events",{params:t})).data},async getPublicEvents(t={}){try{return(await H.get("/events",{params:t})).data}catch(r){throw console.error("Error fetching public events:",r),r}},async getEventById(t){return(await H.get(`/events/${t}`)).data},async createEvent(t){return console.log("=== CREATE EVENT SERVICE ==="),console.log("Event data being sent:",t),(await H.post("/events",t)).data},async updateEvent(t,r){return(await H.put(`/events/${t}`,r)).data},async cancelEvent(t){return(await H.delete(`/events/${t}`)).data},async registerForEvent(t,r){return(await H.post(`/events/${t}/register`,{dogIds:r})).data},async cancelEventRegistration(t){return(await H.delete(`/events/${t}/register`)).data},async getOrganizerEvents(){var t;console.log("=== GET ORGANIZER EVENTS SERVICE ==="),console.log("Making request to:","/events/organizer/my-events");try{const r=await H.get("/events/organizer/my-events");return console.log("Response status:",r.status),console.log("Response data:",r.data),r.data}catch(r){throw console.error("Error in getOrganizerEvents service:",r),console.error("Error response:",(t=r.response)==null?void 0:t.data),r}},async updateParticipantStatus(t,r,a,s=""){return(await H.patch(`/events/${t}/participants/${r}`,{status:a,notes:s})).data},async grantEventPermission(t,r){return(await H.patch(`/events/permissions/${t}`,r)).data},async getGardenEvents(t,r={}){return(await H.get("/events",{params:{gardenId:t,...r}})).data}},_u=Object.freeze(Object.defineProperty({__proto__:null,eventService:ut},Symbol.toStringTag,{value:"Module"})),El=({onEventCreated:t,onCancel:r,preSelectedGarden:a=null})=>{const[s,l]=n.useState({title:"",description:"",gardenId:(a==null?void 0:a._id)||"",eventDate:"",startTime:"",endTime:"",eventType:"meetup",maxParticipants:"",requiresApproval:!1,allowWaitingList:!0,registrationDeadline:"",tags:"",organizerMessages:{welcomeMessage:"",registrationMessage:"",approvalMessage:"",rejectionMessage:"",reminderMessage:""}}),[i,o]=n.useState([]),[d,c]=n.useState(!1),[x,g]=n.useState({}),[u,h]=n.useState(!1);n.useEffect(()=>{a?o(a?[a]:[]):p()},[a]);const p=async()=>{h(!0);try{const b=await Te.getMyGardens();o(b.data||b||[])}catch(b){console.error("Error loading gardens:",b),_.error("Error loading dog parks"),o([])}finally{h(!1)}},f=()=>{const b={};if(s.title.trim()||(b.title="Event title is required"),s.description.trim()||(b.description="Event description is required"),s.gardenId||(b.gardenId="Please select a dog park"),s.eventDate||(b.eventDate="Event date is required"),s.startTime||(b.startTime="Start time is required"),s.endTime||(b.endTime="End time is required"),s.startTime&&s.endTime&&s.startTime>=s.endTime&&(b.endTime="End time must be after start time"),s.registrationDeadline){const v=new Date(s.registrationDeadline),N=new Date(`${s.eventDate}T${s.startTime}`);v>=N&&(b.registrationDeadline="Registration deadline must be before event start time")}return g(b),Object.keys(b).length===0},j=async b=>{var v,N;if(b.preventDefault(),!f()){_.error("Please fix the errors in the form");return}c(!0);try{const w={...s,tags:(s.tags||"").split(",").map(k=>k.trim()).filter(Boolean),maxParticipants:s.maxParticipants?parseInt(s.maxParticipants):null},C=await ut.createEvent(w);_.success("Event created successfully! "),t(C.data||C)}catch(w){console.error("Error creating event:",w),_.error(((N=(v=w.response)==null?void 0:v.data)==null?void 0:N.error)||"Error creating event")}finally{c(!1)}},m=b=>{const{name:v,value:N,type:w,checked:C}=b.target;l(k=>({...k,[v]:w==="checkbox"?C:N})),x[v]&&g(k=>({...k,[v]:""}))},E=[{value:"meetup",label:" Community Meetup",color:"bg-blue-50 text-blue-700"},{value:"training",label:" Training Session",color:"bg-purple-50 text-purple-700"},{value:"competition",label:" Competition",color:"bg-red-50 text-red-700"},{value:"adoption",label:" Adoption Event",color:"bg-green-50 text-green-700"},{value:"social",label:" Social Event",color:"bg-yellow-50 text-yellow-700"},{value:"educational",label:" Educational",color:"bg-indigo-50 text-indigo-700"},{value:"other",label:" Other",color:"bg-gray-50 text-gray-700"}];return e.jsxs("div",{className:"max-w-4xl mx-auto bg-white dark:bg-slate-800 rounded-3xl shadow-2xl border border-gray-100 dark:border-slate-700 overflow-hidden backdrop-blur-sm",children:[e.jsx("div",{className:"bg-gradient-to-r from-purple-600 via-pink-600 to-red-600 px-8 py-6 text-white",children:e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:"bg-white/20 rounded-2xl p-3",children:e.jsx(dt,{className:"h-8 w-8"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold",children:"Create Event "}),e.jsx("p",{className:"text-purple-100",children:"Organize something amazing for the dog community"})]})]})}),e.jsxs("form",{onSubmit:j,className:"p-8 space-y-10",children:[e.jsxs("div",{className:"space-y-6",children:[e.jsxs("h3",{className:"text-2xl font-bold text-gray-900 dark:text-white border-b-2 border-purple-200 dark:border-purple-700 pb-3 flex items-center",children:[e.jsx("div",{className:"bg-purple-100 dark:bg-purple-800 rounded-xl p-2 mr-3",children:e.jsx(_e,{className:"h-6 w-6 text-purple-600 dark:text-purple-300"})}),"Basic Information"]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[e.jsxs("div",{className:"lg:col-span-2",children:[e.jsxs("label",{className:"block text-sm font-bold text-gray-700 dark:text-gray-300 mb-3 flex items-center",children:[e.jsx(Qe,{className:"h-4 w-4 mr-2 text-purple-500"}),"Event Title *"]}),e.jsx("input",{type:"text",name:"title",value:s.title,onChange:m,className:`w-full rounded-2xl border-2 px-6 py-4 text-base font-medium focus:outline-none focus:ring-4 focus:ring-purple-500/20 transition-all duration-300 dark:bg-slate-700 dark:text-white ${x.title?"border-red-300 bg-red-50 dark:border-red-600 dark:bg-red-900/20":"border-gray-200 dark:border-slate-600 bg-gray-50 dark:bg-slate-700 focus:bg-white dark:focus:bg-slate-600 hover:border-purple-300 dark:hover:border-purple-600"}`,placeholder:"e.g. Morning Meetup for Small Dogs ",maxLength:100}),x.title&&e.jsx("p",{className:"mt-2 text-sm text-red-600 dark:text-red-400 font-medium",children:x.title})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-bold text-gray-700 dark:text-gray-300 mb-3 flex items-center",children:[e.jsx(fe,{className:"h-4 w-4 mr-2 text-purple-500"}),"Dog Park *"]}),e.jsxs("select",{name:"gardenId",value:s.gardenId,onChange:m,disabled:!!a||u,className:`w-full rounded-2xl border-2 px-6 py-4 text-base font-medium focus:outline-none focus:ring-4 focus:ring-purple-500/20 transition-all duration-300 dark:bg-slate-700 dark:text-white ${x.gardenId?"border-red-300 bg-red-50 dark:border-red-600 dark:bg-red-900/20":"border-gray-200 dark:border-slate-600 bg-gray-50 dark:bg-slate-700 focus:bg-white dark:focus:bg-slate-600 hover:border-purple-300 dark:hover:border-purple-600"} ${a||u?"opacity-60 cursor-not-allowed":""}`,children:[e.jsx("option",{value:"",children:u?"Loading parks...":"Select a dog park"}),i.map(b=>e.jsxs("option",{value:b._id,children:[b.name," - ",b.address]},b._id))]}),x.gardenId&&e.jsx("p",{className:"mt-2 text-sm text-red-600 dark:text-red-400 font-medium",children:x.gardenId}),a&&e.jsxs("p",{className:"mt-2 text-sm text-green-600 dark:text-green-400 font-medium",children:[" Pre-selected park: ",a.name]})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-bold text-gray-700 dark:text-gray-300 mb-3 flex items-center",children:[e.jsx(as,{className:"h-4 w-4 mr-2 text-purple-500"}),"Event Type"]}),e.jsx("select",{name:"eventType",value:s.eventType,onChange:m,className:"w-full rounded-2xl border-2 border-gray-200 dark:border-slate-600 bg-gray-50 dark:bg-slate-700 px-6 py-4 text-base font-medium focus:outline-none focus:ring-4 focus:ring-purple-500/20 focus:bg-white dark:focus:bg-slate-600 transition-all duration-300 dark:text-white hover:border-purple-300 dark:hover:border-purple-600",children:E.map(b=>e.jsx("option",{value:b.value,children:b.label},b.value))})]})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-bold text-gray-700 dark:text-gray-300 mb-3 flex items-center",children:[e.jsx(at,{className:"h-4 w-4 mr-2 text-purple-500"}),"Event Description *"]}),e.jsx("textarea",{name:"description",value:s.description,onChange:m,rows:5,className:`w-full rounded-2xl border-2 px-6 py-4 text-base font-medium focus:outline-none focus:ring-4 focus:ring-purple-500/20 transition-all duration-300 dark:bg-slate-700 dark:text-white resize-none ${x.description?"border-red-300 bg-red-50 dark:border-red-600 dark:bg-red-900/20":"border-gray-200 dark:border-slate-600 bg-gray-50 dark:bg-slate-700 focus:bg-white dark:focus:bg-slate-600 hover:border-purple-300 dark:hover:border-purple-600"}`,placeholder:"Describe your amazing event, what will happen and what participants need to know... ",maxLength:1e3}),x.description&&e.jsx("p",{className:"mt-2 text-sm text-red-600 dark:text-red-400 font-medium",children:x.description}),e.jsxs("div",{className:"flex justify-between items-center mt-2",children:[e.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400 font-medium",children:[s.description.length,"/1000 characters"]}),e.jsx("div",{className:"bg-purple-100 dark:bg-purple-900/30 rounded-lg px-3 py-1",children:e.jsx("span",{className:"text-sm font-bold text-purple-700 dark:text-purple-300",children:s.description.length>800?"":s.description.length>500?"":""})})]})]})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("h3",{className:"text-2xl font-bold text-gray-900 dark:text-white border-b-2 border-purple-200 dark:border-purple-700 pb-3 flex items-center",children:[e.jsx("div",{className:"bg-purple-100 dark:bg-purple-800 rounded-xl p-2 mr-3",children:e.jsx(Ae,{className:"h-6 w-6 text-purple-600 dark:text-purple-300"})}),"Date & Time "]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-bold text-gray-700 dark:text-gray-300 mb-3",children:"Event Date *"}),e.jsx("input",{type:"date",name:"eventDate",value:s.eventDate,onChange:m,min:new Date().toISOString().split("T")[0],className:`w-full rounded-2xl border-2 px-6 py-4 text-base font-medium focus:outline-none focus:ring-4 focus:ring-purple-500/20 transition-all duration-300 dark:bg-slate-700 dark:text-white ${x.eventDate?"border-red-300 bg-red-50 dark:border-red-600 dark:bg-red-900/20":"border-gray-200 dark:border-slate-600 bg-gray-50 dark:bg-slate-700 focus:bg-white dark:focus:bg-slate-600 hover:border-purple-300 dark:hover:border-purple-600"}`}),x.eventDate&&e.jsx("p",{className:"mt-2 text-sm text-red-600 dark:text-red-400 font-medium",children:x.eventDate})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-bold text-gray-700 dark:text-gray-300 mb-3",children:"Start Time *"}),e.jsx("input",{type:"time",name:"startTime",value:s.startTime,onChange:m,className:`w-full rounded-2xl border-2 px-6 py-4 text-base font-medium focus:outline-none focus:ring-4 focus:ring-purple-500/20 transition-all duration-300 dark:bg-slate-700 dark:text-white ${x.startTime?"border-red-300 bg-red-50 dark:border-red-600 dark:bg-red-900/20":"border-gray-200 dark:border-slate-600 bg-gray-50 dark:bg-slate-700 focus:bg-white dark:focus:bg-slate-600 hover:border-purple-300 dark:hover:border-purple-600"}`}),x.startTime&&e.jsx("p",{className:"mt-2 text-sm text-red-600 dark:text-red-400 font-medium",children:x.startTime})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-bold text-gray-700 dark:text-gray-300 mb-3",children:"End Time *"}),e.jsx("input",{type:"time",name:"endTime",value:s.endTime,onChange:m,className:`w-full rounded-2xl border-2 px-6 py-4 text-base font-medium focus:outline-none focus:ring-4 focus:ring-purple-500/20 transition-all duration-300 dark:bg-slate-700 dark:text-white ${x.endTime?"border-red-300 bg-red-50 dark:border-red-600 dark:bg-red-900/20":"border-gray-200 dark:border-slate-600 bg-gray-50 dark:bg-slate-700 focus:bg-white dark:focus:bg-slate-600 hover:border-purple-300 dark:hover:border-purple-600"}`}),x.endTime&&e.jsx("p",{className:"mt-2 text-sm text-red-600 dark:text-red-400 font-medium",children:x.endTime})]})]})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("h3",{className:"text-2xl font-bold text-gray-900 dark:text-white border-b-2 border-purple-200 dark:border-purple-700 pb-3 flex items-center",children:[e.jsx("div",{className:"bg-purple-100 dark:bg-purple-800 rounded-xl p-2 mr-3",children:e.jsx(Ne,{className:"h-6 w-6 text-purple-600 dark:text-purple-300"})}),"Registration Settings "]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-bold text-gray-700 dark:text-gray-300 mb-3",children:"Maximum Participants"}),e.jsx("input",{type:"number",name:"maxParticipants",value:s.maxParticipants,onChange:m,min:"1",className:"w-full rounded-2xl border-2 border-gray-200 dark:border-slate-600 bg-gray-50 dark:bg-slate-700 px-6 py-4 text-base font-medium focus:outline-none focus:ring-4 focus:ring-purple-500/20 focus:bg-white dark:focus:bg-slate-600 transition-all duration-300 dark:text-white hover:border-purple-300 dark:hover:border-purple-600",placeholder:"Leave empty for unlimited"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-bold text-gray-700 dark:text-gray-300 mb-3",children:"Registration Deadline"}),e.jsx("input",{type:"datetime-local",name:"registrationDeadline",value:s.registrationDeadline,onChange:m,className:`w-full rounded-2xl border-2 px-6 py-4 text-base font-medium focus:outline-none focus:ring-4 focus:ring-purple-500/20 transition-all duration-300 dark:bg-slate-700 dark:text-white ${x.registrationDeadline?"border-red-300 bg-red-50 dark:border-red-600 dark:bg-red-900/20":"border-gray-200 dark:border-slate-600 bg-gray-50 dark:bg-slate-700 focus:bg-white dark:focus:bg-slate-600 hover:border-purple-300 dark:hover:border-purple-600"}`}),x.registrationDeadline&&e.jsx("p",{className:"mt-2 text-sm text-red-600 dark:text-red-400 font-medium",children:x.registrationDeadline})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"bg-gradient-to-r from-purple-50 to-pink-50 dark:from-purple-900/20 dark:to-pink-900/20 rounded-2xl p-6 border border-purple-200 dark:border-purple-700",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",name:"requiresApproval",checked:s.requiresApproval,onChange:m,className:"h-5 w-5 text-purple-600 focus:ring-purple-500 border-gray-300 dark:border-slate-600 rounded-lg"}),e.jsx("label",{className:"ml-4 text-sm font-bold text-gray-700 dark:text-gray-300",children:"Require approval for registration"})]}),e.jsx("p",{className:"mt-2 text-xs text-gray-600 dark:text-gray-400",children:"I will approve each registration manually "})]}),e.jsxs("div",{className:"bg-gradient-to-r from-blue-50 to-cyan-50 dark:from-blue-900/20 dark:to-cyan-900/20 rounded-2xl p-6 border border-blue-200 dark:border-blue-700",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",name:"allowWaitingList",checked:s.allowWaitingList,onChange:m,className:"h-5 w-5 text-blue-600 focus:ring-blue-500 border-gray-300 dark:border-slate-600 rounded-lg"}),e.jsx("label",{className:"ml-4 text-sm font-bold text-gray-700 dark:text-gray-300",children:"Allow waiting list"})]}),e.jsx("p",{className:"mt-2 text-xs text-gray-600 dark:text-gray-400",children:"When event is full "})]})]})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("h3",{className:"text-2xl font-bold text-gray-900 dark:text-white border-b-2 border-purple-200 dark:border-purple-700 pb-3 flex items-center",children:[e.jsx("div",{className:"bg-purple-100 dark:bg-purple-800 rounded-xl p-2 mr-3",children:e.jsx(at,{className:"h-6 w-6 text-purple-600 dark:text-purple-300"})}),"Personal Messages to Participants "]}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300 mb-4 bg-gradient-to-r from-purple-50 to-pink-50 dark:from-purple-900/20 dark:to-pink-900/20 p-4 rounded-xl border border-purple-200 dark:border-purple-700",children:" Write customized messages that will be shown to participants in emails and at the event (optional)"}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-bold text-gray-700 dark:text-gray-300 mb-3 flex items-center",children:" Welcome Message (shown at event)"}),e.jsx("textarea",{name:"organizerMessages.welcomeMessage",value:s.organizerMessages.welcomeMessage,onChange:b=>{l(v=>({...v,organizerMessages:{...v.organizerMessages,welcomeMessage:b.target.value}}))},rows:4,className:"w-full rounded-2xl border-2 border-gray-200 dark:border-slate-600 bg-gray-50 dark:bg-slate-700 px-6 py-4 text-base font-medium focus:outline-none focus:ring-4 focus:ring-purple-500/20 focus:bg-white dark:focus:bg-slate-600 transition-all duration-300 dark:text-white resize-none hover:border-purple-300 dark:hover:border-purple-600",placeholder:"Welcome to my amazing event! I'm so happy you'll be joining us... ",maxLength:500}),e.jsxs("p",{className:"mt-2 text-xs text-gray-500 dark:text-gray-400 font-medium",children:[s.organizerMessages.welcomeMessage.length,"/500"]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-bold text-gray-700 dark:text-gray-300 mb-3 flex items-center",children:" Registration Message (in email)"}),e.jsx("textarea",{name:"organizerMessages.registrationMessage",value:s.organizerMessages.registrationMessage,onChange:b=>{l(v=>({...v,organizerMessages:{...v.organizerMessages,registrationMessage:b.target.value}}))},rows:4,className:"w-full rounded-2xl border-2 border-gray-200 dark:border-slate-600 bg-gray-50 dark:bg-slate-700 px-6 py-4 text-base font-medium focus:outline-none focus:ring-4 focus:ring-purple-500/20 focus:bg-white dark:focus:bg-slate-600 transition-all duration-300 dark:text-white resize-none hover:border-purple-300 dark:hover:border-purple-600",placeholder:"Thanks for registering! Please bring water and treats for your dogs... ",maxLength:500}),e.jsxs("p",{className:"mt-2 text-xs text-gray-500 dark:text-gray-400 font-medium",children:[s.organizerMessages.registrationMessage.length,"/500"]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-bold text-gray-700 dark:text-gray-300 mb-3 flex items-center",children:" Approval Message (if approval required)"}),e.jsx("textarea",{name:"organizerMessages.approvalMessage",value:s.organizerMessages.approvalMessage,onChange:b=>{l(v=>({...v,organizerMessages:{...v.organizerMessages,approvalMessage:b.target.value}}))},rows:4,className:`w-full rounded-2xl border-2 px-6 py-4 text-base font-medium focus:outline-none focus:ring-4 focus:ring-purple-500/20 transition-all duration-300 resize-none dark:text-white ${s.requiresApproval?"border-gray-200 dark:border-slate-600 bg-gray-50 dark:bg-slate-700 focus:bg-white dark:focus:bg-slate-600 hover:border-purple-300 dark:hover:border-purple-600":"border-gray-300 dark:border-slate-600 bg-gray-100 dark:bg-slate-800 text-gray-500 dark:text-gray-400 cursor-not-allowed"}`,placeholder:"Congratulations! Your registration has been approved. See you at the event... ",maxLength:500,disabled:!s.requiresApproval}),e.jsxs("p",{className:"mt-2 text-xs text-gray-500 dark:text-gray-400 font-medium",children:[s.organizerMessages.approvalMessage.length,"/500",!s.requiresApproval&&" (available only when approval required)"]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-bold text-gray-700 dark:text-gray-300 mb-3 flex items-center",children:" Rejection Message (if approval required)"}),e.jsx("textarea",{name:"organizerMessages.rejectionMessage",value:s.organizerMessages.rejectionMessage,onChange:b=>{l(v=>({...v,organizerMessages:{...v.organizerMessages,rejectionMessage:b.target.value}}))},rows:4,className:`w-full rounded-2xl border-2 px-6 py-4 text-base font-medium focus:outline-none focus:ring-4 focus:ring-purple-500/20 transition-all duration-300 resize-none dark:text-white ${s.requiresApproval?"border-gray-200 dark:border-slate-600 bg-gray-50 dark:bg-slate-700 focus:bg-white dark:focus:bg-slate-600 hover:border-purple-300 dark:hover:border-purple-600":"border-gray-300 dark:border-slate-600 bg-gray-100 dark:bg-slate-800 text-gray-500 dark:text-gray-400 cursor-not-allowed"}`,placeholder:"Sorry, we couldn't approve your registration this time. We hope to see you at future events... ",maxLength:500,disabled:!s.requiresApproval}),e.jsxs("p",{className:"mt-2 text-xs text-gray-500 dark:text-gray-400 font-medium",children:[s.organizerMessages.rejectionMessage.length,"/500",!s.requiresApproval&&" (available only when approval required)"]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-bold text-gray-700 dark:text-gray-300 mb-3 flex items-center",children:" Reminder Message (sent before event)"}),e.jsx("textarea",{name:"organizerMessages.reminderMessage",value:s.organizerMessages.reminderMessage,onChange:b=>{l(v=>({...v,organizerMessages:{...v.organizerMessages,reminderMessage:b.target.value}}))},rows:4,className:"w-full rounded-2xl border-2 border-gray-200 dark:border-slate-600 bg-gray-50 dark:bg-slate-700 px-6 py-4 text-base font-medium focus:outline-none focus:ring-4 focus:ring-purple-500/20 focus:bg-white dark:focus:bg-slate-600 transition-all duration-300 dark:text-white resize-none hover:border-purple-300 dark:hover:border-purple-600",placeholder:"Reminder: The amazing event starts tomorrow! Don't forget to bring... ",maxLength:500}),e.jsxs("p",{className:"mt-2 text-xs text-gray-500 dark:text-gray-400 font-medium",children:[s.organizerMessages.reminderMessage.length,"/500"]})]})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-bold text-gray-700 dark:text-gray-300 mb-3 flex items-center",children:[e.jsx(as,{className:"h-4 w-4 mr-2 text-purple-500"}),"Tags (separated by commas) "]}),e.jsx("input",{type:"text",name:"tags",value:s.tags,onChange:m,className:"w-full rounded-2xl border-2 border-gray-200 dark:border-slate-600 bg-gray-50 dark:bg-slate-700 px-6 py-4 text-base font-medium focus:outline-none focus:ring-4 focus:ring-purple-500/20 focus:bg-white dark:focus:bg-slate-600 transition-all duration-300 dark:text-white hover:border-purple-300 dark:hover:border-purple-600",placeholder:"small dogs, training, playtime, friends"}),e.jsx("p",{className:"mt-2 text-sm text-gray-500 dark:text-gray-400 font-medium bg-purple-50 dark:bg-purple-900/20 p-3 rounded-xl",children:" Add tags to help people find your amazing event"})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 pt-8 border-t-2 border-purple-200 dark:border-purple-700",children:[e.jsx("button",{type:"submit",disabled:d,className:"flex-1 flex justify-center items-center px-8 py-6 bg-gradient-to-r from-purple-600 via-purple-700 to-pink-600 hover:from-purple-700 hover:via-purple-800 hover:to-pink-700 text-white text-xl font-bold rounded-2xl focus:outline-none focus:ring-4 focus:ring-purple-500/30 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-300 transform hover:scale-[1.02] active:scale-[0.98] shadow-xl hover:shadow-2xl",children:d?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-white mr-3"}),"Creating Magic..."]}):e.jsxs(e.Fragment,{children:[e.jsx(De,{className:"h-6 w-6 mr-3"}),"Create Dream Event "]})}),e.jsxs("button",{type:"button",onClick:r,className:"flex-1 flex justify-center items-center px-8 py-6 bg-gradient-to-r from-gray-600 to-gray-700 hover:from-gray-700 hover:to-gray-800 text-white text-xl font-bold rounded-2xl focus:outline-none focus:ring-4 focus:ring-gray-500/30 transition-all duration-300 transform hover:scale-[1.02] active:scale-[0.98] shadow-xl hover:shadow-2xl",children:[e.jsx(dr,{className:"h-6 w-6 mr-3"}),"Cancel"]})]})]})]})},Pu=({event:t,onEventUpdated:r,onCancel:a})=>{var b;const[s,l]=n.useState({title:"",description:"",eventDate:"",startTime:"",endTime:"",eventType:"meetup",maxParticipants:"",requiresApproval:!1,allowWaitingList:!0,registrationDeadline:"",tags:"",organizerMessages:{welcomeMessage:"",registrationMessage:"",approvalMessage:"",rejectionMessage:"",reminderMessage:""}}),[i,o]=n.useState([]),[d,c]=n.useState(!1),[x,g]=n.useState({}),[u,h]=n.useState(!1);n.useEffect(()=>{var v,N,w,C,k;if(t){const M=new Date(t.eventDate).toISOString().split("T")[0];let $="";t.registrationDeadline&&($=new Date(t.registrationDeadline).toISOString().slice(0,16)),l({title:t.title||"",description:t.description||"",eventDate:M,startTime:t.startTime||"",endTime:t.endTime||"",eventType:t.eventType||"meetup",maxParticipants:t.maxParticipants||"",requiresApproval:t.requiresApproval||!1,allowWaitingList:t.allowWaitingList!==!1,registrationDeadline:$,tags:t.tags?t.tags.join(", "):"",organizerMessages:{welcomeMessage:((v=t.organizerMessages)==null?void 0:v.welcomeMessage)||"",registrationMessage:((N=t.organizerMessages)==null?void 0:N.registrationMessage)||"",approvalMessage:((w=t.organizerMessages)==null?void 0:w.approvalMessage)||"",rejectionMessage:((C=t.organizerMessages)==null?void 0:C.rejectionMessage)||"",reminderMessage:((k=t.organizerMessages)==null?void 0:k.reminderMessage)||""}})}p()},[t]);const p=async()=>{h(!0);try{const v=await Te.getMyGardens();o(v.data||v||[])}catch(v){console.error("Error loading gardens:",v),_.error("  "),o([])}finally{h(!1)}},f=()=>{const v={};s.title.trim()||(v.title="  "),s.description.trim()||(v.description="  "),s.eventDate||(v.eventDate="  "),s.startTime||(v.startTime="  "),s.endTime||(v.endTime="  ");const N=new Date(t.eventDate),w=new Date(`${s.eventDate}T${s.startTime}`);if(s.eventDate!==N.toISOString().split("T")[0]&&w<=new Date&&(v.eventDate="   "),s.startTime&&s.endTime&&s.startTime>=s.endTime&&(v.endTime="      "),s.registrationDeadline){const C=new Date(s.registrationDeadline),k=new Date(`${s.eventDate}T${s.startTime}`);C>=k&&(v.registrationDeadline="     ")}return g(v),Object.keys(v).length===0},j=async v=>{var N,w;if(v.preventDefault(),!f()){_.error("    ");return}c(!0);try{const C={...s,tags:(s.tags||"").split(",").map(M=>M.trim()).filter(Boolean),maxParticipants:s.maxParticipants?parseInt(s.maxParticipants):null};delete C.gardenId;const k=await ut.updateEvent(t._id,C);_.success("  ! "),r(k.data||k)}catch(C){console.error("Error updating event:",C),_.error(((w=(N=C.response)==null?void 0:N.data)==null?void 0:w.error)||"  ")}finally{c(!1)}},m=v=>{const{name:N,value:w,type:C,checked:k}=v.target;if(N.startsWith("organizerMessages.")){const M=N.split(".")[1];l($=>({...$,organizerMessages:{...$.organizerMessages,[M]:w}}))}else l(M=>({...M,[N]:C==="checkbox"?k:w}));x[N]&&g(M=>({...M,[N]:""}))},E=[{value:"meetup",label:"  "},{value:"training",label:" "},{value:"competition",label:" "},{value:"adoption",label:" "},{value:"social",label:"  "},{value:"educational",label:" "},{value:"other",label:" "}];return e.jsxs("div",{className:"max-w-6xl mx-auto bg-white dark:bg-slate-800 rounded-3xl shadow-2xl border border-gray-100 dark:border-slate-700 overflow-hidden max-h-[95vh] overflow-y-auto backdrop-blur-sm",children:[e.jsx("div",{className:"bg-gradient-to-r from-purple-600 via-purple-700 to-pink-600 px-8 py-8 text-white sticky top-0 z-20 backdrop-blur-sm",children:e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute -top-4 -right-4 opacity-20",children:e.jsx("div",{className:"text-6xl animate-pulse",children:""})}),e.jsxs("div",{className:"relative z-10",children:[e.jsxs("h2",{className:"text-3xl lg:text-4xl font-bold flex items-center mb-3",children:[e.jsx("div",{className:"bg-white/20 rounded-2xl p-3 ml-4",children:e.jsx(_e,{className:"h-8 w-8"})}),"   "]}),e.jsxs("p",{className:"text-purple-100 text-lg font-medium",children:['    "',t==null?void 0:t.title,'"   ']})]})]})}),e.jsxs("form",{onSubmit:j,className:"p-8 space-y-10",children:[e.jsxs("div",{className:"space-y-6",children:[e.jsxs("h3",{className:"text-2xl font-bold text-gray-900 dark:text-white border-b-2 border-purple-200 dark:border-purple-700 pb-3 flex items-center",children:[e.jsx("div",{className:"bg-purple-100 dark:bg-purple-800 rounded-xl p-2 ml-3",children:e.jsx(dt,{className:"h-6 w-6 text-purple-600 dark:text-purple-300"})})," "]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[e.jsxs("div",{className:"lg:col-span-2",children:[e.jsxs("label",{className:"block text-sm font-bold text-gray-700 dark:text-gray-300 mb-3 flex items-center",children:[e.jsx(_e,{className:"h-4 w-4 ml-2 text-purple-500"}),"  *"]}),e.jsx("input",{type:"text",name:"title",value:s.title,onChange:m,className:`w-full rounded-2xl border-2 px-6 py-4 text-base font-medium focus:outline-none focus:ring-4 focus:ring-purple-500/20 transition-all duration-300 dark:bg-slate-700 dark:text-white ${x.title?"border-red-300 bg-red-50 dark:border-red-600 dark:bg-red-900/20":"border-gray-200 dark:border-slate-600 bg-gray-50 dark:bg-slate-700 focus:bg-white dark:focus:bg-slate-600 hover:border-purple-300 dark:hover:border-purple-600"}`,placeholder:":     ",maxLength:100}),x.title&&e.jsx("p",{className:"mt-2 text-sm text-red-600 dark:text-red-400 font-medium",children:x.title})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-bold text-gray-700 dark:text-gray-300 mb-3",children:" "}),e.jsx("select",{name:"eventType",value:s.eventType,onChange:m,className:"w-full rounded-2xl border-2 border-gray-200 dark:border-slate-600 bg-gray-50 dark:bg-slate-700 px-6 py-4 text-base font-medium focus:outline-none focus:ring-4 focus:ring-purple-500/20 focus:bg-white dark:focus:bg-slate-600 transition-all duration-300 dark:text-white hover:border-purple-300 dark:hover:border-purple-600",children:E.map(v=>e.jsx("option",{value:v.value,children:v.label},v.value))})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-bold text-gray-700 dark:text-gray-300 mb-3 flex items-center",children:[e.jsx(fe,{className:"h-4 w-4 ml-2 text-purple-500"}),""]}),e.jsxs("div",{className:"w-full rounded-2xl border-2 border-gray-200 dark:border-slate-600 bg-gradient-to-r from-gray-100 to-gray-200 dark:from-slate-700 dark:to-slate-600 px-6 py-4 text-base font-medium text-gray-600 dark:text-gray-300",children:[" ",((b=t==null?void 0:t.garden)==null?void 0:b.name)||" "]}),e.jsx("p",{className:"mt-2 text-sm text-gray-500 dark:text-gray-400 font-medium bg-yellow-50 dark:bg-yellow-900/20 p-3 rounded-xl border border-yellow-200 dark:border-yellow-700",children:"        "})]})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-bold text-gray-700 dark:text-gray-300 mb-3 flex items-center",children:[e.jsx(at,{className:"h-4 w-4 ml-2 text-purple-500"}),"  *"]}),e.jsx("textarea",{name:"description",value:s.description,onChange:m,rows:5,className:`w-full rounded-2xl border-2 px-6 py-4 text-base font-medium focus:outline-none focus:ring-4 focus:ring-purple-500/20 transition-all duration-300 dark:bg-slate-700 dark:text-white resize-none ${x.description?"border-red-300 bg-red-50 dark:border-red-600 dark:bg-red-900/20":"border-gray-200 dark:border-slate-600 bg-gray-50 dark:bg-slate-700 focus:bg-white dark:focus:bg-slate-600 hover:border-purple-300 dark:hover:border-purple-600"}`,placeholder:"    ,       ...",maxLength:1e3}),x.description&&e.jsx("p",{className:"mt-2 text-sm text-red-600 dark:text-red-400 font-medium",children:x.description}),e.jsxs("div",{className:"flex justify-between items-center mt-2",children:[e.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400 font-medium",children:[s.description.length,"/1000 "]}),e.jsx("div",{className:"bg-purple-100 dark:bg-purple-900/30 rounded-lg px-3 py-1",children:e.jsx("span",{className:"text-sm font-bold text-purple-700 dark:text-purple-300",children:s.description.length>800?"":s.description.length>500?"":""})})]})]})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("h3",{className:"text-2xl font-bold text-gray-900 dark:text-white border-b-2 border-purple-200 dark:border-purple-700 pb-3 flex items-center",children:[e.jsx("div",{className:"bg-purple-100 dark:bg-purple-800 rounded-xl p-2 ml-3",children:e.jsx(Ae,{className:"h-6 w-6 text-purple-600 dark:text-purple-300"})}),"  "]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-bold text-gray-700 dark:text-gray-300 mb-3",children:"  *"}),e.jsx("input",{type:"date",name:"eventDate",value:s.eventDate,onChange:m,min:new Date().toISOString().split("T")[0],className:`w-full rounded-2xl border-2 px-6 py-4 text-base font-medium focus:outline-none focus:ring-4 focus:ring-purple-500/20 transition-all duration-300 dark:bg-slate-700 dark:text-white ${x.eventDate?"border-red-300 bg-red-50 dark:border-red-600 dark:bg-red-900/20":"border-gray-200 dark:border-slate-600 bg-gray-50 dark:bg-slate-700 focus:bg-white dark:focus:bg-slate-600 hover:border-purple-300 dark:hover:border-purple-600"}`}),x.eventDate&&e.jsx("p",{className:"mt-2 text-sm text-red-600 dark:text-red-400 font-medium",children:x.eventDate})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-bold text-gray-700 dark:text-gray-300 mb-3",children:"  *"}),e.jsx("input",{type:"time",name:"startTime",value:s.startTime,onChange:m,className:`w-full rounded-2xl border-2 px-6 py-4 text-base font-medium focus:outline-none focus:ring-4 focus:ring-purple-500/20 transition-all duration-300 dark:bg-slate-700 dark:text-white ${x.startTime?"border-red-300 bg-red-50 dark:border-red-600 dark:bg-red-900/20":"border-gray-200 dark:border-slate-600 bg-gray-50 dark:bg-slate-700 focus:bg-white dark:focus:bg-slate-600 hover:border-purple-300 dark:hover:border-purple-600"}`}),x.startTime&&e.jsx("p",{className:"mt-2 text-sm text-red-600 dark:text-red-400 font-medium",children:x.startTime})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-bold text-gray-700 dark:text-gray-300 mb-3",children:"  *"}),e.jsx("input",{type:"time",name:"endTime",value:s.endTime,onChange:m,className:`w-full rounded-2xl border-2 px-6 py-4 text-base font-medium focus:outline-none focus:ring-4 focus:ring-purple-500/20 transition-all duration-300 dark:bg-slate-700 dark:text-white ${x.endTime?"border-red-300 bg-red-50 dark:border-red-600 dark:bg-red-900/20":"border-gray-200 dark:border-slate-600 bg-gray-50 dark:bg-slate-700 focus:bg-white dark:focus:bg-slate-600 hover:border-purple-300 dark:hover:border-purple-600"}`}),x.endTime&&e.jsx("p",{className:"mt-2 text-sm text-red-600 dark:text-red-400 font-medium",children:x.endTime})]})]})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("h3",{className:"text-2xl font-bold text-gray-900 dark:text-white border-b-2 border-purple-200 dark:border-purple-700 pb-3 flex items-center",children:[e.jsx("div",{className:"bg-purple-100 dark:bg-purple-800 rounded-xl p-2 ml-3",children:e.jsx(Ne,{className:"h-6 w-6 text-purple-600 dark:text-purple-300"})}),"  "]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-bold text-gray-700 dark:text-gray-300 mb-3",children:"  "}),e.jsx("input",{type:"number",name:"maxParticipants",value:s.maxParticipants,onChange:m,min:"1",className:"w-full rounded-2xl border-2 border-gray-200 dark:border-slate-600 bg-gray-50 dark:bg-slate-700 px-6 py-4 text-base font-medium focus:outline-none focus:ring-4 focus:ring-purple-500/20 focus:bg-white dark:focus:bg-slate-600 transition-all duration-300 dark:text-white hover:border-purple-300 dark:hover:border-purple-600",placeholder:"   "})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-bold text-gray-700 dark:text-gray-300 mb-3",children:"  "}),e.jsx("input",{type:"datetime-local",name:"registrationDeadline",value:s.registrationDeadline,onChange:m,className:`w-full rounded-2xl border-2 px-6 py-4 text-base font-medium focus:outline-none focus:ring-4 focus:ring-purple-500/20 transition-all duration-300 dark:bg-slate-700 dark:text-white ${x.registrationDeadline?"border-red-300 bg-red-50 dark:border-red-600 dark:bg-red-900/20":"border-gray-200 dark:border-slate-600 bg-gray-50 dark:bg-slate-700 focus:bg-white dark:focus:bg-slate-600 hover:border-purple-300 dark:hover:border-purple-600"}`}),x.registrationDeadline&&e.jsx("p",{className:"mt-2 text-sm text-red-600 dark:text-red-400 font-medium",children:x.registrationDeadline})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"bg-gradient-to-r from-purple-50 to-pink-50 dark:from-purple-900/20 dark:to-pink-900/20 rounded-2xl p-6 border border-purple-200 dark:border-purple-700",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",name:"requiresApproval",checked:s.requiresApproval,onChange:m,className:"h-5 w-5 text-purple-600 focus:ring-purple-500 border-gray-300 dark:border-slate-600 rounded-lg"}),e.jsx("label",{className:"mr-4 text-sm font-bold text-gray-700 dark:text-gray-300",children:"   "})]}),e.jsx("p",{className:"mt-2 text-xs text-gray-600 dark:text-gray-400",children:"     "})]}),e.jsxs("div",{className:"bg-gradient-to-r from-blue-50 to-cyan-50 dark:from-blue-900/20 dark:to-cyan-900/20 rounded-2xl p-6 border border-blue-200 dark:border-blue-700",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",name:"allowWaitingList",checked:s.allowWaitingList,onChange:m,className:"h-5 w-5 text-blue-600 focus:ring-blue-500 border-gray-300 dark:border-slate-600 rounded-lg"}),e.jsx("label",{className:"mr-4 text-sm font-bold text-gray-700 dark:text-gray-300",children:"  "})]}),e.jsx("p",{className:"mt-2 text-xs text-gray-600 dark:text-gray-400",children:"  "})]})]}),t&&t.participants&&t.participants.length>0&&e.jsxs("div",{className:"p-6 bg-gradient-to-r from-yellow-50 to-orange-50 dark:from-yellow-900/20 dark:to-orange-900/20 border-2 border-yellow-200 dark:border-yellow-700 rounded-2xl shadow-lg",children:[e.jsxs("div",{className:"flex items-center mb-2",children:[e.jsx("div",{className:"bg-yellow-200 dark:bg-yellow-700 rounded-full p-2 ml-3",children:e.jsx(Ne,{className:"h-5 w-5 text-yellow-800 dark:text-yellow-300"})}),e.jsx("strong",{className:"font-bold text-yellow-900 dark:text-yellow-300",children:" !"})]}),e.jsxs("p",{className:"text-sm text-yellow-800 dark:text-yellow-300 font-medium",children:["    ",t.participants.length,"  .        . "]})]})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-bold text-gray-700 dark:text-gray-300 mb-3 flex items-center",children:[e.jsx(as,{className:"h-4 w-4 ml-2 text-purple-500"})," ( ) "]}),e.jsx("input",{type:"text",name:"tags",value:s.tags,onChange:m,className:"w-full rounded-2xl border-2 border-gray-200 dark:border-slate-600 bg-gray-50 dark:bg-slate-700 px-6 py-4 text-base font-medium focus:outline-none focus:ring-4 focus:ring-purple-500/20 focus:bg-white dark:focus:bg-slate-600 transition-all duration-300 dark:text-white hover:border-purple-300 dark:hover:border-purple-600",placeholder:" , , , "}),e.jsx("p",{className:"mt-2 text-sm text-gray-500 dark:text-gray-400 font-medium bg-purple-50 dark:bg-purple-900/20 p-3 rounded-xl",children:"          "})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("h3",{className:"text-2xl font-bold text-gray-900 dark:text-white border-b-2 border-purple-200 dark:border-purple-700 pb-3 flex items-center",children:[e.jsx("div",{className:"bg-purple-100 dark:bg-purple-800 rounded-xl p-2 ml-3",children:e.jsx(at,{className:"h-6 w-6 text-purple-600 dark:text-purple-300"})}),"   "]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-bold text-gray-700 dark:text-gray-300 mb-3 flex items-center",children:"  "}),e.jsx("textarea",{name:"organizerMessages.welcomeMessage",value:s.organizerMessages.welcomeMessage,onChange:m,rows:4,className:"w-full rounded-2xl border-2 border-gray-200 dark:border-slate-600 bg-gray-50 dark:bg-slate-700 px-6 py-4 text-base font-medium focus:outline-none focus:ring-4 focus:ring-purple-500/20 focus:bg-white dark:focus:bg-slate-600 transition-all duration-300 dark:text-white resize-none hover:border-purple-300 dark:hover:border-purple-600",placeholder:"    !     ...",maxLength:1e3}),e.jsxs("p",{className:"mt-2 text-xs text-gray-500 dark:text-gray-400 font-medium",children:[s.organizerMessages.welcomeMessage.length,"/1000"]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-bold text-gray-700 dark:text-gray-300 mb-3 flex items-center",children:"  "}),e.jsx("textarea",{name:"organizerMessages.registrationMessage",value:s.organizerMessages.registrationMessage,onChange:m,rows:4,className:"w-full rounded-2xl border-2 border-gray-200 dark:border-slate-600 bg-gray-50 dark:bg-slate-700 px-6 py-4 text-base font-medium focus:outline-none focus:ring-4 focus:ring-purple-500/20 focus:bg-white dark:focus:bg-slate-600 transition-all duration-300 dark:text-white resize-none hover:border-purple-300 dark:hover:border-purple-600",placeholder:" !    ...",maxLength:1e3}),e.jsxs("p",{className:"mt-2 text-xs text-gray-500 dark:text-gray-400 font-medium",children:[s.organizerMessages.registrationMessage.length,"/1000"]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-bold text-gray-700 dark:text-gray-300 mb-3 flex items-center",children:"  "}),e.jsx("textarea",{name:"organizerMessages.approvalMessage",value:s.organizerMessages.approvalMessage,onChange:m,rows:4,className:`w-full rounded-2xl border-2 px-6 py-4 text-base font-medium focus:outline-none focus:ring-4 focus:ring-purple-500/20 transition-all duration-300 resize-none dark:text-white ${s.requiresApproval?"border-gray-200 dark:border-slate-600 bg-gray-50 dark:bg-slate-700 focus:bg-white dark:focus:bg-slate-600 hover:border-purple-300 dark:hover:border-purple-600":"border-gray-300 dark:border-slate-600 bg-gray-100 dark:bg-slate-800 text-gray-500 dark:text-gray-400 cursor-not-allowed"}`,placeholder:" !  .  ...",maxLength:1e3,disabled:!s.requiresApproval}),e.jsxs("p",{className:"mt-2 text-xs text-gray-500 dark:text-gray-400 font-medium",children:[s.organizerMessages.approvalMessage.length,"/1000",!s.requiresApproval&&" (   )"]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-bold text-gray-700 dark:text-gray-300 mb-3 flex items-center",children:"  "}),e.jsx("textarea",{name:"organizerMessages.rejectionMessage",value:s.organizerMessages.rejectionMessage,onChange:m,rows:4,className:`w-full rounded-2xl border-2 px-6 py-4 text-base font-medium focus:outline-none focus:ring-4 focus:ring-purple-500/20 transition-all duration-300 resize-none dark:text-white ${s.requiresApproval?"border-gray-200 dark:border-slate-600 bg-gray-50 dark:bg-slate-700 focus:bg-white dark:focus:bg-slate-600 hover:border-purple-300 dark:hover:border-purple-600":"border-gray-300 dark:border-slate-600 bg-gray-100 dark:bg-slate-800 text-gray-500 dark:text-gray-400 cursor-not-allowed"}`,placeholder:",      .    ...",maxLength:1e3,disabled:!s.requiresApproval}),e.jsxs("p",{className:"mt-2 text-xs text-gray-500 dark:text-gray-400 font-medium",children:[s.organizerMessages.rejectionMessage.length,"/1000",!s.requiresApproval&&" (   )"]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-bold text-gray-700 dark:text-gray-300 mb-3 flex items-center",children:"  "}),e.jsx("textarea",{name:"organizerMessages.reminderMessage",value:s.organizerMessages.reminderMessage,onChange:m,rows:4,className:"w-full rounded-2xl border-2 border-gray-200 dark:border-slate-600 bg-gray-50 dark:bg-slate-700 px-6 py-4 text-base font-medium focus:outline-none focus:ring-4 focus:ring-purple-500/20 focus:bg-white dark:focus:bg-slate-600 transition-all duration-300 dark:text-white resize-none hover:border-purple-300 dark:hover:border-purple-600",placeholder:":    !   ...",maxLength:1e3}),e.jsxs("p",{className:"mt-2 text-xs text-gray-500 dark:text-gray-400 font-medium",children:[s.organizerMessages.reminderMessage.length,"/1000"]})]})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 pt-8 border-t-2 border-purple-200 dark:border-purple-700",children:[e.jsx("button",{type:"submit",disabled:d,className:"flex-1 flex justify-center items-center px-8 py-6 bg-gradient-to-r from-purple-600 via-purple-700 to-pink-600 hover:from-purple-700 hover:via-purple-800 hover:to-pink-700 text-white text-xl font-bold rounded-2xl focus:outline-none focus:ring-4 focus:ring-purple-500/30 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-300 transform hover:scale-[1.02] active:scale-[0.98] shadow-xl hover:shadow-2xl",children:d?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-white ml-3"}),"  ..."]}):e.jsxs(e.Fragment,{children:[e.jsx(De,{className:"h-6 w-6 ml-3"}),"   "]})}),e.jsxs("button",{type:"button",onClick:a,className:"flex-1 flex justify-center items-center px-8 py-6 bg-gradient-to-r from-gray-600 to-gray-700 hover:from-gray-700 hover:to-gray-800 text-white text-xl font-bold rounded-2xl focus:outline-none focus:ring-4 focus:ring-gray-500/30 transition-all duration-300 transform hover:scale-[1.02] active:scale-[0.98] shadow-xl hover:shadow-2xl",children:[e.jsx(dr,{className:"h-6 w-6 ml-3"}),""]})]})]})]})},Sl=({garden:t})=>{const[r,a]=n.useState([]),[s,l]=n.useState(null),[i,o]=n.useState(!0),[d,c]=n.useState(null),[x,g]=n.useState(!1),u=Ce();n.useEffect(()=>{h()},[]);const h=async()=>{var m,E,b;try{console.log("=== FETCHING ORGANIZER EVENTS ==="),c(null);const v=await ut.getOrganizerEvents();console.log("Response from API:",v);const N=v.data||v||[];console.log("Events data:",N),console.log("Number of events:",Array.isArray(N)?N.length:"Not an array"),a(Array.isArray(N)?N:[]),Array.isArray(N)&&N.length===0&&console.log("No events found for this user")}catch(v){console.error("Error fetching events:",v),console.error("Error details:",((m=v.response)==null?void 0:m.data)||v.message);const N=((b=(E=v.response)==null?void 0:E.data)==null?void 0:b.error)||v.message||"  ";c(N),_.error(`  : ${N}`),a([])}finally{o(!1)}},p=async(m,E,b,v="")=>{try{await ut.updateParticipantStatus(m,E,b,v),_.success("   "),h()}catch(N){console.error("Error updating participant:",N),_.error("  ")}},f=m=>{l(m),g(!0)},j=m=>{u(`/events/${m}`)};return i?e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-purple-50 via-white to-pink-50",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:e.jsxs("div",{className:"text-center py-16",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-purple-600 mx-auto"}),e.jsx("p",{className:"mt-4 text-lg text-gray-600",children:" ..."})]})})}):d?e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-purple-50 via-white to-pink-50",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:e.jsx("div",{className:"text-center py-16",children:e.jsxs("div",{className:"bg-red-50 rounded-2xl shadow-lg p-12 max-w-md mx-auto border border-red-200",children:[e.jsx("div",{className:"text-6xl mb-4",children:""}),e.jsx("h3",{className:"text-xl font-semibold text-red-900 mb-2",children:"  "}),e.jsx("p",{className:"text-red-700 mb-6",children:d}),e.jsx("button",{onClick:h,className:"bg-red-600 text-white px-6 py-2 rounded-lg hover:bg-red-700 transition-colors",children:" "})]})})})}):e.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900",children:e.jsxs("div",{className:"max-w-lg mx-auto",children:[e.jsxs("div",{className:"bg-gradient-to-br from-indigo-600 via-purple-600 to-pink-600 dark:from-indigo-700 dark:via-purple-700 dark:to-pink-700 mx-4 mt-4 rounded-3xl p-6 text-white relative overflow-hidden",children:[e.jsx("div",{className:"absolute -top-6 -right-6 opacity-20",children:e.jsx("div",{className:"text-8xl",children:""})}),e.jsxs("div",{className:"relative z-10",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold mb-1",children:"Event Manager "}),e.jsx("p",{className:"text-indigo-100 dark:text-indigo-200 text-sm",children:"Manage your events and participants"})]}),e.jsx("button",{onClick:h,className:"p-3 bg-white bg-opacity-20 rounded-2xl hover:bg-opacity-30 transition-all",children:e.jsx(Lr,{className:"h-5 w-5"})})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[e.jsxs("div",{className:"bg-white bg-opacity-20 rounded-2xl p-3 text-center",children:[e.jsx("div",{className:"text-lg font-bold",children:r.length}),e.jsx("div",{className:"text-xs text-indigo-100 dark:text-indigo-200",children:"Total Events"})]}),e.jsxs("div",{className:"bg-white bg-opacity-20 rounded-2xl p-3 text-center",children:[e.jsx("div",{className:"text-lg font-bold",children:r.filter(m=>m.status==="upcoming").length}),e.jsx("div",{className:"text-xs text-indigo-100 dark:text-indigo-200",children:"Upcoming"})]}),e.jsxs("div",{className:"bg-white bg-opacity-20 rounded-2xl p-3 text-center",children:[e.jsx("div",{className:"text-lg font-bold",children:r.reduce((m,E)=>{var b;return m+(((b=E.participants)==null?void 0:b.filter(v=>v.status==="pending").length)||0)},0)}),e.jsx("div",{className:"text-xs text-indigo-100 dark:text-indigo-200",children:"Pending"})]})]})]})]}),e.jsx("div",{className:"p-4",children:r.length===0?e.jsx("div",{className:"text-center py-16",children:e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-3xl p-12 border border-gray-100 dark:border-gray-700",children:[e.jsx("div",{className:"text-6xl mb-4",children:""}),e.jsx("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-2",children:"No events yet"}),e.jsx("p",{className:"text-gray-500 dark:text-gray-400 mb-6",children:"Your created events will appear here for management"})]})}):e.jsx("div",{className:"space-y-4",children:r.map(m=>e.jsx(Fu,{event:m,onParticipantAction:p,onEventEdit:f,onEventView:j},m._id))})}),x&&s&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:e.jsx("div",{className:"max-w-4xl w-full",children:e.jsx(Pu,{event:s,onEventUpdated:m=>{g(!1),h(),_.success("Event updated successfully! ")},onCancel:()=>g(!1)})})})]})})},Fu=({event:t,onParticipantAction:r,onEventEdit:a,onEventView:s})=>{var p;const[l,i]=n.useState(!1),o=t.participants||[],d=t.waitingList||[],c=o.filter(f=>f.status==="approved").length,x=o.filter(f=>f.status==="pending").length,g=f=>{const j={upcoming:{bg:"bg-green-100 dark:bg-green-900/30",text:"text-green-600 dark:text-green-400",label:"Upcoming",icon:""},ongoing:{bg:"bg-blue-100 dark:bg-blue-900/30",text:"text-blue-600 dark:text-blue-400",label:"Live Now",icon:""},completed:{bg:"bg-gray-100 dark:bg-gray-700",text:"text-gray-600 dark:text-gray-400",label:"Completed",icon:""},cancelled:{bg:"bg-red-100 dark:bg-red-900/30",text:"text-red-600 dark:text-red-400",label:"Cancelled",icon:""}};return j[f]||j.upcoming},u=f=>new Date(f).toLocaleDateString("en-US",{weekday:"short",month:"short",day:"numeric"}),h=g(t.status);return e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-3xl border border-gray-100 dark:border-gray-700 overflow-hidden shadow-lg",children:[e.jsxs("div",{className:"bg-gradient-to-r from-purple-600 to-pink-600 dark:from-purple-700 dark:to-pink-700 p-4 text-white relative overflow-hidden",children:[e.jsx("div",{className:"absolute -top-4 -right-4 opacity-20",children:e.jsx("div",{className:"text-6xl",children:h.icon})}),e.jsxs("div",{className:"relative z-10",children:[e.jsxs("div",{className:"flex justify-between items-start mb-3",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"text-xl font-bold mb-1 line-clamp-1",children:t.title}),e.jsxs("div",{className:"flex items-center text-sm text-purple-100 dark:text-purple-200 mb-1",children:[e.jsx(dt,{className:"h-4 w-4 mr-2"}),u(t.eventDate)]}),e.jsxs("div",{className:"flex items-center text-sm text-purple-100 dark:text-purple-200",children:[e.jsx(Ae,{className:"h-4 w-4 mr-2"}),t.startTime," - ",t.endTime]})]}),e.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-medium ${h.bg} ${h.text} border`,children:h.label})]}),((p=t.garden)==null?void 0:p.name)&&e.jsxs("p",{className:"text-sm text-purple-100 dark:text-purple-200 flex items-center",children:[" ",t.garden.name]})]})]}),e.jsxs("div",{className:"p-4 bg-gradient-to-r from-gray-50 to-purple-50 dark:from-gray-800 dark:to-purple-900/20",children:[e.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[e.jsxs("div",{className:"bg-white dark:bg-gray-700 rounded-2xl p-3 text-center shadow-sm",children:[e.jsx("div",{className:"text-2xl font-bold text-green-600 dark:text-green-400",children:c}),e.jsx("div",{className:"text-xs text-gray-600 dark:text-gray-400",children:"Approved"})]}),e.jsxs("div",{className:"bg-white dark:bg-gray-700 rounded-2xl p-3 text-center shadow-sm",children:[e.jsx("div",{className:"text-2xl font-bold text-yellow-600 dark:text-yellow-400",children:x}),e.jsx("div",{className:"text-xs text-gray-600 dark:text-gray-400",children:"Pending"})]}),e.jsxs("div",{className:"bg-white dark:bg-gray-700 rounded-2xl p-3 text-center shadow-sm",children:[e.jsx("div",{className:"text-2xl font-bold text-blue-600 dark:text-blue-400",children:d.length}),e.jsx("div",{className:"text-xs text-gray-600 dark:text-gray-400",children:"Waiting"})]})]}),t.requiresApproval&&x>0&&e.jsx("div",{className:"mt-3 p-3 bg-yellow-100 dark:bg-yellow-900/30 border border-yellow-200 dark:border-yellow-700 rounded-2xl",children:e.jsxs("p",{className:"text-sm text-yellow-800 dark:text-yellow-300 font-medium flex items-center",children:[" ",x," participants waiting for approval"]})})]}),t.description&&e.jsx("div",{className:"p-4 border-t border-gray-100 dark:border-gray-700",children:e.jsx("p",{className:"text-gray-700 dark:text-gray-300 text-sm line-clamp-2",children:t.description})}),e.jsx("div",{className:"p-4 border-t border-gray-100 dark:border-gray-700 bg-gray-50 dark:bg-gray-800/50",children:e.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[e.jsxs("button",{onClick:()=>i(!l),className:"flex items-center justify-center px-3 py-2 bg-white dark:bg-gray-700 border border-purple-200 dark:border-purple-600 text-purple-700 dark:text-purple-300 rounded-xl hover:bg-purple-50 dark:hover:bg-purple-900/30 transition-all duration-200 text-sm font-medium",children:[e.jsx(At,{className:"h-4 w-4 mr-1"}),l?"Hide":"Users"]}),e.jsxs("button",{onClick:()=>s(t._id),className:"flex items-center justify-center px-3 py-2 bg-white dark:bg-gray-700 border border-blue-200 dark:border-blue-600 text-blue-700 dark:text-blue-300 rounded-xl hover:bg-blue-50 dark:hover:bg-blue-900/30 transition-all duration-200 text-sm font-medium",children:[e.jsx(Ke,{className:"h-4 w-4 mr-1"}),"View"]}),e.jsxs("button",{onClick:()=>a(t),className:"flex items-center justify-center px-3 py-2 bg-gradient-to-r from-purple-600 to-pink-600 text-white rounded-xl hover:from-purple-700 hover:to-pink-700 transition-all duration-200 text-sm font-medium shadow-md",children:[e.jsx(G0,{className:"h-4 w-4 mr-1"}),"Edit"]})]})}),l&&e.jsx(Iu,{participants:o,waitingList:d,requiresApproval:t.requiresApproval,onParticipantAction:(f,j,m)=>r(t._id,f,j,m)})]})},Iu=({participants:t,waitingList:r,requiresApproval:a,onParticipantAction:s})=>e.jsx("div",{className:"border-t border-gray-200 dark:border-gray-700 bg-gradient-to-br from-purple-50 to-pink-50 dark:from-purple-900/20 dark:to-pink-900/20",children:e.jsxs("div",{className:"p-4",children:[e.jsxs("h4",{className:"text-lg font-bold mb-4 flex items-center text-purple-800 dark:text-purple-300",children:[e.jsx(At,{className:"h-5 w-5 mr-2"}),"Participants (",t.length,")"]}),t.length===0?e.jsxs("div",{className:"text-center py-8",children:[e.jsx(At,{className:"h-12 w-12 text-gray-400 mx-auto mb-2"}),e.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"No participants registered yet"})]}):e.jsx("div",{className:"space-y-3 mb-6",children:t.map(l=>{var i,o;return e.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-2xl p-4 shadow-sm border border-gray-100 dark:border-gray-700",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"bg-gradient-to-r from-purple-500 to-pink-500 rounded-full p-2 mr-3",children:e.jsx(At,{className:"h-4 w-4 text-white"})}),e.jsxs("div",{children:[e.jsxs("span",{className:"font-semibold text-gray-900 dark:text-white",children:[(i=l.user)==null?void 0:i.firstName," ",(o=l.user)==null?void 0:o.lastName]}),e.jsxs("div",{className:"flex items-center mt-1 gap-2",children:[e.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${l.status==="approved"?"bg-green-100 dark:bg-green-900/30 text-green-800 dark:text-green-300":l.status==="pending"?"bg-yellow-100 dark:bg-yellow-900/30 text-yellow-800 dark:text-yellow-300":l.status==="rejected"?"bg-red-100 dark:bg-red-900/30 text-red-800 dark:text-red-300":"bg-gray-100 dark:bg-gray-700 text-gray-800 dark:text-gray-300"}`,children:l.status==="approved"?" Approved":l.status==="pending"?" Pending":l.status==="rejected"?" Rejected":l.status}),l.notes&&e.jsxs("span",{className:"text-xs text-gray-500 dark:text-gray-400 bg-gray-100 dark:bg-gray-700 px-2 py-1 rounded",children:[" ",l.notes]})]}),e.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:["Registered: ",new Date(l.registeredAt).toLocaleDateString("en-US")]})]})]}),a&&l.status==="pending"&&e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:()=>s(l._id,"approved"),className:"bg-green-500 text-white p-2 rounded-xl hover:bg-green-600 transition-all duration-200 shadow-md",title:"Approve participant",children:e.jsx(De,{className:"h-4 w-4"})}),e.jsx("button",{onClick:()=>{const d=prompt("Notes (optional):");d!==null&&s(l._id,"rejected",d||"")},className:"bg-red-500 text-white p-2 rounded-xl hover:bg-red-600 transition-all duration-200 shadow-md",title:"Reject participant",children:e.jsx(dr,{className:"h-4 w-4"})})]})]})},l._id)})}),r.length>0&&e.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 rounded-2xl p-4 border border-blue-200 dark:border-blue-700",children:[e.jsxs("h5",{className:"text-lg font-bold mb-3 text-blue-800 dark:text-blue-300 flex items-center",children:[" Waiting List (",r.length,")"]}),e.jsx("div",{className:"space-y-2",children:r.map((l,i)=>{var o,d;return e.jsxs("div",{className:"flex items-center justify-between bg-white dark:bg-gray-800 p-3 rounded-xl shadow-sm",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("span",{className:"bg-blue-100 dark:bg-blue-900/30 text-blue-800 dark:text-blue-300 rounded-full w-7 h-7 flex items-center justify-center text-sm font-bold mr-3",children:i+1}),e.jsxs("div",{children:[e.jsxs("span",{className:"font-medium text-gray-900 dark:text-white text-sm",children:[(o=l.user)==null?void 0:o.firstName," ",(d=l.user)==null?void 0:d.lastName]}),e.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:["Added: ",new Date(l.addedAt).toLocaleDateString("en-US")]})]})]}),e.jsx("span",{className:"text-xs text-blue-600 dark:text-blue-400 bg-blue-100 dark:bg-blue-900/30 px-2 py-1 rounded",children:"Waiting"})]},l._id)})})]}),t.length===0&&r.length===0&&e.jsxs("div",{className:"text-center py-8",children:[e.jsx("div",{className:"text-6xl mb-4",children:""}),e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-2",children:"No participants yet"}),e.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"When people register for this event, they'll appear here"})]})]})}),Cl=()=>{var C;const[t,r]=n.useState([]),[a,s]=n.useState(!0),[l,i]=n.useState({status:"upcoming",eventType:"all"}),[o,d]=n.useState(""),[c,x]=n.useState("browse"),{user:g}=ge();Ar();const[u]=ti(),h=g&&(g.role==="admin"||g.role==="garden_manager"||((C=g.eventPermissions)==null?void 0:C.canCreateEvents));n.useEffect(()=>{u.get("view")==="manage"&&h&&x("manage")},[u,h]),n.useEffect(()=>{p()},[l]);const p=async()=>{try{s(!0);const k={status:l.status};l.eventType!=="all"&&(k.eventType=l.eventType);const M=await ut.getAllEvents(k);let $=[];M&&Array.isArray(M.docs)?$=M.docs:Array.isArray(M)?$=M:M&&Array.isArray(M.events)?$=M.events:M&&Array.isArray(M.data)?$=M.data:console.warn("Unexpected events response format:",M),r($)}catch(k){console.error("Error loading events:",k),_.error("Failed to load events")}finally{s(!1)}},f=k=>{const M={meetup:{color:"from-blue-500 to-cyan-600",bg:"bg-blue-50 dark:bg-blue-900/20",text:"text-blue-700 dark:text-blue-300",Icon:Ne,iconColor:"text-blue-500",label:"Community Meetup"},training:{color:"from-purple-500 to-pink-600",bg:"bg-purple-50 dark:bg-purple-900/20",text:"text-purple-700 dark:text-purple-300",Icon:ea,iconColor:"text-purple-500",label:"Training Session"},competition:{color:"from-red-500 to-orange-600",bg:"bg-red-50 dark:bg-red-900/20",text:"text-red-700 dark:text-red-300",Icon:nt,iconColor:"text-red-500",label:"Competition"},adoption:{color:"from-green-500 to-emerald-600",bg:"bg-green-50 dark:bg-green-900/20",text:"text-green-700 dark:text-green-300",Icon:Le,iconColor:"text-green-500",label:"Adoption Event"},social:{color:"from-yellow-500 to-amber-600",bg:"bg-yellow-50 dark:bg-yellow-900/20",text:"text-yellow-700 dark:text-yellow-300",Icon:_e,iconColor:"text-yellow-500",label:"Social Gathering"},educational:{color:"from-indigo-500 to-blue-600",bg:"bg-indigo-50 dark:bg-indigo-900/20",text:"text-indigo-700 dark:text-indigo-300",Icon:ea,iconColor:"text-indigo-500",label:"Educational"},other:{color:"from-gray-500 to-slate-600",bg:"bg-gray-50 dark:bg-gray-700",text:"text-gray-700 dark:text-gray-300",Icon:Xe,iconColor:"text-gray-500",label:"Special Event"}};return M[k]||M.other},j=k=>{const M={upcoming:{color:"text-green-600 dark:text-green-400",bg:"bg-green-100 dark:bg-green-900/30",label:"Upcoming"},ongoing:{color:"text-blue-600 dark:text-blue-400",bg:"bg-blue-100 dark:bg-blue-900/30",label:"Live Now"},completed:{color:"text-gray-600 dark:text-gray-400",bg:"bg-gray-100 dark:bg-gray-700",label:"Completed"},cancelled:{color:"text-red-600 dark:text-red-400",bg:"bg-red-100 dark:bg-red-900/30",label:"Cancelled"}};return M[k]||M.upcoming},m=k=>{if(!k)return"Invalid Date";const M=new Date(k);return isNaN(M.getTime())?"Invalid Date":M.toLocaleDateString("en-US",{weekday:"short",month:"short",day:"numeric"})},E=k=>k?new Date(`1970-01-01T${k}`).toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit",hour12:!0}):"TBA",b=k=>{if(!k)return!1;const M=new Date,A=(new Date(k)-M)/(1e3*60*60);return A<=24&&A>0},v=k=>{_.success("Event created successfully! "),x("browse"),p()},N=k=>{x(k);const M=new URL(window.location);k==="browse"?M.searchParams.delete("view"):M.searchParams.set("view",k),window.history.pushState({},"",M)},w=t.filter(k=>{var $;if(!o)return!0;const M=o.toLowerCase();return k.title.toLowerCase().includes(M)||k.description&&k.description.toLowerCase().includes(M)||(($=k.garden)==null?void 0:$.name)&&k.garden.name.toLowerCase().includes(M)});return a?e.jsx(vu,{}):c==="create"?e.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 pb-6",children:e.jsxs("div",{className:"max-w-4xl mx-auto px-4 pt-6",children:[e.jsx("div",{className:"mb-6",children:e.jsxs("button",{onClick:()=>N("browse"),className:"inline-flex items-center space-x-2 text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white transition-colors",children:[e.jsx("span",{children:""}),e.jsx("span",{children:"Back to Events"})]})}),e.jsx(El,{onEventCreated:v,onCancel:()=>N("browse")})]})}):c==="manage"?e.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900",children:e.jsxs("div",{className:"max-w-lg mx-auto",children:[e.jsx("div",{className:"bg-gradient-to-br from-indigo-600 via-purple-600 to-pink-600 dark:from-indigo-700 dark:via-purple-700 dark:to-pink-700 mx-4 mt-4 rounded-3xl p-6 text-white",children:e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold",children:"Manage Events "}),e.jsx("p",{className:"text-indigo-100 dark:text-indigo-200",children:"Control your events"})]}),e.jsx("button",{onClick:()=>N("browse"),className:"p-2 bg-white bg-opacity-20 rounded-xl hover:bg-opacity-30 transition-colors",children:" Back"})]})}),e.jsx("div",{className:"p-4",children:e.jsx(Sl,{})})]})}):e.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900",children:e.jsxs("div",{className:"max-w-lg mx-auto lg:max-w-7xl",children:[e.jsxs("div",{className:"lg:hidden bg-gradient-to-br from-orange-600 via-red-600 to-pink-700 dark:from-orange-700 dark:via-red-700 dark:to-pink-800 mx-4 mt-4 rounded-3xl p-6 text-white",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold",children:"Events Hub "}),e.jsx("p",{className:"text-orange-100 dark:text-orange-200",children:"Discover amazing dog events"})]}),e.jsx("div",{className:"text-right",children:e.jsx("div",{className:"text-3xl",children:""})})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[e.jsxs("div",{className:"bg-white bg-opacity-20 rounded-2xl p-3 text-center",children:[e.jsx("div",{className:"text-lg font-bold",children:w.length}),e.jsx("div",{className:"text-xs text-orange-100 dark:text-orange-200",children:"Total Events"})]}),e.jsxs("div",{className:"bg-white bg-opacity-20 rounded-2xl p-3 text-center",children:[e.jsx("div",{className:"text-lg font-bold",children:w.filter(k=>k.status==="upcoming").length}),e.jsx("div",{className:"text-xs text-orange-100 dark:text-orange-200",children:"Upcoming"})]}),e.jsxs("div",{className:"bg-white bg-opacity-20 rounded-2xl p-3 text-center",children:[e.jsx("div",{className:"text-lg font-bold",children:w.filter(k=>b(k.eventDate)).length}),e.jsx("div",{className:"text-xs text-orange-100 dark:text-orange-200",children:"Today"})]})]})]}),e.jsxs("div",{className:"px-4 py-6",children:[h&&e.jsxs("div",{className:"flex space-x-3 mb-6",children:[e.jsxs("button",{onClick:()=>N("create"),className:"flex-1 bg-gradient-to-r from-blue-600 to-purple-600 text-white py-3 rounded-2xl font-medium hover:from-blue-700 hover:to-purple-700 transition-all duration-200 flex items-center justify-center space-x-2",children:[e.jsx(Xt,{className:"w-5 h-5"}),e.jsx("span",{children:"Create Event"})]}),e.jsx("button",{onClick:()=>N("manage"),className:"px-4 py-3 bg-gray-100 dark:bg-gray-800 text-gray-900 dark:text-white rounded-2xl hover:bg-gray-200 dark:hover:bg-gray-700 transition-colors",children:e.jsx(Cr,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"relative mb-6",children:[e.jsx(Mt,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),e.jsx("input",{type:"text",placeholder:"Search events...",value:o,onChange:k=>d(k.target.value),className:"w-full pl-12 pr-4 py-3 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-2xl text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),e.jsx("div",{className:"flex space-x-1 bg-gray-100 dark:bg-gray-800 rounded-2xl p-1 mb-6 overflow-x-auto",children:[{key:"upcoming",label:"Upcoming",icon:""},{key:"ongoing",label:"Live",icon:""},{key:"completed",label:"Past",icon:""}].map(k=>e.jsxs("button",{onClick:()=>i({...l,status:k.key}),className:`flex items-center space-x-2 px-4 py-2 rounded-xl font-medium transition-all duration-200 whitespace-nowrap ${l.status===k.key?"bg-white dark:bg-gray-700 text-blue-600 dark:text-blue-400 shadow-sm":"text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-300"}`,children:[e.jsx("span",{children:k.icon}),e.jsx("span",{className:"text-sm",children:k.label})]},k.key))}),w.length===0?e.jsx("div",{className:"text-center py-16",children:e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-3xl p-12 border border-gray-100 dark:border-gray-700",children:[e.jsx("div",{className:"text-6xl mb-4",children:""}),e.jsx("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-2",children:"No events found"}),e.jsx("p",{className:"text-gray-500 dark:text-gray-400 mb-6",children:h?"Create your first event to get started!":"Check back later for upcoming events."}),h&&e.jsx("button",{onClick:()=>N("create"),className:"bg-gradient-to-r from-blue-600 to-purple-600 text-white px-6 py-3 rounded-2xl font-medium hover:from-blue-700 hover:to-purple-700 transition-all duration-200",children:"Create First Event"})]})}):e.jsx("div",{className:"space-y-4",children:w.map(k=>{var F,T;const M=f(k.eventType),$=j(k.status),{Icon:A,iconColor:I}=M;return e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl overflow-hidden border border-gray-200 dark:border-gray-700 shadow-md hover:shadow-xl transition-shadow duration-300",children:[e.jsx("div",{className:`h-2 bg-gradient-to-r ${M.color}`}),e.jsxs("div",{className:"p-4 sm:p-6",children:[e.jsxs("div",{className:"flex items-start justify-between mb-3",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(A,{className:`h-8 w-8 ${I}`}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-base sm:text-lg font-bold text-gray-900 dark:text-white line-clamp-1",children:k.title}),e.jsx("span",{className:`text-xs px-2 py-0.5 rounded-full font-medium ${M.bg} ${M.text}`,children:M.label})]})]}),e.jsxs("div",{className:"flex flex-col items-end space-y-2",children:[e.jsx("span",{className:`text-xs px-2 py-1 rounded-full ${$.bg} ${$.color} font-medium`,children:$.label}),b(k.eventDate)&&e.jsx("span",{className:"bg-red-100 dark:bg-red-900/30 text-red-600 dark:text-red-400 text-xs px-2 py-1 rounded-full animate-pulse",children:" Starting Soon"})]})]}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400 text-sm mb-4 line-clamp-2 h-10",children:k.description}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm text-gray-500 dark:text-gray-400 mb-4",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(dt,{className:"w-4 h-4"}),e.jsx("span",{children:m(k.eventDate)})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ae,{className:"w-4 h-4"}),e.jsx("span",{children:E(k.startTime)})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(fe,{className:"w-4 h-4"}),e.jsx("span",{className:"line-clamp-1",children:((F=k.garden)==null?void 0:F.name)||"TBA"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ne,{className:"w-4 h-4 text-gray-400"}),e.jsxs("span",{children:[((T=k.participants)==null?void 0:T.length)||0," attending"]})]})]}),e.jsxs("div",{className:"flex items-center justify-between border-t border-gray-100 dark:border-gray-700 pt-4",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsxs("button",{className:"flex items-center space-x-1 text-gray-500 hover:text-red-500 transition-colors",children:[e.jsx(Le,{className:"w-5 h-5"}),e.jsx("span",{className:"text-xs font-medium",children:"Like"})]}),e.jsxs("button",{className:"flex items-center space-x-1 text-gray-500 hover:text-yellow-500 transition-colors",children:[e.jsx(Xe,{className:"w-5 h-5"}),e.jsx("span",{className:"text-xs font-medium",children:"Save"})]})]}),e.jsx(ce,{to:`/events/${k._id}`,className:"bg-blue-500 hover:bg-blue-600 text-white px-4 py-2 rounded-lg text-sm font-semibold transition-colors shadow-sm hover:shadow-md",children:"View Details"})]})]})]},k._id)})})]}),e.jsx("div",{className:"hidden lg:block px-8 py-8",children:e.jsx("div",{className:"text-center text-gray-500 dark:text-gray-400",children:"Desktop Events layout coming soon..."})})]})})},Rl=Object.freeze(Object.defineProperty({__proto__:null,default:Cl},Symbol.toStringTag,{value:"Module"}));let Ou={data:""},qu=t=>typeof window=="object"?((t?t.querySelector("#_goober"):window._goober)||Object.assign((t||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:t||Ou,Vu=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,Bu=/\/\*[^]*?\*\/|  +/g,un=/\n+/g,Ft=(t,r)=>{let a="",s="",l="";for(let i in t){let o=t[i];i[0]=="@"?i[1]=="i"?a=i+" "+o+";":s+=i[1]=="f"?Ft(o,i):i+"{"+Ft(o,i[1]=="k"?"":r)+"}":typeof o=="object"?s+=Ft(o,r?r.replace(/([^,])+/g,d=>i.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,c=>/&/.test(c)?c.replace(/&/g,d):d?d+" "+c:c)):i):o!=null&&(i=/^--/.test(i)?i:i.replace(/[A-Z]/g,"-$&").toLowerCase(),l+=Ft.p?Ft.p(i,o):i+":"+o+";")}return a+(r&&l?r+"{"+l+"}":l)+s},kt={},Al=t=>{if(typeof t=="object"){let r="";for(let a in t)r+=a+Al(t[a]);return r}return t},zu=(t,r,a,s,l)=>{let i=Al(t),o=kt[i]||(kt[i]=(c=>{let x=0,g=11;for(;x<c.length;)g=101*g+c.charCodeAt(x++)>>>0;return"go"+g})(i));if(!kt[o]){let c=i!==t?t:(x=>{let g,u,h=[{}];for(;g=Vu.exec(x.replace(Bu,""));)g[4]?h.shift():g[3]?(u=g[3].replace(un," ").trim(),h.unshift(h[0][u]=h[0][u]||{})):h[0][g[1]]=g[2].replace(un," ").trim();return h[0]})(t);kt[o]=Ft(l?{["@keyframes "+o]:c}:c,a?"":"."+o)}let d=a&&kt.g?kt.g:null;return a&&(kt.g=kt[o]),((c,x,g,u)=>{u?x.data=x.data.replace(u,c):x.data.indexOf(c)===-1&&(x.data=g?c+x.data:x.data+c)})(kt[o],r,s,d),o},Uu=(t,r,a)=>t.reduce((s,l,i)=>{let o=r[i];if(o&&o.call){let d=o(a),c=d&&d.props&&d.props.className||/^go/.test(d)&&d;o=c?"."+c:d&&typeof d=="object"?d.props?"":Ft(d,""):d===!1?"":d}return s+l+(o??"")},"");function ks(t){let r=this||{},a=t.call?t(r.p):t;return zu(a.unshift?a.raw?Uu(a,[].slice.call(arguments,1),r.p):a.reduce((s,l)=>Object.assign(s,l&&l.call?l(r.p):l),{}):a,qu(r.target),r.g,r.o,r.k)}let Ml,oa,da;ks.bind({g:1});let $t=ks.bind({k:1});function Hu(t,r,a,s){Ft.p=r,Ml=t,oa=a,da=s}function Bt(t,r){let a=this||{};return function(){let s=arguments;function l(i,o){let d=Object.assign({},i),c=d.className||l.className;a.p=Object.assign({theme:oa&&oa()},d),a.o=/ *go\d+/.test(c),d.className=ks.apply(a,s)+(c?" "+c:""),r&&(d.ref=o);let x=t;return t[0]&&(x=d.as||t,delete d.as),da&&x[0]&&da(d),Ml(x,d)}return r?r(l):l}}var Gu=t=>typeof t=="function",ca=(t,r)=>Gu(t)?t(r):t,Wu=(()=>{let t=0;return()=>(++t).toString()})(),Zu=(()=>{let t;return()=>{if(t===void 0&&typeof window<"u"){let r=matchMedia("(prefers-reduced-motion: reduce)");t=!r||r.matches}return t}})(),Yu=20,$l=(t,r)=>{switch(r.type){case 0:return{...t,toasts:[r.toast,...t.toasts].slice(0,Yu)};case 1:return{...t,toasts:t.toasts.map(i=>i.id===r.toast.id?{...i,...r.toast}:i)};case 2:let{toast:a}=r;return $l(t,{type:t.toasts.find(i=>i.id===a.id)?1:0,toast:a});case 3:let{toastId:s}=r;return{...t,toasts:t.toasts.map(i=>i.id===s||s===void 0?{...i,dismissed:!0,visible:!1}:i)};case 4:return r.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(i=>i.id!==r.toastId)};case 5:return{...t,pausedAt:r.time};case 6:let l=r.time-(t.pausedAt||0);return{...t,pausedAt:void 0,toasts:t.toasts.map(i=>({...i,pauseDuration:i.pauseDuration+l}))}}},Qu=[],zs={toasts:[],pausedAt:void 0},Aa=t=>{zs=$l(zs,t),Qu.forEach(r=>{r(zs)})},Ju=(t,r="blank",a)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:r,ariaProps:{role:"status","aria-live":"polite"},message:t,pauseDuration:0,...a,id:(a==null?void 0:a.id)||Wu()}),Ir=t=>(r,a)=>{let s=Ju(r,t,a);return Aa({type:2,toast:s}),s.id},Ee=(t,r)=>Ir("blank")(t,r);Ee.error=Ir("error");Ee.success=Ir("success");Ee.loading=Ir("loading");Ee.custom=Ir("custom");Ee.dismiss=t=>{Aa({type:3,toastId:t})};Ee.remove=t=>Aa({type:4,toastId:t});Ee.promise=(t,r,a)=>{let s=Ee.loading(r.loading,{...a,...a==null?void 0:a.loading});return typeof t=="function"&&(t=t()),t.then(l=>{let i=r.success?ca(r.success,l):void 0;return i?Ee.success(i,{id:s,...a,...a==null?void 0:a.success}):Ee.dismiss(s),l}).catch(l=>{let i=r.error?ca(r.error,l):void 0;i?Ee.error(i,{id:s,...a,...a==null?void 0:a.error}):Ee.dismiss(s)}),t};var Ku=$t`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,Xu=$t`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,eh=$t`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,th=Bt("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${Ku} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${Xu} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${t=>t.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${eh} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,rh=$t`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,sh=Bt("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${t=>t.secondary||"#e0e0e0"};
  border-right-color: ${t=>t.primary||"#616161"};
  animation: ${rh} 1s linear infinite;
`,ah=$t`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,nh=$t`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,lh=Bt("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${ah} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${nh} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${t=>t.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,ih=Bt("div")`
  position: absolute;
`,oh=Bt("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,dh=$t`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,ch=Bt("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${dh} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,mh=({toast:t})=>{let{icon:r,type:a,iconTheme:s}=t;return r!==void 0?typeof r=="string"?n.createElement(ch,null,r):r:a==="blank"?null:n.createElement(oh,null,n.createElement(sh,{...s}),a!=="loading"&&n.createElement(ih,null,a==="error"?n.createElement(th,{...s}):n.createElement(lh,{...s})))},xh=t=>`
0% {transform: translate3d(0,${t*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,gh=t=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${t*-150}%,-1px) scale(.6); opacity:0;}
`,uh="0%{opacity:0;} 100%{opacity:1;}",hh="0%{opacity:1;} 100%{opacity:0;}",ph=Bt("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,fh=Bt("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,bh=(t,r)=>{let a=t.includes("top")?1:-1,[s,l]=Zu()?[uh,hh]:[xh(a),gh(a)];return{animation:r?`${$t(s)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${$t(l)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}};n.memo(({toast:t,position:r,style:a,children:s})=>{let l=t.height?bh(t.position||r||"top-center",t.visible):{opacity:0},i=n.createElement(mh,{toast:t}),o=n.createElement(fh,{...t.ariaProps},ca(t.message,t));return n.createElement(ph,{className:t.className,style:{...l,...a,...t.style}},typeof s=="function"?s({icon:i,message:o}):n.createElement(n.Fragment,null,i,o))});Hu(n.createElement);ks`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`;const yh=()=>{var I,F,T,z,W,Z,G;const{id:t}=cr(),r=Ce(),{user:a}=ge(),[s,l]=n.useState(null),[i,o]=n.useState(!1),[d,c]=n.useState(!0);n.useEffect(()=>{x()},[t]);const x=async()=>{try{c(!0);const R=await ut.getEventById(t);l(R.data||R)}catch(R){console.error("Error loading event:",R),Ee.error("Failed to load event details"),r("/events")}finally{c(!1)}},g=async()=>{var R,V;if(!a){Ee.error("Please log in to register for events"),r("/login");return}o(!0);try{const J=await ut.registerForEvent(t);J.status==="pending"?Ee.success("Registered! Your registration is pending organizer approval"):Ee.success("Successfully registered for the event! "),l(L=>({...L,participants:[...L.participants,{user:a._id,status:J.status||"pending",registeredAt:new Date().toISOString()}]})),setTimeout(()=>x(),500)}catch(J){console.error("Error registering for event:",J),Ee.error(((V=(R=J.response)==null?void 0:R.data)==null?void 0:V.error)||"Failed to register for event")}finally{o(!1)}},u=async()=>{var R,V;o(!0);try{await ut.cancelEventRegistration(t),Ee.success("Registration cancelled successfully"),await x()}catch(J){console.error("Error cancelling registration:",J),Ee.error(((V=(R=J.response)==null?void 0:R.data)==null?void 0:V.error)||"Failed to cancel registration")}finally{o(!1)}},h=()=>{p()},p=()=>{var R,V,J,L,q,D;if(s)try{const B=new Date(`${s.eventDate}T${s.startTime}`),K=new Date(`${s.eventDate}T${s.endTime}`);if(isNaN(B.getTime())||isNaN(K.getTime())){Ee.error("Invalid date format");return}const le=ye=>ye.toISOString().replace(/[-:]/g,"").replace(/\.\d{3}/,""),oe=[s.description,"",`Location: ${((R=s.garden)==null?void 0:R.name)||"Not specified"}`,`Organizer: ${(V=s.organizer)==null?void 0:V.firstName} ${(J=s.organizer)==null?void 0:J.lastName}`,(L=s.organizer)!=null&&L.email?`Email: ${(q=s.organizer)==null?void 0:q.email}`:"",s.maxParticipants?`Spots: ${s.participantCount||0}/${s.maxParticipants}`:"","","Created via Pwaradise App "].filter(Boolean).join("\\n"),Q=["BEGIN:VCALENDAR","VERSION:2.0","PRODID:-//PawConnect App//Event Calendar//EN","CALSCALE:GREGORIAN","METHOD:PUBLISH","BEGIN:VEVENT",`UID:${s._id}@pawconnect.app`,`DTSTAMP:${le(new Date)}`,`DTSTART:${le(B)}`,`DTEND:${le(K)}`,`SUMMARY:${s.title}`,`DESCRIPTION:${oe}`,`LOCATION:${((D=s.garden)==null?void 0:D.name)||""}`,"STATUS:CONFIRMED","CATEGORIES:Dog Parks,Pet Events,Social",`URL:${window.location.origin}/events/${s._id}`,"BEGIN:VALARM","TRIGGER:-PT1H","ACTION:DISPLAY","DESCRIPTION:Reminder: Dog event starts in 1 hour! ","END:VALARM","END:VEVENT","END:VCALENDAR"].join(`\r
`),be=navigator.userAgent,je=/iPad|iPhone|iPod/.test(be),de=/Android/.test(be);if(je||de)try{const ye=`data:text/calendar;charset=utf8,${encodeURIComponent(Q)}`;if(je)window.location.href=ye,Ee.success('Redirected to Calendar! Choose "Add to All Events" or "Add to This Event Only"');else if(de){const qe=new Blob([Q],{type:"text/calendar"}),ft=URL.createObjectURL(qe),Y=document.createElement("a");Y.href=ft,Y.download=`${s.title.replace(/[^a-zA-Z0-9\u0590-\u05FF]/g,"_")}.ics`,document.body.appendChild(Y),Y.click(),document.body.removeChild(Y),URL.revokeObjectURL(ft),Ee.success("File downloaded! Open it to add to your calendar")}}catch(ye){console.error("Error opening mobile calendar:",ye),f(Q)}else f(Q)}catch(B){console.error("Error creating calendar event:",B),Ee.error("Failed to create calendar event")}},f=R=>{try{const V=new Blob([R],{type:"text/calendar;charset=utf-8"}),J=URL.createObjectURL(V),L=document.createElement("a");L.href=J,L.download=`${s.title.replace(/[^a-zA-Z0-9\u0590-\u05FF\s]/g,"_")}.ics`,L.style.display="none",document.body.appendChild(L),L.click(),document.body.removeChild(L),URL.revokeObjectURL(J),Ee.success("Calendar file downloaded! Open it to add the event to your calendar",{duration:4e3})}catch(V){console.error("Error downloading ICS file:",V),Ee.error("Failed to download calendar file")}},j=()=>{var R;return!s||!a?!1:(R=s.participants)==null?void 0:R.some(V=>{var J;return((J=V.user)==null?void 0:J._id)===a._id||V.user===a._id})},m=()=>{var V;if(!s||!a)return null;const R=(V=s.participants)==null?void 0:V.find(J=>{var L;return((L=J.user)==null?void 0:L._id)===a._id||J.user===a._id});return(R==null?void 0:R.status)||null},E=R=>new Date(R).toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"}),b=R=>{const V={meetup:{icon:"",label:"Community Meetup",color:"from-blue-500 to-cyan-600"},training:{icon:"",label:"Training Session",color:"from-purple-500 to-pink-600"},competition:{icon:"",label:"Competition",color:"from-red-500 to-orange-600"},adoption:{icon:"",label:"Adoption Event",color:"from-green-500 to-emerald-600"},social:{icon:"",label:"Social Event",color:"from-yellow-500 to-amber-600"},educational:{icon:"",label:"Educational",color:"from-indigo-500 to-blue-600"},other:{icon:"",label:"Special Event",color:"from-gray-500 to-slate-600"}};return V[R]||V.other},v=R=>({pending:"bg-yellow-100 dark:bg-yellow-900/30 text-yellow-800 dark:text-yellow-300 border-yellow-200 dark:border-yellow-700",approved:"bg-green-100 dark:bg-green-900/30 text-green-800 dark:text-green-300 border-green-200 dark:border-green-700",rejected:"bg-red-100 dark:bg-red-900/30 text-red-800 dark:text-red-300 border-red-200 dark:border-red-700"})[R]||"bg-gray-100 dark:bg-gray-700 text-gray-800 dark:text-gray-300 border-gray-200 dark:border-gray-600",N=R=>({pending:"Pending Approval",approved:"Approved",rejected:"Rejected"})[R]||R,w=R=>{const V={upcoming:{bg:"bg-green-500",text:"Upcoming",icon:""},ongoing:{bg:"bg-blue-500",text:"Live Now",icon:""},completed:{bg:"bg-gray-500",text:"Completed",icon:""},cancelled:{bg:"bg-red-500",text:"Cancelled",icon:""}};return V[R]||V.upcoming};if(d)return e.jsx(Cu,{});if(!s)return e.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-4",children:"Event not found"}),e.jsx("button",{onClick:()=>r("/events"),className:"text-purple-600 hover:text-purple-800 dark:text-purple-400 dark:hover:text-purple-300",children:"Back to events"})]})});const C=m(),k=j(),M=!k&&s.status==="upcoming"&&new Date<new Date(s.registrationDeadline||s.eventDate),$=w(s.status),A=b(s.eventType);return e.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900",children:e.jsxs("div",{className:"max-w-lg mx-auto",children:[e.jsxs("div",{className:`bg-gradient-to-r ${A.color} dark:from-purple-700 dark:to-pink-700 mx-4 mt-4 rounded-3xl p-6 text-white relative overflow-hidden`,children:[e.jsx("div",{className:"absolute -top-6 -right-6 opacity-20",children:e.jsx("div",{className:"text-8xl",children:A.icon})}),e.jsxs("div",{className:"relative z-10",children:[e.jsxs("button",{onClick:()=>r("/events"),className:"flex items-center text-white/80 hover:text-white transition-colors mb-4 p-2 rounded-xl bg-white/20 hover:bg-white/30",children:[e.jsx(We,{className:"h-4 w-4 mr-2"}),"Back to Events"]}),e.jsxs("div",{className:"mb-4",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[e.jsxs("span",{className:`${$.bg} px-3 py-1 rounded-full text-white text-sm font-medium flex items-center gap-1`,children:[e.jsx("span",{children:$.icon}),$.text]}),e.jsx("span",{className:"bg-white/20 px-3 py-1 rounded-full text-sm",children:A.label})]}),e.jsx("h1",{className:"text-2xl font-bold mb-3 line-clamp-2",children:s.title}),e.jsxs("div",{className:"grid grid-cols-1 gap-2 text-sm text-white/90",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(dt,{className:"h-4 w-4 mr-2"}),E(s.eventDate)]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx(Ae,{className:"h-4 w-4 mr-2"}),s.startTime," - ",s.endTime]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx(fe,{className:"h-4 w-4 mr-2"}),((I=s.garden)==null?void 0:I.name)||"Location TBA"]})]})]})]})]}),e.jsxs("div",{className:"p-4 space-y-4",children:[e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-3xl border border-gray-100 dark:border-gray-700 p-6",children:[e.jsxs("h3",{className:"text-lg font-bold text-gray-900 dark:text-white mb-4 flex items-center",children:[e.jsx(_e,{className:"h-5 w-5 mr-2 text-purple-600"}),"Event Registration"]}),k?e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:`p-4 rounded-2xl border ${v(C)}`,children:[e.jsxs("div",{className:"flex items-center justify-center",children:[C==="approved"&&e.jsx(De,{className:"h-5 w-5 mr-2"}),C==="pending"&&e.jsx(Ae,{className:"h-5 w-5 mr-2"}),C==="rejected"&&e.jsx(dr,{className:"h-5 w-5 mr-2"}),e.jsx("span",{className:"font-bold",children:N(C)})]}),C==="approved"&&e.jsx("p",{className:"text-sm mt-2 text-center opacity-75",children:"You're registered for this event"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs("button",{onClick:h,className:"flex items-center justify-center px-4 py-3 bg-blue-100 dark:bg-blue-900/30 text-blue-700 dark:text-blue-300 border border-blue-200 dark:border-blue-600 rounded-2xl font-medium hover:bg-blue-200 dark:hover:bg-blue-900/50 transition-all",children:[e.jsx(wt,{className:"h-4 w-4 mr-2"}),"Add to Calendar"]}),e.jsxs("button",{onClick:u,disabled:i,className:"flex items-center justify-center px-4 py-3 bg-red-100 dark:bg-red-900/30 text-red-700 dark:text-red-300 border border-red-200 dark:border-red-600 rounded-2xl font-medium hover:bg-red-200 dark:hover:bg-red-900/50 disabled:opacity-50 disabled:cursor-not-allowed transition-all",children:[i?e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-red-700 dark:border-red-300 mr-2"}):e.jsx(dr,{className:"h-4 w-4 mr-2"}),"Cancel"]})]})]}):M?e.jsx("button",{onClick:g,disabled:i,className:"w-full bg-gradient-to-r from-purple-600 to-pink-600 text-white py-4 px-6 rounded-2xl font-bold hover:from-purple-700 hover:to-pink-700 disabled:opacity-50 disabled:cursor-not-allowed transition-all transform hover:scale-105 shadow-lg",children:i?e.jsxs("div",{className:"flex items-center justify-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white mr-2"}),"Registering..."]}):e.jsxs("div",{className:"flex items-center justify-center",children:[e.jsx(Qe,{className:"h-5 w-5 mr-2"}),"Register for Event"]})}):e.jsxs("div",{className:"text-center py-4",children:[e.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:a?s.status!=="upcoming"?"Event is not active":new Date>=new Date(s.registrationDeadline||s.eventDate)?"Registration closed":"Registration not available":"Please log in to register"}),!a&&e.jsx("button",{onClick:()=>r("/login"),className:"mt-3 text-purple-600 hover:text-purple-800 dark:text-purple-400 dark:hover:text-purple-300 font-medium",children:"Log In Now"})]}),s.registrationDeadline&&e.jsx("div",{className:"mt-6 pt-6 border-t border-gray-100 dark:border-gray-700",children:e.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:[e.jsx("strong",{children:"Registration deadline:"}),e.jsx("br",{}),E(s.registrationDeadline)]})})]}),e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-3xl border border-gray-100 dark:border-gray-700 p-6",children:[e.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-white mb-4",children:"Event Description"}),e.jsx("p",{className:"text-gray-700 dark:text-gray-300 leading-relaxed whitespace-pre-wrap",children:s.description}),s.tags&&s.tags.length>0&&e.jsxs("div",{className:"mt-6 pt-6 border-t border-gray-100 dark:border-gray-700",children:[e.jsxs("div",{className:"flex items-center mb-3",children:[e.jsx(as,{className:"h-5 w-5 mr-2 text-purple-600"}),e.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white",children:"Tags"})]}),e.jsx("div",{className:"flex flex-wrap gap-2",children:s.tags.map((R,V)=>e.jsx("span",{className:"px-3 py-1 bg-purple-100 dark:bg-purple-900/30 text-purple-700 dark:text-purple-300 rounded-full text-sm font-medium",children:R},V))})]})]}),((F=s.organizerMessages)==null?void 0:F.welcomeMessage)&&e.jsxs("div",{className:"bg-gradient-to-br from-purple-50 to-pink-50 dark:from-purple-900/20 dark:to-pink-900/20 border-2 border-purple-200 dark:border-purple-700 rounded-3xl p-6",children:[e.jsxs("div",{className:"flex items-center mb-4",children:[e.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-purple-500 to-pink-500 rounded-full flex items-center justify-center mr-3",children:e.jsx("span",{className:"text-white text-lg",children:""})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-bold text-gray-900 dark:text-white",children:"Message from Organizer"}),e.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:[(T=s.organizer)==null?void 0:T.firstName," ",(z=s.organizer)==null?void 0:z.lastName]})]})]}),e.jsx("div",{className:"bg-white/60 dark:bg-gray-800/60 backdrop-blur rounded-2xl p-4 border border-purple-100 dark:border-purple-600",children:e.jsxs("p",{className:"text-gray-800 dark:text-gray-200 leading-relaxed whitespace-pre-wrap italic",children:['"',s.organizerMessages.welcomeMessage,'"']})})]}),e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-3xl border border-gray-100 dark:border-gray-700 p-6",children:[e.jsxs("h2",{className:"text-xl font-bold text-gray-900 dark:text-white mb-4 flex items-center",children:[e.jsx(Ne,{className:"h-6 w-6 mr-2 text-purple-600"}),"Participants"]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"bg-gradient-to-br from-green-50 to-green-100 dark:from-green-900/20 dark:to-green-800/20 rounded-2xl p-4 text-center border border-green-200 dark:border-green-700",children:[e.jsx("div",{className:"text-3xl font-bold text-green-700 dark:text-green-400",children:s.participantCount||0}),e.jsx("div",{className:"text-sm text-green-600 dark:text-green-400 mt-1",children:"Approved"})]}),e.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-blue-100 dark:from-blue-900/20 dark:to-blue-800/20 rounded-2xl p-4 text-center border border-blue-200 dark:border-blue-700",children:[e.jsx("div",{className:"text-3xl font-bold text-blue-700 dark:text-blue-400",children:s.maxParticipants||""}),e.jsx("div",{className:"text-sm text-blue-600 dark:text-blue-400 mt-1",children:"Total Spots"})]})]}),s.isFull&&e.jsx("div",{className:"mt-4 p-3 bg-yellow-50 dark:bg-yellow-900/30 border border-yellow-200 dark:border-yellow-700 rounded-2xl",children:e.jsxs("p",{className:"text-sm text-yellow-800 dark:text-yellow-300 font-medium flex items-center",children:[e.jsx(or,{className:"h-4 w-4 mr-2"}),"Event is full - you can join the waiting list"]})})]}),e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-3xl border border-gray-100 dark:border-gray-700 p-6",children:[e.jsxs("h2",{className:"text-xl font-bold text-gray-900 dark:text-white mb-4 flex items-center",children:[e.jsx(Rt,{className:"h-6 w-6 mr-2 text-purple-600"}),"Event Organizer"]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-purple-500 to-pink-500 rounded-full flex items-center justify-center mr-4",children:e.jsx(Rt,{className:"h-8 w-8 text-white"})}),e.jsxs("div",{children:[e.jsxs("p",{className:"font-bold text-lg text-gray-900 dark:text-white",children:[(W=s.organizer)==null?void 0:W.firstName," ",(Z=s.organizer)==null?void 0:Z.lastName]}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:(G=s.organizer)==null?void 0:G.email})]})]})]}),s.requirements&&e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-3xl border border-gray-100 dark:border-gray-700 p-6",children:[e.jsx("h3",{className:"text-lg font-bold text-gray-900 dark:text-white mb-4",children:"Event Requirements"}),e.jsxs("div",{className:"space-y-3",children:[s.requirements.vaccinationRequired&&e.jsxs("div",{className:"flex items-center text-sm",children:[e.jsx(De,{className:"h-5 w-5 mr-2 text-green-600"}),e.jsx("span",{className:"text-gray-700 dark:text-gray-300",children:"Current vaccination required"})]}),s.requirements.sizeRestrictions&&s.requirements.sizeRestrictions.length>0&&e.jsxs("div",{className:"text-sm",children:[e.jsx("span",{className:"font-medium text-gray-700 dark:text-gray-300",children:"Size restrictions:"}),e.jsx("ul",{className:"list-disc list-inside mt-1 text-gray-600 dark:text-gray-400 ml-5",children:s.requirements.sizeRestrictions.map((R,V)=>e.jsx("li",{children:R},V))})]}),s.requirements.ageRestrictions&&e.jsxs("div",{className:"text-sm",children:[e.jsx("span",{className:"font-medium text-gray-700 dark:text-gray-300",children:"Age restrictions:"}),e.jsxs("p",{className:"text-gray-600 dark:text-gray-400 ml-5",children:[s.requirements.ageRestrictions.min&&`Minimum: ${s.requirements.ageRestrictions.min} months`,s.requirements.ageRestrictions.min&&s.requirements.ageRestrictions.max&&" | ",s.requirements.ageRestrictions.max&&`Maximum: ${s.requirements.ageRestrictions.max} months`]})]})]})]})]})]})})},vh=()=>{const[t,r]=n.useState([]),[a,s]=n.useState(!1),[l,i]=n.useState(null),[o,d]=n.useState(""),[c,x]=n.useState("all"),[g,u]=n.useState(1),[h,p]=n.useState(!0),f=9;n.useEffect(()=>{j(!0)},[o,c]);const j=async(w=!1)=>{w?(u(1),await m(1,!0)):(await m(g+1),u(C=>C+1))},m=async(w,C=!1)=>{try{if(C){const k=await ut.getPublicEvents({page:w,limit:f,search:o,type:c==="all"?void 0:c});E(k,C)}else{s(!0);const k=await ut.getPublicEvents({page:w,limit:f,search:o,type:c==="all"?void 0:c});E(k,C),s(!1)}}catch(k){console.error("Error fetching events:",k),i("Error loading events"),s(!1)}},E=(w,C)=>{let k=[];w&&w.events&&Array.isArray(w.events)?k=w.events:Array.isArray(w)?k=w:w&&w.data&&Array.isArray(w.data)&&(k=w.data);const M=k.filter($=>new Date($.eventDate)>new Date);r($=>C?M:[...$,...M]),p(M.length===f)},b=w=>new Date(w).toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"}),v=w=>new Date(`2000-01-01T${w}`).toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit"}),N=({action:w})=>e.jsx("div",{className:"bg-gradient-to-r from-yellow-100 to-orange-100 dark:from-yellow-900 dark:to-orange-900 border border-yellow-200 dark:border-yellow-700 rounded-3xl p-4 mb-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(Sr,{className:"h-5 w-5 text-yellow-600 dark:text-yellow-400 mr-2"}),e.jsxs("p",{className:"text-sm text-yellow-800 dark:text-yellow-200",children:["To ",w,", please"," ",e.jsx(ce,{to:"/login",className:"font-semibold underline hover:text-yellow-900 dark:hover:text-yellow-100",children:"login"})," ","or"," ",e.jsx(ce,{to:"/register",className:"font-semibold underline hover:text-yellow-900 dark:hover:text-yellow-100",children:"create an account"})]})]})});return e.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900",children:e.jsxs("div",{className:"max-w-lg mx-auto lg:max-w-7xl",children:[e.jsxs("div",{className:"px-4 pt-6 pb-4",children:[e.jsx("h1",{className:"text-2xl sm:text-3xl font-bold bg-gradient-to-r from-purple-600 via-pink-600 to-red-600 bg-clip-text text-transparent mb-6 flex items-center justify-center",children:" Pawradise Events"}),e.jsxs("div",{className:"space-y-3 mb-4",children:[e.jsxs("div",{className:"relative",children:[e.jsx(Mt,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),e.jsx("input",{type:"text",placeholder:"Search events...",value:o,onChange:w=>d(w.target.value),className:"w-full pl-10 pr-4 py-3 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-3xl text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-purple-500 transition-all"})]}),e.jsxs("div",{className:"relative",children:[e.jsx(f0,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),e.jsxs("select",{value:c,onChange:w=>x(w.target.value),className:"w-full pl-10 pr-4 py-3 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-3xl text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-purple-500 transition-all",children:[e.jsx("option",{value:"all",children:"All Types"}),e.jsx("option",{value:"training",children:"Training"}),e.jsx("option",{value:"social",children:"Social Meetup"}),e.jsx("option",{value:"competition",children:"Competition"})]})]}),e.jsxs("div",{className:"text-center text-sm text-gray-600 dark:text-gray-400",children:[e.jsx("span",{className:"font-medium bg-gradient-to-r from-purple-600 to-pink-600 bg-clip-text text-transparent",children:t.length})," events found"]})]})]}),e.jsx(N,{action:"register for events, create events, or manage your participation"}),e.jsx("div",{className:"px-4 pb-6",children:t.length===0?e.jsx("div",{className:"text-center py-12",children:e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-3xl p-12 shadow-lg",children:[e.jsx(wt,{className:"mx-auto h-16 w-16 text-gray-400 mb-4"}),e.jsx("h3",{className:"text-xl font-semibold bg-gradient-to-r from-purple-600 to-pink-600 bg-clip-text text-transparent mb-2",children:"No Events Available"}),e.jsx("p",{className:"text-gray-500 dark:text-gray-400 mb-6",children:"There are no upcoming events scheduled at the moment."}),e.jsx(ce,{to:"/login",className:"inline-flex items-center px-6 py-3 bg-gradient-to-r from-purple-600 to-pink-600 text-white rounded-2xl font-medium hover:from-purple-700 hover:to-pink-700 transition-all",children:"Join Pawradise to Create Events"})]})}):e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:t.map(w=>{var C;return e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-3xl shadow-lg overflow-hidden hover:shadow-xl transition-all duration-300 border border-gray-100 dark:border-gray-700",children:[e.jsxs("div",{className:"bg-gradient-to-r from-purple-600 via-pink-600 to-red-600 p-4 text-white",children:[e.jsx("h3",{className:"text-lg font-semibold mb-1",children:w.title}),e.jsx("p",{className:"text-purple-100 text-sm",children:w.type})]}),e.jsxs("div",{className:"p-4",children:[e.jsx("p",{className:"text-gray-600 dark:text-gray-400 text-sm mb-4 line-clamp-2",children:w.description}),e.jsxs("div",{className:"space-y-2 text-sm",children:[e.jsxs("div",{className:"flex items-center text-gray-600 dark:text-gray-400",children:[e.jsx(wt,{className:"h-4 w-4 mr-2"}),e.jsx("span",{children:b(w.eventDate)})]}),e.jsxs("div",{className:"flex items-center text-gray-600 dark:text-gray-400",children:[e.jsx(Ae,{className:"h-4 w-4 mr-2"}),e.jsx("span",{children:v(w.startTime)}),w.endTime&&e.jsxs("span",{children:[" - ",v(w.endTime)]})]}),e.jsxs("div",{className:"flex items-center text-gray-600 dark:text-gray-400",children:[e.jsx(fe,{className:"h-4 w-4 mr-2"}),e.jsx("span",{children:((C=w.garden)==null?void 0:C.name)||"Garden not specified"})]}),e.jsxs("div",{className:"flex items-center text-gray-600 dark:text-gray-400",children:[e.jsx(Ne,{className:"h-4 w-4 mr-2"}),e.jsxs("span",{children:[w.approvedParticipants||0," participants",w.maxParticipants&&` / ${w.maxParticipants} max`]})]})]}),w.tags&&w.tags.length>0&&e.jsxs("div",{className:"mt-3 flex flex-wrap gap-1",children:[w.tags.slice(0,3).map((k,M)=>e.jsx("span",{className:"inline-block bg-purple-100 dark:bg-purple-900 text-purple-800 dark:text-purple-300 text-xs px-2 py-1 rounded-full",children:k},M)),w.tags.length>3&&e.jsxs("span",{className:"inline-block bg-gray-100 dark:bg-gray-800 text-gray-600 dark:text-gray-400 text-xs px-2 py-1 rounded-full",children:["+",w.tags.length-3]})]}),e.jsx("div",{className:"mt-4 pt-4 border-t border-gray-200 dark:border-gray-700",children:w.registrationDeadline&&new Date(w.registrationDeadline)<new Date?e.jsx("div",{className:"text-red-600 dark:text-red-400 text-sm font-medium",children:"Registration Closed"}):w.maxParticipants&&w.approvedParticipants>=w.maxParticipants?e.jsx("div",{className:"text-orange-600 dark:text-orange-400 text-sm font-medium",children:"Event Full"}):e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("div",{className:"text-green-600 dark:text-green-400 text-sm font-medium",children:"Open for Registration"}),e.jsx(ce,{to:"/login",className:"text-xs bg-gradient-to-r from-purple-600 to-pink-600 text-white px-3 py-1 rounded-full hover:from-purple-700 hover:to-pink-700 transition-all",children:"Register"})]})})]})]},w._id)})}),h&&e.jsx("div",{className:"mt-8 text-center",children:e.jsx("button",{onClick:()=>j(),disabled:a,className:"inline-flex items-center px-6 py-3 bg-gradient-to-r from-purple-600 to-pink-600 text-white rounded-2xl font-medium hover:from-purple-700 hover:to-pink-700 transition-all disabled:opacity-50",children:a?e.jsxs(e.Fragment,{children:[e.jsxs("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Loading..."]}):"Load More Events"})})]})}),e.jsx("div",{className:"px-4 pb-8",children:e.jsxs("div",{className:"bg-gradient-to-r from-purple-600 via-pink-600 to-red-600 rounded-3xl p-8 text-center text-white shadow-xl",children:[e.jsx("h2",{className:"text-2xl sm:text-3xl font-bold mb-4",children:"Want to Join Events?"}),e.jsx("p",{className:"text-purple-100 mb-6 text-lg",children:"Join the Pawradise community and start participating in exciting dog park events"}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[e.jsx(ce,{to:"/register",className:"bg-white text-purple-600 px-8 py-3 rounded-2xl font-semibold hover:bg-gray-100 transition-colors inline-block shadow-lg",children:"Sign Up"}),e.jsx(ce,{to:"/login",className:"border-2 border-white text-white px-8 py-3 rounded-2xl font-semibold hover:bg-white hover:text-purple-600 transition-colors inline-block",children:"Login"})]})]})})]})})},jh=({dog:t,onClose:r,onSave:a})=>{var J,L,q;const[s,l]=n.useState((t==null?void 0:t.image)||null),[i,o]=n.useState((t==null?void 0:t.gallery)||[]),[d,c]=n.useState({friendly:((J=t==null?void 0:t.personality)==null?void 0:J.friendly)||3,energetic:((L=t==null?void 0:t.personality)==null?void 0:L.energetic)||3,social:((q=t==null?void 0:t.personality)==null?void 0:q.social)||3}),[x,g]=n.useState(!1),[u,h]=n.useState(!1),[p,f]=n.useState(1),[j,m]=n.useState(null),[E,b]=n.useState(""),[v,N]=n.useState(!1),[w,C]=n.useState(0),[k]=n.useState(3);te.useEffect(()=>{var D,B,K;t?(l(t.image||null),o(t.gallery||[]),c({friendly:((D=t.personality)==null?void 0:D.friendly)||3,energetic:((B=t.personality)==null?void 0:B.energetic)||3,social:((K=t.personality)==null?void 0:K.social)||3})):(l(null),o([]),c({friendly:3,energetic:3,social:3}))},[t]),te.useEffect(()=>{const D=new Date().toDateString(),B=localStorage.getItem("aiDailyUsage");if(B){const K=JSON.parse(B);K.date===D?C(K.count):(localStorage.setItem("aiDailyUsage",JSON.stringify({date:D,count:0})),C(0))}else localStorage.setItem("aiDailyUsage",JSON.stringify({date:D,count:0}))},[]);const{register:M,handleSubmit:$,formState:{errors:A,isSubmitting:I}}=rr({defaultValues:t||{name:"",breed:"",age:"",gender:"male",size:"medium",weight:"",description:"",medicalInfo:{vaccinated:!1}}}),F=(D,B=800,K=.8)=>new Promise(le=>{const oe=document.createElement("canvas"),Q=oe.getContext("2d"),be=new Image;be.onload=()=>{let{width:je,height:de}=be;je>B&&(de=de*B/je,je=B),oe.width=je,oe.height=de,Q.drawImage(be,0,0,je,de);const xe=oe.toDataURL("image/jpeg",K);le(xe)},be.src=URL.createObjectURL(D)}),T=async(D,B=!1)=>{const K=D.target.files[0];if(K){if(K.size>5*1024*1024){alert("Image is too large. Please select an image smaller than 5MB.");return}g(!0);try{const le=await F(K,B?400:800,.8);if(B)l(le);else{if(i.length>=6){alert("Maximum 6 gallery images allowed.");return}o(oe=>[...oe,le])}}catch(le){console.error("Error compressing image:",le),alert("Error processing image. Please try again.")}finally{g(!1)}}},z=D=>{o(B=>B.filter((K,le)=>le!==D))},W=async()=>{if(w>=k){alert("You have reached your daily limit of 3 AI image generations.");return}const D=["different dog","another dog","change breed","make it a","turn into","different animal"],B=E.toLowerCase();for(const K of D)if(B.includes(K)){alert("Please only describe what to ADD or MODIFY to your dog. Do not ask to change the dog itself into something else.");return}N(!0);try{const K=j.split(",")[1],oe={contents:[{role:"user",parts:[{inlineData:{mimeType:j.startsWith("data:image/png")?"image/png":"image/jpeg",data:K}},{text:`CRITICAL INSTRUCTIONS: Transform THIS EXACT DOG (keep it identical) with these additions/modifications: ${E}

                MANDATORY REQUIREMENTS:
                1. PRESERVE the EXACT SAME DOG - same breed, same size, same facial features, same markings
                2. ONLY ADD/MODIFY what is specifically requested: ${E}
                3. DO NOT change the dog's breed, species, or core physical characteristics
                4. DO NOT replace the dog with a different animal
                5. The result must be recognizably the SAME individual dog
                6. Keep all distinctive features of this specific dog (facial structure, ear shape, coat patterns, etc.)
                
                WHAT TO DO: Add/modify only: ${E}
                WHAT NOT TO DO: Change the dog's breed, replace with different dog, change fundamental dog characteristics
                
                Return only the transformed image with the same dog.`}]}],generationConfig:{responseModalities:["TEXT","IMAGE"]}},Q=await fetch("https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash-preview-image-generation:generateContent?key=AIzaSyBApCOlYZGVoSA6R68JQ9BZ-dY4EEv-GK8",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(oe)});if(!Q.ok)throw new Error(`HTTP error! status: ${Q.status}`);const be=await Q.json();let je=null;if(be.candidates&&be.candidates[0]&&be.candidates[0].content){const de=be.candidates[0].content.parts;for(const xe of de)if(xe.inlineData&&xe.inlineData.mimeType&&xe.inlineData.mimeType.startsWith("image/")){je=`data:${xe.inlineData.mimeType};base64,${xe.inlineData.data}`;break}}if(je){f(4),m(je);const de=w+1;C(de);const xe=new Date().toDateString();localStorage.setItem("aiDailyUsage",JSON.stringify({date:xe,count:de}))}else alert("Failed to generate image. Please try again.")}catch(K){console.error("Error generating image:",K),alert("Error generating image. Please try again.")}finally{N(!1)}},Z=()=>{l(j),h(!1),f(1),m(null),b("")},G=()=>{f(2)},R=()=>{h(!1),f(1),m(null),b("")},V=async D=>{D.age=parseInt(D.age),D.weight&&(D.weight=parseFloat(D.weight)),D.image=s,D.gallery=i,D.personality=d,await a(D)};return e.jsxs(e.Fragment,{children:[e.jsx(Pe.Root,{show:!0,as:n.Fragment,children:e.jsxs(Je,{as:"div",className:"relative z-10",onClose:r,children:[e.jsx(Pe.Child,{as:n.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:e.jsx("div",{className:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity"})}),e.jsx("div",{className:"fixed inset-0 z-10 overflow-y-auto",children:e.jsx("div",{className:"flex min-h-full items-end justify-center p-4 text-center sm:items-center sm:p-0",children:e.jsx(Pe.Child,{as:n.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95",enterTo:"opacity-100 translate-y-0 sm:scale-100",leave:"ease-in duration-200",leaveFrom:"opacity-100 translate-y-0 sm:scale-100",leaveTo:"opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95",children:e.jsxs(Je.Panel,{className:"relative transform overflow-hidden rounded-3xl bg-white dark:bg-gray-900 text-left shadow-2xl transition-all sm:my-8 sm:w-full sm:max-w-3xl max-h-[90vh] overflow-y-auto border-0 ring-1 ring-gray-200 dark:ring-gray-700",children:[e.jsx("div",{className:"absolute right-0 top-0 pr-6 pt-6 z-10",children:e.jsxs("button",{type:"button",className:"rounded-full bg-gray-100 dark:bg-gray-800 text-gray-600 dark:text-gray-400 hover:text-gray-800 dark:hover:text-gray-200 hover:bg-gray-200 dark:hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-primary-500 focus:ring-offset-2 shadow-sm hover:shadow-md transition-all duration-200 p-2.5",onClick:r,children:[e.jsx("span",{className:"sr-only",children:"Close"}),e.jsx(pe,{className:"h-5 w-5","aria-hidden":"true"})]})}),e.jsxs("form",{onSubmit:$(V),children:[e.jsxs("div",{className:"bg-gradient-to-br from-slate-50 via-white to-blue-50 dark:from-gray-900 dark:via-gray-800 dark:to-gray-900 px-8 pb-8 pt-12 sm:px-12 sm:pb-8",children:[e.jsxs("div",{className:"text-center mb-10",children:[e.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-gradient-to-br from-blue-500 to-purple-600 rounded-2xl shadow-lg mb-6",children:e.jsx(Ur,{className:"h-8 w-8 text-white"})}),e.jsx(Je.Title,{as:"h1",className:"text-3xl font-bold text-gray-900 dark:text-white mb-3 tracking-tight",children:t?"Edit Dog Profile":"Create Dog Profile"}),e.jsx("p",{className:"text-base text-gray-600 dark:text-gray-400 max-w-md mx-auto leading-relaxed",children:t?"Update your dog's information, photos, and personality traits":"Create a comprehensive profile for your furry companion"})]}),e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl p-8 shadow-sm border border-gray-100 dark:border-gray-700 hover:shadow-md transition-shadow duration-200",children:[e.jsxs("div",{className:"flex items-center mb-6",children:[e.jsx("div",{className:"flex items-center justify-center w-10 h-10 bg-blue-100 dark:bg-blue-900 rounded-xl mr-3",children:e.jsx(Ur,{className:"h-5 w-5 text-blue-600 dark:text-blue-400"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Profile Image"}),e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Main photo for your dog's profile"})]})]}),e.jsxs("div",{className:"flex items-center space-x-6",children:[s?e.jsxs("div",{className:"relative group",children:[e.jsx("img",{src:s,alt:"Profile",className:"w-24 h-24 rounded-full object-cover border-4 border-primary-200 dark:border-primary-800 shadow-lg"}),e.jsx("button",{type:"button",onClick:()=>l(null),className:"absolute -top-2 -right-2 bg-red-500 text-white rounded-full p-1.5 hover:bg-red-600 shadow-lg transform transition-transform group-hover:scale-110",children:e.jsx(pe,{className:"h-3 w-3"})})]}):e.jsx("div",{className:"w-24 h-24 border-2 border-dashed border-gray-300 dark:border-gray-500 rounded-full flex items-center justify-center bg-gray-50 dark:bg-gray-600",children:e.jsx(Ur,{className:"h-8 w-8 text-gray-400 dark:text-gray-500"})}),e.jsxs("div",{className:"flex flex-col space-y-3",children:[e.jsxs("label",{className:`cursor-pointer bg-white dark:bg-gray-600 border border-gray-300 dark:border-gray-500 rounded-lg px-4 py-2.5 text-sm font-medium text-gray-700 dark:text-gray-200 hover:bg-gray-50 dark:hover:bg-gray-500 shadow-sm transition-all duration-200 ${x?"opacity-50 cursor-not-allowed":""}`,children:[e.jsx("span",{children:x?"Processing...":"Upload Image"}),e.jsx("input",{type:"file",accept:"image/*",onChange:D=>T(D,!0),className:"hidden",disabled:x})]}),e.jsxs("button",{type:"button",onClick:()=>h(!0),disabled:x||w>=k,className:`bg-gradient-to-r from-purple-500 to-blue-500 text-white border border-transparent rounded-lg px-4 py-2.5 text-sm font-medium hover:from-purple-600 hover:to-blue-600 flex items-center space-x-2 shadow-sm transition-all duration-200 ${x||w>=k?"opacity-50 cursor-not-allowed":"hover:shadow-md"}`,title:"Transform your dog's image (keeps same dog, only adds/modifies as requested)",children:[e.jsx(_e,{className:"h-4 w-4"}),e.jsx("span",{children:"Transform Dog"}),e.jsxs("span",{className:"text-xs bg-black/20 rounded px-1.5 py-0.5",children:["(",w,"/",k,")"]})]})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"bg-white dark:bg-gray-700 rounded-xl p-5 shadow-sm border border-gray-200 dark:border-gray-600",children:[e.jsx("label",{htmlFor:"name",className:"block text-sm font-semibold text-gray-900 dark:text-white mb-2",children:"Dog's Name"}),e.jsx("input",{...M("name",{required:"Name is required"}),type:"text",className:"block w-full rounded-lg border-gray-300 dark:border-gray-500 bg-white dark:bg-gray-600 text-gray-900 dark:text-white shadow-sm focus:border-primary-500 focus:ring-primary-500 sm:text-sm placeholder-gray-400 dark:placeholder-gray-400",placeholder:"Enter dog's name"}),A.name&&e.jsxs("p",{className:"mt-2 text-sm text-red-600 dark:text-red-400 flex items-center",children:[e.jsx("span",{className:"mr-1",children:""}),A.name.message]})]}),e.jsxs("div",{className:"bg-white dark:bg-gray-700 rounded-xl p-5 shadow-sm border border-gray-200 dark:border-gray-600",children:[e.jsx("label",{htmlFor:"breed",className:"block text-sm font-semibold text-gray-900 dark:text-white mb-2",children:"Breed"}),e.jsx("input",{...M("breed",{required:"Breed is required"}),type:"text",className:"block w-full rounded-lg border-gray-300 dark:border-gray-500 bg-white dark:bg-gray-600 text-gray-900 dark:text-white shadow-sm focus:border-primary-500 focus:ring-primary-500 sm:text-sm placeholder-gray-400 dark:placeholder-gray-400",placeholder:"e.g., Golden Retriever"}),A.breed&&e.jsxs("p",{className:"mt-2 text-sm text-red-600 dark:text-red-400 flex items-center",children:[e.jsx("span",{className:"mr-1",children:""}),A.breed.message]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"bg-white dark:bg-gray-700 rounded-xl p-5 shadow-sm border border-gray-200 dark:border-gray-600",children:[e.jsx("label",{htmlFor:"age",className:"block text-sm font-semibold text-gray-900 dark:text-white mb-2",children:"Age (months)"}),e.jsx("input",{...M("age",{required:"Age is required",min:{value:0,message:"Age must be positive"}}),type:"number",className:"block w-full rounded-lg border-gray-300 dark:border-gray-500 bg-white dark:bg-gray-600 text-gray-900 dark:text-white shadow-sm focus:border-primary-500 focus:ring-primary-500 sm:text-sm placeholder-gray-400 dark:placeholder-gray-400",placeholder:"12"}),A.age&&e.jsxs("p",{className:"mt-2 text-sm text-red-600 dark:text-red-400 flex items-center",children:[e.jsx("span",{className:"mr-1",children:""}),A.age.message]})]}),e.jsxs("div",{className:"bg-white dark:bg-gray-700 rounded-xl p-5 shadow-sm border border-gray-200 dark:border-gray-600",children:[e.jsx("label",{htmlFor:"weight",className:"block text-sm font-semibold text-gray-900 dark:text-white mb-2",children:"Weight (kg)"}),e.jsx("input",{...M("weight",{min:{value:0,message:"Weight must be positive"}}),type:"number",step:"0.1",className:"block w-full rounded-lg border-gray-300 dark:border-gray-500 bg-white dark:bg-gray-600 text-gray-900 dark:text-white shadow-sm focus:border-primary-500 focus:ring-primary-500 sm:text-sm placeholder-gray-400 dark:placeholder-gray-400",placeholder:"25.5"}),A.weight&&e.jsxs("p",{className:"mt-2 text-sm text-red-600 dark:text-red-400 flex items-center",children:[e.jsx("span",{className:"mr-1",children:""}),A.weight.message]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"bg-white dark:bg-gray-700 rounded-xl p-5 shadow-sm border border-gray-200 dark:border-gray-600",children:[e.jsx("label",{htmlFor:"gender",className:"block text-sm font-semibold text-gray-900 dark:text-white mb-2",children:"Gender"}),e.jsxs("select",{...M("gender",{required:"Gender is required"}),className:"block w-full rounded-lg border-gray-300 dark:border-gray-500 bg-white dark:bg-gray-600 text-gray-900 dark:text-white shadow-sm focus:border-primary-500 focus:ring-primary-500 sm:text-sm",children:[e.jsx("option",{value:"male",children:" Male"}),e.jsx("option",{value:"female",children:" Female"})]})]}),e.jsxs("div",{className:"bg-white dark:bg-gray-700 rounded-xl p-5 shadow-sm border border-gray-200 dark:border-gray-600",children:[e.jsx("label",{htmlFor:"size",className:"block text-sm font-semibold text-gray-900 dark:text-white mb-2",children:"Size"}),e.jsxs("select",{...M("size",{required:"Size is required"}),className:"block w-full rounded-lg border-gray-300 dark:border-gray-500 bg-white dark:bg-gray-600 text-gray-900 dark:text-white shadow-sm focus:border-primary-500 focus:ring-primary-500 sm:text-sm",children:[e.jsx("option",{value:"small",children:" Small"}),e.jsx("option",{value:"medium",children:" Medium"}),e.jsx("option",{value:"large",children:" Large"})]})]})]}),e.jsxs("div",{className:"bg-white dark:bg-gray-700 rounded-xl p-5 shadow-sm border border-gray-200 dark:border-gray-600",children:[e.jsx("label",{htmlFor:"description",className:"block text-sm font-semibold text-gray-900 dark:text-white mb-2",children:"Description"}),e.jsx("textarea",{...M("description"),rows:4,className:"block w-full rounded-lg border-gray-300 dark:border-gray-500 bg-white dark:bg-gray-600 text-gray-900 dark:text-white shadow-sm focus:border-primary-500 focus:ring-primary-500 sm:text-sm placeholder-gray-400 dark:placeholder-gray-400 resize-none",placeholder:"Tell us about your dog's personality, favorite activities, and special quirks..."})]}),e.jsxs("div",{className:"bg-white dark:bg-gray-700 rounded-xl p-6 shadow-sm border border-gray-200 dark:border-gray-600",children:[e.jsxs("label",{className:"block text-sm font-semibold text-gray-900 dark:text-white mb-4 flex items-center",children:[e.jsx("span",{className:"text-lg mr-2",children:""}),"Personality Traits"]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between items-center mb-3",children:[e.jsxs("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 flex items-center",children:[e.jsx("span",{className:"text-base mr-2",children:""}),"Friendly"]}),e.jsxs("span",{className:"text-sm font-bold text-primary-600 dark:text-primary-400 bg-primary-50 dark:bg-primary-900/20 px-2 py-1 rounded-full",children:[d.friendly,"/5"]})]}),e.jsx("input",{type:"range",min:"1",max:"5",value:d.friendly,onChange:D=>c(B=>({...B,friendly:parseInt(D.target.value)})),className:"w-full h-3 bg-gray-200 dark:bg-gray-600 rounded-lg appearance-none cursor-pointer slider"})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between items-center mb-3",children:[e.jsxs("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 flex items-center",children:[e.jsx("span",{className:"text-base mr-2",children:""}),"Energetic"]}),e.jsxs("span",{className:"text-sm font-bold text-primary-600 dark:text-primary-400 bg-primary-50 dark:bg-primary-900/20 px-2 py-1 rounded-full",children:[d.energetic,"/5"]})]}),e.jsx("input",{type:"range",min:"1",max:"5",value:d.energetic,onChange:D=>c(B=>({...B,energetic:parseInt(D.target.value)})),className:"w-full h-3 bg-gray-200 dark:bg-gray-600 rounded-lg appearance-none cursor-pointer slider"})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between items-center mb-3",children:[e.jsxs("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 flex items-center",children:[e.jsx("span",{className:"text-base mr-2",children:""}),"Social"]}),e.jsxs("span",{className:"text-sm font-bold text-primary-600 dark:text-primary-400 bg-primary-50 dark:bg-primary-900/20 px-2 py-1 rounded-full",children:[d.social,"/5"]})]}),e.jsx("input",{type:"range",min:"1",max:"5",value:d.social,onChange:D=>c(B=>({...B,social:parseInt(D.target.value)})),className:"w-full h-3 bg-gray-200 dark:bg-gray-600 rounded-lg appearance-none cursor-pointer slider"})]})]})]}),e.jsxs("div",{className:"bg-white dark:bg-gray-700 rounded-xl p-6 shadow-sm border border-gray-200 dark:border-gray-600",children:[e.jsxs("label",{className:"block text-sm font-semibold text-gray-900 dark:text-white mb-4 flex items-center",children:[e.jsx("span",{className:"text-lg mr-2",children:""}),"Photo Gallery",e.jsxs("span",{className:"text-xs text-gray-500 dark:text-gray-400 ml-2",children:["(",i.length,"/6)"]})]}),e.jsxs("div",{className:"space-y-4",children:[i.length>0&&e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3",children:i.map((D,B)=>e.jsxs("div",{className:"relative group",children:[e.jsx("img",{src:D,alt:`Gallery ${B+1}`,className:"w-full h-24 object-cover rounded-lg border-2 border-gray-200 dark:border-gray-600 shadow-sm group-hover:shadow-md transition-shadow"}),e.jsx("button",{type:"button",onClick:()=>z(B),className:"absolute -top-2 -right-2 bg-red-500 text-white rounded-full p-1.5 hover:bg-red-600 shadow-lg transform transition-transform group-hover:scale-110",children:e.jsx(ys,{className:"h-3 w-3"})})]},B))}),i.length<6&&e.jsxs("label",{className:`cursor-pointer flex items-center justify-center w-full h-24 border-2 border-dashed border-gray-300 dark:border-gray-500 rounded-lg hover:border-primary-400 dark:hover:border-primary-500 bg-gray-50 dark:bg-gray-600 hover:bg-gray-100 dark:hover:bg-gray-500 transition-colors ${x?"opacity-50 cursor-not-allowed":""}`,children:[e.jsxs("div",{className:"text-center",children:[e.jsx(Xt,{className:"h-6 w-6 text-gray-400 dark:text-gray-500 mx-auto mb-1"}),e.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400 font-medium",children:x?"Processing...":"Add Photo"})]}),e.jsx("input",{type:"file",accept:"image/*",onChange:D=>T(D,!1),className:"hidden",disabled:x})]})]})]}),e.jsx("div",{className:"bg-white dark:bg-gray-700 rounded-xl p-5 shadow-sm border border-gray-200 dark:border-gray-600",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{...M("medicalInfo.vaccinated"),type:"checkbox",className:"h-5 w-5 rounded border-gray-300 dark:border-gray-500 text-primary-600 focus:ring-primary-500 focus:ring-2"}),e.jsxs("label",{htmlFor:"vaccinated",className:"ml-3 block text-sm font-medium text-gray-900 dark:text-white flex items-center",children:[e.jsx("span",{className:"text-base mr-2",children:""}),"Fully vaccinated"]})]})})]})]}),e.jsxs("div",{className:"bg-gradient-to-r from-gray-50 to-gray-100 dark:from-gray-700 dark:to-gray-800 px-6 py-4 sm:flex sm:flex-row-reverse sm:px-8 border-t border-gray-200 dark:border-gray-600",children:[e.jsx("button",{type:"submit",disabled:I||x,className:"inline-flex w-full justify-center items-center rounded-xl bg-gradient-to-r from-primary-600 to-primary-700 px-6 py-3 text-sm font-semibold text-white shadow-lg hover:from-primary-500 hover:to-primary-600 sm:ml-3 sm:w-auto disabled:opacity-50 disabled:cursor-not-allowed transform transition-all duration-200 hover:scale-105 focus:ring-4 focus:ring-primary-200 dark:focus:ring-primary-800",children:I?e.jsxs(e.Fragment,{children:[e.jsxs("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Saving..."]}):x?e.jsxs(e.Fragment,{children:[e.jsxs("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Processing Images..."]}):e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"mr-2",children:""}),t?"Update Dog":"Add Dog"]})}),e.jsxs("button",{type:"button",className:"mt-3 inline-flex w-full justify-center items-center rounded-xl bg-white dark:bg-gray-600 px-6 py-3 text-sm font-semibold text-gray-900 dark:text-white shadow-sm ring-1 ring-inset ring-gray-300 dark:ring-gray-500 hover:bg-gray-50 dark:hover:bg-gray-500 sm:mt-0 sm:w-auto transform transition-all duration-200 hover:scale-105",onClick:r,children:[e.jsx("span",{className:"mr-2",children:""}),"Cancel"]})]})]})]})})})})]})}),u&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-50 backdrop-blur-sm",children:e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl p-6 max-w-md w-full mx-4 shadow-2xl border border-gray-200 dark:border-gray-600",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsxs("h3",{className:"text-xl font-bold text-gray-900 dark:text-white flex items-center",children:[e.jsx(_e,{className:"h-6 w-6 text-purple-500 mr-2"}),"AI Image Generator"]}),e.jsx("button",{onClick:R,className:"text-gray-400 dark:text-gray-500 hover:text-gray-600 dark:hover:text-gray-300 rounded-full p-2 hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors",children:e.jsx(pe,{className:"h-5 w-5"})})]}),p===1&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-16 h-16 bg-purple-100 dark:bg-purple-900 rounded-full flex items-center justify-center mx-auto mb-3",children:e.jsx("span",{className:"text-2xl",children:""})}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300 font-medium",children:"Step 1: Select a base image of your dog to transform"})]}),e.jsxs("div",{className:"space-y-3",children:[s&&e.jsxs("button",{onClick:()=>{m(s),f(2)},className:"flex items-center space-x-4 p-4 border border-gray-300 dark:border-gray-600 rounded-xl hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors w-full",children:[e.jsx("img",{src:s,alt:"Profile",className:"w-14 h-14 rounded-full object-cover border-2 border-primary-200 dark:border-primary-800"}),e.jsxs("div",{className:"text-left",children:[e.jsx("span",{className:"text-sm font-medium text-gray-900 dark:text-white",children:"Use current profile image"}),e.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Main profile photo"})]})]}),i.map((D,B)=>e.jsxs("button",{onClick:()=>{m(D),f(2)},className:"flex items-center space-x-4 p-4 border border-gray-300 dark:border-gray-600 rounded-xl hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors w-full",children:[e.jsx("img",{src:D,alt:`Gallery ${B+1}`,className:"w-14 h-14 rounded-lg object-cover border-2 border-gray-200 dark:border-gray-600"}),e.jsxs("div",{className:"text-left",children:[e.jsxs("span",{className:"text-sm font-medium text-gray-900 dark:text-white",children:["Use gallery image ",B+1]}),e.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"From photo gallery"})]})]},B)),e.jsxs("label",{className:"cursor-pointer flex items-center space-x-4 p-4 border-2 border-dashed border-gray-300 dark:border-gray-600 rounded-xl hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors",children:[e.jsx("div",{className:"w-14 h-14 bg-gray-100 dark:bg-gray-600 rounded-lg flex items-center justify-center",children:e.jsx(Ur,{className:"h-8 w-8 text-gray-400 dark:text-gray-500"})}),e.jsxs("div",{className:"text-left",children:[e.jsx("span",{className:"text-sm font-medium text-gray-900 dark:text-white",children:"Upload new image"}),e.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Choose from device"})]}),e.jsx("input",{type:"file",accept:"image/*",onChange:async D=>{const B=D.target.files[0];if(B){const K=await F(B,800,.8);m(K),f(2)}},className:"hidden"})]})]})]}),p===2&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-16 h-16 bg-blue-100 dark:bg-blue-900 rounded-full flex items-center justify-center mx-auto mb-3",children:e.jsx("span",{className:"text-2xl",children:""})}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300 font-medium",children:"Step 2: Describe what to ADD or MODIFY while keeping the same dog"})]}),e.jsxs("div",{className:"flex items-center space-x-3 mb-3",children:[e.jsx("img",{src:j,alt:"Selected",className:"w-12 h-12 rounded-lg object-cover"}),e.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-300",children:"This dog will be kept the same"})]}),e.jsx("div",{className:"bg-yellow-50 dark:bg-yellow-900/20 border border-yellow-200 dark:border-yellow-800 rounded-lg p-3 mb-3",children:e.jsxs("p",{className:"text-xs text-yellow-800 dark:text-yellow-200",children:[e.jsx("strong",{children:"Important:"})," The AI will keep your dog's breed, size, and features exactly the same. Only describe what you want to ADD or CHANGE (like clothing, background, accessories)."]})}),e.jsx("textarea",{value:E,onChange:D=>b(D.target.value),placeholder:`Examples:
 wearing a red superhero cape
 sitting in a beautiful garden
 wearing sunglasses and a hat
 with colorful butterflies around
 in a winter snow scene`,className:"w-full p-3 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:text-white",rows:5}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsx("button",{onClick:()=>f(1),className:"flex-1 px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700 text-gray-700 dark:text-gray-300",children:"Back"}),e.jsx("button",{onClick:W,disabled:!E.trim()||v,className:"flex-1 px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 disabled:opacity-50 disabled:cursor-not-allowed",children:v?"Generating...":"Generate"})]})]}),p===4&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-16 h-16 bg-green-100 dark:bg-green-900 rounded-full flex items-center justify-center mx-auto mb-3",children:e.jsx("span",{className:"text-2xl",children:""})}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300 font-medium",children:"Generated image:"})]}),e.jsx("img",{src:j,alt:"Generated",className:"w-full rounded-lg"}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsx("button",{onClick:G,className:"flex-1 px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700 text-gray-700 dark:text-gray-300",children:"Try Again"}),e.jsx("button",{onClick:Z,className:"flex-1 px-4 py-2 bg-green-500 text-white rounded-lg hover:bg-green-600",children:"Use This Image"})]})]})]})})]})},Dl=()=>{const[t,r]=n.useState([]),[a,s]=n.useState(!0),[l,i]=n.useState(!1),[o,d]=n.useState(null);n.useEffect(()=>{c()},[]);const c=async()=>{try{s(!0);const p=await lt.getMyDogs();r(p.dogs)}catch(p){console.error("Error loading dogs:",p),_.error("Failed to load dogs")}finally{s(!1)}},x=()=>{d(null),i(!0)},g=p=>{d(p),i(!0)},u=async p=>{if(window.confirm("Are you sure you want to remove this dog?"))try{await lt.deleteDog(p),_.success("Dog removed successfully"),c()}catch(f){console.error("Error deleting dog:",f),_.error("Failed to remove dog")}},h=async p=>{var f,j;try{o?(await lt.updateDog(o._id,p),_.success("Dog updated successfully")):(await lt.createDog(p),_.success("Dog added successfully")),i(!1),c()}catch(m){console.error("Error saving dog:",m),_.error(((j=(f=m.response)==null?void 0:f.data)==null?void 0:j.error)||"Failed to save dog")}};return a?e.jsx(ku,{}):e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-white to-blue-50 dark:from-gray-900 dark:via-gray-800 dark:to-slate-900",children:[e.jsxs("div",{className:"max-w-lg mx-auto lg:max-w-7xl",children:[e.jsx("div",{className:"bg-white dark:bg-gray-800 shadow-xl border-b border-gray-200 dark:border-gray-700",children:e.jsx("div",{className:"px-6 py-8",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-gradient-to-br from-blue-500 to-purple-600 rounded-2xl shadow-lg mb-4",children:e.jsx(Fe,{className:"h-8 w-8 text-white"})}),e.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-2 tracking-tight",children:"My Dogs"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400 text-lg",children:"Manage your furry family members"})]})})}),t.length===0?e.jsx("div",{className:"px-8 py-20",children:e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-3xl p-16 text-center shadow-xl border border-gray-100 dark:border-gray-700",children:[e.jsx("div",{className:"inline-flex items-center justify-center w-24 h-24 bg-gradient-to-br from-blue-100 to-purple-100 dark:from-blue-900 dark:to-purple-900 rounded-full mb-8",children:e.jsx("div",{className:"text-5xl",children:""})}),e.jsx("h3",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-4",children:"Start Your Pack"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400 text-lg mb-8 max-w-md mx-auto leading-relaxed",children:"Create profiles for your beloved dogs and keep track of their adventures, health, and precious moments."}),e.jsxs("button",{onClick:x,className:"inline-flex items-center px-8 py-4 bg-gradient-to-r from-blue-600 to-purple-600 text-white font-semibold rounded-2xl hover:from-blue-700 hover:to-purple-700 transition-all duration-200 shadow-lg hover:shadow-xl transform hover:scale-105",children:[e.jsx(sa,{className:"h-6 w-6 mr-3"}),"Add Your First Dog"]})]})}):e.jsxs("div",{className:"px-8 py-12",children:[e.jsxs("div",{className:"flex items-center justify-between mb-10",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-2",children:"Your Pack"}),e.jsxs("p",{className:"text-gray-600 dark:text-gray-400",children:[t.length," ",t.length===1?"dog":"dogs"," registered"]})]}),e.jsxs("button",{onClick:x,className:"flex items-center space-x-2 bg-gradient-to-r from-blue-600 to-purple-600 text-white px-6 py-3 rounded-2xl font-semibold hover:from-blue-700 hover:to-purple-700 transition-all duration-200 shadow-lg hover:shadow-xl transform hover:scale-105",children:[e.jsx(Xt,{className:"h-5 w-5"}),e.jsx("span",{children:"Add Dog"})]})]}),e.jsx("div",{className:"grid grid-cols-1 gap-8 sm:grid-cols-2 lg:grid-cols-3",children:t.map(p=>e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-3xl overflow-hidden shadow-xl border border-gray-100 dark:border-gray-700 hover:shadow-2xl transition-all duration-300 transform hover:scale-105 group",children:[e.jsxs("div",{className:"relative h-56 w-full overflow-hidden bg-gradient-to-br from-blue-100 to-purple-100 dark:from-blue-900 dark:to-purple-900",children:[p.image?e.jsx("img",{src:p.image,alt:p.name,className:"h-full w-full object-cover group-hover:scale-110 transition-transform duration-500",onError:f=>{f.target.style.display="none"}}):e.jsx("div",{className:"h-full w-full flex items-center justify-center",children:e.jsx("div",{className:"text-6xl opacity-60",children:""})}),e.jsxs("div",{className:"absolute top-4 right-4 flex space-x-2 opacity-0 group-hover:opacity-100 transition-opacity duration-300",children:[e.jsx("button",{onClick:()=>g(p),className:"p-2.5 bg-white/95 dark:bg-gray-900/95 backdrop-blur-sm rounded-xl hover:bg-white dark:hover:bg-gray-900 transition-all duration-200 shadow-lg",title:"Edit",children:e.jsx(bs,{className:"h-4 w-4 text-blue-600 dark:text-blue-400"})}),e.jsx("button",{onClick:()=>u(p._id),className:"p-2.5 bg-white/95 dark:bg-gray-900/95 backdrop-blur-sm rounded-xl hover:bg-white dark:hover:bg-gray-900 transition-all duration-200 shadow-lg",title:"Delete",children:e.jsx(ys,{className:"h-4 w-4 text-red-500"})})]}),p.breed&&e.jsx("div",{className:"absolute bottom-4 left-4",children:e.jsx("div",{className:"bg-black/70 backdrop-blur-sm rounded-xl px-3 py-1.5",children:e.jsx("span",{className:"text-white text-sm font-medium",children:p.breed})})})]}),e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"text-xl font-bold text-gray-900 dark:text-white",children:p.name}),e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(Fe,{className:"h-5 w-5 text-red-400"}),e.jsxs("span",{className:"text-sm text-gray-600 dark:text-gray-400 font-medium",children:[p.age||"N/A"," months"]})]})]}),e.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-600 dark:text-gray-400 mb-4",children:[e.jsx("span",{className:"font-medium",children:p.breed||"Mixed breed"}),e.jsx("span",{className:"capitalize font-medium",children:p.gender||"Unknown"})]}),p.description&&e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-4 line-clamp-2 leading-relaxed",children:p.description}),e.jsxs("div",{className:"flex space-x-3 mb-4",children:[e.jsx(ce,{to:`/dogs/profile/${p._id}`,className:"flex-1 bg-gradient-to-r from-blue-500 to-blue-600 text-white text-center py-3 rounded-xl font-semibold hover:from-blue-600 hover:to-blue-700 transition-all duration-200 shadow-md hover:shadow-lg transform hover:scale-105",children:"Public Profile"}),p.customProfile&&e.jsx(ce,{to:`/my-dogs/${p._id}/custom-profile`,className:"flex-1 bg-gray-100 dark:bg-gray-700 text-gray-900 dark:text-white text-center py-3 rounded-xl font-semibold hover:bg-gray-200 dark:hover:bg-gray-600 transition-all duration-200 shadow-md hover:shadow-lg transform hover:scale-105",children:"Custom"})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-3 text-center",children:[e.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-blue-100 dark:from-blue-900 dark:to-blue-800 rounded-xl p-3",children:[e.jsx("div",{className:"text-xs text-blue-600 dark:text-blue-400 font-medium mb-1",children:"Visits"}),e.jsx("div",{className:"text-lg font-bold text-blue-900 dark:text-blue-100",children:p.totalVisits||0})]}),e.jsxs("div",{className:"bg-gradient-to-br from-purple-50 to-purple-100 dark:from-purple-900 dark:to-purple-800 rounded-xl p-3",children:[e.jsx("div",{className:"text-xs text-purple-600 dark:text-purple-400 font-medium mb-1",children:"Friends"}),e.jsx("div",{className:"text-lg font-bold text-purple-900 dark:text-purple-100",children:p.friendsCount||0})]}),e.jsxs("div",{className:"bg-gradient-to-br from-green-50 to-green-100 dark:from-green-900 dark:to-green-800 rounded-xl p-3",children:[e.jsx("div",{className:"text-xs text-green-600 dark:text-green-400 font-medium mb-1",children:"Photos"}),e.jsx("div",{className:"text-lg font-bold text-green-900 dark:text-green-100",children:p.photosCount||0})]})]})]})]},p._id))}),t.length>0&&e.jsx("div",{className:"mt-12",children:e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-3xl p-8 shadow-xl border border-gray-100 dark:border-gray-700",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("div",{className:"inline-flex items-center justify-center w-12 h-12 bg-gradient-to-br from-blue-500 to-purple-600 rounded-2xl shadow-lg mb-4",children:e.jsx("span",{className:"text-white text-xl",children:""})}),e.jsx("h3",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-2",children:"Pack Statistics"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Overview of your dogs' activities"})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-6 text-center",children:[e.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-blue-100 dark:from-blue-900 dark:to-blue-800 rounded-2xl p-6",children:[e.jsx("div",{className:"text-3xl font-bold text-blue-900 dark:text-blue-100 mb-2",children:t.length}),e.jsx("div",{className:"text-blue-600 dark:text-blue-400 text-sm font-medium",children:"Total Dogs"})]}),e.jsxs("div",{className:"bg-gradient-to-br from-purple-50 to-purple-100 dark:from-purple-900 dark:to-purple-800 rounded-2xl p-6",children:[e.jsx("div",{className:"text-3xl font-bold text-purple-900 dark:text-purple-100 mb-2",children:t.reduce((p,f)=>p+(f.totalVisits||0),0)}),e.jsx("div",{className:"text-purple-600 dark:text-purple-400 text-sm font-medium",children:"Park Visits"})]}),e.jsxs("div",{className:"bg-gradient-to-br from-green-50 to-green-100 dark:from-green-900 dark:to-green-800 rounded-2xl p-6",children:[e.jsx("div",{className:"text-3xl font-bold text-green-900 dark:text-green-100 mb-2",children:t.reduce((p,f)=>p+(f.friendsCount||0),0)}),e.jsx("div",{className:"text-green-600 dark:text-green-400 text-sm font-medium",children:"Total Friends"})]})]})]})})]}),e.jsx("div",{className:"hidden lg:block px-8 py-8",children:e.jsx("div",{className:"text-center text-gray-500 dark:text-gray-400",children:"Desktop My Dogs layout coming soon..."})})]}),l&&e.jsx(jh,{dog:o,onSave:h,onClose:()=>i(!1)})]})},Ll=Object.freeze(Object.defineProperty({__proto__:null,default:Dl},Symbol.toStringTag,{value:"Module"})),kr={async submitRequest(t){return(await H.post("/requests",t)).data},async getMyRequests(){return(await H.get("/requests/my-requests")).data},async getRequestById(t){return(await H.get(`/requests/${t}`)).data},async getPendingRequests(){return(await H.get("/requests/admin/pending")).data},async getRequestStats(){return(await H.get("/requests/admin/stats")).data},async approveRequest(t,r=""){return(await H.patch(`/requests/admin/${t}/approve`,{notes:r})).data},async rejectRequest(t,r=""){return(await H.patch(`/requests/admin/${t}/reject`,{notes:r})).data}},wh=({isOpen:t,onClose:r,type:a,user:s})=>{var C,k;const[l,i]=n.useState(!1),[o,d]=n.useState([]),[c,x]=n.useState(!1),g=a==="garden_manager",u=a==="event_organizer",{register:h,handleSubmit:p,reset:f,formState:{errors:j},watch:m,setValue:E}=rr({defaultValues:{type:a,details:{reason:"",experience:"",contactPhone:(s==null?void 0:s.phone)||"",contactEmail:(s==null?void 0:s.email)||"",preferredGardens:[],managementExperience:"",availability:"",eventTypes:[],organizationExperience:"",plannedEvents:""}}});n.useEffect(()=>{g&&t&&b()},[g,t]),n.useEffect(()=>{a&&E("type",a)},[a,E]);const b=async()=>{x(!0);try{const M=await Te.getAllGardens();d(M.gardens||[])}catch(M){console.error("Error loading gardens:",M),_.error("Failed to load gardens")}finally{x(!1)}},v=async M=>{var $,A,I;i(!0);try{console.log("Submitting request data:",M);const F={...M,type:a};console.log("Final request data:",F),await kr.submitRequest(F),_.success("Application submitted successfully! We will review it and get back to you within 3-5 business days."),f(),r()}catch(F){console.error("Error submitting request:",F),console.log("Error response:",($=F.response)==null?void 0:$.data),_.error(((I=(A=F.response)==null?void 0:A.data)==null?void 0:I.error)||"Failed to submit application")}finally{i(!1)}},N=(M,$)=>{const A=m("details.eventTypes")||[];$?E("details.eventTypes",[...A,M]):E("details.eventTypes",A.filter(I=>I!==M))},w=["Training Sessions","Social Meetups","Dog Shows","Adoption Events","Educational Workshops","Charity Events","Puppy Socialization","Agility Training","Other"];return e.jsx(Pe,{appear:!0,show:t,as:n.Fragment,children:e.jsxs(Je,{as:"div",className:"relative z-50",onClose:r,children:[e.jsx(Pe.Child,{as:n.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-25 backdrop-blur-sm"})}),e.jsx("div",{className:"fixed inset-0 overflow-y-auto",children:e.jsx("div",{className:"flex min-h-full items-center justify-center p-4",children:e.jsx(Pe.Child,{as:n.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0 scale-95",enterTo:"opacity-100 scale-100",leave:"ease-in duration-200",leaveFrom:"opacity-100 scale-100",leaveTo:"opacity-0 scale-95",children:e.jsxs(Je.Panel,{className:"w-full max-w-2xl transform overflow-hidden rounded-2xl bg-white shadow-xl transition-all",children:[e.jsx("div",{className:"bg-gradient-to-r from-purple-600 to-pink-600 px-6 py-4 text-white",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[g?e.jsx(Ne,{className:"h-6 w-6"}):e.jsx(wt,{className:"h-6 w-6"}),e.jsxs("div",{children:[e.jsx(Je.Title,{className:"text-lg font-semibold",children:g?"Garden Manager Application":"Event Organizer Application"}),e.jsx("p",{className:"text-purple-100 text-sm",children:"Join our community leadership team"})]})]}),e.jsx("button",{type:"button",className:"text-white hover:text-purple-200 transition-colors",onClick:r,children:e.jsx(pe,{className:"h-6 w-6"})})]})}),e.jsx("div",{className:"px-6 pt-4",children:e.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 flex items-start space-x-3",children:[e.jsx(or,{className:"h-5 w-5 text-blue-600 mt-0.5 flex-shrink-0"}),e.jsxs("div",{className:"text-sm text-blue-800",children:[e.jsx("p",{className:"font-medium mb-1",children:"Application Process"}),e.jsx("p",{children:"Your application will be reviewed by our admin team within 3-5 business days. You'll receive an email notification with the decision."})]})]})}),e.jsxs("form",{onSubmit:p(v),className:"px-6 py-4 space-y-6",children:[e.jsx("input",{type:"hidden",...h("type"),value:a}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Why do you want to become a ",g?"Garden Manager":"Event Organizer","? *"]}),e.jsx("textarea",{...h("details.reason",{required:"This field is required",maxLength:{value:1e3,message:"Maximum 1000 characters"}}),rows:4,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500 resize-none",placeholder:"Tell us about your motivation and what you hope to contribute to the community..."}),((C=j.details)==null?void 0:C.reason)&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:j.details.reason.message})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Relevant Experience"}),e.jsx("textarea",{...h("details.experience",{maxLength:{value:1e3,message:"Maximum 1000 characters"}}),rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500 resize-none",placeholder:"Describe any relevant experience with dogs, community management, or event planning..."}),((k=j.details)==null?void 0:k.experience)&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:j.details.experience.message})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Contact Phone"}),e.jsx("input",{...h("details.contactPhone"),type:"tel",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500",placeholder:"Your phone number"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Contact Email"}),e.jsx("input",{...h("details.contactEmail"),type:"email",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500",placeholder:"Your email address"})]})]}),g&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Preferred Gardens to Manage"}),c?e.jsxs("div",{className:"text-center py-4",children:[e.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-purple-600 mx-auto"}),e.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"Loading gardens..."})]}):e.jsx("div",{className:"space-y-2 max-h-40 overflow-y-auto border border-gray-300 rounded-lg p-3",children:o.map(M=>{var $;return e.jsxs("label",{className:"flex items-center space-x-3",children:[e.jsx("input",{type:"checkbox",value:M._id,...h("details.preferredGardens"),className:"rounded border-gray-300 text-purple-600 focus:ring-purple-500"}),e.jsx("span",{className:"text-sm text-gray-700",children:M.name}),e.jsxs("span",{className:"text-xs text-gray-500",children:["(",($=M.location)==null?void 0:$.address,")"]})]},M._id)})}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Select the gardens you'd be interested in managing. You can select multiple gardens."})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Management Experience"}),e.jsx("textarea",{...h("details.managementExperience"),rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500 resize-none",placeholder:"Describe your experience managing teams, communities, or facilities..."})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Availability"}),e.jsx("input",{...h("details.availability"),type:"text",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500",placeholder:"e.g., Weekends, Evenings, Flexible hours..."})]})]}),u&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Types of Events You'd Like to Organize"}),e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3",children:w.map(M=>e.jsxs("label",{className:"flex items-center space-x-2",children:[e.jsx("input",{type:"checkbox",onChange:$=>N(M,$.target.checked),className:"rounded border-gray-300 text-purple-600 focus:ring-purple-500"}),e.jsx("span",{className:"text-sm text-gray-700",children:M})]},M))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Event Organization Experience"}),e.jsx("textarea",{...h("details.organizationExperience"),rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500 resize-none",placeholder:"Describe your experience organizing events, managing groups, or coordinating activities..."})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Planned Events Ideas"}),e.jsx("textarea",{...h("details.plannedEvents"),rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500 resize-none",placeholder:"Share some ideas for events you'd like to organize in our community..."})]})]}),e.jsxs("div",{className:"flex justify-end space-x-4 pt-6 border-t border-gray-200",children:[e.jsx("button",{type:"button",onClick:r,className:"px-6 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50 font-medium transition-colors",children:"Cancel"}),e.jsx("button",{type:"submit",disabled:l,className:"px-6 py-2 bg-gradient-to-r from-purple-600 to-pink-600 text-white rounded-lg font-medium hover:from-purple-700 hover:to-pink-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-purple-500 disabled:opacity-50 disabled:cursor-not-allowed transition-all",children:l?e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Submitting..."]}):"Submit Application"})]})]})]})})})})]})})},Tl=()=>{var be,je,de,xe,ye,qe,ft,Y;const{user:t,updateUser:r}=ge();va();const{language:a,isRTL:s,toggleLanguage:l}=Ri(),i=Ce(),[o,d]=n.useState(!1),[c,x]=n.useState(null),[g,u]=n.useState([]),[h,p]=n.useState({}),[f,j]=n.useState(!1),[m,E]=n.useState({}),[b,v]=n.useState(!1),[N,w]=n.useState(null),[C,k]=n.useState([]),[M,$]=n.useState(!0),{register:A,handleSubmit:I,formState:{errors:F,isSubmitting:T}}=rr({defaultValues:{firstName:(t==null?void 0:t.firstName)||"",lastName:(t==null?void 0:t.lastName)||"",phone:(t==null?void 0:t.phone)||"",location:{address:((be=t==null?void 0:t.location)==null?void 0:be.address)||""}}}),{register:z,handleSubmit:W,reset:Z,formState:{errors:G,isSubmitting:R}}=rr();n.useEffect(()=>{V(),J()},[]);const V=async()=>{var se,ae;try{$(!0);const[me,S]=await Promise.all([st.getProfile(),lt.getMyDogs()]);x(me.user),u(S.dogs||[]);try{const P=await it.getStats();p({totalDogs:((se=S.dogs)==null?void 0:se.length)||0,totalVisits:Math.floor(P.points/10)||0,weeklyStreak:P.currentStreak||0,points:P.points||0,level:P.level||1,badges:P.badges||[],levelProgress:P.levelProgress||{current:0,needed:100,percentage:0}})}catch(P){console.error("Error loading gamification stats:",P),p({totalDogs:((ae=S.dogs)==null?void 0:ae.length)||0,totalVisits:0,weeklyStreak:0,totalPoints:0,points:0,level:1,badges:[],levelProgress:{current:0,needed:100,percentage:0}})}E(me.user)}catch(me){console.error("Error loading profile:",me),_.error("Failed to load profile data")}finally{$(!1)}},J=async()=>{try{const se=await kr.getMyRequests();k(se.requests||[])}catch(se){console.error("Error loading user requests:",se)}},L=async se=>{var ae,me;try{const S=await st.updateProfile(se);r(S.user),_.success("Profile updated successfully"),j(!1)}catch(S){console.error("Error updating profile:",S),_.error(((me=(ae=S.response)==null?void 0:ae.data)==null?void 0:me.error)||"Failed to update profile")}},q=async se=>{var ae,me;try{await st.changePassword(se),_.success("Password changed successfully"),d(!1),Z()}catch(S){console.error("Error changing password:",S),_.error(((me=(ae=S.response)==null?void 0:ae.data)==null?void 0:me.error)||"Failed to change password")}},D=se=>{w(se),v(!0)},B=()=>(t==null?void 0:t.role)!=="garden_manager"&&!C.some(se=>se.type==="garden_manager"&&se.status==="pending"),K=()=>{var se;return!((se=t==null?void 0:t.eventPermissions)!=null&&se.canCreateEvents)&&!C.some(ae=>ae.type==="event_organizer"&&ae.status==="pending")},le=se=>{const ae=C.find(me=>me.type===se);return ae?ae.status:null},Q={en:{personalInfo:"Personal Information",fullName:"Full Name",emailAddress:"Email Address",phoneNumber:"Phone Number",address:"Address",firstName:"First Name",lastName:"Last Name",save:"Save Changes",cancel:"Cancel",updating:"Updating...",security:"Security",password:"Password",currentPassword:"Current Password",newPassword:"New Password",changePassword:"Change Password",changing:"Changing...",myDogs:"My Dogs",dogs:"dogs",manageDogs:"Manage Dogs",manageDogsDesc:"Add, edit, or view your dogs",viewAll:"View All ",communityRoles:"Community Roles",gardenManager:"Garden Manager",gardenManagerDesc:"Manage dog parks in your area",eventOrganizer:"Event Organizer",eventOrganizerDesc:"Create and manage community events",apply:"Apply ",pending:"Pending",approved:"Approved",rejected:"Rejected",activeRoles:"Active Roles",notifications:"Notifications",eventUpdates:"Event Updates",eventUpdatesDesc:"Get notified about event changes",newFriends:"New Friends",newFriendsDesc:"Friend requests and connections",parkActivities:"Park Activities",parkActivitiesDesc:"Activities near your location",privacySafety:"Privacy & Safety",profileVisibility:"Profile Visibility",profileVisibilityDesc:"Who can see your profile",everyone:"Everyone",friendsOnly:"Friends Only",private:"Private",locationSharing:"Location Sharing",locationSharingDesc:"Share your location with friends",dataAnalytics:"Data Analytics",dataAnalyticsDesc:"Help improve our services",accountManagement:"Account Management",accountCreated:"Account Created",emailVerification:"Email Verification",verified:"Verified ",deleteAccount:"Delete Account",deleteAccountDesc:"Permanently delete your account and data",desktopLayout:"Desktop Profile layout coming soon...",language:"Language",languageDesc:"Switch between English and Hebrew",english:"English",hebrew:""},he:{personalInfo:" ",fullName:" ",emailAddress:" ",phoneNumber:" ",address:"",firstName:" ",lastName:" ",save:" ",cancel:"",updating:"...",security:"",password:"",currentPassword:" ",newPassword:" ",changePassword:" ",changing:"...",myDogs:" ",dogs:"",manageDogs:" ",manageDogsDesc:",     ",viewAll:"  ",communityRoles:" ",gardenManager:" ",gardenManagerDesc:"    ",eventOrganizer:" ",eventOrganizerDesc:"   ",apply:"  ",pending:"",approved:"",rejected:"",activeRoles:" ",notifications:"",eventUpdates:" ",eventUpdatesDesc:"    ",newFriends:" ",newFriendsDesc:"  ",parkActivities:" ",parkActivitiesDesc:"   ",privacySafety:" ",profileVisibility:" ",profileVisibilityDesc:"     ",everyone:"",friendsOnly:" ",private:"",locationSharing:" ",locationSharingDesc:"     ",dataAnalytics:" ",dataAnalyticsDesc:"    ",accountManagement:" ",accountCreated:" ",emailVerification:" ",verified:" ",deleteAccount:" ",deleteAccountDesc:"     ",desktopLayout:"    ...",language:"",languageDesc:"   ",english:"English",hebrew:""}}[a];return M?e.jsx(ju,{}):e.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 transition-all duration-300",children:[e.jsxs("div",{className:"max-w-lg mx-auto lg:max-w-7xl",children:[e.jsx("div",{className:"lg:hidden bg-gradient-to-br from-indigo-600 via-purple-600 to-pink-600 dark:from-indigo-700 dark:via-purple-700 dark:to-pink-700 mx-4 mt-4 rounded-3xl p-6 text-white",children:e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"w-20 h-20 bg-white bg-opacity-20 rounded-3xl flex items-center justify-center",children:t!=null&&t.profileImage?e.jsx("img",{src:t.profileImage,alt:t==null?void 0:t.firstName,className:"w-full h-full object-cover rounded-3xl"}):e.jsx(_x,{className:"w-12 h-12 text-white"})}),e.jsx("div",{className:"absolute -bottom-1 -right-1 w-6 h-6 bg-green-400 rounded-full border-3 border-white flex items-center justify-center",children:e.jsx(De,{className:"w-3 h-3 text-white"})})]}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("h1",{className:"text-2xl font-bold mb-1",children:[t==null?void 0:t.firstName," ",t==null?void 0:t.lastName]}),e.jsx("p",{className:"text-indigo-100 dark:text-indigo-200 text-sm mb-3",children:t==null?void 0:t.email}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"bg-white bg-opacity-20 rounded-full px-3 py-1",children:e.jsx("span",{className:"text-xs font-semibold",children:"Level 12"})}),e.jsx("div",{className:"bg-white bg-opacity-20 rounded-full px-3 py-1",children:e.jsxs("span",{className:"text-xs font-semibold",children:[h.totalPoints," pts"]})})]})]})]})}),e.jsxs("div",{className:"px-4 py-6",children:[e.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-4 mb-6",children:[e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-3xl p-4 text-center border border-gray-100 dark:border-gray-700",children:[e.jsx(Le,{className:"w-8 h-8 text-pink-500 mx-auto mb-2"}),e.jsx("div",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:h.totalDogs}),e.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Dogs"})]}),e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-3xl p-4 text-center border border-gray-100 dark:border-gray-700",children:[e.jsx(fe,{className:"w-8 h-8 text-blue-500 mx-auto mb-2"}),e.jsx("div",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:h.totalVisits}),e.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Park Visits"})]}),e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-3xl p-4 text-center border border-gray-100 dark:border-gray-700",children:[e.jsx(Qe,{className:"w-8 h-8 text-orange-500 mx-auto mb-2"}),e.jsx("div",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:h.weeklyStreak}),e.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Day Streak"})]}),e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-3xl p-4 text-center border border-gray-100 dark:border-gray-700",children:[e.jsx(nt,{className:"w-8 h-8 text-yellow-500 mx-auto mb-2"}),e.jsx("div",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:h.points||0}),e.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Points"})]})]}),e.jsxs("div",{className:"space-y-4 mb-6",children:[e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-3xl p-6 border border-gray-100 dark:border-gray-700",children:[e.jsx("h3",{className:"text-lg font-bold text-gray-900 dark:text-white mb-4",children:"Level Progress"}),e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsxs("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:["Level ",h.level||1]}),e.jsxs("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:[((je=h.levelProgress)==null?void 0:je.current)||0,"/",((de=h.levelProgress)==null?void 0:de.needed)||100]})]}),e.jsx("div",{className:"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-2",children:e.jsx("div",{className:"bg-blue-500 h-2 rounded-full transition-all duration-300",style:{width:`${((xe=h.levelProgress)==null?void 0:xe.percentage)||0}%`}})})]}),e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-3xl p-6 border border-gray-100 dark:border-gray-700",children:[e.jsx("h3",{className:"text-lg font-bold text-gray-900 dark:text-white mb-4",children:"Badges"}),h.badges&&h.badges.length>0?e.jsx("div",{className:"grid grid-cols-3 gap-3",children:h.badges.slice(0,6).map((se,ae)=>e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-2xl mb-1",children:se.icon}),e.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:se.name})]},ae))}):e.jsxs("div",{className:"text-center py-4",children:[e.jsx("div",{className:"text-gray-400 dark:text-gray-500 text-sm",children:"No badges yet"}),e.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Visit parks to earn badges!"})]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-3xl border border-gray-100 dark:border-gray-700",children:e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"text-lg font-bold text-gray-900 dark:text-white",children:Q.personalInfo}),f?e.jsx("button",{onClick:()=>j(!1),className:"p-2 text-gray-600 hover:bg-gray-50 dark:hover:bg-gray-700 rounded-xl transition-colors",children:e.jsx(pe,{className:"w-5 h-5"})}):e.jsx("button",{onClick:()=>j(!0),className:"p-2 text-blue-600 hover:bg-blue-50 dark:hover:bg-blue-900/20 rounded-xl transition-colors",children:e.jsx(bs,{className:"w-5 h-5"})})]}),f?e.jsxs("form",{onSubmit:I(L),className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsx("input",{...A("firstName",{required:"First name is required"}),placeholder:Q.firstName,className:"w-full px-4 py-3 rounded-2xl border border-gray-200 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent"}),e.jsx("input",{...A("lastName",{required:"Last name is required"}),placeholder:Q.lastName,className:"w-full px-4 py-3 rounded-2xl border border-gray-200 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),e.jsx("input",{...A("phone"),placeholder:Q.phoneNumber,className:"w-full px-4 py-3 rounded-2xl border border-gray-200 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent"}),e.jsx("input",{...A("location.address"),placeholder:Q.address,className:"w-full px-4 py-3 rounded-2xl border border-gray-200 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent"}),e.jsxs("div",{className:"flex space-x-3",children:[e.jsx("button",{type:"submit",disabled:T,className:"flex-1 bg-blue-500 text-white py-3 rounded-2xl font-medium hover:bg-blue-600 transition-colors disabled:opacity-50",children:T?Q.updating:Q.save}),e.jsx("button",{type:"button",onClick:()=>j(!1),className:"flex-1 bg-gray-100 dark:bg-gray-700 text-gray-900 dark:text-white py-3 rounded-2xl font-medium hover:bg-gray-200 dark:hover:bg-gray-600 transition-colors",children:Q.cancel})]})]}):e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center space-x-3 p-3 bg-gray-50 dark:bg-gray-700 rounded-2xl",children:[e.jsx(ns,{className:"w-5 h-5 text-gray-400"}),e.jsxs("div",{children:[e.jsxs("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:[t==null?void 0:t.firstName," ",t==null?void 0:t.lastName]}),e.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:Q.fullName})]})]}),e.jsxs("div",{className:"flex items-center space-x-3 p-3 bg-gray-50 dark:bg-gray-700 rounded-2xl",children:[e.jsx(Kt,{className:"w-5 h-5 text-gray-400"}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:t==null?void 0:t.email}),e.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:Q.emailAddress})]})]}),(t==null?void 0:t.phone)&&e.jsxs("div",{className:"flex items-center space-x-3 p-3 bg-gray-50 dark:bg-gray-700 rounded-2xl",children:[e.jsx(Tr,{className:"w-5 h-5 text-gray-400"}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:t.phone}),e.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:Q.phoneNumber})]})]}),((ye=t==null?void 0:t.location)==null?void 0:ye.address)&&e.jsxs("div",{className:"flex items-center space-x-3 p-3 bg-gray-50 dark:bg-gray-700 rounded-2xl",children:[e.jsx(fe,{className:"w-5 h-5 text-gray-400"}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:t.location.address}),e.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:Q.address})]})]})]})]})}),e.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-3xl border border-gray-100 dark:border-gray-700",children:e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"text-lg font-bold text-gray-900 dark:text-white",children:Q.security}),o?e.jsx("button",{onClick:()=>d(!1),className:"p-2 text-gray-600 hover:bg-gray-50 dark:hover:bg-gray-700 rounded-xl transition-colors",children:e.jsx(pe,{className:"w-5 h-5"})}):e.jsx("button",{onClick:()=>d(!0),className:"p-2 text-blue-600 hover:bg-blue-50 dark:hover:bg-blue-900/20 rounded-xl transition-colors",children:e.jsx(Vt,{className:"w-5 h-5"})})]}),o?e.jsxs("form",{onSubmit:W(q),className:"space-y-4",children:[e.jsx("input",{...z("currentPassword",{required:"Current password is required"}),type:"password",placeholder:Q.currentPassword,className:"w-full px-4 py-3 rounded-2xl border border-gray-200 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent"}),e.jsx("input",{...z("newPassword",{required:"New password is required",minLength:{value:6,message:"Password must be at least 6 characters"}}),type:"password",placeholder:Q.newPassword,className:"w-full px-4 py-3 rounded-2xl border border-gray-200 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent"}),e.jsxs("div",{className:"flex space-x-3",children:[e.jsx("button",{type:"submit",disabled:R,className:"flex-1 bg-blue-500 text-white py-3 rounded-2xl font-medium hover:bg-blue-600 transition-colors disabled:opacity-50",children:R?Q.changing:Q.changePassword}),e.jsx("button",{type:"button",onClick:()=>d(!1),className:"flex-1 bg-gray-100 dark:bg-gray-700 text-gray-900 dark:text-white py-3 rounded-2xl font-medium hover:bg-gray-200 dark:hover:bg-gray-600 transition-colors",children:Q.cancel})]})]}):e.jsxs("div",{className:"flex items-center space-x-3 p-3 bg-gray-50 dark:bg-gray-700 rounded-2xl",children:[e.jsx(Vt,{className:"w-5 h-5 text-gray-400"}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:Q.password}),e.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:""})]})]})]})}),e.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-3xl border border-gray-100 dark:border-gray-700",children:e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"text-lg font-bold text-gray-900 dark:text-white",children:Q.myDogs}),e.jsx("div",{className:"flex items-center space-x-2",children:e.jsxs("span",{className:"bg-blue-100 dark:bg-blue-900/30 text-blue-600 dark:text-blue-400 text-xs font-medium px-2 py-1 rounded-full",children:[h.totalDogs," ",Q.dogs]})})]}),e.jsx("div",{className:"space-y-3",children:e.jsxs("div",{className:"flex items-center space-x-3 p-3 bg-gray-50 dark:bg-gray-700 rounded-2xl",children:[e.jsx(Le,{className:"w-5 h-5 text-pink-500"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:Q.manageDogs}),e.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:Q.manageDogsDesc})]}),e.jsx("button",{onClick:()=>i("/my-dogs"),className:"text-blue-600 dark:text-blue-400 hover:text-blue-700 dark:hover:text-blue-300 text-sm font-medium",children:Q.viewAll})]})})]})}),e.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-3xl border border-gray-100 dark:border-gray-700",children:e.jsxs("div",{className:"p-6",children:[e.jsx("h3",{className:"text-lg font-bold text-gray-900 dark:text-white mb-4",children:Q.communityRoles}),e.jsxs("div",{className:"space-y-3",children:[(t==null?void 0:t.role)!=="garden_manager"&&e.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 dark:bg-gray-700 rounded-2xl",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(Ne,{className:"w-5 h-5 text-green-500"}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:Q.gardenManager}),e.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:Q.gardenManagerDesc})]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[le("garden_manager")==="pending"&&e.jsx("span",{className:"bg-yellow-100 dark:bg-yellow-900/30 text-yellow-600 dark:text-yellow-400 text-xs font-medium px-2 py-1 rounded-full",children:Q.pending}),le("garden_manager")==="approved"&&e.jsx("span",{className:"bg-green-100 dark:bg-green-900/30 text-green-600 dark:text-green-400 text-xs font-medium px-2 py-1 rounded-full",children:Q.approved}),le("garden_manager")==="rejected"&&e.jsx("span",{className:"bg-red-100 dark:bg-red-900/30 text-red-600 dark:text-red-400 text-xs font-medium px-2 py-1 rounded-full",children:Q.rejected}),B()&&e.jsx("button",{onClick:()=>D("garden_manager"),className:"text-blue-600 dark:text-blue-400 hover:text-blue-700 dark:hover:text-blue-300 text-sm font-medium",children:Q.apply})]})]}),!((qe=t==null?void 0:t.eventPermissions)!=null&&qe.canCreateEvents)&&e.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 dark:bg-gray-700 rounded-2xl",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(wt,{className:"w-5 h-5 text-purple-500"}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:Q.eventOrganizer}),e.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:Q.eventOrganizerDesc})]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[le("event_organizer")==="pending"&&e.jsx("span",{className:"bg-yellow-100 dark:bg-yellow-900/30 text-yellow-600 dark:text-yellow-400 text-xs font-medium px-2 py-1 rounded-full",children:Q.pending}),le("event_organizer")==="approved"&&e.jsx("span",{className:"bg-green-100 dark:bg-green-900/30 text-green-600 dark:text-green-400 text-xs font-medium px-2 py-1 rounded-full",children:Q.approved}),le("event_organizer")==="rejected"&&e.jsx("span",{className:"bg-red-100 dark:bg-red-900/30 text-red-600 dark:text-red-400 text-xs font-medium px-2 py-1 rounded-full",children:Q.rejected}),K()&&e.jsx("button",{onClick:()=>D("event_organizer"),className:"text-blue-600 dark:text-blue-400 hover:text-blue-700 dark:hover:text-blue-300 text-sm font-medium",children:Q.apply})]})]}),((t==null?void 0:t.role)==="garden_manager"||((ft=t==null?void 0:t.eventPermissions)==null?void 0:ft.canCreateEvents))&&e.jsxs("div",{className:"p-3 bg-green-50 dark:bg-green-900/20 rounded-2xl border border-green-200 dark:border-green-800",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[e.jsx(De,{className:"w-4 h-4 text-green-600 dark:text-green-400"}),e.jsx("span",{className:"text-sm font-medium text-green-800 dark:text-green-200",children:Q.activeRoles})]}),e.jsxs("div",{className:"space-y-1",children:[(t==null?void 0:t.role)==="garden_manager"&&e.jsx("div",{className:"text-xs text-green-700 dark:text-green-300",children:" Garden Manager"}),((Y=t==null?void 0:t.eventPermissions)==null?void 0:Y.canCreateEvents)&&e.jsx("div",{className:"text-xs text-green-700 dark:text-green-300",children:" Event Organizer"})]})]})]})]})}),e.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-3xl border border-gray-100 dark:border-gray-700",children:e.jsxs("div",{className:"p-6",children:[e.jsx("h3",{className:"text-lg font-bold text-gray-900 dark:text-white mb-4",children:Q.notifications}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 dark:bg-gray-700 rounded-2xl",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(dt,{className:"w-5 h-5 text-blue-500"}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:Q.eventUpdates}),e.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:Q.eventUpdatesDesc})]})]}),e.jsx("div",{className:"relative inline-flex h-4 w-7 items-center rounded-full bg-blue-600",children:e.jsx("span",{className:"inline-block h-3 w-3 transform rounded-full bg-white shadow-sm transition-transform translate-x-3.5"})})]}),e.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 dark:bg-gray-700 rounded-2xl",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(Ne,{className:"w-5 h-5 text-green-500"}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:Q.newFriends}),e.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:Q.newFriendsDesc})]})]}),e.jsx("div",{className:"relative inline-flex h-4 w-7 items-center rounded-full bg-green-600",children:e.jsx("span",{className:"inline-block h-3 w-3 transform rounded-full bg-white shadow-sm transition-transform translate-x-3.5"})})]}),e.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 dark:bg-gray-700 rounded-2xl",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(fe,{className:"w-5 h-5 text-purple-500"}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:Q.parkActivities}),e.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:Q.parkActivitiesDesc})]})]}),e.jsx("div",{className:"relative inline-flex h-4 w-7 items-center rounded-full bg-gray-300",children:e.jsx("span",{className:"inline-block h-3 w-3 transform rounded-full bg-white shadow-sm transition-transform translate-x-0.5"})})]})]})]})}),e.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-3xl border border-gray-100 dark:border-gray-700",children:e.jsxs("div",{className:"p-6",children:[e.jsx("h3",{className:"text-lg font-bold text-gray-900 dark:text-white mb-4",children:Q.privacySafety}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 dark:bg-gray-700 rounded-2xl",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(Rr,{className:"w-5 h-5 text-indigo-500"}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:Q.language}),e.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:Q.languageDesc})]})]}),e.jsxs("button",{onClick:l,className:"flex items-center space-x-2 bg-indigo-100 dark:bg-indigo-900/30 text-indigo-600 dark:text-indigo-400 px-4 py-2 rounded-full text-sm font-medium hover:bg-indigo-200 dark:hover:bg-indigo-900/50 transition-all duration-200 transform hover:scale-105 active:scale-95 shadow-sm",children:[e.jsx(Rr,{className:"w-4 h-4"}),e.jsx("span",{className:"font-semibold",children:a==="en"?"":"English"})]})]}),a==="he"&&e.jsx("div",{className:"mt-4 p-4 bg-blue-50 dark:bg-blue-900/20 rounded-2xl border border-blue-200 dark:border-blue-800",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("div",{className:"w-3 h-3 bg-blue-500 rounded-full animate-pulse"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm font-medium text-blue-800 dark:text-blue-200",children:"  "}),e.jsx("p",{className:"text-xs text-blue-600 dark:text-blue-300 mt-1",children:"      "})]})]})}),e.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 dark:bg-gray-700 rounded-2xl",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(Ke,{className:"w-5 h-5 text-blue-500"}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:Q.profileVisibility}),e.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:Q.profileVisibilityDesc})]})]}),e.jsxs("select",{className:"text-sm bg-white dark:bg-gray-600 border border-gray-200 dark:border-gray-500 rounded-lg px-2 py-1 text-gray-900 dark:text-white",children:[e.jsx("option",{children:Q.everyone}),e.jsx("option",{children:Q.friendsOnly}),e.jsx("option",{children:Q.private})]})]}),e.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 dark:bg-gray-700 rounded-2xl",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(fe,{className:"w-5 h-5 text-red-500"}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:Q.locationSharing}),e.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:Q.locationSharingDesc})]})]}),e.jsx("div",{className:"relative inline-flex h-4 w-7 items-center rounded-full bg-red-600",children:e.jsx("span",{className:"inline-block h-3 w-3 transform rounded-full bg-white shadow-sm transition-transform translate-x-3.5"})})]}),e.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 dark:bg-gray-700 rounded-2xl",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(_r,{className:"w-5 h-5 text-green-500"}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:Q.dataAnalytics}),e.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:Q.dataAnalyticsDesc})]})]}),e.jsx("div",{className:"relative inline-flex h-4 w-7 items-center rounded-full bg-green-600",children:e.jsx("span",{className:"inline-block h-3 w-3 transform rounded-full bg-white shadow-sm transition-transform translate-x-3.5"})})]})]})]})}),e.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-3xl border border-gray-100 dark:border-gray-700",children:e.jsxs("div",{className:"p-6",children:[e.jsx("h3",{className:"text-lg font-bold text-gray-900 dark:text-white mb-4",children:Q.accountManagement}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center space-x-3 p-3 bg-gray-50 dark:bg-gray-700 rounded-2xl",children:[e.jsx(Ae,{className:"w-5 h-5 text-blue-500"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:Q.accountCreated}),e.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:t!=null&&t.createdAt?new Date(t.createdAt).toLocaleDateString():"Unknown"})]})]}),e.jsxs("div",{className:"flex items-center space-x-3 p-3 bg-gray-50 dark:bg-gray-700 rounded-2xl",children:[e.jsx(Kt,{className:"w-5 h-5 text-green-500"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:Q.emailVerification}),e.jsx("div",{className:"text-xs text-green-600 dark:text-green-400",children:Q.verified})]})]}),e.jsxs("button",{className:"w-full flex items-center space-x-3 p-3 bg-red-50 dark:bg-red-900/20 rounded-2xl text-left hover:bg-red-100 dark:hover:bg-red-900/30 transition-colors border border-red-200 dark:border-red-800",children:[e.jsx(fa,{className:"w-5 h-5 text-red-500"}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-medium text-red-700 dark:text-red-300",children:Q.deleteAccount}),e.jsx("div",{className:"text-xs text-red-600 dark:text-red-400",children:Q.deleteAccountDesc})]})]})]})]})})]})]}),e.jsx("div",{className:"hidden lg:block px-8 py-8",children:e.jsx("div",{className:"text-center text-gray-500 dark:text-gray-400",children:Q.desktopLayout})})]}),b&&e.jsx(wh,{type:N,onClose:()=>v(!1),onSuccess:()=>{v(!1),J()}})]})},Nh=Object.freeze(Object.defineProperty({__proto__:null,default:Tl},Symbol.toStringTag,{value:"Module"})),_l=()=>{var p,f,j;const t=Ce(),[r,a]=n.useState(null),[s,l]=n.useState([]),[i,o]=n.useState(!0),[d,c]=n.useState(!1);n.useEffect(()=>{x()},[]);const x=async()=>{try{o(!0);const[m,E]=await Promise.all([jt.getActiveVisit(),jt.getMyVisits({limit:10})]);a(m.visit),l(E.visits)}catch(m){console.error("Error loading visit data:",m),_.error("Failed to load visit data")}finally{o(!1)}},g=async()=>{var m,E;if(r)try{c(!0),await jt.checkOut({visitId:r._id}),_.success("Checked out successfully!"),a(null),x()}catch(b){console.error("Check-out error:",b),_.error(((E=(m=b.response)==null?void 0:m.data)==null?void 0:E.error)||"Failed to check out")}finally{c(!1)}},u=m=>{if(!m)return"N/A";const E=Math.floor(m/60),b=m%60;return E>0?`${E}h ${b}m`:`${b}m`},h=m=>{const E=Date.now()-new Date(m).getTime(),b=Math.floor(E/6e4);return u(b)};return i?e.jsx(wu,{}):e.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900",children:e.jsxs("div",{className:"max-w-lg mx-auto",children:[e.jsxs("div",{className:"bg-gradient-to-br from-green-600 via-emerald-600 to-teal-700 dark:from-green-700 dark:via-emerald-700 dark:to-teal-800 mx-4 mt-4 rounded-3xl p-6 text-white relative overflow-hidden",children:[e.jsx("div",{className:"absolute -top-6 -right-6 opacity-20",children:e.jsx("div",{className:"text-8xl",children:""})}),e.jsxs("div",{className:"relative z-10",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold flex items-center",children:"Visit Management "}),e.jsx("p",{className:"text-green-100 dark:text-green-200",children:"Track your dog park visits"})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("div",{className:"text-sm text-green-200",children:r?" Active":" Available"}),e.jsxs("div",{className:"text-xs text-green-300",children:[s.length," Total Visits"]})]})]}),e.jsxs("div",{className:"flex items-center space-x-6 text-green-100",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(ya,{className:"h-5 w-5 mr-2"}),e.jsx("span",{children:r?"Currently Checked In":"Ready to Visit"})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx(Fe,{className:"h-5 w-5 mr-2"}),e.jsxs("span",{children:[s.length," Visits"]})]})]})]})]}),r?e.jsxs("div",{className:"px-4 mt-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("h2",{className:"text-lg font-bold text-gray-900 dark:text-white flex items-center",children:[e.jsx(Qe,{className:"h-5 w-5 mr-2 text-red-500"}),"Active Visit"]}),e.jsx("span",{className:"bg-red-100 dark:bg-red-900/30 text-red-600 dark:text-red-400 text-xs px-2 py-1 rounded-full animate-pulse",children:" Live"})]}),e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-3xl shadow-lg border border-gray-100 dark:border-gray-700 overflow-hidden",children:[e.jsxs("div",{className:"bg-gradient-to-r from-green-500 to-emerald-600 p-4 text-white relative overflow-hidden",children:[e.jsx("div",{className:"absolute -top-4 -right-4 opacity-20",children:e.jsx("div",{className:"text-6xl",children:""})}),e.jsx("div",{className:"relative z-10",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-green-100 text-sm",children:"Currently at"}),e.jsx("h3",{className:"text-xl font-bold",children:((p=r.garden)==null?void 0:p.name)||"Unknown Garden"})]}),e.jsx("div",{className:"bg-white bg-opacity-20 rounded-xl p-2",children:e.jsx(fe,{className:"h-5 w-5"})})]})})]}),e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-6",children:[e.jsxs("div",{className:"bg-green-50 dark:bg-green-900/20 rounded-xl p-4 text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-green-600 dark:text-green-400 mb-1",children:h(r.checkInTime)}),e.jsx("div",{className:"text-xs text-green-700 dark:text-green-300",children:"Time Elapsed"})]}),e.jsxs("div",{className:"bg-emerald-50 dark:bg-emerald-900/20 rounded-xl p-4 text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-emerald-600 dark:text-emerald-400 mb-1",children:((f=r.dogs)==null?void 0:f.length)||0}),e.jsx("div",{className:"text-xs text-emerald-700 dark:text-emerald-300",children:"Dogs Playing"})]})]}),e.jsxs("div",{className:"mb-6",children:[e.jsxs("h4",{className:"text-sm font-semibold text-gray-900 dark:text-white mb-3 flex items-center",children:[e.jsx(Le,{className:"h-4 w-4 mr-2 text-pink-500"}),"Dogs Currently Playing"]}),e.jsx("div",{className:"grid grid-cols-1 gap-3",children:(j=r.dogs)==null?void 0:j.map(m=>e.jsxs("div",{className:"flex items-center p-3 bg-gray-50 dark:bg-gray-700/50 rounded-xl",children:[e.jsx("div",{className:"h-10 w-10 bg-gradient-to-br from-orange-100 to-amber-100 dark:from-orange-900 dark:to-amber-900 rounded-full flex items-center justify-center text-lg mr-3",children:""}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-900 dark:text-white",children:(m==null?void 0:m.name)||"Unknown Dog"}),e.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:(m==null?void 0:m.breed)||"Unknown breed"})]})]},m._id))})]}),r.notes&&e.jsxs("div",{className:"mb-6",children:[e.jsxs("h4",{className:"text-sm font-semibold text-gray-900 dark:text-white mb-2 flex items-center",children:[e.jsx(Xe,{className:"h-4 w-4 mr-2 text-purple-500"}),"Visit Notes"]}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300 bg-purple-50 dark:bg-purple-900/20 p-3 rounded-xl",children:r.notes})]}),e.jsx("button",{onClick:g,disabled:d,className:"w-full inline-flex items-center justify-center px-6 py-3 bg-gradient-to-r from-red-500 to-pink-500 text-white font-medium rounded-xl hover:from-red-600 hover:to-pink-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200 transform hover:scale-105 active:scale-95",children:d?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Checking out..."]}):e.jsxs(e.Fragment,{children:[e.jsx(el,{className:"h-5 w-5 mr-2"}),"Check Out Now"]})})]})]})]}):e.jsxs("div",{className:"px-4 mt-6",children:[e.jsx("div",{className:"flex items-center justify-between mb-4",children:e.jsxs("h2",{className:"text-lg font-bold text-gray-900 dark:text-white flex items-center",children:[e.jsx(fe,{className:"h-5 w-5 mr-2 text-gray-500"}),"No Active Visit"]})}),e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-3xl shadow-lg border border-gray-100 dark:border-gray-700 p-8 text-center",children:[e.jsx("div",{className:"text-6xl mb-4",children:""}),e.jsx("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-2",children:"Ready for Adventure?"}),e.jsx("p",{className:"text-gray-500 dark:text-gray-400 mb-6",children:"You're not currently checked in to any dog park. Find a great spot for your furry friends!"}),e.jsxs("button",{onClick:()=>t("/gardens"),className:"inline-flex items-center px-6 py-3 bg-gradient-to-r from-green-500 to-emerald-600 text-white font-medium rounded-xl hover:from-green-600 hover:to-emerald-700 transition-all duration-200 transform hover:scale-105",children:[e.jsx(Ke,{className:"h-5 w-5 mr-2"}),"Find a Dog Park"]})]})]}),e.jsxs("div",{className:"px-4 mt-6 pb-6",children:[e.jsx("div",{className:"flex items-center justify-between mb-4",children:e.jsxs("h2",{className:"text-lg font-bold text-gray-900 dark:text-white flex items-center",children:[e.jsx(dt,{className:"h-5 w-5 mr-2 text-indigo-600"}),"Recent Visits"]})}),e.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-3xl shadow-lg border border-gray-100 dark:border-gray-700 overflow-hidden",children:s.length===0?e.jsxs("div",{className:"text-center py-8 px-6",children:[e.jsx("div",{className:"text-4xl mb-3",children:""}),e.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"No visit history yet."}),e.jsx("p",{className:"text-sm text-gray-400 dark:text-gray-500 mt-1",children:"Start visiting parks to build your history!"})]}):e.jsx("div",{className:"divide-y divide-gray-100 dark:divide-gray-700",children:s.map(m=>{var E,b;return e.jsx("div",{className:"p-4 hover:bg-gray-50 dark:hover:bg-gray-700/50 transition-colors",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center mb-2",children:[e.jsx("div",{className:"h-10 w-10 bg-gradient-to-br from-indigo-100 to-purple-100 dark:from-indigo-900 dark:to-purple-900 rounded-full flex items-center justify-center text-lg mr-3",children:""}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-bold text-gray-900 dark:text-white",children:((E=m.garden)==null?void 0:E.name)||"Unknown Garden"}),e.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:new Date(m.checkInTime).toLocaleDateString()})]})]}),e.jsxs("div",{className:"grid grid-cols-1 gap-2 text-xs mb-3",children:[e.jsxs("div",{className:"flex items-center text-gray-600 dark:text-gray-400",children:[e.jsx(Ae,{className:"flex-shrink-0 mr-1 h-3 w-3 text-gray-400"}),e.jsxs("span",{children:[new Date(m.checkInTime).toLocaleTimeString()," -",m.checkOutTime?new Date(m.checkOutTime).toLocaleTimeString():"Active"]})]}),m.duration&&e.jsx("div",{className:"flex items-center text-gray-600 dark:text-gray-400",children:e.jsxs("span",{className:"font-medium",children:["Duration: ",u(m.duration)]})})]}),e.jsxs("div",{className:"flex items-center text-xs text-gray-600 dark:text-gray-400",children:[e.jsx(Le,{className:"flex-shrink-0 mr-1 h-3 w-3 text-pink-400"}),e.jsxs("span",{children:["Dogs: ",((b=m.dogs)==null?void 0:b.map(v=>v.name).join(", "))||"None"]})]})]}),e.jsx("div",{className:"ml-4",children:e.jsxs("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ${m.status==="active"?"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-400":m.status==="completed"?"bg-blue-100 text-blue-800 dark:bg-blue-900/30 dark:text-blue-400":"bg-red-100 text-red-800 dark:bg-red-900/30 dark:text-red-400"}`,children:[m.status==="active"&&" ",m.status==="completed"&&" ",m.status==="cancelled"&&" ",m.status.charAt(0).toUpperCase()+m.status.slice(1)]})})]})},m._id)})})})]}),e.jsx("div",{className:"px-4 pb-6",children:e.jsxs("div",{className:"bg-gradient-to-r from-indigo-500 to-purple-600 rounded-3xl p-6 text-white",children:[e.jsxs("h3",{className:"text-lg font-bold mb-4 flex items-center",children:[e.jsx(_e,{className:"h-5 w-5 mr-2"}),"Quick Actions"]}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs("button",{onClick:()=>t("/gardens"),className:"flex items-center justify-center px-4 py-3 bg-white bg-opacity-20 rounded-xl hover:bg-opacity-30 transition-all duration-200",children:[e.jsx(Ke,{className:"h-5 w-5 mr-2"}),"Browse Gardens"]}),e.jsxs("button",{onClick:()=>t("/my-dogs"),className:"flex items-center justify-center px-4 py-3 bg-white bg-opacity-20 rounded-xl hover:bg-opacity-30 transition-all duration-200",children:[e.jsx(Le,{className:"h-5 w-5 mr-2"}),"My Dogs"]})]})]})})]})})},kh=Object.freeze(Object.defineProperty({__proto__:null,default:_l},Symbol.toStringTag,{value:"Module"})),bt=({variant:t="primary",size:r="md",children:a,className:s="",icon:l,iconPosition:i="left",loading:o=!1,fullWidth:d=!1,...c})=>{const x="inline-flex items-center justify-center font-medium transition-all duration-300 focus:outline-none focus:ring-2 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed relative overflow-hidden",g={primary:"bg-primary-500 text-white hover:bg-primary-600 focus:ring-primary-500 hover:shadow-primary",secondary:"bg-gray-100 text-gray-700 border border-gray-300 hover:bg-gray-200 focus:ring-gray-500",accent:"bg-accent-500 text-white hover:bg-accent-600 focus:ring-accent-500 hover:shadow-lg",danger:"bg-red-500 text-white hover:bg-red-600 focus:ring-red-500 hover:shadow-error",success:"bg-green-500 text-white hover:bg-green-600 focus:ring-green-500 hover:shadow-success",ghost:"bg-transparent text-gray-700 hover:bg-gray-100 focus:ring-gray-500",outline:"bg-transparent text-primary-600 border-2 border-primary-600 hover:bg-primary-600 hover:text-white focus:ring-primary-500",link:"bg-transparent text-primary-600 hover:text-primary-700 underline-offset-4 hover:underline p-0"},u={xs:"px-2.5 py-1.5 text-xs rounded",sm:"px-3 py-2 text-sm rounded-md gap-1.5",md:"px-4 py-2.5 text-sm rounded-md gap-2",lg:"px-6 py-3 text-base rounded-lg gap-2",xl:"px-8 py-4 text-lg rounded-lg gap-3"},h=d?"w-full":"";return e.jsx("button",{className:`${x} ${g[t]} ${u[r]} ${h} ${s}`,disabled:o||c.disabled,...c,children:o?e.jsxs(e.Fragment,{children:[e.jsxs("svg",{className:"animate-spin h-4 w-4",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",fill:"none"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),e.jsx("span",{children:"Loading..."})]}):e.jsxs(e.Fragment,{children:[l&&i==="left"&&e.jsx("span",{children:l}),a,l&&i==="right"&&e.jsx("span",{children:l})]})})},Et=({variant:t="default",padding:r=!0,hover:a=!1,className:s="",children:l,onClick:i,...o})=>{const d={default:"bg-white shadow-sm",elevated:"bg-white shadow-lg",bordered:"bg-white border border-gray-200",filled:"bg-gray-50",gradient:"bg-gradient-to-br from-white to-gray-50 shadow-md",glass:"bg-white bg-opacity-80 backdrop-blur-lg shadow-xl border border-white border-opacity-20"},c=a?"transition-all duration-300 hover:-translate-y-1 hover:shadow-xl cursor-pointer":"",x=r?"p-6":"",g=i?"cursor-pointer":"";return e.jsx("div",{className:`rounded-xl overflow-hidden ${d[t]} ${c} ${x} ${g} ${s}`,onClick:i,...o,children:l})},Tt=({variant:t="default",size:r="md",label:a,error:s,helperText:l,icon:i,className:o="",inputClassName:d="",...c})=>{const x={default:"border-gray-300 focus:border-primary-500 focus:ring-primary-500",error:"border-red-300 focus:border-red-500 focus:ring-red-500",success:"border-green-300 focus:border-green-500 focus:ring-green-500",filled:"bg-gray-50 border-transparent focus:bg-white focus:border-primary-500"},g={sm:"px-3 py-2 text-sm",md:"px-4 py-2.5 text-base",lg:"px-5 py-3 text-lg"},u=s?"error":t;return e.jsxs("div",{className:o,children:[a&&e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1.5",children:a}),e.jsxs("div",{className:"relative",children:[i&&e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:i}),e.jsx("input",{className:`block w-full rounded-lg border-2 shadow-sm ${x[u]} ${g[r]} ${i?"pl-10":""} transition-all duration-200 ${d}`,...c})]}),(s||l)&&e.jsx("p",{className:`mt-1.5 text-sm ${s?"text-red-600":"text-gray-500"}`,children:s||l})]})},ds=({variant:t="default",size:r="md",label:a,error:s,helperText:l,className:i="",children:o,...d})=>{const c={default:"border-gray-300 focus:border-primary-500 focus:ring-primary-500",error:"border-red-300 focus:border-red-500 focus:ring-red-500",success:"border-green-300 focus:border-green-500 focus:ring-green-500",filled:"bg-gray-50 border-transparent focus:bg-white focus:border-primary-500"},x={sm:"px-3 py-2 text-sm",md:"px-4 py-2.5 text-base",lg:"px-5 py-3 text-lg"},g=s?"error":t;return e.jsxs("div",{className:i,children:[a&&e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1.5",children:a}),e.jsx("select",{className:`block w-full rounded-lg border-2 shadow-sm ${c[g]} ${x[r]} transition-all duration-200 cursor-pointer`,...d,children:o}),(s||l)&&e.jsx("p",{className:`mt-1.5 text-sm ${s?"text-red-600":"text-gray-500"}`,children:s||l})]})},mt=({variant:t="default",size:r="md",rounded:a="full",children:s,icon:l,onRemove:i,className:o=""})=>{const d={default:"bg-gray-100 text-gray-800",primary:"bg-primary-100 text-primary-800",secondary:"bg-secondary-100 text-secondary-800",success:"bg-green-100 text-green-800",warning:"bg-yellow-100 text-yellow-800",danger:"bg-red-100 text-red-800",info:"bg-blue-100 text-blue-800",dark:"bg-gray-800 text-white"},c={sm:"px-2 py-0.5 text-xs gap-1",md:"px-2.5 py-1 text-sm gap-1.5",lg:"px-3 py-1.5 text-base gap-2"},x={none:"rounded-none",sm:"rounded",md:"rounded-md",lg:"rounded-lg",full:"rounded-full"};return e.jsxs("span",{className:`inline-flex items-center font-medium ${d[t]} ${c[r]} ${x[a]} ${o}`,children:[l&&e.jsx("span",{className:"flex-shrink-0",children:l}),s,i&&e.jsx("button",{onClick:i,className:"ml-1 -mr-1 flex-shrink-0 hover:bg-black hover:bg-opacity-10 rounded-full p-0.5 transition-colors",children:e.jsx("svg",{className:"h-3 w-3",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})})})]})},Ht=({variant:t="info",title:r,children:a,onClose:s,icon:l=!0,className:i=""})=>{const o={info:"bg-blue-50 border-blue-200 text-blue-800",success:"bg-green-50 border-green-200 text-green-800",warning:"bg-yellow-50 border-yellow-200 text-yellow-800",error:"bg-red-50 border-red-200 text-red-800"},d={info:"text-blue-400",success:"text-green-400",warning:"text-yellow-400",error:"text-red-400"},c={info:e.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z",clipRule:"evenodd"}),success:e.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"}),warning:e.jsx("path",{fillRule:"evenodd",d:"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z",clipRule:"evenodd"}),error:e.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})};return e.jsx("div",{className:`p-4 border rounded-lg ${o[t]} ${i}`,children:e.jsxs("div",{className:"flex",children:[l&&e.jsx("div",{className:"flex-shrink-0",children:e.jsx("svg",{className:`h-5 w-5 ${d[t]}`,viewBox:"0 0 20 20",fill:"currentColor",children:c[t]})}),e.jsxs("div",{className:`${l?"ml-3":""} flex-1`,children:[r&&e.jsx("h3",{className:"text-sm font-medium mb-1",children:r}),e.jsx("div",{className:"text-sm",children:a})]}),s&&e.jsxs("button",{onClick:s,className:"ml-auto -mx-1.5 -my-1.5 rounded-lg p-1.5 inline-flex hover:bg-black hover:bg-opacity-10 focus:outline-none focus:ring-2 focus:ring-offset-2 transition-colors",children:[e.jsx("span",{className:"sr-only",children:"Dismiss"}),e.jsx("svg",{className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})})]})]})})},Ma=({maxWidth:t="xl",padding:r=!0,className:a="",children:s})=>{const l={sm:"max-w-screen-sm",md:"max-w-screen-md",lg:"max-w-screen-lg",xl:"max-w-screen-xl","2xl":"max-w-screen-2xl",full:"max-w-full"},i=r?"px-4 sm:px-6 lg:px-8":"";return e.jsx("div",{className:`mx-auto ${l[t]} ${i} ${a}`,children:s})},Gt=({level:t=1,size:r,weight:a="bold",color:s="text-gray-900",className:l="",children:i})=>{const o=`h${t}`,d={xs:"text-xs",sm:"text-sm",base:"text-base",lg:"text-lg",xl:"text-xl","2xl":"text-2xl","3xl":"text-3xl","4xl":"text-4xl","5xl":"text-5xl","6xl":"text-6xl","7xl":"text-7xl"},c={1:"4xl",2:"3xl",3:"2xl",4:"xl",5:"lg",6:"base"},x={thin:"font-thin",light:"font-light",normal:"font-normal",medium:"font-medium",semibold:"font-semibold",bold:"font-bold",extrabold:"font-extrabold",black:"font-black"},g=r||c[t];return e.jsx(o,{className:`${d[g]} ${x[a]} ${s} ${l}`,children:i})},Pl=({src:t,alt:r="",size:a="md",name:s,status:l,className:i=""})=>{const o={xs:"h-6 w-6 text-xs",sm:"h-8 w-8 text-sm",md:"h-10 w-10 text-base",lg:"h-12 w-12 text-lg",xl:"h-16 w-16 text-xl"},d={xs:"h-1.5 w-1.5",sm:"h-2 w-2",md:"h-2.5 w-2.5",lg:"h-3 w-3",xl:"h-4 w-4"},c={online:"bg-green-400",offline:"bg-gray-400",busy:"bg-red-400",away:"bg-yellow-400"},x=g=>g?g.split(" ").map(h=>h[0]).join("").toUpperCase().slice(0,2):"";return e.jsxs("div",{className:`relative inline-block ${i}`,children:[t?e.jsx("img",{className:`${o[a]} rounded-full object-cover`,src:t,alt:r||s}):e.jsx("div",{className:`${o[a]} rounded-full bg-primary-500 text-white flex items-center justify-center font-medium`,children:x(s)}),l&&e.jsx("span",{className:`absolute bottom-0 right-0 block ${d[a]} rounded-full ${c[l]} ring-2 ring-white`})]})},Fl=({variant:t="horizontal",className:r=""})=>t==="vertical"?e.jsx("div",{className:`inline-block h-full w-px bg-gray-200 ${r}`}):e.jsx("hr",{className:`border-gray-200 ${r}`}),Il=({value:t=0,max:r=100,size:a="md",color:s="primary",showLabel:l=!1,className:i=""})=>{const o=Math.min(Math.max(t/r*100,0),100),d={sm:"h-1",md:"h-2",lg:"h-3",xl:"h-4"},c={primary:"bg-primary-500",secondary:"bg-secondary-500",success:"bg-green-500",warning:"bg-yellow-500",danger:"bg-red-500"};return e.jsxs("div",{className:i,children:[e.jsx("div",{className:`w-full bg-gray-200 rounded-full overflow-hidden ${d[a]}`,children:e.jsx("div",{className:`h-full ${c[s]} transition-all duration-300 ease-out`,style:{width:`${o}%`}})}),l&&e.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:[Math.round(o),"%"]})]})},Ol=({variant:t="text",width:r,height:a,className:s=""})=>{const l={text:"h-4 rounded",circular:"rounded-full",rectangular:"rounded-lg"},i={width:r||(t==="circular"?"40px":"100%"),height:a||(t==="circular"?"40px":t==="rectangular"?"100px":"16px")};return e.jsx("div",{className:`animate-pulse bg-gray-200 ${l[t]} ${s}`,style:i})},ql=({tabs:t,activeTab:r,onChange:a,variant:s="line",className:l=""})=>{const i={line:"border-b border-gray-200",pills:"bg-gray-100 p-1 rounded-lg",enclosed:"border-b-0"},o={line:{base:"px-4 py-2 -mb-px border-b-2 font-medium text-sm transition-colors",active:"border-primary-500 text-primary-600",inactive:"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"},pills:{base:"px-4 py-2 rounded-md font-medium text-sm transition-all",active:"bg-white text-primary-600 shadow-sm",inactive:"text-gray-500 hover:text-gray-700"}};return e.jsx("div",{className:`${i[s]} ${l}`,children:e.jsx("nav",{className:"-mb-px flex space-x-4","aria-label":"Tabs",children:t.map(d=>e.jsxs("button",{onClick:()=>a(d.id),className:`
              ${o[s].base}
              ${r===d.id?o[s].active:o[s].inactive}
            `,children:[d.icon&&e.jsx("span",{className:"mr-2",children:d.icon}),d.label,d.count!==void 0&&e.jsx(mt,{size:"sm",variant:"default",className:"ml-2",children:d.count})]},d.id))})})},Vl=({icon:t,title:r,description:a,action:s,className:l=""})=>e.jsxs("div",{className:`text-center py-12 ${l}`,children:[t&&e.jsx("div",{className:"mx-auto h-12 w-12 text-gray-400 mb-4",children:t}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:r}),a&&e.jsx("p",{className:"text-sm text-gray-500 mb-6 max-w-md mx-auto",children:a}),s]}),Eh={Button:bt,Card:Et,Input:Tt,Select:ds,Badge:mt,Alert:Ht,Container:Ma,Heading:Gt,Avatar:Pl,Divider:Fl,Progress:Il,Skeleton:Ol,Tabs:ql,EmptyState:Vl},Sh=Object.freeze(Object.defineProperty({__proto__:null,Alert:Ht,Avatar:Pl,Badge:mt,Button:bt,Card:Et,Container:Ma,Divider:Fl,EmptyState:Vl,Heading:Gt,Input:Tt,Progress:Il,Select:ds,Skeleton:Ol,Tabs:ql,default:Eh},Symbol.toStringTag,{value:"Module"})),Bl=()=>{const[t,r]=n.useState("friends"),[a,s]=n.useState([]),[l,i]=n.useState([]),[o,d]=n.useState([]),[c,x]=n.useState(""),[g,u]=n.useState([]);n.useState(""),n.useState("");const[h,p]=n.useState(!0);n.useEffect(()=>{f()},[]),n.useEffect(()=>{c?j():u(a)},[c,a]);const f=async()=>{try{p(!0);const[$,A,I]=await Promise.all([Ue.getFriends(),Ue.getPendingRequests(),Ue.getSentRequests()]);s($||[]),u($||[]),i(A||[]),d(I||[])}catch($){console.error("Error loading data:",$),_.error("Failed to load friends data")}finally{p(!1)}},j=async()=>{try{const $=await Ue.searchFriends(c);u($)}catch($){console.error("Search error:",$)}},m=async $=>{try{await Ue.acceptFriendRequest($),_.success("Friend request accepted! "),f()}catch{_.error("Failed to accept friend request")}},E=async $=>{try{await Ue.declineFriendRequest($),_.success("Friend request declined"),f()}catch{_.error("Failed to decline friend request")}},b=async $=>{if(window.confirm("Are you sure you want to remove this friend?"))try{await Ue.removeFriend($),_.success("Friend removed"),f()}catch{_.error("Failed to remove friend")}},v=async $=>{if(window.confirm("Are you sure you want to cancel this friend request?"))try{await Ue.declineFriendRequest($),_.success("Friend request cancelled"),f()}catch{_.error("Failed to cancel friend request")}};if(h)return e.jsx(Eu,{});const N=[{id:"friends",label:"Friends",icon:At,count:a.length},{id:"pending",label:"Requests",icon:er,count:l.length},{id:"sent",label:"Sent",icon:at,count:o.length}],w=()=>g.length===0?e.jsx("div",{className:"text-center py-16",children:e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-3xl p-12 mx-4 border border-gray-100 dark:border-gray-700",children:[e.jsx("div",{className:"text-6xl mb-4",children:""}),e.jsx("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-2",children:"No friends yet"}),e.jsx("p",{className:"text-gray-500 dark:text-gray-400 mb-6",children:"Start connecting with other dog owners in your area!"}),e.jsx("button",{className:"bg-gradient-to-r from-blue-600 to-purple-600 text-white px-6 py-3 rounded-2xl font-medium hover:from-blue-700 hover:to-purple-700 transition-all duration-200",children:"Find Friends"})]})}):e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:g.map($=>{var A,I;return e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-3xl p-6 border border-gray-100 dark:border-gray-700",children:[e.jsxs("div",{className:"flex items-center space-x-4 mb-4",children:[e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"w-14 h-14 bg-gradient-to-br from-blue-100 to-purple-100 dark:from-blue-900 dark:to-purple-900 rounded-2xl flex items-center justify-center overflow-hidden",children:$.profileImage?e.jsx("img",{src:$.profileImage,alt:$.firstName,className:"w-full h-full object-cover"}):e.jsxs("div",{className:"w-full h-full bg-gradient-to-br from-blue-400 to-purple-400 rounded-2xl flex items-center justify-center text-white font-bold text-lg",children:[(A=$.firstName)==null?void 0:A[0],(I=$.lastName)==null?void 0:I[0]]})}),e.jsx("div",{className:"absolute -bottom-1 -right-1 w-4 h-4 bg-green-400 rounded-full border-2 border-white dark:border-gray-800"})]}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("h3",{className:"font-bold text-gray-900 dark:text-white",children:[$.firstName," ",$.lastName]}),e.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:["@",$.username||"user"]})]})]}),e.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-500 dark:text-gray-400 mb-4",children:[e.jsx("span",{children:"Dog owner"}),e.jsx("span",{children:""}),e.jsx("span",{children:"Connected"})]}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsx(Ra,{targetUser:$,className:"flex-1 justify-center",size:"sm"}),e.jsx("button",{onClick:()=>b($._id),className:"p-2 text-gray-400 hover:text-red-500 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-xl transition-colors",title:"Remove Friend",children:e.jsx(tl,{className:"w-5 h-5"})})]})]},$._id)})}),C=()=>l.length===0?e.jsx("div",{className:"text-center py-16",children:e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-3xl p-12 mx-4 border border-gray-100 dark:border-gray-700",children:[e.jsx("div",{className:"text-6xl mb-4",children:""}),e.jsx("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-2",children:"No pending requests"}),e.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"You don't have any pending friend requests"})]})}):e.jsx("div",{className:"space-y-4",children:l.map($=>{var A,I;return e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-3xl p-6 border border-gray-100 dark:border-gray-700",children:[e.jsxs("div",{className:"flex items-center space-x-4 mb-4",children:[e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"w-14 h-14 bg-gradient-to-br from-green-100 to-blue-100 dark:from-green-900 dark:to-blue-900 rounded-2xl flex items-center justify-center overflow-hidden",children:$.requester.profileImage?e.jsx("img",{src:$.requester.profileImage,alt:$.requester.firstName,className:"w-full h-full object-cover"}):e.jsxs("div",{className:"w-full h-full bg-gradient-to-br from-green-400 to-blue-400 rounded-2xl flex items-center justify-center text-white font-bold text-lg",children:[(A=$.requester.firstName)==null?void 0:A[0],(I=$.requester.lastName)==null?void 0:I[0]]})}),e.jsx("div",{className:"absolute -top-1 -right-1 w-4 h-4 bg-green-400 rounded-full border-2 border-white dark:border-gray-800"})]}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("h3",{className:"font-bold text-gray-900 dark:text-white",children:[$.requester.firstName," ",$.requester.lastName]}),e.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:["@",$.requester.username||"user"]}),$.message&&e.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-300 mt-1 bg-gray-50 dark:bg-gray-700 rounded-lg p-2",children:['"',$.message,'"']})]})]}),e.jsxs("div",{className:"flex space-x-3",children:[e.jsxs("button",{onClick:()=>m($._id),className:"flex-1 bg-green-500 text-white py-3 rounded-2xl font-medium hover:bg-green-600 transition-colors flex items-center justify-center space-x-2",children:[e.jsx(fs,{className:"w-4 h-4"}),e.jsx("span",{children:"Accept"})]}),e.jsxs("button",{onClick:()=>E($._id),className:"flex-1 bg-gray-100 dark:bg-gray-700 text-gray-900 dark:text-white py-3 rounded-2xl font-medium hover:bg-gray-200 dark:hover:bg-gray-600 transition-colors flex items-center justify-center space-x-2",children:[e.jsx(pe,{className:"w-4 h-4"}),e.jsx("span",{children:"Decline"})]})]})]},$._id)})}),k=()=>o.length===0?e.jsx("div",{className:"text-center py-16",children:e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-3xl p-12 mx-4 border border-gray-100 dark:border-gray-700",children:[e.jsx("div",{className:"text-6xl mb-4",children:""}),e.jsx("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-2",children:"No sent requests"}),e.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"You haven't sent any friend requests yet"})]})}):e.jsx("div",{className:"space-y-4",children:o.map($=>{var A,I;return e.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-3xl p-6 border border-gray-100 dark:border-gray-700",children:e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"w-14 h-14 bg-gradient-to-br from-yellow-100 to-orange-100 dark:from-yellow-900 dark:to-orange-900 rounded-2xl flex items-center justify-center overflow-hidden",children:$.recipient.profileImage?e.jsx("img",{src:$.recipient.profileImage,alt:$.recipient.firstName,className:"w-full h-full object-cover"}):e.jsxs("div",{className:"w-full h-full bg-gradient-to-br from-yellow-400 to-orange-400 rounded-2xl flex items-center justify-center text-white font-bold text-lg",children:[(A=$.recipient.firstName)==null?void 0:A[0],(I=$.recipient.lastName)==null?void 0:I[0]]})}),e.jsx("div",{className:"absolute -top-1 -right-1 w-4 h-4 bg-yellow-400 rounded-full border-2 border-white dark:border-gray-800"})]}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("h3",{className:"font-bold text-gray-900 dark:text-white",children:[$.recipient.firstName," ",$.recipient.lastName]}),e.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:["@",$.recipient.username||"user"]}),e.jsx("p",{className:"text-xs text-yellow-600 dark:text-yellow-400 mt-1",children:"Request pending..."})]}),e.jsx("button",{onClick:()=>v($._id),className:"p-2 text-gray-400 hover:text-red-500 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-xl transition-colors",title:"Cancel Request",children:e.jsx(pe,{className:"w-5 h-5"})})]})},$._id)})}),M=()=>{switch(t){case"friends":return w();case"pending":return C();case"sent":return k();default:return w()}};return e.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900",children:e.jsxs("div",{className:"max-w-lg mx-auto lg:max-w-7xl",children:[e.jsxs("div",{className:"lg:hidden bg-gradient-to-br from-cyan-600 via-blue-600 to-indigo-700 dark:from-cyan-700 dark:via-blue-700 dark:to-indigo-800 mx-4 mt-4 rounded-3xl p-6 text-white",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold",children:"Social Hub "}),e.jsx("p",{className:"text-cyan-100 dark:text-cyan-200",children:"Connect with fellow dog lovers"})]}),e.jsx("div",{className:"text-right",children:e.jsx("div",{className:"text-3xl",children:""})})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[e.jsxs("div",{className:"bg-white bg-opacity-20 rounded-2xl p-3 text-center",children:[e.jsx("div",{className:"text-lg font-bold",children:a.length}),e.jsx("div",{className:"text-xs text-cyan-100 dark:text-cyan-200",children:"Friends"})]}),e.jsxs("div",{className:"bg-white bg-opacity-20 rounded-2xl p-3 text-center",children:[e.jsx("div",{className:"text-lg font-bold",children:l.length}),e.jsx("div",{className:"text-xs text-cyan-100 dark:text-cyan-200",children:"Requests"})]}),e.jsxs("div",{className:"bg-white bg-opacity-20 rounded-2xl p-3 text-center",children:[e.jsx("div",{className:"text-lg font-bold",children:o.length}),e.jsx("div",{className:"text-xs text-cyan-100 dark:text-cyan-200",children:"Sent"})]})]})]}),e.jsxs("div",{className:"px-4 py-6",children:[t==="friends"&&e.jsxs("div",{className:"relative mb-6",children:[e.jsx(Mt,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),e.jsx("input",{type:"text",placeholder:"Search friends...",value:c,onChange:$=>x($.target.value),className:"w-full pl-12 pr-4 py-3 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-2xl text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),e.jsx("div",{className:"flex space-x-1 bg-gray-100 dark:bg-gray-800 rounded-2xl p-1 mb-6",children:N.map($=>{const A=$.icon;return e.jsxs("button",{onClick:()=>r($.id),className:`flex-1 flex items-center justify-center space-x-2 py-3 px-4 rounded-xl font-medium transition-all duration-200 ${t===$.id?"bg-white dark:bg-gray-700 text-blue-600 dark:text-blue-400 shadow-sm":"text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-300"}`,children:[e.jsx(A,{className:"w-4 h-4"}),e.jsx("span",{className:"text-sm",children:$.label}),$.count>0&&e.jsx("span",{className:`text-xs px-2 py-0.5 rounded-full ${t===$.id?"bg-blue-100 dark:bg-blue-900 text-blue-600 dark:text-blue-400":"bg-gray-200 dark:bg-gray-600 text-gray-600 dark:text-gray-300"}`,children:$.count})]},$.id)})}),M()]}),e.jsx("div",{className:"hidden lg:block px-8 py-8",children:e.jsx("div",{className:"text-center text-gray-500 dark:text-gray-400",children:"Desktop Friends layout coming soon..."})})]})})},zl=Object.freeze(Object.defineProperty({__proto__:null,default:Bl},Symbol.toStringTag,{value:"Module"})),Gr={async rateDog(t,r,a){try{return(await H.post("/dog-ratings",{dogId:t,ratings:r,comment:a})).data}catch(s){throw console.error("Error rating dog:",s),s}},async getDogRatings(t,r=1,a=10){try{return(await H.get(`/dog-ratings/dog/${t}?page=${r}&limit=${a}`)).data}catch(s){throw console.error("Error fetching dog ratings:",s),s}},async getUserRating(t){try{return(await H.get(`/dog-ratings/dog/${t}/user`)).data}catch(r){throw console.error("Error fetching user rating:",r),r}},async getUserRatings(t=1,r=10){try{return(await H.get(`/dog-ratings/user?page=${t}&limit=${r}`)).data}catch(a){throw console.error("Error fetching user ratings:",a),a}},async deleteRating(t){try{return(await H.delete(`/dog-ratings/${t}`)).data}catch(r){throw console.error("Error deleting rating:",r),r}},async getTopRatedDogs(t=10,r="overall"){try{return(await H.get(`/dog-ratings/top-rated?limit=${t}&category=${r}`)).data}catch(a){throw console.error("Error fetching top-rated dogs:",a),a}},async getMostPopularDogs(t=10){try{return(await H.get(`/dog-ratings/most-popular?limit=${t}`)).data}catch(r){throw console.error("Error fetching most popular dogs:",r),r}},async getRatingStats(t){try{return(await H.get(`/dog-ratings/dog/${t}/stats`)).data}catch(r){throw console.error("Error fetching rating stats:",r),r}}},Ch=({dog:t})=>{if(!t.customProfile||!t.customProfile.enabled)return null;const r=(l,i)=>{var x,g,u;let o=l;o=o.replace(/{name}/g,i.name||""),o=o.replace(/{breed}/g,i.breed||""),o=o.replace(/{age}/g,i.age||""),o=o.replace(/{size}/g,i.size||""),o=o.replace(/{description}/g,i.description||"No description available");const d=i.image||i.images&&i.images[0]||i.gallery&&i.gallery[0]||"https://via.placeholder.com/200x200?text=";o=o.replace(/{image}/g,d);const c=i.gallery||[];for(let h=0;h<=10;h++){const p=new RegExp(`\\{gallery\\[${h}\\]\\}`,"g"),f=c[h]||"";o=o.replace(p,f)}for(let h=0;h<=10;h++){const p=new RegExp(`\\{gallery\\.${h}\\}`,"g");o=o.replace(p,c[h]||"")}return o=o.replace(/{gallery}/g,c[0]||""),(!c||c.length===0)&&(o=o.replace(/<div class="[^"]*gallery-section[^"]*">.*?<\/div>/gs,""),o=o.replace(/<div class="[^"]*gallery-card[^"]*">.*?<\/div>/gs,""),o=o.replace(/<section class="[^"]*gallery-section[^"]*">.*?<\/section>/gs,""),o=o.replace(/<div class="[^"]*fun-section[^"]*">\s*<h2[^>]*>[^<]*<\/h2>.*?<\/div>/gs,"")),i.personality&&(o=o.replace(/{personality\.friendly}/g,i.personality.friendly||3),o=o.replace(/{personality\.energetic}/g,i.personality.energetic||3),o=o.replace(/{personality\.social}/g,i.personality.social||3)),i.medicalInfo&&(o=o.replace(/{medicalInfo\.vaccinated}/g,i.medicalInfo.vaccinated||!1)),o=o.replace(/{medicalInfo\.vaccinated \? '([^']+)' : '([^']+)'}/g,(h,p,f)=>{var j;return(j=i.medicalInfo)!=null&&j.vaccinated?p:f}),o=o.replace(/{medicalInfo\.vaccinated \? '([^']+)' : '([^']+)'}/g,(h,p,f)=>{var j;return(j=i.medicalInfo)!=null&&j.vaccinated?p:f}),o=o.replace(/{personality\.friendly >= (\d+) \? '([^']+)' : '([^']*)'}/g,(h,p,f,j)=>{var m;return(((m=i.personality)==null?void 0:m.friendly)||0)>=parseInt(p)?f:j}),o=o.replace(/{personality\.energetic >= (\d+) \? '([^']+)' : '([^']*)'}/g,(h,p,f,j)=>{var m;return(((m=i.personality)==null?void 0:m.energetic)||0)>=parseInt(p)?f:j}),o=o.replace(/{personality\.social >= (\d+) \? '([^']+)' : '([^']*)'}/g,(h,p,f,j)=>{var m;return(((m=i.personality)==null?void 0:m.social)||0)>=parseInt(p)?f:j}),o=o.replace(/calc\(\{personality\.friendly\} \* 20%\)/g,`${(((x=i.personality)==null?void 0:x.friendly)||0)*20}%`),o=o.replace(/calc\(\{personality\.energetic\} \* 20%\)/g,`${(((g=i.personality)==null?void 0:g.energetic)||0)*20}%`),o=o.replace(/calc\(\{personality\.social\} \* 20%\)/g,`${(((u=i.personality)==null?void 0:u.social)||0)*20}%`),o},a=r(t.customProfile.html,t),s=r(t.customProfile.css,t);return e.jsxs("div",{className:"custom-dog-profile",children:[e.jsx("style",{dangerouslySetInnerHTML:{__html:s}}),e.jsx("div",{dangerouslySetInnerHTML:{__html:a}})]})},Rh=()=>{var J;const{id:t}=cr(),r=Ce(),{user:a}=ge(),[s,l]=n.useState(null),[i,o]=n.useState(null),[d,c]=n.useState(!1),[x,g]=n.useState([]),[u,h]=n.useState(null),[p,f]=n.useState(null),[j,m]=n.useState(!1),[E,b]=n.useState({playfulness:5,friendliness:5,energy:5,obedience:5,cuteness:5,comment:""}),[v,N]=n.useState(!1);n.useEffect(()=>{w()},[t]),n.useEffect(()=>{s&&s.owner&&a&&s.owner._id!==a._id&&$()},[s,a]),n.useEffect(()=>{s&&t&&(C(),k(),a&&s.owner._id!==a._id&&M())},[s,t,a]);const w=async()=>{var L;try{const q=await lt.getDogPublicProfile(t);l(q)}catch(q){console.error("Error loading dog profile:",q),((L=q.response)==null?void 0:L.status)===403?_.error("This profile is private"):_.error("Failed to load dog profile"),r(-1)}},C=async()=>{try{const L=await Gr.getDogRatings(t);g(L.ratings||[])}catch(L){console.error("Error loading ratings:",L)}},k=async()=>{try{const L=await Gr.getRatingStats(t);f(L)}catch(L){console.error("Error loading rating stats:",L)}},M=async()=>{try{const L=await Gr.getUserRating(t);h(L)}catch(L){console.error("Error loading user rating:",L)}},$=async()=>{try{const L=await Ue.getFriendshipStatus(s.owner._id);o(L)}catch(L){console.error("Error loading friendship status:",L)}},A=async()=>{c(!0);try{await Ue.sendFriendRequest(s.owner._id,`Hi! I'd love to connect through our dogs ${s.name} and meet up for playdates! `),_.success("Friend request sent! "),await $()}catch(L){_.error(L.message||"Failed to send friend request")}finally{c(!1)}},I=async()=>{c(!0);try{await Ue.acceptFriendRequest(i.friendship._id),_.success("Friend request accepted! "),await $()}catch(L){_.error(L.message||"Failed to accept friend request")}finally{c(!1)}},F=async()=>{c(!0);try{await Ue.declineFriendRequest(i.friendship._id),_.success("Friend request declined"),await $()}catch(L){_.error(L.message||"Failed to decline friend request")}finally{c(!1)}},T=async()=>{if(window.confirm("Are you sure you want to remove this friend?")){c(!0);try{await Ue.removeFriend(s.owner._id),_.success("Friend removed"),await $()}catch(L){_.error(L.message||"Failed to remove friend")}finally{c(!1)}}},z=async()=>{if(!(!a||s.owner._id===a._id)){N(!0);try{const{comment:L,...q}=E;await Gr.rateDog(t,q,L),_.success("Rating submitted successfully!"),m(!1),await C(),await k(),await M()}catch(L){_.error(L.message||"Failed to submit rating")}finally{N(!1)}}},W=L=>[...Array(5)].map((q,D)=>e.jsx(tr,{className:`h-4 w-4 ${D<L?"text-yellow-400":"text-gray-300"}`},D)),Z=()=>!a||s.owner._id===a._id||!j||(i==null?void 0:i.status)!=="accepted"?null:e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl md:rounded-3xl shadow-lg border border-gray-100 dark:border-gray-700 p-4 md:p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("h3",{className:"text-lg font-bold text-gray-900 dark:text-white",children:["Rate ",s.name]}),e.jsx("button",{onClick:()=>m(!1),className:"text-gray-400 hover:text-gray-600",children:e.jsx(pe,{className:"h-5 w-5"})})]}),e.jsxs("div",{className:"space-y-4",children:[Object.entries(E).filter(([L])=>L!=="comment").map(([L,q])=>e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 capitalize",children:L}),e.jsx("div",{className:"flex items-center space-x-2",children:[1,2,3,4,5].map(D=>e.jsx("button",{onClick:()=>b(B=>({...B,[L]:D})),className:"focus:outline-none",children:e.jsx(tr,{className:`h-6 w-6 ${D<=q?"text-yellow-400":"text-gray-300"} hover:text-yellow-400 transition-colors`})},D))})]},L)),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Comment (optional)"}),e.jsx("textarea",{value:E.comment,onChange:L=>b(q=>({...q,comment:L.target.value})),rows:3,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500 dark:bg-gray-700 dark:text-white",placeholder:"Tell us about your experience with this dog..."})]}),e.jsxs("div",{className:"flex space-x-3",children:[e.jsx("button",{onClick:z,disabled:v,className:"flex-1 bg-purple-600 text-white py-2 px-4 rounded-lg hover:bg-purple-700 disabled:opacity-50 transition-colors",children:v?"Submitting...":"Submit Rating"}),e.jsx("button",{onClick:()=>m(!1),className:"px-4 py-2 text-gray-600 hover:text-gray-800 transition-colors",children:"Cancel"})]})]})]}),G=()=>{if(!a||!s.owner||s.owner._id===a._id)return null;if(!i)return e.jsxs("button",{onClick:A,disabled:d,className:"flex items-center px-4 py-2 bg-gradient-to-r from-purple-600 to-pink-600 text-white font-medium rounded-xl hover:from-purple-700 hover:to-pink-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-purple-500 transition-all duration-200 transform hover:scale-105 disabled:opacity-50",children:[e.jsx(er,{className:"h-5 w-5 mr-2"}),d?"Sending...":"Add Friend"]});switch(i.status){case"pending":return i.isRequester?e.jsxs("div",{className:"flex items-center px-4 py-2 bg-yellow-100 dark:bg-yellow-900/30 text-yellow-800 dark:text-yellow-200 rounded-xl",children:[e.jsx(Ae,{className:"h-5 w-5 mr-2"}),"Waiting for approval"]}):e.jsxs("div",{className:"flex space-x-2",children:[e.jsxs("button",{onClick:I,disabled:d,className:"flex items-center px-4 py-2 bg-green-600 text-white font-medium rounded-xl hover:bg-green-700 transition-colors disabled:opacity-50",children:[e.jsx(fs,{className:"h-5 w-5 mr-2"}),"Accept"]}),e.jsxs("button",{onClick:F,disabled:d,className:"flex items-center px-4 py-2 bg-gray-600 text-white font-medium rounded-xl hover:bg-gray-700 transition-colors disabled:opacity-50",children:[e.jsx(pe,{className:"h-5 w-5 mr-2"}),"Decline"]})]});case"accepted":return e.jsxs("div",{className:"flex space-x-2",children:[e.jsxs("div",{className:"flex items-center px-4 py-2 bg-green-100 text-green-800 rounded-xl",children:[e.jsx(Fe,{className:"h-5 w-5 mr-2"}),"Friends"]}),e.jsx("button",{onClick:T,disabled:d,className:"flex items-center px-3 py-2 text-gray-600 hover:text-red-600 hover:bg-red-50 rounded-xl transition-colors disabled:opacity-50",title:"Remove Friend",children:e.jsx(tl,{className:"h-5 w-5"})})]});default:return e.jsxs("button",{onClick:A,disabled:d,className:"flex items-center px-4 py-2 bg-gradient-to-r from-purple-600 to-pink-600 text-white font-medium rounded-xl hover:from-purple-700 hover:to-pink-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-purple-500 transition-all duration-200 transform hover:scale-105 disabled:opacity-50",children:[e.jsx(er,{className:"h-5 w-5 mr-2"}),d?"Sending...":"Add Friend"]})}},R=()=>e.jsx(Ch,{dog:s}),V=()=>{var L,q,D;return e.jsxs("div",{className:"w-full",children:[e.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-2xl md:rounded-3xl shadow-lg border border-gray-100 dark:border-gray-700 overflow-hidden mb-4 md:mb-6",children:e.jsxs("div",{className:"relative h-48 md:h-64 bg-gradient-to-br from-purple-400 via-pink-400 to-indigo-400",children:[e.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-20"}),e.jsx("div",{className:"absolute bottom-4 md:bottom-6 left-4 md:left-6 right-4 md:right-6",children:e.jsxs("div",{className:"flex items-end space-x-4 md:space-x-6",children:[e.jsxs("div",{className:"relative",children:[s.image||(L=s.images)!=null&&L[0]?e.jsx("img",{src:s.image||s.images[0],alt:s.name,className:"w-20 h-20 md:w-32 md:h-32 rounded-xl md:rounded-2xl object-cover border-4 border-white shadow-lg"}):e.jsx("div",{className:"w-20 h-20 md:w-32 md:h-32 rounded-xl md:rounded-2xl bg-white bg-opacity-20 flex items-center justify-center border-4 border-white shadow-lg",children:e.jsx("span",{className:"text-4xl md:text-6xl",children:""})}),e.jsx("div",{className:"absolute -top-1 -right-1 md:-top-2 md:-right-2 bg-green-400 w-4 h-4 md:w-6 md:h-6 rounded-full border-2 border-white"})]}),e.jsxs("div",{className:"flex-1 text-white",children:[e.jsx("h1",{className:"text-2xl md:text-4xl font-bold mb-2",children:s.name}),e.jsxs("div",{className:"flex flex-wrap items-center gap-2 md:gap-4 text-sm md:text-lg",children:[e.jsx("span",{className:"bg-white bg-opacity-20 px-2 py-1 md:px-3 md:py-1 rounded-full",children:s.breed}),e.jsxs("span",{className:"bg-white bg-opacity-20 px-2 py-1 md:px-3 md:py-1 rounded-full",children:[s.age," months old"]}),e.jsxs("span",{className:"bg-white bg-opacity-20 px-2 py-1 md:px-3 md:py-1 rounded-full capitalize",children:[s.size," size"]})]}),s.weight&&e.jsxs("p",{className:"text-white text-opacity-90 mt-2 text-sm md:text-base",children:[s.weight," kg"]})]})]})})]})}),p&&p.averageRatings&&e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-3xl shadow-lg border border-gray-100 dark:border-gray-700 p-4 md:p-6 mb-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("h2",{className:"text-lg md:text-xl font-bold text-gray-900 dark:text-white flex items-center",children:[e.jsx(nt,{className:"h-5 w-5 md:h-6 md:w-6 mr-2 text-yellow-500"}),"Dog Rating"]}),a&&s.owner._id!==a._id&&(i==null?void 0:i.status)==="accepted"&&e.jsxs("button",{onClick:()=>m(!0),className:"flex items-center px-3 md:px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition-colors text-sm",children:[e.jsx(Xe,{className:"h-4 w-4 mr-1"}),e.jsx("span",{className:"hidden sm:inline",children:"Rate Dog"}),e.jsx("span",{className:"sm:hidden",children:"Rate"})]})]}),e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-3 md:gap-4 mb-4",children:Object.entries(p.averageRatings).filter(([B])=>B!=="overall").map(([B,K])=>e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-xs md:text-sm text-gray-600 dark:text-gray-400 capitalize mb-1",children:B}),e.jsx("div",{className:"flex justify-center mb-1",children:W(Math.round(K))}),e.jsxs("div",{className:"text-xs text-gray-500",children:[K.toFixed(1),"/5"]})]},B))}),e.jsxs("div",{className:"text-center text-sm text-gray-500",children:["Based on ",p.totalRatings||0," ratings"]}),a&&s.owner._id!==a._id&&(i==null?void 0:i.status)!=="accepted"&&e.jsx("div",{className:"mt-4 p-3 bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg",children:e.jsx("p",{className:"text-sm text-blue-800 dark:text-blue-200 text-center",children:" Only friends can rate this dog. Send a friend request to rate!"})})]}),Z(),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4 md:gap-6 lg:gap-8",children:[e.jsxs("div",{className:"lg:col-span-2 space-y-4 md:space-y-6 lg:space-y-8",children:[s.description&&e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl md:rounded-3xl shadow-lg border border-gray-100 dark:border-gray-700 p-4 md:p-6",children:[e.jsxs("h2",{className:"text-lg md:text-xl font-bold text-gray-900 dark:text-white mb-4 flex items-center",children:[e.jsx(Le,{className:"h-5 w-5 md:h-6 md:w-6 mr-2 text-pink-500"}),"About ",s.name]}),e.jsx("p",{className:"text-gray-700 dark:text-gray-300 leading-relaxed text-sm md:text-base",children:s.description})]}),s.personality&&e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl md:rounded-3xl shadow-lg border border-gray-100 dark:border-gray-700 p-4 md:p-6",children:[e.jsxs("h2",{className:"text-lg md:text-xl font-bold text-gray-900 dark:text-white mb-4 md:mb-6 flex items-center",children:[e.jsx(Xe,{className:"h-5 w-5 md:h-6 md:w-6 mr-2 text-yellow-500"}),"Personality Traits"]}),e.jsx("div",{className:"space-y-4",children:Object.entries(s.personality).filter(([B])=>B!=="aggressive").map(([B,K])=>e.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700 rounded-xl md:rounded-2xl p-3 md:p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:"font-medium text-gray-900 dark:text-white capitalize text-sm md:text-base",children:B}),e.jsxs("span",{className:"text-xs md:text-sm font-bold text-gray-600 dark:text-gray-400",children:[K,"/5"]})]}),e.jsx("div",{className:"w-full bg-gray-200 dark:bg-gray-600 rounded-full h-2 md:h-3",children:e.jsx("div",{className:"bg-gradient-to-r from-purple-500 to-pink-500 h-2 md:h-3 rounded-full transition-all duration-500",style:{width:`${K/5*100}%`}})})]},B))})]}),s.gallery&&s.gallery.length>0&&e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-3xl shadow-lg border border-gray-100 dark:border-gray-700 p-6",children:[e.jsxs("h2",{className:"text-xl font-bold text-gray-900 dark:text-white mb-6 flex items-center",children:[e.jsx(Zn,{className:"h-6 w-6 mr-2 text-indigo-500"}),"Photo Gallery"]}),e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:s.gallery.map((B,K)=>e.jsx("img",{src:B,alt:`${s.name} gallery ${K+1}`,className:"w-full h-32 object-cover rounded-2xl border border-gray-200 dark:border-gray-600 hover:scale-105 transition-transform duration-200",onError:le=>{le.target.style.display="none"}},K))})]}),x&&x.length>0&&e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-3xl shadow-lg border border-gray-100 dark:border-gray-700 p-4 md:p-6",children:[e.jsxs("h2",{className:"text-lg md:text-xl font-bold text-gray-900 dark:text-white mb-4 flex items-center",children:[e.jsx(Yn,{className:"h-5 w-5 md:h-6 md:w-6 mr-2 text-blue-500"}),"What Others Say"]}),e.jsx("div",{className:"space-y-4",children:x.slice(0,5).map((B,K)=>{var le,oe,Q;return e.jsx("div",{className:"border-b border-gray-200 dark:border-gray-700 last:border-b-0 pb-4 last:pb-0",children:e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx("div",{className:"w-8 h-8 bg-gradient-to-br from-purple-400 to-pink-400 rounded-full flex items-center justify-center text-white font-bold text-sm",children:((oe=(le=B.ratedBy)==null?void 0:le.firstName)==null?void 0:oe[0])||"A"}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[e.jsx("span",{className:"font-medium text-gray-900 dark:text-white text-sm",children:((Q=B.ratedBy)==null?void 0:Q.firstName)||"Anonymous"}),e.jsx("div",{className:"flex",children:W(B.averageRating)})]}),B.comment&&e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-2",children:B.comment}),e.jsx("div",{className:"flex flex-wrap gap-2 text-xs",children:Object.entries(B.ratings).map(([be,je])=>e.jsxs("span",{className:"px-2 py-1 bg-gray-100 dark:bg-gray-700 rounded-full text-gray-700 dark:text-gray-300",children:[be,": ",je,"/5"]},be))})]})]})},K)})}),x.length>5&&e.jsx("div",{className:"text-center mt-4",children:e.jsxs("button",{className:"text-purple-600 hover:text-purple-800 text-sm font-medium",children:["Show all ",x.length," ratings"]})})]})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-3xl shadow-lg border border-gray-100 dark:border-gray-700 p-6",children:[e.jsx("h3",{className:"text-lg font-bold text-gray-900 dark:text-white mb-4",children:"Dog Owner"}),e.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[e.jsxs("div",{className:"w-12 h-12 bg-gradient-to-br from-purple-400 to-pink-400 rounded-full flex items-center justify-center text-white font-bold text-lg",children:[(q=s.owner.firstName)==null?void 0:q[0],(D=s.owner.lastName)==null?void 0:D[0]]}),e.jsxs("div",{children:[e.jsxs("p",{className:"font-medium text-gray-900 dark:text-white",children:[s.owner.firstName," ",s.owner.lastName]}),e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Dog Parent"})]})]}),e.jsxs("div",{className:"space-y-3",children:[G(),a&&s.owner._id!==a._id&&(i==null?void 0:i.status)==="accepted"&&e.jsx(Ra,{targetUser:s.owner,className:"w-full justify-center"})]})]}),s.medicalInfo&&e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-3xl shadow-lg border border-gray-100 dark:border-gray-700 p-6",children:[e.jsxs("h3",{className:"text-lg font-bold text-gray-900 dark:text-white mb-4 flex items-center",children:[e.jsx(_r,{className:"h-5 w-5 mr-2 text-green-500"}),"Health Status"]}),e.jsxs("div",{className:`flex items-center space-x-3 p-4 rounded-2xl ${s.medicalInfo.vaccinated?"bg-green-50 dark:bg-green-900/20":"bg-yellow-50 dark:bg-yellow-900/20"}`,children:[e.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center ${s.medicalInfo.vaccinated?"bg-green-100 dark:bg-green-800":"bg-yellow-100 dark:bg-yellow-800"}`,children:e.jsx("span",{className:"text-xl",children:s.medicalInfo.vaccinated?"":""})}),e.jsxs("div",{children:[e.jsx("p",{className:`font-medium ${s.medicalInfo.vaccinated?"text-green-800 dark:text-green-200":"text-yellow-800 dark:text-yellow-200"}`,children:s.medicalInfo.vaccinated?"Fully Vaccinated":"Vaccination Pending"}),e.jsx("p",{className:`text-sm ${s.medicalInfo.vaccinated?"text-green-600 dark:text-green-400":"text-yellow-600 dark:text-yellow-400"}`,children:s.medicalInfo.vaccinated?"Safe for playdates":"Check with owner"})]})]})]}),e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-3xl shadow-lg border border-gray-100 dark:border-gray-700 p-6",children:[e.jsx("h3",{className:"text-lg font-bold text-gray-900 dark:text-white mb-4",children:"Quick Stats"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Age"}),e.jsxs("span",{className:"font-medium text-gray-900 dark:text-white",children:[s.age," months"]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Size"}),e.jsx("span",{className:"font-medium text-gray-900 dark:text-white capitalize",children:s.size})]}),s.weight&&e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Weight"}),e.jsxs("span",{className:"font-medium text-gray-900 dark:text-white",children:[s.weight," kg"]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Gender"}),e.jsx("span",{className:"font-medium text-gray-900 dark:text-white capitalize",children:s.gender||"Not specified"})]})]})]})]})]})]})};return s?e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-purple-50 via-white to-pink-50 dark:from-gray-900 dark:via-gray-800 dark:to-gray-900",children:e.jsx("div",{className:"px-4 py-4 md:py-6 lg:py-8",children:e.jsxs("div",{className:"max-w-6xl mx-auto",children:[e.jsxs("button",{onClick:()=>r(-1),className:"mb-4 md:mb-6 inline-flex items-center text-sm text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white transition-colors",children:[e.jsx(We,{className:"h-4 w-4 mr-2"}),"Go back"]}),(J=s.customProfile)!=null&&J.enabled?R():V()]})})}):null},Ah=async()=>{try{const[t,r,a,s]=await Promise.all([he(()=>import("./default-2043f5ca.js"),[]),he(()=>import("./modern-ad3a2ca6.js"),[]),he(()=>import("./playful-1ed0ba34.js"),[]),he(()=>import("./elegant-195ff9bd.js"),[])]);return[t.default,r.default,a.default,s.default]}catch(t){return console.error("Error loading templates:",t),Mh()}},Mh=()=>[{id:"default",name:"Default App Design",description:"Clean and consistent with the main app design",isDefault:!0,category:"minimal",tags:["clean","modern","app-style"],html:`<div class="default-profile">
        <div class="profile-header">
          <div class="profile-image-wrapper">
            <img src="{image}" alt="{name}" class="profile-image" onerror="this.src='https://via.placeholder.com/200x200?text='">
          </div>
          <div class="profile-info">
            <h1 class="profile-name">{name}</h1>
            <div class="profile-details">
              <span class="detail-item">{breed}</span>
              <span class="detail-separator"></span>
              <span class="detail-item">{age} months old</span>
              <span class="detail-separator"></span>
              <span class="detail-item">{size} size</span>
            </div>
          </div>
        </div>
        <div class="profile-content">
          <div class="content-section">
            <h2 class="section-title">About {name}</h2>
            <p class="section-text">{description}</p>
          </div>
          <div class="content-section">
            <h2 class="section-title">Personality Traits</h2>
            <div class="traits-grid">
              <div class="trait-item">
                <div class="trait-header">
                  <span class="trait-label">Friendly</span>
                  <span class="trait-score">{personality.friendly}/5</span>
                </div>
                <div class="trait-bar">
                  <div class="trait-fill" style="width: calc({personality.friendly} * 20%)"></div>
                </div>
              </div>
              <div class="trait-item">
                <div class="trait-header">
                  <span class="trait-label">Energetic</span>
                  <span class="trait-score">{personality.energetic}/5</span>
                </div>
                <div class="trait-bar">
                  <div class="trait-fill" style="width: calc({personality.energetic} * 20%)"></div>
                </div>
              </div>
              <div class="trait-item">
                <div class="trait-header">
                  <span class="trait-label">Social</span>
                  <span class="trait-score">{personality.social}/5</span>
                </div>
                <div class="trait-bar">
                  <div class="trait-fill" style="width: calc({personality.social} * 20%)"></div>
                </div>
              </div>
            </div>
          </div>
          <div class="content-section">
            <h2 class="section-title">Health Information</h2>
            <div class="health-status {medicalInfo.vaccinated ? 'healthy' : 'pending'}">
              <div class="health-icon">
                {medicalInfo.vaccinated ? '' : ''}
              </div>
              <div class="health-text">
                {medicalInfo.vaccinated ? 'Fully Vaccinated' : 'Vaccination Pending'}
              </div>
            </div>
          </div>
        </div>
      </div>`,css:`.default-profile {
        max-width: 800px;
        margin: 0 auto;
        padding: 2rem;
        font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
        background: #f9fafb;
        min-height: 100vh;
        color: #111827;
      }
      
      .profile-header {
        background: white;
        border-radius: 12px;
        padding: 2rem;
        margin-bottom: 2rem;
        box-shadow: 0 1px 3px 0 rgba(0, 0, 0, 0.1), 0 1px 2px 0 rgba(0, 0, 0, 0.06);
        display: flex;
        align-items: center;
        gap: 2rem;
      }
      
      .profile-image-wrapper {
        flex-shrink: 0;
      }
      
      .profile-image {
        width: 160px;
        height: 160px;
        border-radius: 50%;
        object-fit: cover;
        border: 4px solid #e5e7eb;
      }
      
      .profile-info {
        flex: 1;
      }
      
      .profile-name {
        font-size: 2.25rem;
        font-weight: 700;
        color: #111827;
        margin: 0 0 1rem 0;
        line-height: 1.2;
      }
      
      .profile-details {
        display: flex;
        align-items: center;
        gap: 0.5rem;
        font-size: 1.125rem;
        color: #6b7280;
      }
      
      .detail-item {
        font-weight: 500;
      }
      
      .detail-separator {
        color: #d1d5db;
      }
      
      .profile-content {
        display: grid;
        gap: 2rem;
      }
      
      .content-section {
        background: white;
        border-radius: 12px;
        padding: 2rem;
        box-shadow: 0 1px 3px 0 rgba(0, 0, 0, 0.1), 0 1px 2px 0 rgba(0, 0, 0, 0.06);
      }
      
      .section-title {
        font-size: 1.5rem;
        font-weight: 600;
        color: #111827;
        margin: 0 0 1.5rem 0;
        border-bottom: 2px solid #f3f4f6;
        padding-bottom: 0.5rem;
      }
      
      .section-text {
        font-size: 1rem;
        line-height: 1.6;
        color: #4b5563;
        margin: 0;
      }
      
      .traits-grid {
        display: grid;
        gap: 1.5rem;
      }
      
      .trait-item {
        display: grid;
        gap: 0.75rem;
      }
      
      .trait-header {
        display: flex;
        justify-content: space-between;
        align-items: center;
      }
      
      .trait-label {
        font-weight: 500;
        color: #374151;
        font-size: 1rem;
      }
      
      .trait-score {
        font-weight: 600;
        color: #3b82f6;
        font-size: 0.875rem;
      }
      
      .trait-bar {
        height: 8px;
        background: #f3f4f6;
        border-radius: 4px;
        overflow: hidden;
      }
      
      .trait-fill {
        height: 100%;
        background: linear-gradient(90deg, #3b82f6, #1d4ed8);
        border-radius: 4px;
        transition: width 0.5s ease;
      }
      
      .health-status {
        display: flex;
        align-items: center;
        gap: 1rem;
        padding: 1.5rem;
        border-radius: 8px;
        border: 2px solid;
      }
      
      .health-status.healthy {
        background: #f0fdf4;
        border-color: #22c55e;
        color: #166534;
      }
      
      .health-status.pending {
        background: #fefce8;
        border-color: #eab308;
        color: #a16207;
      }
      
      .health-icon {
        font-size: 1.5rem;
      }
      
      .health-text {
        font-weight: 500;
        font-size: 1rem;
      }
      
      @media (max-width: 768px) {
        .default-profile {
          padding: 1rem;
        }
        
        .profile-header {
          flex-direction: column;
          text-align: center;
          gap: 1.5rem;
        }
        
        .profile-name {
          font-size: 1.875rem;
        }
        
        .profile-details {
          justify-content: center;
          flex-wrap: wrap;
        }
      }`}],Ul=({initialHtml:t="",initialCss:r="",onSave:a,requiredFields:s=[],type:l="dog"})=>{const[i,o]=n.useState(t),[d,c]=n.useState(r),[x,g]=n.useState(!1),[u,h]=n.useState(!1),[p,f]=n.useState(!1),[j,m]=n.useState([]),[E,b]=n.useState(!0),v=te.useMemo(()=>{const I=localStorage.getItem("currentDogData");if(I)try{const F=JSON.parse(I);return{name:F.name||"Buddy",breed:F.breed||"Golden Retriever",age:F.age||24,size:F.size||"large",description:F.description||"A friendly and energetic dog who loves to play fetch and swim.",image:F.image||(F.gallery&&F.gallery.length>0?F.gallery[0]:"https://images.unsplash.com/photo-1552053831-71594a27632d?w=400&h=400&fit=crop&crop=face"),gallery:F.gallery||[],personality:F.personality||{friendly:5,energetic:4,social:5},medicalInfo:F.medicalInfo||{vaccinated:!0}}}catch(F){console.error("Error parsing dog data:",F)}return{name:"Buddy",breed:"Golden Retriever",age:24,size:"large",description:"A friendly and energetic dog who loves to play fetch and swim. Great with kids and other dogs.",image:"https://images.unsplash.com/photo-1552053831-71594a27632d?w=400&h=400&fit=crop&crop=face",gallery:["https://images.unsplash.com/photo-1552053831-71594a27632d?w=400&h=400&fit=crop&crop=face","https://images.unsplash.com/photo-1543466835-00a7907e9de1?w=400&h=400&fit=crop&crop=face"],personality:{friendly:5,energetic:4,social:5},medicalInfo:{vaccinated:!0}}},[]),N=(I,F=v)=>{var W,Z,G;let T=I;T=T.replace(/{name}/g,F.name||""),T=T.replace(/{breed}/g,F.breed||""),T=T.replace(/{age}/g,F.age||""),T=T.replace(/{size}/g,F.size||""),T=T.replace(/{description}/g,F.description||"No description available"),T=T.replace(/{image}/g,F.image||y);const z=F.gallery||[];for(let R=0;R<=10;R++){const V=new RegExp(`\\{gallery\\[${R}\\]\\}`,"g");T=T.replace(V,z[R]||"")}for(let R=0;R<=10;R++){const V=new RegExp(`\\{gallery\\.${R}\\}`,"g");T=T.replace(V,z[R]||"")}return T=T.replace(/{gallery}/g,z[0]||""),F.personality&&(T=T.replace(/{personality\.friendly}/g,F.personality.friendly||3),T=T.replace(/{personality\.energetic}/g,F.personality.energetic||3),T=T.replace(/{personality\.social}/g,F.personality.social||3)),F.medicalInfo&&(T=T.replace(/{medicalInfo\.vaccinated}/g,F.medicalInfo.vaccinated||!1)),T=T.replace(/{medicalInfo\.vaccinated \? '([^']+)' : '([^']+)'}/g,(R,V,J)=>{var L;return(L=F.medicalInfo)!=null&&L.vaccinated?V:J}),T=T.replace(/{personality\.friendly >= (\d+) \? '([^']+)' : '([^']*)'}/g,(R,V,J,L)=>{var q;return(((q=F.personality)==null?void 0:q.friendly)||0)>=parseInt(V)?J:L}),T=T.replace(/{personality\.energetic >= (\d+) \? '([^']+)' : '([^']*)'}/g,(R,V,J,L)=>{var q;return(((q=F.personality)==null?void 0:q.energetic)||0)>=parseInt(V)?J:L}),T=T.replace(/{personality\.social >= (\d+) \? '([^']+)' : '([^']*)'}/g,(R,V,J,L)=>{var q;return(((q=F.personality)==null?void 0:q.social)||0)>=parseInt(V)?J:L}),T=T.replace(/calc\(\{personality\.friendly\} \* 20%\)/g,`${(((W=F.personality)==null?void 0:W.friendly)||0)*20}%`),T=T.replace(/calc\(\{personality\.energetic\} \* 20%\)/g,`${(((Z=F.personality)==null?void 0:Z.energetic)||0)*20}%`),T=T.replace(/calc\(\{personality\.social\} \* 20%\)/g,`${(((G=F.personality)==null?void 0:G.social)||0)*20}%`),T};n.useEffect(()=>{(async()=>{try{b(!0);const F=await Ah();m(F)}catch(F){console.error("Error loading templates:",F),m([])}finally{b(!1)}})()},[]);const w=I=>{o(I.html),c(I.css),f(!1)},C=()=>{window.history.back()},k=()=>{const I=j.find(F=>F.isDefault);I&&(o(I.html),c(I.css))},M=async()=>{h(!0);try{await a({html:i,css:d,enabled:!0})}catch(I){console.error("Error saving:",I)}finally{h(!1)}},A=(()=>s.filter(F=>{if(F.startsWith("gallery")){if(!v.gallery||!Array.isArray(v.gallery)||v.gallery.length===0)return!1;if(F.includes("[")&&F.includes("]")){const B=F.match(/\[(\d+)\]/);if(B&&parseInt(B[1])>=v.gallery.length)return!1}}const T=F.replace(/\./g,"\\.").replace(/\[/g,"\\[").replace(/\]/g,"\\]");if(i.includes(`{${F}}`))return!1;const z=`\\{[^}]*${T}[^}]*\\?[^}]*\\}`;if(new RegExp(z,"g").test(i))return!1;const Z=`calc\\(\\s*\\{\\s*${T}\\s*\\}`,G=new RegExp(Z,"g");if(G.test(d)||G.test(i))return!1;const R=`width:\\s*calc\\(\\s*\\{\\s*${T}\\s*\\}`;if(new RegExp(R,"g").test(i))return!1;const J=`class="[^"]*\\{[^}]*${T}[^}]*\\?[^}]*\\}[^"]*"`;if(new RegExp(J,"g").test(i))return!1;const q=T,D=new RegExp(q,"g");return!(D.test(i)||D.test(d))}))();return p?e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-blue-50 py-8",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4",children:[e.jsxs("div",{className:"text-center mb-12",children:[e.jsxs("button",{onClick:()=>f(!1),className:"inline-flex items-center mb-6 px-4 py-2 text-sm text-gray-600 hover:text-gray-900 bg-white rounded-lg shadow-sm hover:shadow-md transition-all",children:[e.jsx(We,{className:"h-4 w-4 mr-2"}),"Back to Editor"]}),e.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-4",children:"Choose Your Profile Template"}),e.jsx("p",{className:"text-xl text-gray-600 max-w-2xl mx-auto",children:"Select a design template that best represents your dog's personality and style"})]}),E?e.jsxs("div",{className:"text-center py-12",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600",children:"Loading templates..."})]}):e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8 mb-12",children:j.map(I=>{var z;const F=N(I.html),T=N(I.css);return e.jsxs("div",{className:`bg-white rounded-2xl overflow-hidden shadow-lg hover:shadow-2xl transition-all duration-300 transform hover:-translate-y-2 ${I.isDefault?"ring-4 ring-blue-500 ring-opacity-50":""}`,children:[I.isDefault&&e.jsx("div",{className:"bg-gradient-to-r from-blue-500 to-blue-600 text-white px-4 py-2 text-center",children:e.jsxs("div",{className:"flex items-center justify-center gap-2",children:[e.jsx(ir,{className:"h-4 w-4"}),e.jsx("span",{className:"text-sm font-semibold",children:"Default App Design"})]})}),e.jsxs("div",{className:"h-72 overflow-hidden bg-gray-100 relative",children:[e.jsx("iframe",{srcDoc:`
                          <html>
                            <head>
                              <style>${T}</style>
                            </head>
                            <body style="margin:0;transform:scale(0.25);transform-origin:top left;width:400%;">${F}</body>
                          </html>
                        `,className:"w-full h-full border-none pointer-events-none",title:I.name}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/20 to-transparent opacity-0 hover:opacity-100 transition-opacity duration-300"})]}),e.jsxs("div",{className:"p-6",children:[e.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:I.name}),e.jsx("p",{className:"text-gray-600 mb-4",children:I.description}),e.jsx("div",{className:"flex flex-wrap gap-2 mb-4",children:(z=I.tags)==null?void 0:z.map(W=>e.jsx("span",{className:"px-3 py-1 bg-blue-100 text-blue-800 text-xs rounded-full font-medium",children:W},W))}),e.jsxs("button",{onClick:()=>w(I),className:"w-full bg-gradient-to-r from-blue-500 to-blue-600 text-white py-3 px-4 rounded-xl font-semibold hover:from-blue-600 hover:to-blue-700 transition-all duration-200 transform hover:scale-105",children:[e.jsx(_e,{className:"h-5 w-5 inline mr-2"}),"Use This Template"]})]})]},I.id)})}),e.jsxs("div",{className:"bg-white rounded-2xl p-8 shadow-xl border border-gray-100",children:[e.jsxs("div",{className:"text-center mb-6",children:[e.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-2",children:" Required Variables"}),e.jsx("p",{className:"text-gray-600 text-lg",children:"Your custom profile must include these placeholders to work properly"})]}),e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-3",children:s.map(I=>e.jsx("code",{className:"px-4 py-3 bg-gradient-to-r from-blue-50 to-blue-100 text-blue-800 rounded-xl text-sm font-mono font-semibold text-center border border-blue-200 hover:from-blue-100 hover:to-blue-200 transition-all duration-200",children:`{${I}}`},I))})]})]})}):e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-blue-50",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-8",children:[e.jsx("div",{className:"bg-white rounded-2xl shadow-lg p-6 mb-8",children:e.jsxs("div",{className:"flex flex-col lg:flex-row lg:justify-between lg:items-center gap-4",children:[e.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center gap-4",children:[e.jsxs("button",{onClick:C,className:"inline-flex items-center px-4 py-2 text-sm text-gray-600 hover:text-gray-900 bg-gray-100 rounded-lg hover:bg-gray-200 transition-all",children:[e.jsx(We,{className:"h-4 w-4 mr-2"}),"Back to App Design"]}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Custom Profile Editor"}),e.jsx("p",{className:"text-gray-600 mt-1",children:"Design a unique profile for your dog"})]})]}),e.jsxs("div",{className:"flex flex-col lg:flex-row gap-3",children:[e.jsxs("button",{onClick:()=>f(!0),className:"inline-flex items-center px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition-all",children:[e.jsx(_e,{className:"h-4 w-4 mr-2"}),"Choose Template"]}),e.jsxs("button",{onClick:k,className:"inline-flex items-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-all",children:[e.jsx(ir,{className:"h-4 w-4 mr-2"}),"Reset to Default"]}),e.jsxs("button",{onClick:()=>g(!x),className:"inline-flex items-center px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-all",children:[x?e.jsx(Kn,{className:"h-4 w-4 mr-2"}):e.jsx(Ke,{className:"h-4 w-4 mr-2"}),x?"Edit":"Preview"]}),e.jsx("button",{onClick:M,disabled:u||A.length>0,className:"inline-flex items-center px-6 py-2 bg-gradient-to-r from-blue-600 to-blue-700 text-white rounded-lg hover:from-blue-700 hover:to-blue-800 disabled:opacity-50 disabled:cursor-not-allowed transition-all",children:u?"Saving...":"Save Profile"})]})]})}),A.length>0&&e.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 mb-6",children:[e.jsx("h4",{className:"text-red-800 font-medium mb-2",children:" Missing Required Fields"}),e.jsx("p",{className:"text-red-700 mb-3",children:"Your template must include these variables to work properly:"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:A.map(I=>e.jsx("code",{className:"px-2 py-1 bg-red-100 text-red-800 rounded text-sm font-mono",children:`{${I}}`},I))})]}),e.jsx("div",{className:"bg-white rounded-xl shadow-lg overflow-hidden mb-6",children:x?e.jsx("div",{className:"h-96",children:e.jsx("iframe",{srcDoc:`
                  <html>
                    <head>
                      <style>${N(d)}</style>
                    </head>
                    <body style="margin:0;">${N(i)}</body>
                  </html>
                `,className:"w-full h-full border-none",title:"Profile Preview"})}):e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 h-96",children:[e.jsxs("div",{className:"border-r border-gray-200",children:[e.jsx("div",{className:"p-4 border-b border-gray-200 bg-gray-50",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Uc,{className:"h-5 w-5 text-gray-600"}),e.jsx("h3",{className:"font-semibold text-gray-900",children:"HTML Template"})]})}),e.jsx("textarea",{value:i,onChange:I=>o(I.target.value),className:"w-full h-full p-4 font-mono text-sm resize-none border-none focus:outline-none",placeholder:"Enter your HTML template here..."})]}),e.jsxs("div",{children:[e.jsx("div",{className:"p-4 border-b border-gray-200 bg-gray-50",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-purple-600 font-bold",children:"CSS"}),e.jsx("h3",{className:"font-semibold text-gray-900",children:"Styles"})]})}),e.jsx("textarea",{value:d,onChange:I=>c(I.target.value),className:"w-full h-full p-4 font-mono text-sm resize-none border-none focus:outline-none",placeholder:"Enter your CSS styles here..."})]})]})})]})})},$h=()=>{var c,x;const{id:t}=cr(),r=Ce(),[a,s]=n.useState(null);n.useEffect(()=>(i(),()=>{localStorage.removeItem("currentDogData")}),[t]);const l=te.useMemo(()=>{const g=["name","breed","age","size","description","image","personality.friendly","personality.energetic","personality.social","medicalInfo.vaccinated"];if(a&&a.gallery&&Array.isArray(a.gallery)&&a.gallery.length>0){g.push("gallery");for(let u=0;u<Math.min(a.gallery.length,5);u++)g.push(`gallery[${u}]`)}return g},[a]),i=async()=>{try{const g=await lt.getDogById(t);s(g.dog),localStorage.setItem("currentDogData",JSON.stringify(g.dog))}catch(g){console.error("Error loading dog:",g),_.error("Failed to load dog"),r("/my-dogs")}},o=async g=>{try{await lt.updateCustomProfile(t,g),_.success("Custom profile updated successfully!"),r("/my-dogs")}catch(u){console.error("Error updating custom profile:",u),_.error("Failed to update custom profile")}},d=async g=>{try{await lt.updateCustomProfile(t,{profileVisibility:g}),_.success("Profile visibility updated!"),s({...a,profileVisibility:g})}catch(u){console.error("Error updating visibility:",u),_.error("Failed to update visibility")}};return a?e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center space-x-4 mb-4",children:[e.jsxs("button",{onClick:()=>r("/my-dogs"),className:"inline-flex items-center text-sm text-gray-600 hover:text-gray-900",children:[e.jsx(We,{className:"h-4 w-4 mr-2"}),"Back to My Dogs"]}),e.jsxs("button",{onClick:()=>r("/"),className:"inline-flex items-center px-3 py-2 text-sm font-medium text-white bg-blue-600 rounded-md hover:bg-blue-700 transition-colors",children:[e.jsx(We,{className:"h-4 w-4 mr-2"}),"Back to App Design"]})]}),e.jsxs("h1",{className:"text-2xl font-bold text-gray-900",children:["Custom Profile for ",a.name]}),e.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Create a unique profile page for your dog"})]})}),e.jsxs("div",{className:"bg-white shadow rounded-lg p-6",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Profile Visibility"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"radio",name:"visibility",value:"public",checked:a.profileVisibility==="public",onChange:g=>d(g.target.value),className:"h-4 w-4 text-primary-600 focus:ring-primary-500 border-gray-300"}),e.jsxs("div",{className:"ml-3",children:[e.jsx("span",{className:"block text-sm font-medium text-gray-700",children:"Public"}),e.jsx("span",{className:"block text-sm text-gray-500",children:"Anyone can view your dog's profile"})]})]}),e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"radio",name:"visibility",value:"friends",checked:a.profileVisibility==="friends",onChange:g=>d(g.target.value),className:"h-4 w-4 text-primary-600 focus:ring-primary-500 border-gray-300"}),e.jsxs("div",{className:"ml-3",children:[e.jsx("span",{className:"block text-sm font-medium text-gray-700",children:"Friends Only"}),e.jsx("span",{className:"block text-sm text-gray-500",children:"Only your friends can view the profile"})]})]}),e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"radio",name:"visibility",value:"private",checked:a.profileVisibility==="private",onChange:g=>d(g.target.value),className:"h-4 w-4 text-primary-600 focus:ring-primary-500 border-gray-300"}),e.jsxs("div",{className:"ml-3",children:[e.jsx("span",{className:"block text-sm font-medium text-gray-700",children:"Private"}),e.jsx("span",{className:"block text-sm text-gray-500",children:"Only you can view the profile"})]})]})]}),a.profileVisibility==="public"&&e.jsx("div",{className:"mt-4 p-3 bg-blue-50 rounded-lg",children:e.jsxs("p",{className:"text-sm text-blue-800",children:[e.jsx("strong",{children:"Public Profile URL:"})," ",e.jsxs("a",{href:`${window.location.origin}/dogs/profile/${a._id}`,target:"_blank",rel:"noopener noreferrer",className:"underline",children:[window.location.origin,"/dogs/profile/",a._id]})]})})]}),e.jsx("div",{className:"bg-white shadow rounded-lg p-6",children:e.jsx(Ul,{initialHtml:((c=a.customProfile)==null?void 0:c.html)||"",initialCss:((x=a.customProfile)==null?void 0:x.css)||"",onSave:o,requiredFields:l,type:"dog"})})]}):null},Dh=()=>{var c,x;const{id:t}=cr(),r=Ce(),{user:a}=ge(),[s,l]=n.useState(null);n.useEffect(()=>{i()},[t]);const i=async()=>{try{const g=await Te.getGardenById(t);if(a.role!=="admin"&&g.manager._id!==a._id){_.error("You are not authorized to edit this garden"),r("/manage-gardens");return}l(g)}catch(g){console.error("Error loading garden:",g),_.error("Failed to load garden"),r("/manage-gardens")}},o=async g=>{try{await Te.updateCustomProfile(t,g),_.success("Custom profile updated successfully!"),r("/manage-gardens")}catch(u){console.error("Error updating custom profile:",u),_.error("Failed to update custom profile")}};if(!s)return null;const d=["name","description","location.address","location.city","type","capacity.maxDogs","statistics.averageRating","statistics.totalReviews"];return e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("div",{children:[e.jsxs("button",{onClick:()=>r("/manage-gardens"),className:"mb-4 inline-flex items-center text-sm text-gray-600 hover:text-gray-900",children:[e.jsx(We,{className:"h-4 w-4 mr-2"}),"Back to Garden Management"]}),e.jsxs("h1",{className:"text-2xl font-bold text-gray-900",children:["Custom Profile for ",s.name]}),e.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Create a unique profile page for your dog park"})]})}),e.jsxs("div",{className:"bg-white shadow rounded-lg p-6",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Public Profile"}),e.jsx("div",{className:"p-3 bg-blue-50 rounded-lg",children:e.jsxs("p",{className:"text-sm text-blue-800",children:[e.jsx("strong",{children:"Public Profile URL:"})," ",e.jsxs("a",{href:`${window.location.origin}/garden/${s._id}`,target:"_blank",rel:"noopener noreferrer",className:"underline",children:[window.location.origin,"/garden/",s._id]})]})})]}),e.jsx("div",{className:"bg-white shadow rounded-lg p-6",children:e.jsx(Ul,{initialHtml:((c=s.customProfile)==null?void 0:c.html)||"",initialCss:((x=s.customProfile)==null?void 0:x.css)||"",onSave:o,requiredFields:d,type:"garden"})})]})},Hl=()=>{const{user:t}=ge(),r=Ce(),[a,s]=n.useState([]),[l,i]=n.useState([]),[o,d]=n.useState({totalUsers:0,totalGardens:0,activeVisits:0,totalDogs:0}),[c,x]=n.useState({totalRequests:0,totalCost:0,successRate:0}),[g,u]=n.useState(""),[h,p]=n.useState("");n.useState(!1),n.useState(!1);const[f,j]=n.useState(!0);n.useEffect(()=>{console.log(" AdminDashboard - Current user:",t),console.log(" AdminDashboard - User role:",t==null?void 0:t.role),console.log(" AdminDashboard - Token exists:",!!localStorage.getItem("token")),m()},[]);const m=async()=>{var w,C;try{j(!0),console.log(" Starting loadAdminData..."),console.log(" User role before API calls:",t==null?void 0:t.role);const[k,M,$,A]=await Promise.all([H.get("/admin/users"),H.get("/admin/gardens"),H.get("/admin/stats"),H.get("/admin/api-usage?days=7").catch(()=>({data:{total:{totalRequests:0,totalCost:0,successfulRequests:0}}}))]);s(k.data||[]),i(M.data||[]),d($.data||{totalUsers:0,totalGardens:0,activeVisits:0,totalDogs:0});const I=A.data.total||{totalRequests:0,totalCost:0,successfulRequests:0};x({totalRequests:I.totalRequests,totalCost:I.totalCost,successRate:I.totalRequests>0?(I.successfulRequests/I.totalRequests*100).toFixed(1):0})}catch(k){console.error(" Error loading admin data:",k),console.error(" Error response:",k.response),console.error(" Error status:",(w=k.response)==null?void 0:w.status),console.error(" Error data:",(C=k.response)==null?void 0:C.data),_.error("Failed to load admin data")}finally{j(!1)}},E=async(w,C)=>{try{await H.put(`/users/${w}/role`,{role:C}),_.success("User role updated successfully"),m()}catch{_.error("Failed to update user role")}},b=async()=>{var w,C;try{console.log(" Attempting to upgrade to admin...");const k=await H.post("/auth/make-admin");console.log(" Upgrade response:",k.data);const M=k.data.user;localStorage.setItem("user",JSON.stringify(M)),_.success("Upgraded to admin successfully! Please refresh the page."),window.location.reload()}catch(k){console.error(" Error upgrading to admin:",k),_.error("Failed to upgrade to admin: "+(((C=(w=k.response)==null?void 0:w.data)==null?void 0:C.error)||k.message))}},v=async(w,C)=>{const k=C==="active"?"suspended":"active";try{await H.put(`/users/${w}/status`,{status:k}),_.success(`User ${k==="active"?"activated":"suspended"} successfully`),m()}catch{_.error("Failed to update user status")}},N=w=>{const C={admin:{color:"text-red-700",bg:"bg-red-100",label:" Admin"},garden_manager:{color:"text-blue-700",bg:"bg-blue-100",label:" Manager"},dog_owner:{color:"text-green-700",bg:"bg-green-100",label:" Owner"}};return C[w]||C.dog_owner};return f?e.jsx(Ns,{}):(t==null?void 0:t.role)!=="admin"&&o.totalUsers===0?e.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 flex items-center justify-center p-4",children:e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-3xl p-8 text-center max-w-md border border-gray-100 dark:border-gray-700",children:[e.jsx("div",{className:"text-6xl mb-4",children:""}),e.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-4",children:"Admin Access Required"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-6",children:"You need admin privileges to access this page."}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:["Current role: ",e.jsx("span",{className:"font-medium",children:(t==null?void 0:t.role)||"Unknown"})]}),e.jsx("button",{onClick:b,className:"w-full bg-purple-600 hover:bg-purple-700 text-white font-medium py-3 px-6 rounded-xl transition-colors",children:" Upgrade to Admin (Development)"}),e.jsx("p",{className:"text-xs text-gray-400",children:"This is a temporary development feature"})]})]})}):e.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900",children:e.jsxs("div",{className:"max-w-lg mx-auto lg:max-w-7xl px-1 sm:px-0",children:[e.jsxs("div",{className:"bg-gradient-to-br from-purple-600 via-pink-600 to-red-600 dark:from-purple-700 dark:via-pink-700 dark:to-red-700 mx-2 sm:mx-4 mt-2 sm:mt-4 rounded-2xl sm:rounded-3xl p-4 sm:p-6 text-white",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between mb-4 space-y-3 sm:space-y-0",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-xl sm:text-2xl font-bold mb-1",children:"Admin Center "}),e.jsxs("p",{className:"text-purple-100 dark:text-purple-200 text-xs sm:text-sm mb-3",children:["Welcome back, ",t==null?void 0:t.firstName,"! Manage the Pawradise community"]}),e.jsxs("div",{className:"bg-white bg-opacity-20 rounded-xl p-3 mb-3",children:[e.jsxs("div",{className:"text-xs text-purple-100",children:[e.jsxs("div",{children:["User Role: ",e.jsx("span",{className:"font-medium",children:(t==null?void 0:t.role)||"Unknown"})]}),e.jsxs("div",{children:["User ID: ",e.jsx("span",{className:"font-medium",children:(t==null?void 0:t._id)||"Unknown"})]}),e.jsxs("div",{children:["Token: ",e.jsx("span",{className:"font-medium",children:localStorage.getItem("token")?"Present":"Missing"})]})]}),(t==null?void 0:t.role)!=="admin"&&e.jsx("button",{onClick:b,className:"mt-2 bg-yellow-500 hover:bg-yellow-600 text-yellow-900 font-medium py-1 px-3 rounded-lg text-xs transition-colors",children:" Upgrade to Admin"})]}),e.jsxs("div",{className:"flex flex-wrap items-center gap-2 sm:gap-4 text-purple-100 dark:text-purple-200 text-xs sm:text-sm",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(Ne,{className:"h-3 sm:h-4 w-3 sm:w-4 mr-1"}),e.jsxs("span",{children:[o.totalUsers," Users"]})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx(ir,{className:"h-3 sm:h-4 w-3 sm:w-4 mr-1"}),e.jsxs("span",{children:[o.totalGardens," Parks"]})]})]})]}),e.jsx("div",{className:"hidden sm:block",children:e.jsx("div",{className:"bg-white bg-opacity-20 rounded-2xl p-3",children:e.jsx(_r,{className:"h-8 sm:h-12 w-8 sm:w-12 text-yellow-300"})})})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3",children:[e.jsxs("button",{onClick:()=>r("/admin/requests"),className:"bg-white bg-opacity-20 rounded-xl sm:rounded-2xl p-3 hover:bg-opacity-30 transition-all duration-200 flex items-center justify-center space-x-2",children:[e.jsx(Tc,{className:"h-4 sm:h-5 w-4 sm:w-5"}),e.jsx("span",{className:"text-sm font-medium",children:"Review Requests"})]}),e.jsxs("button",{onClick:()=>r("/admin/api-usage"),className:"bg-white bg-opacity-20 rounded-xl sm:rounded-2xl p-3 hover:bg-opacity-30 transition-all duration-200 flex items-center justify-center space-x-2",children:[e.jsx(qt,{className:"h-4 sm:h-5 w-4 sm:w-5"}),e.jsx("span",{className:"text-sm font-medium",children:"API Usage"})]}),e.jsxs("button",{onClick:()=>r("/admin/settings"),className:"bg-white bg-opacity-20 rounded-xl sm:rounded-2xl p-3 hover:bg-opacity-30 transition-all duration-200 flex items-center justify-center space-x-2",children:[e.jsx(Cr,{className:"h-4 sm:h-5 w-4 sm:w-5"}),e.jsx("span",{className:"text-sm font-medium",children:"Settings"})]})]})]}),e.jsxs("div",{className:"px-2 sm:px-4 py-4 sm:py-6",children:[e.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-5 gap-3 sm:gap-4 mb-4 sm:mb-6",children:[e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl sm:rounded-3xl p-3 sm:p-4 text-center border border-gray-100 dark:border-gray-700",children:[e.jsx(aa,{className:"w-6 sm:w-8 h-6 sm:h-8 text-blue-500 mx-auto mb-2"}),e.jsx("div",{className:"text-lg sm:text-2xl font-bold text-gray-900 dark:text-white",children:o.totalUsers}),e.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Total Users"})]}),e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl sm:rounded-3xl p-3 sm:p-4 text-center border border-gray-100 dark:border-gray-700",children:[e.jsx(vs,{className:"w-6 sm:w-8 h-6 sm:h-8 text-green-500 mx-auto mb-2"}),e.jsx("div",{className:"text-lg sm:text-2xl font-bold text-gray-900 dark:text-white",children:o.totalGardens}),e.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Dog Parks"})]}),e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl sm:rounded-3xl p-3 sm:p-4 text-center border border-gray-100 dark:border-gray-700",children:[e.jsx(sx,{className:"w-6 sm:w-8 h-6 sm:h-8 text-yellow-500 mx-auto mb-2"}),e.jsx("div",{className:"text-lg sm:text-2xl font-bold text-gray-900 dark:text-white",children:o.activeVisits}),e.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Active Visits"})]}),e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl sm:rounded-3xl p-3 sm:p-4 text-center border border-gray-100 dark:border-gray-700",children:[e.jsx(Fe,{className:"w-6 sm:w-8 h-6 sm:h-8 text-pink-500 mx-auto mb-2"}),e.jsx("div",{className:"text-lg sm:text-2xl font-bold text-gray-900 dark:text-white",children:o.totalDogs}),e.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Happy Dogs"})]}),e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl sm:rounded-3xl p-3 sm:p-4 text-center border border-gray-100 dark:border-gray-700 cursor-pointer hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors",onClick:()=>r("/admin/api-usage"),children:[e.jsx(qt,{className:"w-6 sm:w-8 h-6 sm:h-8 text-purple-500 mx-auto mb-2"}),e.jsxs("div",{className:"text-lg sm:text-2xl font-bold text-gray-900 dark:text-white",children:["$",c.totalCost.toFixed(2)]}),e.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:"API Cost (7d)"}),e.jsxs("div",{className:"text-xs text-green-600 dark:text-green-400 mt-1",children:[c.successRate,"% success"]})]})]}),e.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-2xl sm:rounded-3xl border border-gray-100 dark:border-gray-700 mb-4 sm:mb-6",children:e.jsxs("div",{className:"p-3 sm:p-6",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between mb-4 space-y-2 sm:space-y-0",children:[e.jsxs("h3",{className:"text-base sm:text-lg font-bold text-gray-900 dark:text-white flex items-center",children:[e.jsx(Ne,{className:"h-4 sm:h-5 w-4 sm:w-5 text-blue-500 mr-2"}),"User Management"]}),e.jsxs("span",{className:"bg-blue-100 dark:bg-blue-900/30 text-blue-600 dark:text-blue-400 text-xs font-medium px-2 py-1 rounded-full self-start sm:self-auto",children:[a.length," users"]})]}),e.jsx("div",{className:"mb-4",children:e.jsx("input",{type:"text",placeholder:"Search users...",value:g,onChange:w=>u(w.target.value),className:"w-full px-3 sm:px-4 py-2 sm:py-3 border border-gray-200 dark:border-gray-600 rounded-xl sm:rounded-2xl bg-white dark:bg-gray-700 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm"})}),e.jsx("div",{className:"space-y-3",children:a.slice(0,5).map(w=>{var k,M;const C=N(w.role);return e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between p-3 bg-gray-50 dark:bg-gray-700 rounded-xl sm:rounded-2xl space-y-2 sm:space-y-0",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsxs("div",{className:"w-8 sm:w-10 h-8 sm:h-10 bg-gradient-to-r from-blue-400 to-purple-500 rounded-full flex items-center justify-center text-white font-medium text-xs sm:text-sm flex-shrink-0",children:[(k=w.firstName)==null?void 0:k.charAt(0),(M=w.lastName)==null?void 0:M.charAt(0)]}),e.jsxs("div",{className:"min-w-0",children:[e.jsxs("div",{className:"text-sm sm:text-base font-medium text-gray-900 dark:text-white truncate",children:[w.firstName," ",w.lastName]}),e.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400 truncate",children:w.email})]})]}),e.jsxs("div",{className:"flex items-center justify-between sm:justify-end space-x-2 w-full sm:w-auto",children:[e.jsx("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ${C.bg} ${C.color} flex-shrink-0`,children:C.label}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("select",{value:w.role,onChange:$=>E(w._id,$.target.value),className:"text-xs border border-gray-200 dark:border-gray-600 rounded-lg px-2 py-1 bg-white dark:bg-gray-600 text-gray-900 dark:text-white",children:[e.jsx("option",{value:"dog_owner",children:" Owner"}),e.jsx("option",{value:"garden_manager",children:" Manager"}),e.jsx("option",{value:"admin",children:" Admin"})]}),e.jsx("button",{onClick:()=>r(`/profile?userId=${w._id}`),className:"p-1.5 text-blue-500 hover:text-blue-700 dark:text-blue-400 dark:hover:text-blue-300 transition-colors",title:"View Profile",children:e.jsx(Ke,{className:"h-4 w-4"})}),e.jsx("button",{onClick:()=>v(w._id,w.status),className:`p-1.5 transition-colors ${w.status==="active"?"text-red-500 hover:text-red-700 dark:text-red-400 dark:hover:text-red-300":"text-green-500 hover:text-green-700 dark:text-green-400 dark:hover:text-green-300"}`,title:w.status==="active"?"Suspend User":"Activate User",children:w.status==="active"?e.jsx(dr,{className:"h-4 w-4"}):e.jsx(De,{className:"h-4 w-4"})})]})]})]},w._id)})})]})}),e.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-2xl sm:rounded-3xl border border-gray-100 dark:border-gray-700",children:e.jsxs("div",{className:"p-3 sm:p-6",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between mb-4 space-y-2 sm:space-y-0",children:[e.jsxs("h3",{className:"text-base sm:text-lg font-bold text-gray-900 dark:text-white flex items-center",children:[e.jsx(ir,{className:"h-4 sm:h-5 w-4 sm:w-5 text-green-500 mr-2"}),"Garden Management"]}),e.jsxs("span",{className:"bg-green-100 dark:bg-green-900/30 text-green-600 dark:text-green-400 text-xs font-medium px-2 py-1 rounded-full self-start sm:self-auto",children:[l.length," gardens"]})]}),e.jsx("div",{className:"mb-4",children:e.jsx("input",{type:"text",placeholder:"Search gardens...",value:h,onChange:w=>p(w.target.value),className:"w-full px-3 sm:px-4 py-2 sm:py-3 border border-gray-200 dark:border-gray-600 rounded-xl sm:rounded-2xl bg-white dark:bg-gray-700 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 focus:ring-2 focus:ring-green-500 focus:border-transparent text-sm"})}),e.jsx("div",{className:"space-y-3",children:l.slice(0,5).map(w=>{var C,k;return e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between p-3 bg-gray-50 dark:bg-gray-700 rounded-xl sm:rounded-2xl space-y-2 sm:space-y-0",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-8 sm:w-10 h-8 sm:h-10 bg-gradient-to-r from-green-400 to-blue-500 rounded-full flex items-center justify-center text-white font-medium text-xs sm:text-sm flex-shrink-0",children:(C=w.name)==null?void 0:C.charAt(0)}),e.jsxs("div",{className:"min-w-0",children:[e.jsx("div",{className:"text-sm sm:text-base font-medium text-gray-900 dark:text-white truncate",children:w.name}),e.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400 truncate",children:(k=w.location)==null?void 0:k.address})]})]}),e.jsxs("div",{className:"flex items-center justify-between sm:justify-end space-x-2 w-full sm:w-auto",children:[e.jsx("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ${w.type==="public"?"bg-green-100 text-green-700":"bg-purple-100 text-purple-700"} flex-shrink-0`,children:w.type==="public"?" Public":" Private"}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{onClick:()=>r(`/garden/${w._id}`),className:"p-1.5 text-green-500 hover:text-green-700 dark:text-green-400 dark:hover:text-green-300 transition-colors",title:"View Garden",children:e.jsx(Ke,{className:"h-4 w-4"})}),e.jsx("button",{onClick:()=>r(`/garden-manager?edit=${w._id}`),className:"p-1.5 text-blue-500 hover:text-blue-700 dark:text-blue-400 dark:hover:text-blue-300 transition-colors",title:"Edit Garden",children:e.jsx(bs,{className:"h-4 w-4"})})]})]})]},w._id)})})]})})]})]})})},Lh=Object.freeze(Object.defineProperty({__proto__:null,default:Hl},Symbol.toStringTag,{value:"Module"})),Gl=()=>{var v,N,w,C,k,M,$,A,I,F,T,z,W,Z;const t=Ce(),[r,a]=n.useState([]),[s,l]=n.useState(null),[i,o]=n.useState(""),[d,c]=n.useState(!1),[x,g]=n.useState("pending"),[u,h]=n.useState(!0);n.useEffect(()=>{p()},[]);const p=async()=>{var G,R,V,J;try{h(!0),console.log("Loading requests...");const L=await kr.getPendingRequests();console.log("Requests response:",L),a(L.requests||[])}catch(L){console.error("Error loading requests:",L),((G=L.response)==null?void 0:G.status)===403?_.error("Access denied. Admin privileges required."):((R=L.response)==null?void 0:R.status)===401?_.error("Please log in to access this page."):_.error("Failed to load requests: "+(((J=(V=L.response)==null?void 0:V.data)==null?void 0:J.error)||L.message))}finally{h(!1)}},f=async G=>{c(!0);try{await kr.approveRequest(G,i),_.success("Request approved successfully!"),l(null),o(""),p()}catch(R){console.error("Error approving request:",R),_.error("Failed to approve request")}finally{c(!1)}},j=async G=>{c(!0);try{await kr.rejectRequest(G,i),_.success("Request rejected"),l(null),o(""),p()}catch(R){console.error("Error rejecting request:",R),_.error("Failed to reject request")}finally{c(!1)}},m=G=>G==="garden_manager"?e.jsx(Ne,{className:"h-6 w-6"}):e.jsx(wt,{className:"h-6 w-6"}),E=G=>G==="garden_manager"?"Garden Manager":"Event Organizer",b=G=>{switch(G){case"pending":return e.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-yellow-100 dark:bg-yellow-900/30 text-yellow-800 dark:text-yellow-200",children:[e.jsx(Ae,{className:"h-3 w-3 mr-1"}),"Pending"]});case"approved":return e.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-green-100 dark:bg-green-900/30 text-green-800 dark:text-green-200",children:[e.jsx(De,{className:"h-3 w-3 mr-1"}),"Approved"]});case"rejected":return e.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-red-100 dark:bg-red-900/30 text-red-800 dark:text-red-200",children:[e.jsx(pe,{className:"h-3 w-3 mr-1"}),"Rejected"]});default:return null}};return u?e.jsx(Ns,{}):e.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900",children:e.jsxs("div",{className:"max-w-lg mx-auto lg:max-w-7xl",children:[e.jsxs("div",{className:"bg-gradient-to-br from-purple-600 via-pink-600 to-red-600 dark:from-purple-700 dark:via-pink-700 dark:to-red-700 mx-4 mt-4 rounded-3xl p-6 text-white",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center mb-2",children:[e.jsx("button",{onClick:()=>t("/admin"),className:"mr-3 p-2 bg-white bg-opacity-20 rounded-xl hover:bg-opacity-30 transition-colors",children:e.jsx(We,{className:"h-5 w-5"})}),e.jsx("h1",{className:"text-2xl font-bold",children:"Requests Center "})]}),e.jsx("p",{className:"text-purple-100 dark:text-purple-200 text-sm",children:"Review community leadership applications"})]}),e.jsx("div",{className:"hidden md:block",children:e.jsx("div",{className:"bg-white bg-opacity-20 rounded-2xl p-3",children:e.jsx(or,{className:"h-12 w-12 text-yellow-300"})})})]}),e.jsxs("div",{className:"flex items-center space-x-6 text-purple-100 dark:text-purple-200 text-sm",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(Ae,{className:"h-4 w-4 mr-1"}),e.jsxs("span",{children:[r.filter(G=>G.status==="pending").length," Pending"]})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx(De,{className:"h-4 w-4 mr-1"}),e.jsxs("span",{children:[r.filter(G=>G.status==="approved").length," Approved"]})]})]})]}),e.jsxs("div",{className:"px-4 py-6",children:[e.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-3xl border border-gray-100 dark:border-gray-700 mb-6",children:e.jsx("div",{className:"p-4",children:e.jsx("div",{className:"flex space-x-2 overflow-x-auto",children:[{key:"pending",label:"Pending",count:r.filter(G=>G.status==="pending").length},{key:"approved",label:"Approved",count:r.filter(G=>G.status==="approved").length},{key:"rejected",label:"Rejected",count:r.filter(G=>G.status==="rejected").length},{key:"all",label:"All",count:r.length}].map(G=>e.jsxs("button",{onClick:()=>g(G.key),className:`px-4 py-2 rounded-2xl text-sm font-medium transition-colors ${x===G.key?"bg-purple-100 dark:bg-purple-900/30 text-purple-700 dark:text-purple-300":"text-gray-600 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-700"}`,children:[G.label," (",G.count,")"]},G.key))})})}),e.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-3xl border border-gray-100 dark:border-gray-700",children:r.length===0?e.jsxs("div",{className:"text-center py-12",children:[e.jsx(or,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-2",children:"No requests found"}),e.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"There are no requests to review at this time."})]}):e.jsx("div",{className:"p-6 space-y-4",children:r.filter(G=>x==="all"||G.status===x).map(G=>{var R,V,J;return e.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 dark:bg-gray-700 rounded-2xl hover:bg-gray-100 dark:hover:bg-gray-600 transition-colors",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:"text-purple-600 dark:text-purple-400",children:m(G.type)}),e.jsxs("div",{children:[e.jsxs("h3",{className:"text-lg font-medium text-gray-900 dark:text-white",children:[(R=G.user)==null?void 0:R.firstName," ",(V=G.user)==null?void 0:V.lastName]}),e.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:[(J=G.user)==null?void 0:J.email,"  ",E(G.type)]}),e.jsxs("p",{className:"text-xs text-gray-400 dark:text-gray-500 mt-1",children:["Submitted: ",new Date(G.createdAt).toLocaleDateString()]})]})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[b(G.status),e.jsxs("button",{onClick:()=>l(G),className:"inline-flex items-center px-3 py-2 bg-blue-100 dark:bg-blue-900/30 text-blue-700 dark:text-blue-300 rounded-xl text-sm font-medium hover:bg-blue-200 dark:hover:bg-blue-900/50 transition-colors",children:[e.jsx(Ke,{className:"h-4 w-4 mr-1"}),"Review"]})]})]},G._id)})})})]}),s&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-3xl max-w-2xl w-full max-h-[90vh] overflow-y-auto border border-gray-100 dark:border-gray-700",children:[e.jsx("div",{className:"bg-gradient-to-r from-purple-600 via-pink-600 to-red-600 text-white p-6 rounded-t-3xl",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[m(s.type),e.jsxs("div",{children:[e.jsxs("h2",{className:"text-xl font-bold",children:[E(s.type)," Application"]}),e.jsxs("p",{className:"text-purple-100",children:[(v=s.user)==null?void 0:v.firstName," ",(N=s.user)==null?void 0:N.lastName]})]})]}),e.jsx("button",{onClick:()=>l(null),className:"text-white hover:text-purple-200 p-2 rounded-xl hover:bg-white hover:bg-opacity-10 transition-colors",children:e.jsx(pe,{className:"h-6 w-6"})})]})}),e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white mb-3",children:"Applicant Information"}),e.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700 rounded-2xl p-4 space-y-2",children:[e.jsxs("p",{className:"text-gray-900 dark:text-white",children:[e.jsx("strong",{children:"Name:"})," ",(w=s.user)==null?void 0:w.firstName," ",(C=s.user)==null?void 0:C.lastName]}),e.jsxs("p",{className:"text-gray-900 dark:text-white",children:[e.jsx("strong",{children:"Email:"})," ",(k=s.user)==null?void 0:k.email]}),e.jsxs("p",{className:"text-gray-900 dark:text-white",children:[e.jsx("strong",{children:"Phone:"})," ",((M=s.details)==null?void 0:M.contactPhone)||"Not provided"]}),e.jsxs("p",{className:"text-gray-900 dark:text-white",children:[e.jsx("strong",{children:"Applied:"})," ",new Date(s.createdAt).toLocaleDateString()]})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white mb-3",children:"Application Details"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:["Why do you want to become a ",E(s.type),"?"]}),e.jsx("div",{className:"bg-gray-50 dark:bg-gray-700 rounded-2xl p-3",children:e.jsx("p",{className:"text-gray-700 dark:text-gray-300",children:($=s.details)==null?void 0:$.reason})})]}),((A=s.details)==null?void 0:A.experience)&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Relevant Experience"}),e.jsx("div",{className:"bg-gray-50 dark:bg-gray-700 rounded-2xl p-3",children:e.jsx("p",{className:"text-gray-700 dark:text-gray-300",children:s.details.experience})})]}),s.type==="garden_manager"&&e.jsxs(e.Fragment,{children:[((I=s.details)==null?void 0:I.managementExperience)&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Management Experience"}),e.jsx("div",{className:"bg-gray-50 dark:bg-gray-700 rounded-2xl p-3",children:e.jsx("p",{className:"text-gray-700 dark:text-gray-300",children:s.details.managementExperience})})]}),((F=s.details)==null?void 0:F.availability)&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Availability"}),e.jsx("div",{className:"bg-gray-50 dark:bg-gray-700 rounded-2xl p-3",children:e.jsx("p",{className:"text-gray-700 dark:text-gray-300",children:s.details.availability})})]})]}),s.type==="event_organizer"&&e.jsxs(e.Fragment,{children:[((z=(T=s.details)==null?void 0:T.eventTypes)==null?void 0:z.length)>0&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Event Types Interested In"}),e.jsx("div",{className:"bg-gray-50 dark:bg-gray-700 rounded-2xl p-3",children:e.jsx("div",{className:"flex flex-wrap gap-2",children:s.details.eventTypes.map((G,R)=>e.jsx("span",{className:"px-2 py-1 bg-purple-100 dark:bg-purple-900/30 text-purple-800 dark:text-purple-200 rounded-lg text-sm",children:G},R))})})]}),((W=s.details)==null?void 0:W.organizationExperience)&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Event Organization Experience"}),e.jsx("div",{className:"bg-gray-50 dark:bg-gray-700 rounded-2xl p-3",children:e.jsx("p",{className:"text-gray-700 dark:text-gray-300",children:s.details.organizationExperience})})]}),((Z=s.details)==null?void 0:Z.plannedEvents)&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Planned Events Ideas"}),e.jsx("div",{className:"bg-gray-50 dark:bg-gray-700 rounded-2xl p-3",children:e.jsx("p",{className:"text-gray-700 dark:text-gray-300",children:s.details.plannedEvents})})]})]})]})]}),s.status==="pending"&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Review Notes (Optional)"}),e.jsx("textarea",{value:i,onChange:G=>o(G.target.value),rows:3,className:"w-full px-4 py-3 border border-gray-200 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-white rounded-2xl focus:ring-2 focus:ring-purple-500 focus:border-transparent",placeholder:"Add any notes for the applicant..."})]}),s.status==="pending"&&e.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-gray-200 dark:border-gray-600",children:[e.jsxs("button",{onClick:()=>j(s._id),disabled:d,className:"inline-flex items-center px-6 py-3 border border-gray-300 dark:border-gray-600 rounded-2xl text-gray-700 dark:text-gray-300 bg-white dark:bg-gray-700 hover:bg-gray-50 dark:hover:bg-gray-600 disabled:opacity-50 transition-colors",children:[e.jsx(pe,{className:"h-4 w-4 mr-2"}),"Reject"]}),e.jsxs("button",{onClick:()=>f(s._id),disabled:d,className:"inline-flex items-center px-6 py-3 bg-green-600 text-white rounded-2xl hover:bg-green-700 disabled:opacity-50 transition-colors",children:[e.jsx(De,{className:"h-4 w-4 mr-2"}),d?"Processing...":"Approve"]})]}),s.status!=="pending"&&s.reviewNotes&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Review Notes"}),e.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700 rounded-2xl p-3",children:[e.jsx("p",{className:"text-gray-700 dark:text-gray-300",children:s.reviewNotes}),e.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-2",children:["Reviewed on ",new Date(s.reviewedAt).toLocaleDateString()]})]})]})]})]})})]})})},Th=Object.freeze(Object.defineProperty({__proto__:null,default:Gl},Symbol.toStringTag,{value:"Module"})),Wl=()=>{const t=Ce();ge(),va();const[r,a]=n.useState(!0),[s,l]=n.useState({systemMaintenance:!1,allowRegistrations:!0,requireEmailVerification:!0,maxUsersPerGarden:50,sessionTimeout:30,emailNotifications:!0,smsNotifications:!1,pushNotifications:!0,adminAlerts:!0,passwordMinLength:8,requireStrongPasswords:!0,enableTwoFactor:!1,loginAttempts:5,lockoutDuration:15,allowPublicGardens:!0,moderateContent:!0,allowFileUploads:!0,maxFileSize:5,smtpHost:"",smtpPort:587,smtpUser:"",smtpPassword:"",emailFrom:"noreply@pawconnect.com",autoBackup:!0,backupFrequency:"daily",retentionDays:30}),[i,o]=n.useState({totalStorage:"2.3 GB",freeStorage:"12.7 GB",lastBackup:new Date().toISOString(),systemUptime:"99.9%"});n.useEffect(()=>{d()},[]);const d=async()=>{try{a(!0),console.log("Loading admin settings...")}catch(h){console.error("Error loading settings:",h),_.error("Failed to load settings")}finally{a(!1)}},c=async(h,p)=>{try{l(f=>({...f,[h]:p})),_.success("Setting updated successfully")}catch(f){console.error("Error updating setting:",f),_.error("Failed to update setting")}},x=async()=>{try{_.info("Exporting data..."),_.success("Data export completed")}catch{_.error("Failed to export data")}},g=async()=>{try{_.info("Starting backup..."),_.success("Backup completed successfully")}catch{_.error("Backup failed")}},u=async h=>{try{const f={system:{title:"System Maintenance Notice",content:"The system will undergo maintenance tonight from 2:00 AM to 4:00 AM EST. Some features may be temporarily unavailable."},new_message:{title:"New Message",content:"You have received a new message from Sarah about today's dog park meetup!"},friend_request:{title:"New Friend Request",content:"John Doe wants to connect with you. You have 2 mutual friends."},event_reminder:{title:"Event Reminder",content:"Don't forget! The Golden Retriever Meetup starts in 1 hour at Central Park."}}[h];f&&(await He.createTestNotification(h,f.title,f.content)?_.success(`Sample ${h.replace("_"," ")} notification created!`):_.error("Failed to create sample notification"))}catch(p){_.error("Error creating sample notification"),console.error("Error creating sample notification:",p)}};return r?e.jsx(Ns,{}):e.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900",children:e.jsxs("div",{className:"max-w-lg mx-auto lg:max-w-7xl",children:[e.jsx("div",{className:"bg-gradient-to-br from-purple-600 via-pink-600 to-red-600 dark:from-purple-700 dark:via-pink-700 dark:to-red-700 mx-4 mt-4 rounded-3xl p-6 text-white",children:e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center mb-2",children:[e.jsx("button",{onClick:()=>t("/admin"),className:"mr-3 p-2 bg-white bg-opacity-20 rounded-xl hover:bg-opacity-30 transition-colors",children:e.jsx(We,{className:"h-5 w-5"})}),e.jsx("h1",{className:"text-2xl font-bold",children:"Admin Settings "})]}),e.jsx("p",{className:"text-purple-100 dark:text-purple-200 text-sm",children:"Configure system settings and preferences"})]}),e.jsx("div",{className:"hidden md:block",children:e.jsx("div",{className:"bg-white bg-opacity-20 rounded-2xl p-3",children:e.jsx(Cr,{className:"h-12 w-12 text-yellow-300"})})})]})}),e.jsxs("div",{className:"px-4 py-6 space-y-6",children:[e.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-3xl border border-gray-100 dark:border-gray-700",children:e.jsxs("div",{className:"p-6",children:[e.jsxs("h3",{className:"text-lg font-bold text-gray-900 dark:text-white mb-4 flex items-center",children:[e.jsx(mm,{className:"h-5 w-5 text-green-500 mr-2"}),"System Status"]}),e.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-4",children:[e.jsxs("div",{className:"text-center p-3 bg-gray-50 dark:bg-gray-700 rounded-2xl",children:[e.jsx("div",{className:"text-lg font-bold text-gray-900 dark:text-white",children:i.systemUptime}),e.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Uptime"})]}),e.jsxs("div",{className:"text-center p-3 bg-gray-50 dark:bg-gray-700 rounded-2xl",children:[e.jsx("div",{className:"text-lg font-bold text-gray-900 dark:text-white",children:i.totalStorage}),e.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Used Storage"})]}),e.jsxs("div",{className:"text-center p-3 bg-gray-50 dark:bg-gray-700 rounded-2xl",children:[e.jsx("div",{className:"text-lg font-bold text-gray-900 dark:text-white",children:i.freeStorage}),e.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Free Storage"})]}),e.jsxs("div",{className:"text-center p-3 bg-gray-50 dark:bg-gray-700 rounded-2xl",children:[e.jsx("div",{className:"text-lg font-bold text-green-600 dark:text-green-400",children:"Online"}),e.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Status"})]})]}),e.jsxs("div",{className:"mt-6 grid grid-cols-1 sm:grid-cols-2 gap-4",children:[e.jsxs("button",{onClick:()=>t("/admin/api-usage"),className:"p-4 bg-blue-50 dark:bg-blue-900/20 rounded-2xl border border-blue-200 dark:border-blue-800 hover:bg-blue-100 dark:hover:bg-blue-900/30 transition-colors flex items-center justify-center space-x-3",children:[e.jsx(qt,{className:"h-5 w-5 text-blue-600 dark:text-blue-400"}),e.jsx("span",{className:"text-sm font-medium text-blue-900 dark:text-blue-300",children:"View API Usage Monitor"})]}),e.jsxs("button",{onClick:x,className:"p-4 bg-green-50 dark:bg-green-900/20 rounded-2xl border border-green-200 dark:border-green-800 hover:bg-green-100 dark:hover:bg-green-900/30 transition-colors flex items-center justify-center space-x-3",children:[e.jsx(Ua,{className:"h-5 w-5 text-green-600 dark:text-green-400"}),e.jsx("span",{className:"text-sm font-medium text-green-900 dark:text-green-300",children:"Export System Data"})]})]})]})}),e.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-3xl border border-gray-100 dark:border-gray-700",children:e.jsxs("div",{className:"p-6",children:[e.jsxs("h3",{className:"text-lg font-bold text-gray-900 dark:text-white mb-4 flex items-center",children:[e.jsx(Cr,{className:"h-5 w-5 text-blue-500 mr-2"}),"System Settings"]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 dark:bg-gray-700 rounded-2xl",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:"Maintenance Mode"}),e.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Temporarily disable user access"})]}),e.jsx("button",{onClick:()=>c("systemMaintenance",!s.systemMaintenance),className:`relative inline-flex h-4 w-7 items-center rounded-full transition-colors ${s.systemMaintenance?"bg-red-600":"bg-green-600"}`,children:e.jsx("span",{className:`inline-block h-3 w-3 transform rounded-full bg-white shadow-sm transition-transform ${s.systemMaintenance?"translate-x-3.5":"translate-x-0.5"}`})})]}),e.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 dark:bg-gray-700 rounded-2xl",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:"Allow New Registrations"}),e.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Enable new user sign-ups"})]}),e.jsx("button",{onClick:()=>c("allowRegistrations",!s.allowRegistrations),className:`relative inline-flex h-4 w-7 items-center rounded-full transition-colors ${s.allowRegistrations?"bg-green-600":"bg-gray-300"}`,children:e.jsx("span",{className:`inline-block h-3 w-3 transform rounded-full bg-white shadow-sm transition-transform ${s.allowRegistrations?"translate-x-3.5":"translate-x-0.5"}`})})]}),e.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 dark:bg-gray-700 rounded-2xl",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:"Email Verification Required"}),e.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Require email verification for new accounts"})]}),e.jsx("button",{onClick:()=>c("requireEmailVerification",!s.requireEmailVerification),className:`relative inline-flex h-4 w-7 items-center rounded-full transition-colors ${s.requireEmailVerification?"bg-blue-600":"bg-gray-300"}`,children:e.jsx("span",{className:`inline-block h-3 w-3 transform rounded-full bg-white shadow-sm transition-transform ${s.requireEmailVerification?"translate-x-3.5":"translate-x-0.5"}`})})]}),e.jsxs("div",{className:"p-3 bg-gray-50 dark:bg-gray-700 rounded-2xl",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-900 dark:text-white mb-2",children:"Max Users Per Garden"}),e.jsx("input",{type:"number",value:s.maxUsersPerGarden,onChange:h=>c("maxUsersPerGarden",parseInt(h.target.value)),className:"w-full px-3 py-2 border border-gray-200 dark:border-gray-600 bg-white dark:bg-gray-600 text-gray-900 dark:text-white rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]})]})}),e.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-3xl border border-gray-100 dark:border-gray-700",children:e.jsxs("div",{className:"p-6",children:[e.jsxs("h3",{className:"text-lg font-bold text-gray-900 dark:text-white mb-4 flex items-center",children:[e.jsx(_r,{className:"h-5 w-5 text-red-500 mr-2"}),"Security Settings"]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"p-3 bg-gray-50 dark:bg-gray-700 rounded-2xl",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-900 dark:text-white mb-2",children:"Minimum Password Length"}),e.jsx("input",{type:"number",value:s.passwordMinLength,onChange:h=>c("passwordMinLength",parseInt(h.target.value)),className:"w-full px-3 py-2 border border-gray-200 dark:border-gray-600 bg-white dark:bg-gray-600 text-gray-900 dark:text-white rounded-xl focus:ring-2 focus:ring-red-500 focus:border-transparent"})]}),e.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 dark:bg-gray-700 rounded-2xl",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:"Require Strong Passwords"}),e.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Enforce complex password requirements"})]}),e.jsx("button",{onClick:()=>c("requireStrongPasswords",!s.requireStrongPasswords),className:`relative inline-flex h-4 w-7 items-center rounded-full transition-colors ${s.requireStrongPasswords?"bg-red-600":"bg-gray-300"}`,children:e.jsx("span",{className:`inline-block h-3 w-3 transform rounded-full bg-white shadow-sm transition-transform ${s.requireStrongPasswords?"translate-x-3.5":"translate-x-0.5"}`})})]}),e.jsxs("div",{className:"p-3 bg-gray-50 dark:bg-gray-700 rounded-2xl",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-900 dark:text-white mb-2",children:"Max Login Attempts"}),e.jsx("input",{type:"number",value:s.loginAttempts,onChange:h=>c("loginAttempts",parseInt(h.target.value)),className:"w-full px-3 py-2 border border-gray-200 dark:border-gray-600 bg-white dark:bg-gray-600 text-gray-900 dark:text-white rounded-xl focus:ring-2 focus:ring-red-500 focus:border-transparent"})]})]})]})}),e.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-3xl border border-gray-100 dark:border-gray-700",children:e.jsxs("div",{className:"p-6",children:[e.jsxs("h3",{className:"text-lg font-bold text-gray-900 dark:text-white mb-4 flex items-center",children:[e.jsx(ht,{className:"h-5 w-5 text-yellow-500 mr-2"}),"Notification Settings"]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 dark:bg-gray-700 rounded-2xl",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:"Email Notifications"}),e.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Send notifications via email"})]}),e.jsx("button",{onClick:()=>c("emailNotifications",!s.emailNotifications),className:`relative inline-flex h-4 w-7 items-center rounded-full transition-colors ${s.emailNotifications?"bg-yellow-600":"bg-gray-300"}`,children:e.jsx("span",{className:`inline-block h-3 w-3 transform rounded-full bg-white shadow-sm transition-transform ${s.emailNotifications?"translate-x-3.5":"translate-x-0.5"}`})})]}),e.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 dark:bg-gray-700 rounded-2xl",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:"Push Notifications"}),e.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Send push notifications to mobile devices"})]}),e.jsx("button",{onClick:()=>c("pushNotifications",!s.pushNotifications),className:`relative inline-flex h-4 w-7 items-center rounded-full transition-colors ${s.pushNotifications?"bg-yellow-600":"bg-gray-300"}`,children:e.jsx("span",{className:`inline-block h-3 w-3 transform rounded-full bg-white shadow-sm transition-transform ${s.pushNotifications?"translate-x-3.5":"translate-x-0.5"}`})})]}),e.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 dark:bg-gray-700 rounded-2xl",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:"Admin Alerts"}),e.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Critical system alerts for admins"})]}),e.jsx("button",{onClick:()=>c("adminAlerts",!s.adminAlerts),className:`relative inline-flex h-4 w-7 items-center rounded-full transition-colors ${s.adminAlerts?"bg-red-600":"bg-gray-300"}`,children:e.jsx("span",{className:`inline-block h-3 w-3 transform rounded-full bg-white shadow-sm transition-transform ${s.adminAlerts?"translate-x-3.5":"translate-x-0.5"}`})})]}),e.jsxs("div",{className:"border-t border-gray-200 dark:border-gray-600 pt-4 mt-4",children:[e.jsx("div",{className:"text-sm font-medium text-gray-900 dark:text-white mb-3",children:"Test Notifications"}),e.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[e.jsx("button",{onClick:()=>u("system"),className:"px-3 py-2 bg-blue-100 dark:bg-blue-900/30 text-blue-700 dark:text-blue-300 text-xs font-medium rounded-lg hover:bg-blue-200 dark:hover:bg-blue-900/50 transition-colors",children:"System Alert"}),e.jsx("button",{onClick:()=>u("new_message"),className:"px-3 py-2 bg-purple-100 dark:bg-purple-900/30 text-purple-700 dark:text-purple-300 text-xs font-medium rounded-lg hover:bg-purple-200 dark:hover:bg-purple-900/50 transition-colors",children:"New Message"}),e.jsx("button",{onClick:()=>u("friend_request"),className:"px-3 py-2 bg-green-100 dark:bg-green-900/30 text-green-700 dark:text-green-300 text-xs font-medium rounded-lg hover:bg-green-200 dark:hover:bg-green-900/50 transition-colors",children:"Friend Request"}),e.jsx("button",{onClick:()=>u("event_reminder"),className:"px-3 py-2 bg-orange-100 dark:bg-orange-900/30 text-orange-700 dark:text-orange-300 text-xs font-medium rounded-lg hover:bg-orange-200 dark:hover:bg-orange-900/50 transition-colors",children:"Event Reminder"})]})]})]})]})}),e.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-3xl border border-gray-100 dark:border-gray-700",children:e.jsxs("div",{className:"p-6",children:[e.jsxs("h3",{className:"text-lg font-bold text-gray-900 dark:text-white mb-4 flex items-center",children:[e.jsx(Ua,{className:"h-5 w-5 text-purple-500 mr-2"}),"Backup & Data Management"]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 dark:bg-gray-700 rounded-2xl",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:"Auto Backup"}),e.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Automatically backup data"})]}),e.jsx("button",{onClick:()=>c("autoBackup",!s.autoBackup),className:`relative inline-flex h-4 w-7 items-center rounded-full transition-colors ${s.autoBackup?"bg-purple-600":"bg-gray-300"}`,children:e.jsx("span",{className:`inline-block h-3 w-3 transform rounded-full bg-white shadow-sm transition-transform ${s.autoBackup?"translate-x-3.5":"translate-x-0.5"}`})})]}),e.jsxs("div",{className:"p-3 bg-gray-50 dark:bg-gray-700 rounded-2xl",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-900 dark:text-white mb-2",children:"Backup Frequency"}),e.jsxs("select",{value:s.backupFrequency,onChange:h=>c("backupFrequency",h.target.value),className:"w-full px-3 py-2 border border-gray-200 dark:border-gray-600 bg-white dark:bg-gray-600 text-gray-900 dark:text-white rounded-xl focus:ring-2 focus:ring-purple-500 focus:border-transparent",children:[e.jsx("option",{value:"hourly",children:"Hourly"}),e.jsx("option",{value:"daily",children:"Daily"}),e.jsx("option",{value:"weekly",children:"Weekly"}),e.jsx("option",{value:"monthly",children:"Monthly"})]})]}),e.jsxs("div",{className:"p-3 bg-gray-50 dark:bg-gray-700 rounded-2xl",children:[e.jsx("div",{className:"text-sm font-medium text-gray-900 dark:text-white mb-2",children:"Last Backup"}),e.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400 mb-3",children:new Date(i.lastBackup).toLocaleString()}),e.jsxs("div",{className:"flex space-x-3",children:[e.jsx("button",{onClick:g,className:"flex-1 bg-purple-100 dark:bg-purple-900/30 text-purple-700 dark:text-purple-300 py-2 px-4 rounded-xl text-sm font-medium hover:bg-purple-200 dark:hover:bg-purple-900/50 transition-colors",children:"Backup Now"}),e.jsx("button",{onClick:x,className:"flex-1 bg-blue-100 dark:bg-blue-900/30 text-blue-700 dark:text-blue-300 py-2 px-4 rounded-xl text-sm font-medium hover:bg-blue-200 dark:hover:bg-blue-900/50 transition-colors",children:"Export Data"})]})]})]})]})}),e.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-3xl border border-red-200 dark:border-red-800",children:e.jsxs("div",{className:"p-6",children:[e.jsxs("h3",{className:"text-lg font-bold text-red-700 dark:text-red-400 mb-4 flex items-center",children:[e.jsx(fa,{className:"h-5 w-5 mr-2"}),"Danger Zone"]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"p-4 bg-red-50 dark:bg-red-900/20 rounded-2xl border border-red-200 dark:border-red-800",children:[e.jsxs("div",{className:"mb-3",children:[e.jsx("div",{className:"text-sm font-medium text-red-800 dark:text-red-300",children:"Reset All Settings"}),e.jsx("div",{className:"text-xs text-red-600 dark:text-red-400",children:"This will reset all settings to default values"})]}),e.jsx("button",{className:"w-full bg-red-600 text-white py-2 px-4 rounded-xl text-sm font-medium hover:bg-red-700 transition-colors",children:"Reset Settings"})]}),e.jsxs("div",{className:"p-4 bg-red-50 dark:bg-red-900/20 rounded-2xl border border-red-200 dark:border-red-800",children:[e.jsxs("div",{className:"mb-3",children:[e.jsx("div",{className:"text-sm font-medium text-red-800 dark:text-red-300",children:"Clear All Data"}),e.jsx("div",{className:"text-xs text-red-600 dark:text-red-400",children:"This will permanently delete all user data"})]}),e.jsx("button",{className:"w-full bg-red-700 text-white py-2 px-4 rounded-xl text-sm font-medium hover:bg-red-800 transition-colors",children:"Clear All Data"})]})]})]})})]})]})})},_h=Object.freeze(Object.defineProperty({__proto__:null,default:Wl},Symbol.toStringTag,{value:"Module"})),Ph=()=>{const t=Ce(),{user:r}=ge(),[a,s]=n.useState(!0),[l,i]=n.useState("7"),[o,d]=n.useState({total:{totalRequests:0,totalCost:0,successfulRequests:0,failedRequests:0,avgResponseTime:0},byApiType:[],dailyUsage:[]}),[c,x]=n.useState({places_text_search:.032,places_details:.017,places_photos:.007,places_autocomplete:.00285});n.useEffect(()=>{if((r==null?void 0:r.role)!=="admin"){_.error("Access denied. Admin privileges required."),t("/dashboard");return}g()},[r,t,l]);const g=async()=>{try{s(!0);const b=new Date,v=new Date;v.setDate(v.getDate()-parseInt(l));const N=await H.get("/admin/api-usage",{params:{startDate:v.toISOString(),endDate:b.toISOString(),days:l}});d(N.data)}catch(b){console.error("Error loading API usage data:",b),d({total:{totalRequests:1247,totalCost:39.9,successfulRequests:1198,failedRequests:49,avgResponseTime:892},byApiType:[{_id:"places_text_search",totalRequests:1180,totalCost:37.76,successfulRequests:1140,failedRequests:40,avgResponseTime:920},{_id:"places_details",totalRequests:45,totalCost:.77,successfulRequests:42,failedRequests:3,avgResponseTime:680},{_id:"places_photos",totalRequests:22,totalCost:.15,successfulRequests:16,failedRequests:6,avgResponseTime:1150}],dailyUsage:[{_id:{year:2024,month:12,day:15},totalRequests:89,totalCost:2.85,successfulRequests:85},{_id:{year:2024,month:12,day:16},totalRequests:124,totalCost:3.97,successfulRequests:118},{_id:{year:2024,month:12,day:17},totalRequests:156,totalCost:4.99,successfulRequests:151},{_id:{year:2024,month:12,day:18},totalRequests:203,totalCost:6.5,successfulRequests:195},{_id:{year:2024,month:12,day:19},totalRequests:178,totalCost:5.7,successfulRequests:170},{_id:{year:2024,month:12,day:20},totalRequests:234,totalCost:7.49,successfulRequests:224},{_id:{year:2024,month:12,day:21},totalRequests:263,totalCost:8.4,successfulRequests:255}]})}finally{s(!1)}},u=()=>{const b=o.total.totalRequests,v=o.total.successfulRequests;return b>0?(v/b*100).toFixed(1):0},h=b=>({places_text_search:"Places Search",places_details:"Place Details",places_photos:"Place Photos",places_autocomplete:"Autocomplete"})[b]||b,p=b=>({places_text_search:e.jsx(Rr,{className:"h-5 w-5"}),places_details:e.jsx(Ke,{className:"h-5 w-5"}),places_photos:e.jsx(r0,{className:"h-5 w-5"}),places_autocomplete:e.jsx(lc,{className:"h-5 w-5"})})[b]||e.jsx(qt,{className:"h-5 w-5"}),f=b=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:2,maximumFractionDigits:4}).format(b),j=b=>b<1e3?`${Math.round(b)}ms`:`${(b/1e3).toFixed(1)}s`,m=()=>o.total.totalCost/parseInt(l)*30,E=()=>{if(o.dailyUsage.length<2)return"stable";const b=o.dailyUsage.slice(-3),v=o.dailyUsage.slice(-6,-3),N=b.reduce((k,M)=>k+M.totalRequests,0)/b.length,w=v.reduce((k,M)=>k+M.totalRequests,0)/v.length,C=(N-w)/w*100;return C>10?"increasing":C<-10?"decreasing":"stable"};return a?e.jsx(Ns,{}):e.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900",children:e.jsxs("div",{className:"max-w-lg mx-auto lg:max-w-7xl",children:[e.jsxs("div",{className:"bg-gradient-to-br from-blue-600 via-purple-600 to-indigo-700 dark:from-blue-700 dark:via-purple-700 dark:to-indigo-800 mx-2 sm:mx-4 mt-2 sm:mt-4 rounded-2xl sm:rounded-3xl p-4 sm:p-6 text-white",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center mb-2",children:[e.jsx("button",{onClick:()=>t("/admin"),className:"mr-3 p-2 bg-white bg-opacity-20 rounded-xl hover:bg-opacity-30 transition-colors",children:e.jsx(We,{className:"h-4 sm:h-5 w-4 sm:w-5"})}),e.jsx("h1",{className:"text-xl sm:text-2xl font-bold",children:"API Usage Monitor "})]}),e.jsx("p",{className:"text-blue-100 dark:text-blue-200 text-sm",children:"Google Places API Usage & Cost Tracking"})]}),e.jsx("div",{className:"hidden sm:block",children:e.jsx("div",{className:"bg-white bg-opacity-20 rounded-2xl p-3",children:e.jsx(qt,{className:"h-8 sm:h-12 w-8 sm:w-12 text-yellow-300"})})})]}),e.jsx("div",{className:"flex flex-wrap gap-2 mb-4",children:["7","30","90"].map(b=>e.jsxs("button",{onClick:()=>i(b),className:`px-3 py-1.5 rounded-lg text-sm font-medium transition-colors ${l===b?"bg-white text-blue-600":"bg-white bg-opacity-20 text-white hover:bg-opacity-30"}`,children:["Last ",b," days"]},b))}),e.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-3 text-blue-100 dark:text-blue-200 text-sm",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(za,{className:"h-4 w-4 mr-1"}),e.jsxs("span",{children:[o.total.totalRequests," Requests"]})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx(Is,{className:"h-4 w-4 mr-1"}),e.jsx("span",{children:f(o.total.totalCost)})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx(De,{className:"h-4 w-4 mr-1"}),e.jsxs("span",{children:[u(),"% Success"]})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx(Ae,{className:"h-4 w-4 mr-1"}),e.jsx("span",{children:j(o.total.avgResponseTime)})]})]})]}),e.jsxs("div",{className:"px-2 sm:px-4 py-4 sm:py-6 space-y-4 sm:space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-3 sm:gap-4",children:[e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl sm:rounded-3xl p-4 sm:p-6 border border-gray-100 dark:border-gray-700",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsx(Is,{className:"h-8 w-8 text-green-500"}),e.jsx("div",{className:`p-2 rounded-full text-xs ${E()==="increasing"?"bg-red-100 text-red-600":E()==="decreasing"?"bg-green-100 text-green-600":"bg-gray-100 text-gray-600"}`,children:E()==="increasing"?e.jsx(Qd,{className:"h-3 w-3"}):E()==="decreasing"?e.jsx(Wd,{className:"h-3 w-3"}):e.jsx("span",{children:"="})})]}),e.jsx("div",{className:"text-2xl sm:text-3xl font-bold text-gray-900 dark:text-white mb-1",children:f(o.total.totalCost)}),e.jsxs("div",{className:"text-xs sm:text-sm text-gray-500 dark:text-gray-400",children:["Total Cost (",l," days)"]}),e.jsxs("div",{className:"text-xs text-gray-400 dark:text-gray-500 mt-1",children:["Monthly Est: ",f(m())]})]}),e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl sm:rounded-3xl p-4 sm:p-6 border border-gray-100 dark:border-gray-700",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsx(za,{className:"h-8 w-8 text-blue-500"}),e.jsxs("div",{className:"text-xs text-gray-500",children:[(o.total.totalRequests/parseInt(l)).toFixed(0),"/day"]})]}),e.jsx("div",{className:"text-2xl sm:text-3xl font-bold text-gray-900 dark:text-white mb-1",children:o.total.totalRequests.toLocaleString()}),e.jsx("div",{className:"text-xs sm:text-sm text-gray-500 dark:text-gray-400",children:"Total Requests"})]}),e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl sm:rounded-3xl p-4 sm:p-6 border border-gray-100 dark:border-gray-700",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsx(De,{className:"h-8 w-8 text-green-500"}),e.jsxs("div",{className:"text-xs text-red-500",children:[o.total.failedRequests," failures"]})]}),e.jsxs("div",{className:"text-2xl sm:text-3xl font-bold text-gray-900 dark:text-white mb-1",children:[u(),"%"]}),e.jsx("div",{className:"text-xs sm:text-sm text-gray-500 dark:text-gray-400",children:"Success Rate"})]}),e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl sm:rounded-3xl p-4 sm:p-6 border border-gray-100 dark:border-gray-700",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsx(Ae,{className:"h-8 w-8 text-purple-500"}),e.jsx("div",{className:`text-xs ${o.total.avgResponseTime>1e3?"text-red-500":o.total.avgResponseTime>500?"text-yellow-500":"text-green-500"}`,children:o.total.avgResponseTime>1e3?"Slow":o.total.avgResponseTime>500?"Fair":"Good"})]}),e.jsx("div",{className:"text-2xl sm:text-3xl font-bold text-gray-900 dark:text-white mb-1",children:j(o.total.avgResponseTime)}),e.jsx("div",{className:"text-xs sm:text-sm text-gray-500 dark:text-gray-400",children:"Avg Response Time"})]})]}),e.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-2xl sm:rounded-3xl border border-gray-100 dark:border-gray-700",children:e.jsxs("div",{className:"p-4 sm:p-6",children:[e.jsxs("h3",{className:"text-lg font-bold text-gray-900 dark:text-white mb-4 flex items-center",children:[e.jsx(qt,{className:"h-5 w-5 text-purple-500 mr-2"}),"API Breakdown"]}),e.jsx("div",{className:"space-y-3 sm:space-y-4",children:o.byApiType.map(b=>e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between p-3 sm:p-4 bg-gray-50 dark:bg-gray-700 rounded-xl sm:rounded-2xl",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-2 sm:mb-0",children:[e.jsx("div",{className:"p-2 bg-white dark:bg-gray-600 rounded-lg",children:p(b._id)}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm sm:text-base font-medium text-gray-900 dark:text-white",children:h(b._id)}),e.jsxs("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:[f(c[b._id])," per request"]})]})]}),e.jsxs("div",{className:"grid grid-cols-2 sm:flex sm:items-center sm:space-x-6 gap-2 text-sm",children:[e.jsxs("div",{className:"text-center sm:text-left",children:[e.jsx("div",{className:"font-medium text-gray-900 dark:text-white",children:b.totalRequests.toLocaleString()}),e.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Requests"})]}),e.jsxs("div",{className:"text-center sm:text-left",children:[e.jsx("div",{className:"font-medium text-gray-900 dark:text-white",children:f(b.totalCost)}),e.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Cost"})]}),e.jsxs("div",{className:"text-center sm:text-left",children:[e.jsxs("div",{className:"font-medium text-gray-900 dark:text-white",children:[(b.successfulRequests/b.totalRequests*100).toFixed(1),"%"]}),e.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Success"})]}),e.jsxs("div",{className:"text-center sm:text-left",children:[e.jsx("div",{className:"font-medium text-gray-900 dark:text-white",children:j(b.avgResponseTime)}),e.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Avg Time"})]})]})]},b._id))})]})}),e.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-2xl sm:rounded-3xl border border-gray-100 dark:border-gray-700",children:e.jsxs("div",{className:"p-4 sm:p-6",children:[e.jsxs("h3",{className:"text-lg font-bold text-gray-900 dark:text-white mb-4 flex items-center",children:[e.jsx(wt,{className:"h-5 w-5 text-blue-500 mr-2"}),"Daily Usage Trend"]}),e.jsx("div",{className:"space-y-3",children:o.dailyUsage.map(b=>{const v=new Date(b._id.year,b._id.month-1,b._id.day),N=Math.max(...o.dailyUsage.map(C=>C.totalRequests)),w=b.totalRequests/N*100;return e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-16 sm:w-20 text-xs sm:text-sm text-gray-500 dark:text-gray-400",children:v.toLocaleDateString("en-US",{month:"short",day:"numeric"})}),e.jsx("div",{className:"flex-1 bg-gray-200 dark:bg-gray-600 rounded-full h-3 sm:h-4",children:e.jsx("div",{className:"bg-gradient-to-r from-blue-500 to-purple-500 h-3 sm:h-4 rounded-full transition-all duration-300",style:{width:`${w}%`}})}),e.jsx("div",{className:"w-16 sm:w-20 text-xs sm:text-sm text-gray-900 dark:text-white text-right",children:b.totalRequests}),e.jsx("div",{className:"w-16 sm:w-20 text-xs sm:text-sm text-gray-500 dark:text-gray-400 text-right",children:f(b.totalCost)})]},`${b._id.year}-${b._id.month}-${b._id.day}`)})})]})}),e.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-2xl sm:rounded-3xl border border-gray-100 dark:border-gray-700",children:e.jsxs("div",{className:"p-4 sm:p-6",children:[e.jsxs("h3",{className:"text-lg font-bold text-gray-900 dark:text-white mb-4 flex items-center",children:[e.jsx(Is,{className:"h-5 w-5 text-green-500 mr-2"}),"Current Google Places API Pricing"]}),e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:Object.entries(c).map(([b,v])=>e.jsxs("div",{className:"p-4 bg-gray-50 dark:bg-gray-700 rounded-xl",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:"text-sm font-medium text-gray-900 dark:text-white",children:h(b)}),e.jsxs("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:[f(v)," per request"]})]}),e.jsxs("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:[f(v*1e3)," per 1,000 requests"]})]},b))}),e.jsx("div",{className:"mt-4 p-4 bg-blue-50 dark:bg-blue-900/20 rounded-xl",children:e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx(fa,{className:"h-5 w-5 text-blue-500 mt-0.5"}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-medium text-blue-900 dark:text-blue-300",children:"Google Cloud Free Tier"}),e.jsx("div",{className:"text-xs text-blue-700 dark:text-blue-400 mt-1",children:"$200 in free credits for the first 90 days. After that, you'll be charged based on usage."})]})]})})]})})]})]})})},Fh=({garden:t,onClose:r})=>{const[a,s]=n.useState("overview"),[l,i]=n.useState({totalSubscribers:0,activeSubscribers:0,preferenceBreakdown:{events:0,promotions:0,announcements:0,maintenance:0},recentSubscriptions:[]}),[o,d]=n.useState([]),[c,x]=n.useState(!0),[g,u]=n.useState(1),[h,p]=n.useState(1),[f,j]=n.useState(!1),[m,E]=n.useState({subject:"",content:"",emailType:"announcements"}),[b,v]=n.useState(!1);n.useEffect(()=>{t!=null&&t._id&&N()},[t==null?void 0:t._id]);const N=async()=>{var A;try{x(!0);const[I,F]=await Promise.all([Te.getNewsletterStats(t._id),Te.getNewsletterSubscribers(t._id,{page:g,limit:10})]);i(I),d(F.subscribers||[]),p(((A=F.pagination)==null?void 0:A.pages)||1)}catch(I){console.error("Error loading newsletter data:",I),_.error("Failed to load newsletter data")}finally{x(!1)}},w=async()=>{var A,I;if(!m.subject||!m.content){_.error("Please fill in both subject and content");return}v(!0);try{await Te.sendNewsletter(t._id,m),_.success("Newsletter sent successfully!"),j(!1),E({subject:"",content:"",emailType:"announcements"}),N()}catch(F){console.error("Error sending newsletter:",F),_.error(((I=(A=F.response)==null?void 0:A.data)==null?void 0:I.error)||"Failed to send newsletter")}finally{v(!1)}},C=[{id:"overview",name:"Overview",icon:qt},{id:"subscribers",name:"Subscribers",icon:Ne},{id:"send",name:"Send Newsletter",icon:Kt}],k=()=>e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[e.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-2xl p-4 border border-gray-100 dark:border-gray-700",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Total Subscribers"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:l.totalSubscribers})]}),e.jsx(Pr,{className:"h-8 w-8 text-blue-500"})]})}),e.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-2xl p-4 border border-gray-100 dark:border-gray-700",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Active Subscribers"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:l.activeSubscribers})]}),e.jsx(De,{className:"h-8 w-8 text-green-500"})]})}),e.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-2xl p-4 border border-gray-100 dark:border-gray-700",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Events Subscribers"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:l.preferenceBreakdown.events})]}),e.jsx(dt,{className:"h-8 w-8 text-purple-500"})]})}),e.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-2xl p-4 border border-gray-100 dark:border-gray-700",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Promotions Subscribers"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:l.preferenceBreakdown.promotions})]}),e.jsx(sl,{className:"h-8 w-8 text-orange-500"})]})})]}),e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl p-6 border border-gray-100 dark:border-gray-700",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Subscription Preferences"}),e.jsx("div",{className:"space-y-3",children:Object.entries(l.preferenceBreakdown).map(([A,I])=>e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 capitalize",children:A.replace(/([A-Z])/g," $1").trim()}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"w-24 bg-gray-200 dark:bg-gray-700 rounded-full h-2",children:e.jsx("div",{className:"bg-blue-500 h-2 rounded-full",style:{width:`${l.activeSubscribers>0?I/l.activeSubscribers*100:0}%`}})}),e.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400 w-8",children:I})]})]},A))})]}),e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl p-6 border border-gray-100 dark:border-gray-700",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Recent Subscriptions"}),l.recentSubscriptions.length>0?e.jsx("div",{className:"space-y-3",children:l.recentSubscriptions.map((A,I)=>{var F,T;return e.jsxs("div",{className:"flex items-center justify-between py-2 border-b border-gray-100 dark:border-gray-700 last:border-b-0",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-8 h-8 bg-blue-100 dark:bg-blue-900/30 rounded-full flex items-center justify-center",children:e.jsx(ht,{className:"h-4 w-4 text-blue-600 dark:text-blue-400"})}),e.jsxs("div",{children:[e.jsxs("p",{className:"text-sm font-medium text-gray-900 dark:text-white",children:[(F=A.user)==null?void 0:F.firstName," ",(T=A.user)==null?void 0:T.lastName]}),e.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:A.userEmail})]})]}),e.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:new Date(A.subscriptionDate).toLocaleDateString()})]},I)})}):e.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-center py-4",children:"No recent subscriptions"})]})]}),M=()=>e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Subscribers"}),e.jsxs("button",{onClick:N,className:"flex items-center space-x-2 px-3 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition-colors",children:[e.jsx(Lr,{className:"h-4 w-4"}),e.jsx("span",{children:"Refresh"})]})]}),o.length>0?e.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-2xl border border-gray-100 dark:border-gray-700 overflow-hidden",children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-50 dark:bg-gray-700",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Subscriber"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Email"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Dog"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Subscribed Date"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Preferences"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-200 dark:divide-gray-700",children:o.map((A,I)=>{var F;return e.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-700",children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"w-8 h-8 bg-purple-100 dark:bg-purple-900/30 rounded-full flex items-center justify-center",children:e.jsx("span",{className:"text-sm font-medium text-purple-600 dark:text-purple-400",children:((F=A.userName)==null?void 0:F.charAt(0))||"?"})}),e.jsx("div",{className:"ml-3",children:e.jsx("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:A.userName})})]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("div",{className:"text-sm text-gray-900 dark:text-white",children:A.userEmail})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("div",{className:"text-sm text-gray-900 dark:text-white",children:A.dogName||"No dog listed"})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:new Date(A.subscriptionDate).toLocaleDateString()})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("div",{className:"flex flex-wrap gap-1",children:Object.entries(A.preferences||{}).map(([T,z])=>z&&e.jsx("span",{className:"px-2 py-1 text-xs bg-blue-100 dark:bg-blue-900/30 text-blue-800 dark:text-blue-300 rounded-full",children:T},T))})})]},I)})})]})})}):e.jsxs("div",{className:"text-center py-8",children:[e.jsx(ht,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"No subscribers yet"})]}),h>1&&e.jsx("div",{className:"flex justify-center space-x-2",children:Array.from({length:h},(A,I)=>I+1).map(A=>e.jsx("button",{onClick:()=>u(A),className:`px-3 py-2 rounded-lg text-sm font-medium transition-colors ${g===A?"bg-blue-500 text-white":"bg-white dark:bg-gray-800 text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700"}`,children:A},A))})]}),$=()=>e.jsx("div",{className:"space-y-6",children:e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl p-6 border border-gray-100 dark:border-gray-700",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Send Newsletter"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Email Type"}),e.jsxs("select",{value:m.emailType,onChange:A=>E({...m,emailType:A.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-700 dark:text-white",children:[e.jsx("option",{value:"announcements",children:"Announcements"}),e.jsx("option",{value:"events",children:"Events"}),e.jsx("option",{value:"promotions",children:"Promotions"}),e.jsx("option",{value:"maintenance",children:"Maintenance"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Subject"}),e.jsx("input",{type:"text",value:m.subject,onChange:A=>E({...m,subject:A.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-700 dark:text-white",placeholder:"Enter newsletter subject"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Content"}),e.jsx("textarea",{value:m.content,onChange:A=>E({...m,content:A.target.value}),rows:8,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-700 dark:text-white",placeholder:"Enter newsletter content"})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:["This will be sent to ",l.preferenceBreakdown[m.emailType]||0," subscribers"]}),e.jsx("button",{onClick:w,disabled:b||!m.subject||!m.content,className:"flex items-center space-x-2 px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:b?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),e.jsx("span",{children:"Sending..."})]}):e.jsxs(e.Fragment,{children:[e.jsx(ba,{className:"h-4 w-4"}),e.jsx("span",{children:"Send Newsletter"})]})})]})]})]})});return c?e.jsxs("div",{className:"animate-pulse",children:[e.jsx("div",{className:"h-6 bg-gray-300 dark:bg-gray-600 rounded mb-4"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-6",children:[...Array(4)].map((A,I)=>e.jsx("div",{className:"h-20 bg-gray-300 dark:bg-gray-600 rounded-2xl"},I))}),e.jsx("div",{className:"h-64 bg-gray-300 dark:bg-gray-600 rounded-2xl"})]}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-white",children:"Newsletter Management"}),e.jsx("button",{onClick:r,className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-full transition-colors",children:e.jsx(pe,{className:"h-5 w-5 text-gray-500 dark:text-gray-400"})})]}),e.jsx("div",{className:"border-b border-gray-200 dark:border-gray-700",children:e.jsx("nav",{className:"flex space-x-8",children:C.map(A=>e.jsxs("button",{onClick:()=>s(A.id),className:`flex items-center space-x-2 py-2 px-1 border-b-2 font-medium text-sm transition-colors ${a===A.id?"border-blue-500 text-blue-600 dark:text-blue-400":"border-transparent text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-300"}`,children:[e.jsx(A.icon,{className:"h-4 w-4"}),e.jsx("span",{children:A.name})]},A.id))})}),e.jsxs("div",{children:[a==="overview"&&k(),a==="subscribers"&&M(),a==="send"&&$()]})]})},Zl=()=>{const{user:t}=ge(),[r,a]=n.useState([]),[s,l]=n.useState(!0),[i,o]=n.useState(!1),[d,c]=n.useState(null),[x,g]=n.useState(!1),[u,h]=n.useState(null),[p,f]=n.useState(!1),[j,m]=n.useState(null),[E,b]=n.useState("list"),[v,N]=n.useState(!1),[w,C]=n.useState(null),[k,M]=n.useState({name:"",description:"",address:"",type:"public",capacity:{maxDogs:10},amenities:[],operatingHours:{open:"06:00",close:"22:00"}});n.useEffect(()=>{$()},[]);const $=async()=>{try{l(!0);const D=await H.get("/gardens/my-gardens");a(D.data)}catch(D){console.error("Error loading gardens:",D),_.error("Failed to load your gardens")}finally{l(!1)}},A=D=>{const{name:B,value:K}=D.target;if(B.includes(".")){const[le,oe]=B.split(".");M(Q=>({...Q,[le]:{...Q[le],[oe]:K}}))}else M(le=>({...le,[B]:K}))},I=async D=>{var B,K,le;D.preventDefault();try{const oe={name:k.name,description:k.description,type:k.type,location:{address:k.address,city:((B=k.address.split(",").pop())==null?void 0:B.trim())||"Unknown",coordinates:{type:"Point",coordinates:[0,0]}},capacity:k.capacity,amenities:k.amenities,openingHours:{monday:{open:k.operatingHours.open,close:k.operatingHours.close,closed:!1},tuesday:{open:k.operatingHours.open,close:k.operatingHours.close,closed:!1},wednesday:{open:k.operatingHours.open,close:k.operatingHours.close,closed:!1},thursday:{open:k.operatingHours.open,close:k.operatingHours.close,closed:!1},friday:{open:k.operatingHours.open,close:k.operatingHours.close,closed:!1},saturday:{open:k.operatingHours.open,close:k.operatingHours.close,closed:!1},sunday:{open:k.operatingHours.open,close:k.operatingHours.close,closed:!1}}};if(d)await H.put(`/gardens/${d._id}`,oe),_.success("Garden updated successfully");else{const be=(await H.post("/gardens",oe)).data;be&&be._id?_.success(` Garden "${be.name}" created successfully!  QR code is ready - visit the garden page to view and download it.`):_.success("Garden created successfully")}F(),$()}catch(oe){console.error("Error saving garden:",oe),_.error(((le=(K=oe.response)==null?void 0:K.data)==null?void 0:le.error)||"Failed to save garden")}},F=()=>{M({name:"",description:"",address:"",type:"public",capacity:{maxDogs:10},amenities:[],operatingHours:{open:"06:00",close:"22:00"}}),c(null),o(!1)},T=D=>{var le,oe;c(D);let B="06:00",K="22:00";D.operatingHours?(B=D.operatingHours.open||"06:00",K=D.operatingHours.close||"22:00"):D.openingHours&&D.openingHours.monday&&(B=D.openingHours.monday.open||"06:00",K=D.openingHours.monday.close||"22:00"),M({name:D.name||"",description:D.description||"",address:((le=D.location)==null?void 0:le.address)||"",type:D.type||"public",capacity:{maxDogs:((oe=D.capacity)==null?void 0:oe.maxDogs)||10},amenities:D.amenities||[],operatingHours:{open:B,close:K}}),o(!0)},z=()=>{c(null),M({name:"",description:"",address:"",type:"public",capacity:{maxDogs:10},amenities:[],operatingHours:{open:"06:00",close:"22:00"}}),o(!0)},W=async D=>{if(window.confirm("Are you sure you want to delete this garden?"))try{await H.delete(`/gardens/${D}`),_.success("Garden deleted successfully"),$()}catch(B){console.error("Error deleting garden:",B),_.error("Failed to delete garden")}},Z=D=>{h(D),g(!0)},G=()=>{g(!1),h(null)},R=D=>{m(D),b("create"),f(!0)},V=D=>{_.success("Event created successfully!"),b("list")},J=()=>{f(!1),m(null),b("list")},L=D=>{C(D),N(!0)},q=()=>{N(!1),C(null)};return s?e.jsx(bu,{}):e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-purple-50 via-white to-pink-50 dark:from-gray-900 dark:via-gray-800 dark:to-gray-900",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[e.jsxs("div",{className:"relative bg-gradient-to-r from-purple-600 to-pink-600 dark:from-purple-700 dark:to-pink-700 rounded-3xl p-8 mb-8 text-white overflow-hidden",children:[e.jsx("div",{className:"absolute inset-0 bg-black opacity-10"}),e.jsx("div",{className:"relative z-10",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-4xl font-bold mb-2 flex items-center",children:"Garden Management Hub "}),e.jsxs("p",{className:"text-purple-100 text-lg mb-4",children:["Welcome, ",t==null?void 0:t.firstName,"! Create and manage beautiful dog parks for your community"]}),e.jsxs("div",{className:"flex items-center space-x-6 text-purple-100",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(ir,{className:"h-5 w-5 mr-2"}),e.jsxs("span",{children:[r.length," Gardens Managed"]})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx(Ne,{className:"h-5 w-5 mr-2"}),e.jsx("span",{children:"Community Builder"})]})]})]}),e.jsx("div",{className:"hidden md:block",children:e.jsx("div",{className:"bg-white bg-opacity-20 rounded-2xl p-4",children:e.jsx(vs,{className:"h-16 w-16 text-yellow-300"})})})]})}),e.jsx("div",{className:"absolute -bottom-6 -right-6 opacity-20",children:e.jsx("div",{className:"text-9xl",children:""})})]}),e.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-3xl shadow-lg border border-gray-100 dark:border-gray-700 p-6 mb-8",children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsxs("h2",{className:"text-xl font-bold text-gray-900 dark:text-white flex items-center",children:[e.jsx(Cr,{className:"h-6 w-6 text-purple-600 mr-2"}),"My Gardens Dashboard"]}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400 text-sm mt-1",children:"Manage all your dog parks in one place"})]}),e.jsxs("button",{onClick:z,className:"inline-flex items-center px-6 py-3 bg-gradient-to-r from-purple-600 to-pink-600 text-white font-medium rounded-xl hover:from-purple-700 hover:to-pink-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-purple-500 transition-all duration-200 transform hover:scale-105",children:[e.jsx(sa,{className:"h-5 w-5 mr-2"}),"Create New Garden"]})]})}),r.length>0?e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:r.map((D,B)=>{var K,le,oe,Q;return e.jsxs("div",{className:"group bg-white dark:bg-gray-800 rounded-3xl shadow-lg hover:shadow-xl transition-all duration-300 border border-gray-100 dark:border-gray-700 overflow-hidden",children:[e.jsxs("div",{className:`p-6 ${D.type==="public"?"bg-gradient-to-r from-green-500 to-emerald-600":"bg-gradient-to-r from-purple-500 to-pink-600"} text-white relative overflow-hidden`,children:[e.jsx("div",{className:"absolute -top-4 -right-4 opacity-20",children:e.jsx("div",{className:"text-6xl",children:D.type==="public"?"":""})}),e.jsxs("div",{className:"relative z-10",children:[e.jsxs("div",{className:"flex items-start justify-between mb-3",children:[e.jsx("h3",{className:"text-xl font-bold line-clamp-2 flex-1 pr-2",children:D.name}),e.jsxs("div",{className:"flex space-x-1",children:[e.jsx("button",{onClick:()=>Z(D),className:"p-2 bg-white bg-opacity-20 rounded-full hover:bg-opacity-30 transition-all duration-200",title:"View QR Code",children:e.jsx(jr,{className:"h-4 w-4"})}),e.jsx(ce,{to:`/gardens/${D._id}/custom-profile`,className:"p-2 bg-white bg-opacity-20 rounded-full hover:bg-opacity-30 transition-all duration-200",title:"Customize Profile",children:e.jsx(Xe,{className:"h-4 w-4"})}),e.jsx("button",{onClick:()=>T(D),className:"p-2 bg-white bg-opacity-20 rounded-full hover:bg-opacity-30 transition-all duration-200",title:"Edit",children:e.jsx(bs,{className:"h-4 w-4"})}),e.jsx("button",{onClick:()=>W(D._id),className:"p-2 bg-white bg-opacity-20 rounded-full hover:bg-opacity-30 transition-all duration-200",title:"Delete",children:e.jsx(ys,{className:"h-4 w-4"})})]})]}),e.jsx("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-xs font-medium bg-white bg-opacity-20",children:D.type==="public"?" Public Garden":" Private Garden"})]})]}),e.jsxs("div",{className:"p-6",children:[e.jsx("p",{className:"text-gray-600 dark:text-gray-400 text-sm mb-4 line-clamp-2",children:D.description}),e.jsxs("div",{className:"space-y-3 mb-4",children:[e.jsxs("div",{className:"flex items-center text-sm text-gray-600 dark:text-gray-400",children:[e.jsx(fe,{className:"h-4 w-4 mr-3 text-gray-400 dark:text-gray-500"}),e.jsx("span",{className:"truncate",children:(K=D.location)==null?void 0:K.address})]}),e.jsxs("div",{className:"flex items-center text-sm text-gray-600 dark:text-gray-400",children:[e.jsx(Ne,{className:"h-4 w-4 mr-3 text-gray-400 dark:text-gray-500"}),e.jsxs("span",{children:["Max ",((le=D.capacity)==null?void 0:le.maxDogs)||"N/A"," dogs"]})]}),e.jsxs("div",{className:"flex items-center text-sm text-gray-600 dark:text-gray-400",children:[e.jsx(Ae,{className:"h-4 w-4 mr-3 text-gray-400 dark:text-gray-500"}),e.jsxs("span",{children:[(oe=D.operatingHours)==null?void 0:oe.open," - ",(Q=D.operatingHours)==null?void 0:Q.close]})]})]}),e.jsxs("div",{className:"flex items-center justify-between pt-4 border-t border-gray-100 dark:border-gray-700",children:[e.jsxs("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-xs font-medium bg-green-100 dark:bg-green-900 text-green-800 dark:text-green-200",children:[e.jsx(De,{className:"h-3 w-3 mr-1"}),"Active"]}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsxs("button",{onClick:()=>R(D),className:"inline-flex items-center px-3 py-1 rounded-lg text-sm font-medium bg-purple-100 dark:bg-purple-900 text-purple-700 dark:text-purple-200 hover:bg-purple-200 dark:hover:bg-purple-800 transition-colors duration-200",title:"Create Event",children:[e.jsx(dt,{className:"h-4 w-4 mr-1"}),"Events"]}),e.jsxs("button",{onClick:()=>L(D),className:"inline-flex items-center px-3 py-1 rounded-lg text-sm font-medium bg-orange-100 dark:bg-orange-900 text-orange-700 dark:text-orange-200 hover:bg-orange-200 dark:hover:bg-orange-800 transition-colors duration-200",title:"Manage Newsletter",children:[e.jsx(ht,{className:"h-4 w-4 mr-1"}),"Newsletter"]}),e.jsxs("button",{onClick:()=>Z(D),className:"inline-flex items-center px-3 py-1 rounded-lg text-sm font-medium bg-blue-100 dark:bg-blue-900 text-blue-700 dark:text-blue-200 hover:bg-blue-200 dark:hover:bg-blue-800 transition-colors duration-200",children:[e.jsx(jr,{className:"h-4 w-4 mr-1"}),"QR Code"]}),e.jsxs(ce,{to:`/garden/${D._id}`,className:"inline-flex items-center px-3 py-1 rounded-lg text-sm font-medium bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-200 hover:bg-gray-200 dark:hover:bg-gray-600 transition-colors duration-200",children:[e.jsx(Ke,{className:"h-4 w-4 mr-1"}),"View"]})]})]})]})]},D._id)})}):e.jsx("div",{className:"text-center py-16",children:e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-3xl shadow-lg p-12 max-w-md mx-auto",children:[e.jsx("div",{className:"text-6xl mb-4",children:""}),e.jsx("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-2",children:"No Gardens Yet"}),e.jsx("p",{className:"text-gray-500 dark:text-gray-400 mb-6",children:"Create your first garden to start building an amazing community for dog lovers!"}),e.jsxs("button",{onClick:z,className:"inline-flex items-center px-6 py-3 bg-gradient-to-r from-purple-600 to-pink-600 text-white font-medium rounded-xl hover:from-purple-700 hover:to-pink-700 transition-all duration-200 transform hover:scale-105",children:[e.jsx(sa,{className:"h-5 w-5 mr-2"}),"Create Your First Garden"]})]})}),r.length>0&&e.jsxs("div",{className:"mt-12 bg-gradient-to-r from-purple-600 to-pink-600 dark:from-purple-700 dark:to-pink-700 rounded-3xl p-8 text-white",children:[e.jsx("h3",{className:"text-2xl font-bold mb-6 text-center",children:" Your Garden Empire"}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-6 text-center",children:[e.jsxs("div",{className:"bg-white bg-opacity-20 rounded-xl p-4",children:[e.jsx("div",{className:"text-3xl font-bold mb-1",children:r.length}),e.jsx("div",{className:"text-purple-100 text-sm",children:"Total Gardens"})]}),e.jsxs("div",{className:"bg-white bg-opacity-20 rounded-xl p-4",children:[e.jsx("div",{className:"text-3xl font-bold mb-1",children:r.filter(D=>D.type==="public").length}),e.jsx("div",{className:"text-purple-100 text-sm",children:"Public Gardens"})]}),e.jsxs("div",{className:"bg-white bg-opacity-20 rounded-xl p-4",children:[e.jsx("div",{className:"text-3xl font-bold mb-1",children:r.reduce((D,B)=>{var K;return D+(((K=B.capacity)==null?void 0:K.maxDogs)||0)},0)}),e.jsx("div",{className:"text-purple-100 text-sm",children:"Total Capacity"})]}),e.jsxs("div",{className:"bg-white bg-opacity-20 rounded-xl p-4",children:[e.jsx("div",{className:"text-3xl font-bold mb-1",children:"100%"}),e.jsx("div",{className:"text-purple-100 text-sm",children:"Active Status"})]})]})]}),i&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-3xl shadow-2xl max-w-4xl w-full max-h-[95vh] overflow-y-auto",children:[e.jsx("div",{className:"px-6 py-5 border-b border-gray-100 dark:border-gray-700 bg-gradient-to-r from-purple-600 to-pink-600 text-white",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsxs("h2",{className:"text-xl font-bold flex items-center",children:[e.jsx(al,{className:"h-6 w-6 mr-2"}),d?"Edit Garden":"Create New Garden"]}),e.jsx("p",{className:"text-purple-100 text-sm mt-1",children:d?"Update your garden details":"Build a new space for dogs to play and socialize"})]}),e.jsx("button",{onClick:F,className:"p-2 bg-white bg-opacity-20 rounded-full hover:bg-opacity-30 transition-all duration-200",children:e.jsx(pe,{className:"h-5 w-5"})})]})}),e.jsx("div",{className:"p-6",children:e.jsxs("form",{onSubmit:I,className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:" Garden Name"}),e.jsx("input",{type:"text",name:"name",value:k.name,onChange:A,required:!0,className:"w-full rounded-xl border border-gray-200 dark:border-gray-600 bg-gray-50 dark:bg-gray-700 px-4 py-3 text-base text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-purple-500 focus:bg-white dark:focus:bg-gray-600 transition-all duration-200",placeholder:"Enter a beautiful name for your garden"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:" Garden Type"}),e.jsxs("select",{name:"type",value:k.type,onChange:A,className:"w-full rounded-xl border border-gray-200 dark:border-gray-600 bg-gray-50 dark:bg-gray-700 px-4 py-3 text-base text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-purple-500 focus:bg-white dark:focus:bg-gray-600 transition-all duration-200",children:[e.jsx("option",{value:"public",children:" Public Garden"}),e.jsx("option",{value:"private",children:" Private Garden"})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:" Description"}),e.jsx("textarea",{name:"description",value:k.description,onChange:A,rows:4,required:!0,className:"w-full rounded-xl border border-gray-200 dark:border-gray-600 bg-gray-50 dark:bg-gray-700 px-4 py-3 text-base text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-purple-500 focus:bg-white dark:focus:bg-gray-600 transition-all duration-200",placeholder:"Describe what makes your garden special..."})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:" Address"}),e.jsx("input",{type:"text",name:"address",value:k.address,onChange:A,required:!0,className:"w-full rounded-xl border border-gray-200 dark:border-gray-600 bg-gray-50 dark:bg-gray-700 px-4 py-3 text-base text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-purple-500 focus:bg-white dark:focus:bg-gray-600 transition-all duration-200",placeholder:"Full address of your garden"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:" Max Dogs"}),e.jsx("input",{type:"number",name:"capacity.maxDogs",value:k.capacity.maxDogs,onChange:A,min:"1",max:"50",className:"w-full rounded-xl border border-gray-200 dark:border-gray-600 bg-gray-50 dark:bg-gray-700 px-4 py-3 text-base text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-purple-500 focus:bg-white dark:focus:bg-gray-600 transition-all duration-200"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:" Opening Time"}),e.jsx("input",{type:"time",name:"operatingHours.open",value:k.operatingHours.open,onChange:A,className:"w-full rounded-xl border border-gray-200 dark:border-gray-600 bg-gray-50 dark:bg-gray-700 px-4 py-3 text-base text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-purple-500 focus:bg-white dark:focus:bg-gray-600 transition-all duration-200"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:" Closing Time"}),e.jsx("input",{type:"time",name:"operatingHours.close",value:k.operatingHours.close,onChange:A,className:"w-full rounded-xl border border-gray-200 dark:border-gray-600 bg-gray-50 dark:bg-gray-700 px-4 py-3 text-base text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-purple-500 focus:bg-white dark:focus:bg-gray-600 transition-all duration-200"})]})]}),e.jsxs("div",{className:"flex justify-end space-x-4 pt-4 border-t border-gray-100 dark:border-gray-700",children:[e.jsx("button",{type:"button",onClick:F,className:"px-6 py-3 border border-gray-300 dark:border-gray-600 rounded-xl text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700 font-medium transition-colors duration-200",children:"Cancel"}),e.jsx("button",{type:"submit",className:"px-6 py-3 bg-gradient-to-r from-purple-600 to-pink-600 text-white rounded-xl hover:from-purple-700 hover:to-pink-700 font-medium transition-all duration-200 transform hover:scale-105",children:d?" Update Garden":" Create Garden"})]})]})})]})}),x&&u&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-3xl shadow-2xl max-w-lg w-full max-h-[90vh] overflow-y-auto",children:[e.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-200 dark:border-gray-700",children:[e.jsxs("h3",{className:"text-lg font-bold text-gray-900 dark:text-white",children:["QR Code for ",u.name]}),e.jsx("button",{onClick:G,className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-full transition-colors",children:e.jsx(pe,{className:"h-5 w-5 text-gray-500 dark:text-gray-400"})})]}),e.jsx("div",{className:"p-4",children:e.jsx(kl,{garden:u})})]})}),p&&j&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-3xl shadow-2xl max-w-6xl w-full max-h-[95vh] overflow-y-auto",children:[e.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200 dark:border-gray-700",children:[e.jsxs("h3",{className:"text-2xl font-bold text-gray-900 dark:text-white flex items-center",children:[e.jsx(dt,{className:"h-6 w-6 mr-2 text-purple-600"}),"Events for ",j.name]}),e.jsx("button",{onClick:J,className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-full transition-colors",children:e.jsx(pe,{className:"h-6 w-6 text-gray-500 dark:text-gray-400"})})]}),e.jsx("div",{className:"p-6 border-b border-gray-200 dark:border-gray-700",children:e.jsxs("div",{className:"flex space-x-4",children:[e.jsx("button",{onClick:()=>b("create"),className:`px-4 py-2 rounded-lg transition-all duration-200 ${E==="create"?"bg-purple-600 text-white":"bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-600"}`,children:"Create New Event"}),e.jsx("button",{onClick:()=>b("list"),className:`px-4 py-2 rounded-lg transition-all duration-200 ${E==="list"?"bg-purple-600 text-white":"bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-600"}`,children:"Manage Events"})]})}),e.jsx("div",{className:"p-6",children:E==="create"?e.jsx(El,{preSelectedGarden:j,onEventCreated:V,onCancel:()=>b("list")}):e.jsx(Sl,{garden:j})})]})}),v&&w&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-3xl shadow-2xl max-w-6xl w-full max-h-[95vh] overflow-y-auto",children:[e.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200 dark:border-gray-700",children:[e.jsxs("h3",{className:"text-2xl font-bold text-gray-900 dark:text-white flex items-center",children:[e.jsx(ht,{className:"h-6 w-6 mr-2 text-orange-600"}),"Newsletter Management for ",w.name]}),e.jsx("button",{onClick:q,className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-full transition-colors",children:e.jsx(pe,{className:"h-6 w-6 text-gray-500 dark:text-gray-400"})})]}),e.jsx("div",{className:"p-6",children:e.jsx(Fh,{garden:w,onClose:q})})]})})]})})},Ih=Object.freeze(Object.defineProperty({__proto__:null,default:Zl},Symbol.toStringTag,{value:"Module"})),hn="en",Yl="lingo-locale";/*! js-cookie v3.0.5 | MIT */function Wr(t){for(var r=1;r<arguments.length;r++){var a=arguments[r];for(var s in a)t[s]=a[s]}return t}var Oh={read:function(t){return t[0]==='"'&&(t=t.slice(1,-1)),t.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write:function(t){return encodeURIComponent(t).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}};function ma(t,r){function a(l,i,o){if(!(typeof document>"u")){o=Wr({},r,o),typeof o.expires=="number"&&(o.expires=new Date(Date.now()+o.expires*864e5)),o.expires&&(o.expires=o.expires.toUTCString()),l=encodeURIComponent(l).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);var d="";for(var c in o)o[c]&&(d+="; "+c,o[c]!==!0&&(d+="="+o[c].split(";")[0]));return document.cookie=l+"="+t.write(i,l)+d}}function s(l){if(!(typeof document>"u"||arguments.length&&!l)){for(var i=document.cookie?document.cookie.split("; "):[],o={},d=0;d<i.length;d++){var c=i[d].split("="),x=c.slice(1).join("=");try{var g=decodeURIComponent(c[0]);if(o[g]=t.read(x,g),l===g)break}catch{}}return l?o[l]:o}}return Object.create({set:a,get:s,remove:function(l,i){a(l,"",Wr({},i,{expires:-1}))},withAttributes:function(l){return ma(this.converter,Wr({},this.attributes,l))},withConverter:function(l){return ma(Wr({},this.converter,l),this.attributes)}},{attributes:{value:Object.freeze(r)},converter:{value:Object.freeze(t)}})}var Ql=ma(Oh,{path:"/"});function qh(){return typeof document>"u"?hn:Ql.get(Yl)||hn}function Vh(t){typeof document>"u"||Ql.set(Yl,t,{path:"/",expires:365,sameSite:"lax"})}function Bh(t){const{locales:r}=t,[a,s]=n.useState("");if(n.useEffect(()=>{const i=qh();s(i)},[r]),!a)return null;return e.jsx("select",{value:a,className:t.className,onChange:i=>{l(i.target.value)},children:r.map(i=>e.jsx("option",{value:i,children:i},i))});function l(i){return Vh(i),window.location.reload(),Promise.resolve()}}const zh=()=>e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-green-50",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:[e.jsx("div",{className:"text-center mb-8",children:e.jsx(Bh,{locales:["en","he"],className:"inline-flex items-center px-4 py-2 border border-gray-300 shadow-sm text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50"})}),e.jsxs("div",{className:"text-center mb-16",children:[e.jsx("h1",{className:"text-4xl md:text-6xl font-bold text-gray-900 mb-6",children:"Welcome to Dog Parks"}),e.jsx("p",{className:"text-xl text-gray-600 max-w-3xl mx-auto",children:"Connect with fellow dog owners, discover amazing parks, and create lasting memories with your furry friends."})]}),e.jsxs("div",{className:"grid md:grid-cols-3 gap-8 mb-16",children:[e.jsxs("div",{className:"text-center p-6 bg-white rounded-xl shadow-md",children:[e.jsx(Le,{className:"h-12 w-12 text-red-500 mx-auto mb-4"}),e.jsx("h3",{className:"text-xl font-semibold mb-3",children:"Find Love for Your Dog"}),e.jsx("p",{className:"text-gray-600",children:"Help your dog make new friends and find their perfect playmates in a safe environment."})]}),e.jsxs("div",{className:"text-center p-6 bg-white rounded-xl shadow-md",children:[e.jsx(At,{className:"h-12 w-12 text-blue-500 mx-auto mb-4"}),e.jsx("h3",{className:"text-xl font-semibold mb-3",children:"Join the Community"}),e.jsx("p",{className:"text-gray-600",children:"Connect with other dog owners, share experiences, and build lasting friendships."})]}),e.jsxs("div",{className:"text-center p-6 bg-white rounded-xl shadow-md",children:[e.jsx(_e,{className:"h-12 w-12 text-yellow-500 mx-auto mb-4"}),e.jsx("h3",{className:"text-xl font-semibold mb-3",children:"Amazing Events"}),e.jsx("p",{className:"text-gray-600",children:"Participate in dog meetups, training sessions, and fun activities throughout the city."})]})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("button",{className:"bg-blue-600 text-white px-8 py-4 rounded-lg text-lg font-semibold hover:bg-blue-700 transition duration-200",children:"Get Started Today"}),e.jsx("p",{className:"text-gray-500 mt-4",children:"Join thousands of happy dog owners already using our platform"})]})]})}),Uh=()=>e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-green-50",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsxs("div",{className:"text-center py-20",children:[e.jsx("h1",{className:"text-5xl font-bold text-gray-900 mb-6",children:"Welcome to Dog Parks Israel"}),e.jsx("p",{className:"text-xl text-gray-600 max-w-3xl mx-auto mb-8",children:"The best place to find dog parks, meet other dog owners, and create amazing memories with your furry friends."}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[e.jsx("button",{className:"bg-blue-600 text-white px-8 py-3 rounded-lg font-semibold hover:bg-blue-700 transition",children:"Join Our Community"}),e.jsx("button",{className:"border border-blue-600 text-blue-600 px-8 py-3 rounded-lg font-semibold hover:bg-blue-50 transition",children:"Find Parks Near Me"})]})]}),e.jsxs("div",{className:"grid md:grid-cols-3 gap-8 py-16",children:[e.jsxs("div",{className:"text-center p-6 bg-white rounded-xl shadow-md",children:[e.jsx(Le,{className:"h-12 w-12 text-red-500 mx-auto mb-4"}),e.jsx("h3",{className:"text-xl font-semibold mb-3",children:"Find Your Dog's Perfect Match"}),e.jsx("p",{className:"text-gray-600",children:"Help your dog meet new friends and find their ideal playmates in a safe, supervised environment."})]}),e.jsxs("div",{className:"text-center p-6 bg-white rounded-xl shadow-md",children:[e.jsx(At,{className:"h-12 w-12 text-blue-500 mx-auto mb-4"}),e.jsx("h3",{className:"text-xl font-semibold mb-3",children:"Connect with Dog Parents"}),e.jsx("p",{className:"text-gray-600",children:"Join our community of passionate dog owners. Share tips, experiences, and build lasting friendships."})]}),e.jsxs("div",{className:"text-center p-6 bg-white rounded-xl shadow-md",children:[e.jsx(_e,{className:"h-12 w-12 text-yellow-500 mx-auto mb-4"}),e.jsx("h3",{className:"text-xl font-semibold mb-3",children:"Exciting Events & Activities"}),e.jsx("p",{className:"text-gray-600",children:"Participate in dog training sessions, meetups, competitions, and fun activities throughout Israel."})]})]}),e.jsx("div",{className:"bg-blue-600 text-white rounded-2xl p-8 my-16",children:e.jsxs("div",{className:"grid md:grid-cols-4 gap-8 text-center",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-3xl font-bold mb-2",children:"1,200+"}),e.jsx("div",{className:"text-blue-100",children:"Happy Dogs"})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-3xl font-bold mb-2",children:"85"}),e.jsx("div",{className:"text-blue-100",children:"Dog Parks"})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-3xl font-bold mb-2",children:"500+"}),e.jsx("div",{className:"text-blue-100",children:"Dog Parents"})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-3xl font-bold mb-2",children:"50+"}),e.jsx("div",{className:"text-blue-100",children:"Weekly Events"})]})]})}),e.jsxs("div",{className:"text-center py-16",children:[e.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-12",children:"What Dog Parents Say"}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-8",children:[e.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-md",children:[e.jsx("p",{className:"text-gray-600 mb-4",children:'"This app helped my shy rescue dog become more social. Now he has so many friends at the park!"'}),e.jsx("div",{className:"font-semibold",children:"Sarah & Max"}),e.jsx("div",{className:"text-sm text-gray-500",children:"Tel Aviv"})]}),e.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-md",children:[e.jsx("p",{className:"text-gray-600 mb-4",children:`"I've met amazing people through this community. My weekend plans always include park meetups now."`}),e.jsx("div",{className:"font-semibold",children:"David & Luna"}),e.jsx("div",{className:"text-sm text-gray-500",children:"Jerusalem"})]})]})]}),e.jsxs("div",{className:"text-center py-16",children:[e.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-6",children:"Ready to Get Started?"}),e.jsx("p",{className:"text-gray-600 mb-8",children:"Join thousands of dog owners who have already found their perfect community."}),e.jsx("button",{className:"bg-green-600 text-white px-10 py-4 rounded-lg text-lg font-semibold hover:bg-green-700 transition",children:"Sign Up Today - It's Free!"})]})]})}),pn=()=>{var A,I,F,T;const{chatId:t}=cr(),r=Ce(),{user:a}=ge(),[s,l]=n.useState([]),[i,o]=n.useState(""),[d,c]=n.useState(!0),[x,g]=n.useState(!1),[u,h]=n.useState(""),[p,f]=n.useState(null);n.useState(!1);const[j,m]=n.useState(!1),E=n.useRef(null),b=n.useRef(null),v=["","","","","","","",""];n.useEffect(()=>{if(t){w();const z=setInterval(()=>{w(!1)},8e3);return()=>clearInterval(z)}},[t]),n.useEffect(()=>{N()},[s]);const N=()=>{var z;(z=E.current)==null||z.scrollIntoView({behavior:"smooth"})},w=async(z=!0)=>{var W;try{z&&c(!0);const G=(await H.get(`/chats/${t}/messages`)).data.messages;if(JSON.stringify(G)!==JSON.stringify(s)&&l(G),G.length>0&&!p){const R=(W=G.find(V=>V.sender._id!==a._id))==null?void 0:W.sender;R&&f({participants:[R]})}}catch(Z){z&&(h("Failed to load messages"),console.error("Error fetching messages:",Z))}finally{z&&c(!1)}},C=async z=>{if(z.preventDefault(),!i.trim()||x)return;g(!0);const W=i.trim();o("");try{const Z={message:{text:W,type:"text"}},G=await H.post(`/chats/${t}/messages`,Z);l(R=>[...R,G.data.message]),setTimeout(()=>{w(!1)},500)}catch(Z){h("Failed to send message"),console.error("Error sending message:",Z),o(W)}finally{g(!1)}},k=z=>new Date(z).toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit"}),M=z=>z.sender._id===a._id,$=z=>{o(z.target.value),b.current&&clearTimeout(b.current),m(!0),b.current=setTimeout(()=>{m(!1)},2e3)};return d?e.jsx(js,{}):e.jsxs("div",{className:"flex flex-col h-full bg-white dark:bg-gray-800 lg:rounded-3xl shadow-lg overflow-hidden",children:[e.jsx("div",{className:"flex-shrink-0 bg-gradient-to-r from-blue-600 via-purple-600 to-pink-600 dark:from-blue-700 dark:via-purple-700 dark:to-pink-700 text-white p-4 lg:rounded-t-3xl",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("button",{onClick:()=>r(-1),className:"p-2 hover:bg-white hover:bg-opacity-20 rounded-full transition-all duration-200",children:e.jsx(We,{className:"h-5 w-5 text-white"})}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsxs("div",{className:"relative",children:[(A=p==null?void 0:p.participants[0])!=null&&A.profileImage?e.jsx("img",{src:p.participants[0].profileImage,alt:`${p.participants[0].firstName} ${p.participants[0].lastName}`,className:"h-10 w-10 rounded-full object-cover border-2 border-white"}):e.jsx("div",{className:"h-10 w-10 rounded-full bg-white bg-opacity-20 flex items-center justify-center border-2 border-white",children:e.jsx(Rt,{className:"h-6 w-6 text-white"})}),e.jsx("div",{className:"absolute -bottom-1 -right-1 w-3 h-3 bg-green-400 rounded-full border-2 border-white"})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-bold text-white text-lg",children:p!=null&&p.participants[0]?`${p.participants[0].firstName} ${p.participants[0].lastName}`:"Chat"}),e.jsx("p",{className:"text-blue-100 text-sm",children:"Online now"})]})]})]}),e.jsx("button",{className:"p-2 hover:bg-white hover:bg-opacity-20 rounded-full transition-all duration-200",children:e.jsx(Jn,{className:"h-5 w-5 text-white"})})]})}),e.jsxs("div",{className:"flex-1 overflow-y-auto p-4 bg-gradient-to-b from-gray-50 to-white dark:from-gray-800 dark:to-gray-900",children:[u&&e.jsx("div",{className:"mb-4 p-4 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-2xl",children:e.jsx("p",{className:"text-red-700 dark:text-red-400 text-sm font-medium",children:u})}),s.length===0?e.jsx("div",{className:"flex items-center justify-center h-full",children:e.jsxs("div",{className:"text-center p-8",children:[e.jsx("div",{className:"w-20 h-20 bg-gradient-to-br from-blue-100 to-purple-100 dark:from-blue-900 dark:to-purple-900 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx("span",{className:"text-3xl",children:""})}),e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-2",children:"No messages yet"}),e.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-sm",children:"Start the conversation!"})]})}):e.jsxs("div",{className:"space-y-4",children:[s.map((z,W)=>{var R,V,J;const Z=M(z),G=W===0||new Date(z.createdAt).getTime()-new Date(s[W-1].createdAt).getTime()>3e5;return e.jsxs("div",{children:[G&&e.jsx("div",{className:"text-center mb-4",children:e.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400 bg-white dark:bg-gray-800 px-3 py-1 rounded-full shadow-sm border border-gray-200 dark:border-gray-700",children:k(z.createdAt)})}),e.jsxs("div",{className:`flex items-end space-x-2 ${Z?"justify-end":"justify-start"}`,children:[!Z&&e.jsx("div",{className:"w-8 h-8 flex-shrink-0 mb-1",children:(R=p==null?void 0:p.participants[0])!=null&&R.profileImage?e.jsx("img",{src:p.participants[0].profileImage,alt:"",className:"w-8 h-8 rounded-full object-cover"}):e.jsx("div",{className:"w-8 h-8 bg-gradient-to-br from-gray-400 to-gray-600 rounded-full flex items-center justify-center",children:e.jsx("span",{className:"text-white text-xs font-semibold",children:((J=(V=p==null?void 0:p.participants[0])==null?void 0:V.firstName)==null?void 0:J[0])||"U"})})}),e.jsxs("div",{className:`max-w-[75%] px-4 py-3 rounded-2xl shadow-sm ${Z?"bg-gradient-to-r from-blue-600 to-purple-600 text-white rounded-br-md":"bg-white dark:bg-gray-700 text-gray-900 dark:text-white rounded-bl-md border border-gray-200 dark:border-gray-600"}`,children:[e.jsx("p",{className:"text-sm break-words leading-relaxed",children:z.content.text}),e.jsx("p",{className:`text-xs mt-1 ${Z?"text-blue-100":"text-gray-500 dark:text-gray-400"}`,children:new Date(z.createdAt).toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit"})})]})]})]},z._id)}),j&&e.jsxs("div",{className:"flex items-end space-x-2 justify-start",children:[e.jsx("div",{className:"w-8 h-8 flex-shrink-0 mb-1",children:(I=p==null?void 0:p.participants[0])!=null&&I.profileImage?e.jsx("img",{src:p.participants[0].profileImage,alt:"",className:"w-8 h-8 rounded-full object-cover"}):e.jsx("div",{className:"w-8 h-8 bg-gradient-to-br from-gray-400 to-gray-600 rounded-full flex items-center justify-center",children:e.jsx("span",{className:"text-white text-xs font-semibold",children:((T=(F=p==null?void 0:p.participants[0])==null?void 0:F.firstName)==null?void 0:T[0])||"U"})})}),e.jsx("div",{className:"bg-white dark:bg-gray-700 px-4 py-3 rounded-2xl rounded-bl-md border border-gray-200 dark:border-gray-600 shadow-sm",children:e.jsxs("div",{className:"flex space-x-1",children:[e.jsx("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce"}),e.jsx("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce",style:{animationDelay:"0.1s"}}),e.jsx("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce",style:{animationDelay:"0.2s"}})]})})]}),e.jsx("div",{ref:E})]})]}),e.jsxs("div",{className:"flex-shrink-0 p-4 bg-white dark:bg-gray-800 border-t border-gray-200 dark:border-gray-700 lg:rounded-b-3xl",children:[e.jsx("div",{className:"flex items-center space-x-2 mb-3 overflow-x-auto pb-2",children:v.map((z,W)=>e.jsx("button",{onClick:()=>o(Z=>Z+z),className:"flex-shrink-0 w-10 h-10 bg-gray-100 dark:bg-gray-700 hover:bg-gray-200 dark:hover:bg-gray-600 rounded-full flex items-center justify-center transition-all duration-200 hover:scale-110",children:e.jsx("span",{className:"text-lg",children:z})},W))}),e.jsxs("form",{onSubmit:C,className:"flex items-center space-x-3",children:[e.jsxs("div",{className:"flex-1 relative",children:[e.jsx("input",{type:"text",value:i,onChange:$,placeholder:"Type a message...",className:"w-full px-4 py-3 bg-gray-100 dark:bg-gray-700 border-0 rounded-2xl text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 transition-all duration-200",disabled:x}),x&&e.jsx("div",{className:"absolute right-3 top-1/2 transform -translate-y-1/2",children:e.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-2 border-blue-600 border-t-transparent"})})]}),e.jsx("button",{type:"submit",disabled:!i.trim()||x,className:"inline-flex items-center justify-center w-12 h-12 bg-gradient-to-r from-blue-600 to-purple-600 text-white rounded-2xl hover:from-blue-700 hover:to-purple-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200 transform hover:scale-105",children:e.jsx(ba,{className:"h-5 w-5"})})]})]})]})},Hh=()=>e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-purple-50 via-white to-pink-50 dark:from-gray-900 dark:via-gray-800 dark:to-gray-900 lg:py-8",children:[e.jsx("div",{className:"lg:hidden h-screen",children:e.jsx(pn,{})}),e.jsx("div",{className:"hidden lg:block max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:e.jsx("div",{className:"h-[600px] rounded-3xl overflow-hidden shadow-2xl",children:e.jsx(pn,{})})})]}),Gh=()=>{const[t,r]=n.useState([]),[a,s]=n.useState(!0),[l,i]=n.useState("");ge(),n.useEffect(()=>{o()},[]);const o=async()=>{try{const c=await H.get("/chats");r(c.data.chats)}catch(c){i("Failed to load chats"),console.error("Error fetching chats:",c)}finally{s(!1)}},d=c=>{const x=new Date(c),u=(new Date-x)/(1e3*60*60);return u<24?x.toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit"}):u<168?x.toLocaleDateString("en-US",{weekday:"short"}):x.toLocaleDateString("en-US",{month:"short",day:"numeric"})};return a?e.jsx(js,{}):e.jsxs("div",{className:"bg-white rounded-lg shadow-md",children:[e.jsx("div",{className:"p-4 border-b border-gray-200",children:e.jsxs("h2",{className:"text-lg font-semibold text-gray-900 flex items-center",children:[e.jsx(ta,{className:"h-5 w-5 mr-2"}),"Messages"]})}),l&&e.jsx("div",{className:"p-4 bg-red-50 border-l-4 border-red-400",children:e.jsx("p",{className:"text-red-700",children:l})}),e.jsx("div",{className:"divide-y divide-gray-200",children:t.length===0?e.jsxs("div",{className:"p-8 text-center text-gray-500",children:[e.jsx(ta,{className:"h-12 w-12 mx-auto mb-4 text-gray-300"}),e.jsx("p",{children:"No conversations yet"}),e.jsx("p",{className:"text-sm",children:"Start chatting with other dog owners!"})]}):t.map(c=>{var x;return e.jsx(ce,{to:`/chat/${c._id}`,className:"block p-4 hover:bg-gray-50 transition-colors duration-200",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"flex-shrink-0",children:(x=c.participants[0])!=null&&x.profileImage?e.jsx("img",{src:c.participants[0].profileImage,alt:`${c.participants[0].firstName} ${c.participants[0].lastName}`,className:"h-10 w-10 rounded-full object-cover"}):e.jsx("div",{className:"h-10 w-10 rounded-full bg-gray-300 flex items-center justify-center",children:e.jsx(Rt,{className:"h-6 w-6 text-gray-600"})})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("p",{className:"text-sm font-medium text-gray-900 truncate",children:c.participants.map(g=>`${g.firstName} ${g.lastName}`).join(", ")}),e.jsx("p",{className:"text-xs text-gray-500",children:d(c.lastMessageTime)})]}),e.jsx("p",{className:"text-sm text-gray-500 truncate",children:c.lastMessage||"No messages yet"})]})]})},c._id)})})]})},Wh=()=>e.jsx("div",{className:"min-h-screen bg-gray-50 py-8",children:e.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Messages"}),e.jsx("p",{className:"mt-2 text-gray-600",children:"Connect with other dog owners in your community"})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[e.jsx("div",{className:"lg:col-span-2",children:e.jsx(Gh,{})}),e.jsx("div",{className:"lg:col-span-1",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Start a Conversation"}),e.jsx("p",{className:"text-gray-600 text-sm mb-4",children:"Select a conversation from the list to start chatting, or visit a dog park to meet new people!"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center text-sm text-gray-500",children:[e.jsx("span",{className:"w-2 h-2 bg-green-500 rounded-full mr-2"}),"Safe and friendly community"]}),e.jsxs("div",{className:"flex items-center text-sm text-gray-500",children:[e.jsx("span",{className:"w-2 h-2 bg-blue-500 rounded-full mr-2"}),"Share tips and experiences"]}),e.jsxs("div",{className:"flex items-center text-sm text-gray-500",children:[e.jsx("span",{className:"w-2 h-2 bg-purple-500 rounded-full mr-2"}),"Plan meetups and playdates"]})]})]})})]})]})}),Zh=()=>{ge();const{notifications:t,unreadCount:r,loading:a,error:s,loadNotifications:l,markAsRead:i,markAllAsRead:o,deleteNotification:d}=ja(),[c,x]=n.useState("all"),[g,u]=n.useState("all"),[h,p]=n.useState(""),[f,j]=n.useState(1),[m,E]=n.useState(!0);n.useEffect(()=>{b()},[c,g,f]);const b=async()=>{const A={page:f,limit:20,unreadOnly:c==="unread",type:g!=="all"?g:void 0};try{const I=await l(A);I&&I.notifications.length===0&&f>1&&E(!1)}catch(I){console.error("Error loading notifications:",I)}},v=async A=>{await i(A)?_.success("Notification marked as read",{position:"bottom-right",autoClose:2e3,hideProgressBar:!0}):_.error("Failed to mark as read")},N=async()=>{await o()?_.success("All notifications marked as read",{position:"bottom-right",autoClose:2e3,hideProgressBar:!0}):_.error("Failed to mark all as read")},w=async A=>{await d(A)?_.success("Notification deleted",{position:"bottom-right",autoClose:2e3,hideProgressBar:!0}):_.error("Failed to delete notification")},C=A=>({friend_request:"",friend_request_accepted:"",new_message:"",event_registration:"",event_reminder:"",garden_update:"",system:""})[A]||"",k=A=>{const I=new Date(A),T=new Date-I,z=Math.floor(T/6e4),W=Math.floor(T/36e5),Z=Math.floor(T/864e5);return z<1?"Just now":z<60?`${z}m ago`:W<24?`${W}h ago`:Z<7?`${Z}d ago`:I.toLocaleDateString("en-US",{month:"short",day:"numeric"})},M=t.filter(A=>{if(h){const I=h.toLowerCase();return A.title.toLowerCase().includes(I)||A.content.toLowerCase().includes(I)}return!0}),$=[{value:"all",label:"All Types"},{value:"friend_request",label:"Friend Requests"},{value:"new_message",label:"Messages"},{value:"event_registration",label:"Events"},{value:"garden_update",label:"Garden Updates"}];return a?e.jsx(Su,{}):e.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900",children:e.jsxs("div",{className:"max-w-4xl mx-auto px-4 py-6",children:[e.jsxs("div",{className:"mb-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 bg-blue-100 dark:bg-blue-900/30 rounded-xl flex items-center justify-center",children:e.jsx(ht,{className:"w-5 h-5 text-blue-600 dark:text-blue-400"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Notifications"}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:r>0?`${r} unread notifications`:"All caught up!"})]})]}),r>0&&e.jsxs("button",{onClick:N,className:"inline-flex items-center gap-2 px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white text-sm font-medium rounded-xl transition-colors",children:[e.jsx(ya,{className:"w-4 h-4"}),"Mark all read"]})]}),e.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 p-4",children:e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[e.jsxs("div",{className:"relative flex-1",children:[e.jsx(Mt,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),e.jsx("input",{type:"text",placeholder:"Search notifications...",value:h,onChange:A=>p(A.target.value),className:"w-full pl-10 pr-4 py-2.5 border border-gray-200 dark:border-gray-600 rounded-lg bg-gray-50 dark:bg-gray-700 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm"})]}),e.jsxs("select",{value:c,onChange:A=>x(A.target.value),className:"px-3 py-2.5 border border-gray-200 dark:border-gray-600 rounded-lg bg-gray-50 dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm min-w-[140px]",children:[e.jsx("option",{value:"all",children:"All Notifications"}),e.jsx("option",{value:"unread",children:"Unread Only"}),e.jsx("option",{value:"read",children:"Read Only"})]}),e.jsx("select",{value:g,onChange:A=>u(A.target.value),className:"px-3 py-2.5 border border-gray-200 dark:border-gray-600 rounded-lg bg-gray-50 dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm min-w-[140px]",children:$.map(A=>e.jsx("option",{value:A.value,children:A.label},A.value))})]})})]}),s&&e.jsx("div",{className:"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-xl p-4 mb-6",children:e.jsx("p",{className:"text-red-800 dark:text-red-200 text-sm",children:s})}),M.length===0?e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 p-12 text-center",children:[e.jsx("div",{className:"w-16 h-16 bg-gray-100 dark:bg-gray-700 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx(tc,{className:"w-8 h-8 text-gray-400"})}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-2",children:"No notifications found"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400 text-sm",children:h?"Try adjusting your search terms":"You're all caught up! Check back later for updates."})]}):e.jsxs("div",{className:"space-y-3",children:[M.map(A=>e.jsx("div",{className:`bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 p-4 transition-all hover:shadow-md ${A.isRead?"":"ring-2 ring-blue-100 dark:ring-blue-900/30 bg-blue-50/30 dark:bg-blue-900/10"}`,children:e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx("div",{className:"flex-shrink-0 mt-1",children:e.jsx("div",{className:"w-10 h-10 bg-gray-50 dark:bg-gray-700 rounded-full border border-gray-200 dark:border-gray-600 flex items-center justify-center text-lg",children:C(A.type)})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-start justify-between mb-2",children:[e.jsx("h3",{className:"text-base font-medium text-gray-900 dark:text-white",children:A.title}),!A.isRead&&e.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full flex-shrink-0 mt-2"})]}),e.jsx("p",{className:"text-gray-700 dark:text-gray-300 text-sm mb-3 leading-relaxed",children:A.content}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("div",{className:"flex items-center gap-3 text-xs text-gray-500 dark:text-gray-400",children:e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(Ae,{className:"w-3 h-3"}),k(A.createdAt)]})}),e.jsxs("div",{className:"flex items-center gap-2",children:[!A.isRead&&e.jsxs("button",{onClick:()=>v(A._id),className:"inline-flex items-center gap-1 px-3 py-1.5 text-xs text-blue-600 dark:text-blue-400 hover:text-blue-700 dark:hover:text-blue-300 hover:bg-blue-50 dark:hover:bg-blue-900/20 rounded-lg transition-colors font-medium",children:[e.jsx(Ke,{className:"w-3 h-3"}),"Mark read"]}),e.jsxs("button",{onClick:()=>w(A._id),className:"inline-flex items-center gap-1 px-3 py-1.5 text-xs text-red-600 dark:text-red-400 hover:text-red-700 dark:hover:text-red-300 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-lg transition-colors font-medium",children:[e.jsx(ys,{className:"w-3 h-3"}),"Delete"]})]})]})]})]})},A._id)),m&&M.length>=20&&e.jsx("div",{className:"text-center py-6",children:e.jsx("button",{onClick:()=>j(f+1),className:"inline-flex items-center gap-2 px-6 py-3 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-xl text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors font-medium",children:"Load More Notifications"})})]})]})})},Yh=()=>{const[t,r]=n.useState([]),[a,s]=n.useState(!1),{createTestNotification:l,requestPermission:i}=ja(),o=(x,g,u)=>{r(h=>[...h,{test:x,success:g,message:u,timestamp:new Date}])},d=async()=>{s(!0),r([]);try{o("Permission Request",null,"Checking browser permissions...");const x=await i();o("Permission Request",x,x?"Notification permissions granted":"Notification permissions denied"),o("Create Test Notification",null,"Creating test notification...");const g=await l();o("Create Test Notification",g,g?"Test notification created successfully":"Error creating notification");const u=[{type:"system",title:"System Notification",content:"This is a system notification test"},{type:"new_message",title:"New Message",content:"You received a new message from a friend"},{type:"event_reminder",title:"Event Reminder",content:"Your event starts in one hour"}];for(const{type:p,title:f,content:j}of u){o(`${p} notification`,null,`Creating ${p} notification...`);try{const m=await l(p,f,j);o(`${p} notification`,m,m?`${p} notification created successfully`:`Error creating ${p} notification`)}catch(m){o(`${p} notification`,!1,`Error: ${m.message}`)}}o("WebSocket Connection",null,"Checking WebSocket connection...");const h=!0;o("WebSocket Connection",h,h?"WebSocket connected":"WebSocket not connected")}catch(x){o("General Test",!1,`General error: ${x.message}`)}s(!1)},c=()=>{r([])};return e.jsxs("div",{className:"max-w-2xl mx-auto p-6 bg-white rounded-lg shadow-lg",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[e.jsx(pg,{className:"text-blue-600",size:24}),e.jsx("h2",{className:"text-xl font-bold text-gray-800",children:"Notification System Testing"})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("p",{className:"text-gray-600 mb-4",children:"This tool tests the notification system functionality, including browser permissions, notification creation from MongoDB and WebSocket connection."}),e.jsxs("div",{className:"flex gap-3",children:[e.jsxs("button",{onClick:d,disabled:a,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2",children:[e.jsx(il,{size:16}),a?"Running Tests...":"Run Tests"]}),t.length>0&&e.jsxs("button",{onClick:c,className:"px-4 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 flex items-center gap-2",children:[e.jsx(na,{size:16}),"Clear Results"]})]})]}),t.length>0&&e.jsxs("div",{className:"space-y-3",children:[e.jsx("h3",{className:"font-semibold text-gray-800 mb-3",children:"Test Results:"}),t.map((x,g)=>e.jsxs("div",{className:`p-3 rounded-lg border-r-4 ${x.success===null?"bg-yellow-50 border-yellow-400":x.success?"bg-green-50 border-green-400":"bg-red-50 border-red-400"}`,children:[e.jsxs("div",{className:"flex items-center gap-2",children:[x.success===null?e.jsx("div",{className:"w-4 h-4 border-2 border-yellow-400 border-t-transparent rounded-full animate-spin"}):x.success?e.jsx(ol,{className:"text-green-600",size:16}):e.jsx(na,{className:"text-red-600",size:16}),e.jsx("span",{className:"font-medium text-gray-800",children:x.test}),e.jsx("span",{className:"text-xs text-gray-500",children:x.timestamp.toLocaleTimeString("en-US")})]}),e.jsx("p",{className:`mt-1 text-sm ${x.success===null?"text-yellow-700":x.success?"text-green-700":"text-red-700"}`,children:x.message})]},g)),!a&&e.jsx("div",{className:"mt-4 p-3 bg-gray-50 rounded-lg",children:e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsx("span",{className:"text-gray-600",children:"Summary:"}),e.jsxs("div",{className:"flex gap-4",children:[e.jsxs("span",{className:"text-green-600",children:[" ",t.filter(x=>x.success===!0).length," passed"]}),e.jsxs("span",{className:"text-red-600",children:[" ",t.filter(x=>x.success===!1).length," failed"]})]})]})})]}),e.jsxs("div",{className:"mt-6 p-4 bg-blue-50 rounded-lg",children:[e.jsx("h4",{className:"font-medium text-blue-800 mb-2",children:"What the test includes:"}),e.jsxs("ul",{className:"text-sm text-blue-700 space-y-1",children:[e.jsx("li",{children:" Browser notification permissions check"}),e.jsx("li",{children:" Creating notifications through MongoDB API"}),e.jsx("li",{children:" Testing different notification types"}),e.jsx("li",{children:" WebSocket connection check for real-time updates"}),e.jsx("li",{children:" Notification display in the interface"})]})]})]})},Qh=()=>e.jsx("div",{className:"container mx-auto px-4 py-8",children:e.jsx(Yh,{})}),Jh=()=>{const[t,r]=n.useState(null),a=[{id:"messages",title:"Chat Messages",icon:e.jsx(mg,{className:"text-blue-600"}),description:"Automatic notifications when a new message arrives",code:`// In the messages controller
const sendMessage = async (req, res) => {
  // ... create message
  const newMessage = await Message.create(messageData);
  
  // Create notification for recipients
  for (const recipientId of recipients) {
    await NotificationService.createMessageNotification(
      req.userId, 
      recipientId, 
      chatId, 
      message.text
    );
  }
};`,integration:["Instant notification to user who received the message","Includes message preview","Direct link to chat room","Auto-mark as read when entering chat"]},{id:"friends",title:"Friend Requests",icon:e.jsx(vg,{className:"text-green-600"}),description:"Notifications for friend requests, approvals and rejections",code:`// In the friends controller
const sendFriendRequest = async (req, res) => {
  const friendship = await Friendship.create(friendshipData);
  
  // Notification to request recipient
  await NotificationService.createFriendRequestNotification(
    requesterId, 
    recipientId, 
    friendship._id
  );
};

const acceptFriendRequest = async (req, res) => {
  await friendship.accept();
  
  // Notification to request sender
  await NotificationService.createFriendRequestResponseNotification(
    userId, 
    friendship.requester, 
    friendship._id, 
    'accepted'
  );
};`,integration:["Instant notification when someone sends a friend request","Notification when request is approved or declined","Link to friends management page","Integration with friends list"]},{id:"events",title:"Events and Registrations",icon:e.jsx(tg,{className:"text-purple-600"}),description:"Notifications for event registrations, approvals and reminders",code:`// In the events controller
const registerForEvent = async (req, res) => {
  const result = event.registerParticipant(req.userId, dogIds);
  
  // Notification to event organizer
  await NotificationService.createEventRegistrationNotification(
    req.userId, 
    event.organizer, 
    event._id, 
    event.title
  );
};

const updateParticipantStatus = async (req, res) => {
  const participant = event.updateParticipantStatus(participantId, status);
  
  // Notification to participant
  await NotificationService.createEventStatusUpdateNotification(
    participant.user,
    event._id,
    event.title,
    status,
    notes
  );
};`,integration:["Notification to organizer when someone registers for event","Notification to participant when registration is approved/declined","Automatic reminders before the event","Notifications about event cancellation"]},{id:"gardens",title:"Garden Updates",icon:e.jsx(dg,{className:"text-orange-600"}),description:"Notifications about changes and news in gardens",code:`// In the gardens controller
const updateGarden = async (req, res) => {
  await garden.save();
  
  // Notification to all users who visited the garden
  const visitors = await Visit.find({ garden: gardenId })
    .distinct('user');
  
  for (const userId of visitors) {
    await NotificationService.createGardenUpdateNotification(
      userId,
      garden._id,
      garden.name,
      'info_update',
      'Garden details have been updated - check what's new!'
    );
  }
};`,integration:["Notifications about garden detail changes","Updates about new events in the garden","Notifications to users who visited the garden","Updates from the manager"]},{id:"reviews",title:"Reviews and Ratings",icon:e.jsx(ug,{className:"text-yellow-600"}),description:"Notifications about new reviews and responses",code:`// In the reviews controller
const createReview = async (req, res) => {
  const review = await Review.create(reviewData);
  
  // Notification to garden manager
  const garden = await Garden.findById(review.garden)
    .populate('manager');
  
  if (garden.manager) {
    await NotificationService.createReviewNotification(
      garden.manager._id,
      review._id,
      garden.name,
      review.rating
    );
  }
};`,integration:["Notification to garden manager about new review","Notification when someone responds to your review","Updates about garden rating changes","Reminders to write a review"]},{id:"admin",title:"Administrative Requests",icon:e.jsx(Ja,{className:"text-red-600"}),description:"Notifications to administrators about permission requests",code:`// In the requests controller
const submitRequest = async (req, res) => {
  const request = await Request.create(requestData);
  
  // Notification to all administrators
  const admins = await User.find({ role: 'admin' });
  
  for (const admin of admins) {
    await NotificationService.createPermissionRequestNotification(
      admin._id,
      req.userId,
      request.type
    );
  }
};`,integration:["Notifications to administrators about new permission requests","Updates about request approval/rejection","Urgent notifications to system administrators","Daily summaries"]}],s=l=>{r(t===l?null:l)};return e.jsxs("div",{className:"max-w-4xl mx-auto p-6",children:[e.jsxs("div",{className:"mb-8 text-center",children:[e.jsxs("div",{className:"flex items-center justify-center gap-3 mb-4",children:[e.jsx(Qa,{className:"text-blue-600",size:32}),e.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"Integration Examples - Notification System"})]}),e.jsx("p",{className:"text-gray-600",children:"How to integrate notifications throughout the app with MongoDB and real-time updates"})]}),e.jsx("div",{className:"space-y-4",children:a.map(l=>e.jsxs("div",{className:"border border-gray-200 rounded-lg overflow-hidden",children:[e.jsxs("button",{onClick:()=>s(l.id),className:"w-full p-4 bg-gray-50 hover:bg-gray-100 flex items-center justify-between text-left transition-colors",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[l.icon,e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-gray-800",children:l.title}),e.jsx("p",{className:"text-sm text-gray-600",children:l.description})]})]}),e.jsx("div",{className:`transform transition-transform ${t===l.id?"rotate-180":""}`,children:""})]}),t===l.id&&e.jsx("div",{className:"p-6 bg-white",children:e.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsxs("h4",{className:"font-medium text-gray-800 mb-3 flex items-center gap-2",children:[e.jsx(Qa,{size:16}),"Code Example"]}),e.jsx("pre",{className:"bg-gray-900 text-gray-100 p-4 rounded-lg overflow-x-auto text-sm",children:e.jsx("code",{children:l.code})})]}),e.jsxs("div",{children:[e.jsxs("h4",{className:"font-medium text-gray-800 mb-3 flex items-center gap-2",children:[e.jsx(ag,{size:16}),"Integration Features"]}),e.jsx("ul",{className:"space-y-2",children:l.integration.map((i,o)=>e.jsxs("li",{className:"flex items-start gap-2 text-sm text-gray-600",children:[e.jsx("span",{className:"text-green-500 mt-0.5",children:""}),i]},o))})]})]})})]},l.id))}),e.jsxs("div",{className:"mt-8 p-6 bg-blue-50 rounded-lg",children:[e.jsxs("h3",{className:"font-bold text-blue-800 mb-4 flex items-center gap-2",children:[e.jsx(Ja,{size:20}),"Technical Overview"]}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-6 text-sm",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-blue-700 mb-2",children:"Backend Implementation"}),e.jsxs("ul",{className:"space-y-1 text-blue-600",children:[e.jsx("li",{children:" Every notification is saved in MongoDB"}),e.jsx("li",{children:" Real-time delivery via WebSocket"}),e.jsx("li",{children:" Support for different notification types"}),e.jsx("li",{children:" Automatic cleanup of old notifications"}),e.jsx("li",{children:" Admin notifications with high priority"})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-blue-700 mb-2",children:"Frontend Integration"}),e.jsxs("ul",{className:"space-y-1 text-blue-600",children:[e.jsx("li",{children:" Real-time updates via WebSocket"}),e.jsx("li",{children:" Native browser notifications"}),e.jsx("li",{children:" Notification counter in the header"}),e.jsx("li",{children:" Mark as read/unread functionality"}),e.jsx("li",{children:" Responsive notification dropdown"})]})]})]})]})]})},Kh=()=>e.jsx("div",{className:"container mx-auto px-4 py-8",children:e.jsx(Jh,{})}),Xh=()=>{const{user:t}=ge(),[r,a]=n.useState([]),[s,l]=n.useState([]),[i,o]=n.useState(""),[d,c]=n.useState("all"),[x,g]=n.useState(!1),[u,h]=n.useState(!1),[p,f]=n.useState(!1),[j,m]=n.useState({lat:32.0853,lng:34.7818,name:" "}),[E,b]=n.useState(""),[v,N]=n.useState([]),[w,C]=n.useState(!1),[k,M]=n.useState(5),$=async R=>{if(!R||R.length<2){N([]);return}try{const L=(await(await fetch(`https://nominatim.openstreetmap.org/search?format=json&q=${encodeURIComponent(R)}&countrycodes=il&limit=5&addressdetails=1`)).json()).map(q=>({name:q.display_name,lat:parseFloat(q.lat),lng:parseFloat(q.lon),type:q.type,importance:q.importance}));N(L)}catch(V){console.error("  :",V),N([])}},A=async(R,V,J,L)=>{h(!0);try{console.log("    :",{lat:R,lng:V,radius:J,locationName:L});const q=await fetch(`/api/gardens/search-dog-parks?lat=${R}&lng=${V}&radius=${J}&query=dog park`);if(!q.ok)throw new Error(`HTTP error! status: ${q.status}`);const D=await q.json();D.success&&D.parks?(console.log(`  ${D.parks.length}   `),a(D.parks),l(D.parks)):(console.log("     "),a([]),l([]))}catch(q){console.error("    :",q),alert("   .    Google Places API  ."),a([]),l([])}finally{h(!1)}},I=()=>{if(f(!0),!navigator.geolocation){alert("     "),f(!1);return}navigator.geolocation.getCurrentPosition(async R=>{var L,q,D;const V=R.coords.latitude,J=R.coords.longitude;try{const K=await(await fetch(`https://nominatim.openstreetmap.org/reverse?format=json&lat=${V}&lon=${J}&addressdetails=1`)).json(),le=((L=K.address)==null?void 0:L.city)||((q=K.address)==null?void 0:q.town)||((D=K.address)==null?void 0:D.village)||" ";m({lat:V,lng:J,name:le}),b(""),await A(V,J,k,le)}catch(B){console.error("   :",B);const K=" ";m({lat:V,lng:J,name:K}),await A(V,J,k,K)}f(!1)},R=>{console.error("  :",R),alert("     "),f(!1)},{enableHighAccuracy:!0,timeout:1e4,maximumAge:3e5})},F=async R=>{const V=R.name.split(",")[0];m({lat:R.lat,lng:R.lng,name:V}),b(""),C(!1),N([]),await A(R.lat,R.lng,k,V)},T=async R=>{M(R),await A(j.lat,j.lng,R,j.name)};n.useEffect(()=>{let R=r.filter(V=>V.name.toLowerCase().includes(i.toLowerCase())||V.address.toLowerCase().includes(i.toLowerCase()));d!=="all"&&(R=R.filter(V=>V.dogSizes.includes(d))),R.sort((V,J)=>z(V)-z(J)),l(R)},[i,d,r,j]),n.useEffect(()=>{const R=setTimeout(()=>{E?($(E),C(!0)):(N([]),C(!1))},300);return()=>clearTimeout(R)},[E]),n.useEffect(()=>{A(j.lat,j.lng,k,j.name)},[]);const z=R=>{const J=(R.location.lat-j.lat)*Math.PI/180,L=(R.location.lng-j.lng)*Math.PI/180,q=Math.sin(J/2)*Math.sin(J/2)+Math.cos(j.lat*Math.PI/180)*Math.cos(R.location.lat*Math.PI/180)*Math.sin(L/2)*Math.sin(L/2);return 6371*(2*Math.atan2(Math.sqrt(q),Math.sqrt(1-q)))},W=async R=>{var V;return console.log("   Google Places:",R.name),{...R,googleVerified:!0,googleRating:((V=R.rating)==null?void 0:V.toFixed(1))||"0.0"}},Z=R=>{const V={id:Date.now(),...R,location:{lat:j.lat+(Math.random()-.5)*.01,lng:j.lng+(Math.random()-.5)*.01},source:"community",addedBy:(t==null?void 0:t.email)||"current_user",verified:!1,rating:0,reviews:0,photos:0};a([...r,V]),g(!1),console.log("   :",V)},G=()=>{const[R,V]=n.useState({name:"",address:"",hours:"",phone:"",description:"",dogSizes:[],amenities:[]}),J=(q,D)=>{V(B=>({...B,[q]:B[q].includes(D)?B[q].filter(K=>K!==D):[...B[q],D]}))},L=()=>{R.name&&R.address&&(Z(R),V({name:"",address:"",hours:"",phone:"",description:"",dogSizes:[],amenities:[]}))};return e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:e.jsx(Et,{className:"w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs(Gt,{level:3,className:"text-gray-900",children:["   ",j.name]}),e.jsx("button",{onClick:()=>g(!1),className:"text-gray-400 hover:text-gray-500",children:e.jsx(pe,{className:"h-6 w-6"})})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx(Tt,{label:" ",value:R.name,onChange:q=>V({...R,name:q.target.value}),placeholder:" ",required:!0}),e.jsx(Tt,{label:"",value:R.address,onChange:q=>V({...R,address:q.target.value}),placeholder:` ${j.name}`,required:!0}),e.jsx(Tt,{label:" ",value:R.hours,onChange:q=>V({...R,hours:q.target.value}),placeholder:": 06:00-22:00"}),e.jsx(Tt,{label:" ()",value:R.phone,onChange:q=>V({...R,phone:q.target.value}),placeholder:""}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"  :"}),e.jsx("div",{className:"grid grid-cols-3 gap-3",children:[{value:"small",label:" "},{value:"medium",label:" "},{value:"large",label:" "}].map(q=>e.jsxs("label",{className:"flex items-center p-3 border rounded-lg cursor-pointer hover:bg-gray-50",children:[e.jsx("input",{type:"checkbox",checked:R.dogSizes.includes(q.value),onChange:()=>J("dogSizes",q.value),className:"mr-2"}),e.jsx("span",{className:"text-sm",children:q.label})]},q.value))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:" :"}),e.jsx("div",{className:"grid grid-cols-2 gap-3",children:[{value:"water",label:""},{value:"toys",label:""},{value:"seating",label:""},{value:"parking",label:""},{value:"training",label:" "}].map(q=>e.jsxs("label",{className:"flex items-center p-3 border rounded-lg cursor-pointer hover:bg-gray-50",children:[e.jsx("input",{type:"checkbox",checked:R.amenities.includes(q.value),onChange:()=>J("amenities",q.value),className:"mr-2"}),e.jsx("span",{className:"text-sm",children:q.label})]},q.value))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1.5",children:" "}),e.jsx("textarea",{value:R.description,onChange:q=>V({...R,description:q.target.value}),placeholder:" ",className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500",rows:3})]})]}),e.jsxs("div",{className:"flex gap-3 mt-6",children:[e.jsx(bt,{onClick:L,disabled:!R.name||!R.address,variant:"primary",fullWidth:!0,children:" "}),e.jsx(bt,{onClick:()=>g(!1),variant:"secondary",fullWidth:!0,children:""})]})]})})})};return e.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 pb-20 lg:pb-8",dir:"rtl",children:[e.jsxs(Ma,{maxWidth:"4xl",className:"py-8",children:[e.jsx(Et,{className:"mb-8 bg-gradient-to-r from-purple-600 via-pink-600 to-indigo-700 text-white",children:e.jsx("div",{className:"p-8",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[e.jsx(Zt,{className:"h-8 w-8"}),e.jsx(Gt,{level:1,className:"text-white",children:"  "})]}),e.jsx("p",{className:"text-purple-100 text-lg",children:"     "})]}),e.jsx("div",{className:"hidden md:block",children:e.jsx("div",{className:"text-6xl opacity-30",children:""})})]})})}),e.jsx(Et,{className:"mb-8",children:e.jsxs("div",{className:"p-6 border-b border-gray-200",children:[e.jsx(Gt,{level:3,className:"text-gray-900 mb-4",children:"   ?"}),e.jsxs("div",{className:"flex gap-4 mb-4",children:[e.jsxs("div",{className:"flex-1 relative",children:[e.jsx(Tt,{placeholder:" ,   ...",value:E,onChange:R=>b(R.target.value),onFocus:()=>C(!0),icon:e.jsx(Mt,{className:"h-5 w-5 text-gray-400"})}),w&&v.length>0&&e.jsx("div",{className:"absolute top-full left-0 right-0 bg-white border border-gray-200 rounded-lg shadow-lg z-10 max-h-60 overflow-y-auto mt-1",children:v.map((R,V)=>e.jsxs("button",{onClick:()=>F(R),className:"w-full p-3 text-right hover:bg-gray-50 border-b border-gray-100 last:border-b-0",children:[e.jsx("div",{className:"font-medium text-gray-900",children:R.name.split(",")[0]}),e.jsx("div",{className:"text-sm text-gray-500",children:R.name})]},V))})]}),e.jsx(bt,{onClick:I,disabled:p,variant:"success",icon:p?e.jsx(Lr,{className:"h-4 w-4 animate-spin"}):e.jsx(Rr,{className:"h-4 w-4"}),children:" "})]}),e.jsxs("div",{className:"flex items-center gap-6 text-sm text-gray-600",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(fe,{className:"h-4 w-4"}),e.jsxs("span",{className:"font-medium",children:[" : ",j.name]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{children:" :"}),e.jsxs(ds,{value:k,onChange:R=>T(Number(R.target.value)),className:"w-auto",children:[e.jsx("option",{value:2,children:'2 "'}),e.jsx("option",{value:5,children:'5 "'}),e.jsx("option",{value:10,children:'10 "'}),e.jsx("option",{value:20,children:'20 "'}),e.jsx("option",{value:50,children:'50 "'})]})]})]})]})}),e.jsx(Et,{className:"mb-8",children:e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex flex-col lg:flex-row gap-4 mb-6",children:[e.jsx("div",{className:"flex-1",children:e.jsx(Tt,{placeholder:"  ...",value:i,onChange:R=>o(R.target.value),icon:e.jsx(Mt,{className:"h-5 w-5 text-gray-400"})})}),e.jsxs(ds,{value:d,onChange:R=>c(R.target.value),className:"lg:w-48",children:[e.jsx("option",{value:"all",children:" "}),e.jsx("option",{value:"small",children:" "}),e.jsx("option",{value:"medium",children:" "}),e.jsx("option",{value:"large",children:" "})]}),e.jsx(bt,{onClick:()=>g(!0),variant:"success",icon:e.jsx(Xt,{className:"h-4 w-4"}),children:" "})]}),u&&e.jsxs("div",{className:"text-center py-8",children:[e.jsx("div",{className:"inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-purple-600 mb-4"}),e.jsxs("div",{className:"text-lg font-medium text-gray-900",children:["   ",j.name,"..."]}),e.jsxs("div",{className:"text-sm text-gray-500 mt-1",children:[" : ",k,' "']})]}),!u&&e.jsxs("div",{className:"flex flex-wrap gap-2 text-sm text-gray-600",children:[e.jsxs(mt,{variant:"info",children:[" ",s.length,"  ",j.name]}),e.jsxs(mt,{variant:"primary",children:[r.filter(R=>R.source==="google").length," -Google"]}),e.jsxs(mt,{variant:"warning",children:[r.filter(R=>R.source==="osm").length," -OSM"]}),e.jsxs(mt,{variant:"success",children:[r.filter(R=>R.source==="community").length," "]}),e.jsxs(mt,{variant:"secondary",children:[": ",k,' "']})]})]})}),e.jsx("div",{className:"space-y-6",children:s.map(R=>e.jsx(Et,{hover:!0,className:"transition-all duration-300",children:e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex justify-between items-start mb-4",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx(Gt,{level:4,className:"text-gray-900",children:R.name}),R.verified&&e.jsx(ra,{className:"h-5 w-5 text-green-500"}),e.jsx(mt,{variant:R.source==="google"?"info":"success",size:"sm",children:R.source==="google"?"Google":""})]}),e.jsxs("p",{className:"text-gray-600 flex items-center gap-2 mb-3",children:[e.jsx(fe,{className:"h-4 w-4"}),R.address]}),e.jsx("p",{className:"text-gray-700 mb-4",children:R.description})]}),e.jsxs("div",{className:"text-left",children:[e.jsxs("div",{className:"text-sm text-gray-500 mb-1",children:[z(R).toFixed(1),' "']}),R.rating>0&&e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(tr,{className:"h-4 w-4 text-yellow-400"}),e.jsx("span",{className:"text-sm font-medium",children:R.rating.toFixed(1)}),e.jsxs("span",{className:"text-xs text-gray-500",children:["(",R.reviews,")"]})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[e.jsxs("div",{children:[e.jsx("h5",{className:"font-medium text-gray-900 mb-2",children:" :"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:R.dogSizes.map(V=>e.jsx(mt,{variant:"secondary",size:"sm",children:V==="small"?"":V==="medium"?"":""},V))})]}),e.jsxs("div",{children:[e.jsx("h5",{className:"font-medium text-gray-900 mb-2",children:":"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:R.amenities.map(V=>e.jsx(mt,{variant:"default",size:"sm",children:V==="water"?"":V==="toys"?"":V==="seating"?"":V==="parking"?"":V==="training"?"":V},V))})]})]}),e.jsxs("div",{className:"flex flex-col lg:flex-row justify-between items-start lg:items-center gap-4 pt-4 border-t border-gray-200",children:[e.jsxs("div",{className:"flex flex-wrap items-center gap-4 text-sm text-gray-600",children:[R.hours&&e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(Ae,{className:"h-4 w-4"}),R.hours]}),R.phone&&e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(Tr,{className:"h-4 w-4"}),R.phone]}),R.photos>0&&e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(Zn,{className:"h-4 w-4"}),R.photos," "]})]}),e.jsxs("div",{className:"flex gap-2",children:[!R.verified&&R.source==="community"&&e.jsx(bt,{onClick:async()=>{const V=await W(R);a(r.map(J=>J.id===R.id?V:J))},variant:"outline",size:"sm",icon:e.jsx(ra,{className:"h-3 w-3"}),children:"  Google"}),e.jsx(bt,{onClick:()=>{const V=`https://www.google.com/maps/dir/?api=1&destination=${R.location.lat},${R.location.lng}`;window.open(V,"_blank")},variant:"primary",size:"sm",icon:e.jsx(Ud,{className:"h-3 w-3"}),children:""})]})]})]})},R.id))}),s.length===0&&!u&&e.jsxs(Et,{className:"text-center py-12",children:[e.jsx("div",{className:"text-gray-400 text-6xl mb-4",children:""}),e.jsxs(Gt,{level:3,className:"text-gray-900 mb-2",children:["    ",j.name]}),e.jsxs("p",{className:"text-gray-600 mb-1",children:[" : ",k,' "']}),e.jsxs("div",{className:"space-y-3 mt-6",children:[e.jsxs(bt,{onClick:()=>T(k*2),variant:"outline",children:["  -",k*2,' "']}),e.jsx("div",{children:e.jsx(bt,{onClick:()=>g(!0),variant:"success",icon:e.jsx(Xt,{className:"h-4 w-4"}),children:"    !"})})]})]}),e.jsx(Et,{className:"mt-8",children:e.jsxs("div",{className:"p-6",children:[e.jsx(Ht,{variant:"info",className:"mb-6",children:e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-blue-800 mb-2",children:"  :"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm",children:[e.jsxs("div",{children:[e.jsx("h5",{className:"font-semibold text-blue-700 mb-2",children:"  :"}),e.jsxs("ul",{className:"space-y-1 text-blue-600",children:[e.jsxs("li",{children:[" ",e.jsx("strong",{children:"GPS:"}),"     "]}),e.jsxs("li",{children:[" ",e.jsx("strong",{children:" :"})," Nominatim API (OpenStreetMap)"]}),e.jsxs("li",{children:[" ",e.jsx("strong",{children:" :"}),' 2-50 "  ']})]})]}),e.jsxs("div",{children:[e.jsx("h5",{className:"font-semibold text-blue-700 mb-2",children:"    Google:"}),e.jsxs("ul",{className:"space-y-1 text-blue-600",children:[e.jsxs("li",{children:[" ",e.jsx("strong",{children:"Google Places API:"}),"   "]}),e.jsxs("li",{children:[" ",e.jsx("strong",{children:" :"}),"   -Google Maps"]}),e.jsxs("li",{children:[" ",e.jsx("strong",{children:" :"})," ,   "]})]})]})]})]})}),e.jsx(Ht,{variant:"success",children:e.jsxs("div",{children:[e.jsx("h5",{className:"font-semibold text-green-800 mb-1",children:"  :"}),e.jsx("p",{className:"text-sm text-green-700 mb-2",children:"    -Google Places    :"}),e.jsxs("div",{className:"grid grid-cols-2 gap-2 text-xs",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsx("code",{className:"bg-green-100 px-2 py-1 rounded block",children:"dog park"}),e.jsx("code",{className:"bg-green-100 px-2 py-1 rounded block",children:"dog run"}),e.jsx("code",{className:"bg-green-100 px-2 py-1 rounded block",children:"off leash dog area"}),e.jsx("code",{className:"bg-green-100 px-2 py-1 rounded block",children:"pet park"})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("code",{className:"bg-green-100 px-2 py-1 rounded block",children:" "}),e.jsx("code",{className:"bg-green-100 px-2 py-1 rounded block",children:" "}),e.jsx("code",{className:"bg-green-100 px-2 py-1 rounded block",children:" "}),e.jsx("code",{className:"bg-green-100 px-2 py-1 rounded block",children:"dog playground"})]})]})]})}),e.jsx(Ht,{variant:"warning",children:e.jsxs("div",{children:[e.jsx("h5",{className:"font-semibold text-orange-800 mb-1",children:"  :"}),e.jsxs("div",{className:"text-sm text-orange-700 space-y-2",children:[e.jsxs("p",{children:[" ",e.jsx("strong",{children:" :"}),"    -Google Places API"]}),e.jsxs("p",{children:[" ",e.jsx("strong",{children:":"}),"      Google"]}),e.jsxs("p",{children:[" ",e.jsx("strong",{children:" :"}),"     "]}),e.jsxs("p",{children:[" ",e.jsx("strong",{children:" :"}),"     "]})]})]})}),e.jsx(Ht,{variant:"info",children:e.jsxs("div",{children:[e.jsx("h5",{className:"font-semibold text-blue-800 mb-1",children:"  :"}),e.jsx("p",{className:"text-sm text-blue-700",children:"Google Places API  100$   (-1000 ).   ,    ."})]})}),e.jsx(Ht,{variant:"warning",children:e.jsxs("div",{children:[e.jsx("h5",{className:"font-semibold text-orange-800 mb-1",children:"  API Key:"}),e.jsxs("div",{className:"text-sm text-orange-700 space-y-2",children:[e.jsx("p",{children:e.jsx("strong",{children:"     ."})}),e.jsx("p",{children:"    :"}),e.jsxs("ol",{className:"list-decimal list-inside space-y-1 mt-2",children:[e.jsxs("li",{children:[" -",e.jsx("a",{href:"https://console.cloud.google.com/",target:"_blank",className:"underline text-orange-800",children:"Google Cloud Console"})]}),e.jsx("li",{children:"     "}),e.jsx("li",{children:'  "Places API"'}),e.jsx("li",{children:" API Key  Credentials"}),e.jsx("li",{children:"  'YOUR_GOOGLE_PLACES_API_KEY' "}),e.jsx("li",{children:" USE_SIMULATION -false"})]})]})]})})]})})]}),x&&e.jsx(G,{})]})},ep=()=>{const[t,r]=n.useState([]),[a,s]=n.useState({}),[l,i]=n.useState(!0);n.useEffect(()=>{o()},[]);const o=async()=>{var m,E,b,v,N,w;try{i(!0);const C=await it.getStats();s(C);const k=[{id:"first_visit",title:"First Steps",description:"Complete your first park visit",icon:"",category:"visits",progress:Math.min(((E=(m=C.achievements)==null?void 0:m.find(M=>M.achievementId==="first_visit"))==null?void 0:E.progress)||0,1),target:1,completed:((v=(b=C.achievements)==null?void 0:b.find(M=>M.achievementId==="first_visit"))==null?void 0:v.completed)||!1,points:50},{id:"visit_10",title:"Regular Walker",description:"Complete 10 park visits",icon:"",category:"visits",progress:Math.min(Math.floor(C.points/10)||0,10),target:10,completed:Math.floor(C.points/10)>=10,points:100},{id:"visit_50",title:"Park Enthusiast",description:"Complete 50 park visits",icon:"",category:"visits",progress:Math.min(Math.floor(C.points/10)||0,50),target:50,completed:Math.floor(C.points/10)>=50,points:250},{id:"streak_3",title:"Consistent Walker",description:"Visit parks 3 days in a row",icon:"",category:"streaks",progress:Math.min(C.longestStreak||0,3),target:3,completed:(C.longestStreak||0)>=3,points:75},{id:"streak_7",title:"Week Warrior",description:"Visit parks 7 days in a row",icon:"",category:"streaks",progress:Math.min(C.longestStreak||0,7),target:7,completed:(C.longestStreak||0)>=7,points:200},{id:"level_5",title:"Rising Star",description:"Reach level 5",icon:"",category:"levels",progress:Math.min(C.level||1,5),target:5,completed:(C.level||1)>=5,points:300},{id:"points_1000",title:"Point Collector",description:"Earn 1000 points",icon:"",category:"points",progress:Math.min(C.points||0,1e3),target:1e3,completed:(C.points||0)>=1e3,points:150},{id:"badges_10",title:"Badge Master",description:"Earn 10 badges",icon:"",category:"badges",progress:Math.min(((N=C.badges)==null?void 0:N.length)||0,10),target:10,completed:(((w=C.badges)==null?void 0:w.length)||0)>=10,points:500}];r(k)}catch(C){console.error("Error loading achievement data:",C),_.error("Failed to load achievements")}finally{i(!1)}},d=m=>{switch(m){case"visits":return e.jsx(fe,{className:"w-5 h-5"});case"streaks":return e.jsx(Qe,{className:"w-5 h-5"});case"levels":return e.jsx(Xe,{className:"w-5 h-5"});case"points":return e.jsx(nt,{className:"w-5 h-5"});case"badges":return e.jsx(nt,{className:"w-5 h-5"});case"social":return e.jsx(Ne,{className:"w-5 h-5"});default:return e.jsx(nt,{className:"w-5 h-5"})}},c=m=>{const E={visits:"text-blue-600 bg-blue-50 dark:bg-blue-900/20",streaks:"text-orange-600 bg-orange-50 dark:bg-orange-900/20",levels:"text-yellow-600 bg-yellow-50 dark:bg-yellow-900/20",points:"text-purple-600 bg-purple-50 dark:bg-purple-900/20",badges:"text-green-600 bg-green-50 dark:bg-green-900/20",social:"text-pink-600 bg-pink-50 dark:bg-pink-900/20"};return E[m]||E.visits},x=(m,E)=>Math.min(m/E*100,100),g=[{id:"all",name:"All",count:t.length},{id:"visits",name:"Visits",count:t.filter(m=>m.category==="visits").length},{id:"streaks",name:"Streaks",count:t.filter(m=>m.category==="streaks").length},{id:"levels",name:"Levels",count:t.filter(m=>m.category==="levels").length},{id:"points",name:"Points",count:t.filter(m=>m.category==="points").length},{id:"badges",name:"Badges",count:t.filter(m=>m.category==="badges").length}],[u,h]=n.useState("all"),p=u==="all"?t:t.filter(m=>m.category===u),f=t.filter(m=>m.completed).length,j=t.length;return l?e.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-3xl p-6 border border-gray-100 dark:border-gray-700",children:e.jsxs("div",{className:"animate-pulse",children:[e.jsx("div",{className:"h-6 bg-gray-300 dark:bg-gray-600 rounded mb-4"}),e.jsx("div",{className:"space-y-4",children:[...Array(5)].map((m,E)=>e.jsx("div",{className:"h-20 bg-gray-200 dark:bg-gray-700 rounded-lg"},E))})]})}):e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-3xl p-6 border border-gray-100 dark:border-gray-700",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h3",{className:"text-xl font-bold text-gray-900 dark:text-white",children:"Achievement Center"}),e.jsxs("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:[f," / ",j," completed"]})]}),e.jsxs("div",{className:"mb-6 p-4 bg-gray-50 dark:bg-gray-700 rounded-lg",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Overall Progress"}),e.jsxs("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:[Math.round(f/j*100),"%"]})]}),e.jsx("div",{className:"w-full bg-gray-200 dark:bg-gray-600 rounded-full h-2",children:e.jsx("div",{className:"bg-green-500 h-2 rounded-full transition-all duration-300",style:{width:`${f/j*100}%`}})})]}),e.jsx("div",{className:"flex flex-wrap gap-2 mb-6",children:g.map(m=>e.jsxs("button",{onClick:()=>h(m.id),className:`px-3 py-1 rounded-full text-sm font-medium transition-colors ${u===m.id?"bg-blue-500 text-white":"bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-600"}`,children:[m.name," (",m.count,")"]},m.id))}),e.jsx("div",{className:"space-y-4",children:p.map(m=>e.jsxs("div",{className:`p-4 rounded-lg border-2 transition-all ${m.completed?"border-green-200 bg-green-50 dark:border-green-700 dark:bg-green-900/20":"border-gray-200 bg-white dark:border-gray-600 dark:bg-gray-700"}`,children:[e.jsxs("div",{className:"flex items-start justify-between mb-3",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"text-2xl",children:m.icon}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-gray-900 dark:text-white",children:m.title}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:m.description})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:`p-2 rounded-full ${c(m.category)}`,children:d(m.category)}),m.completed&&e.jsx("div",{className:"p-2 rounded-full bg-green-100 dark:bg-green-900/30",children:e.jsx(De,{className:"w-5 h-5 text-green-600 dark:text-green-400"})})]})]}),e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:["Progress: ",m.progress," / ",m.target]}),!m.completed&&e.jsxs("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:["(",m.target-m.progress," remaining)"]})]}),e.jsxs("div",{className:"flex items-center gap-1 text-sm text-yellow-600 dark:text-yellow-400",children:[e.jsx(nt,{className:"w-4 h-4"}),m.points," points"]})]}),e.jsx("div",{className:"w-full bg-gray-200 dark:bg-gray-600 rounded-full h-2",children:e.jsx("div",{className:`h-2 rounded-full transition-all duration-300 ${m.completed?"bg-green-500":"bg-blue-500"}`,style:{width:`${x(m.progress,m.target)}%`}})})]},m.id))}),p.length===0&&e.jsxs("div",{className:"text-center py-8",children:[e.jsx("div",{className:"text-gray-400 dark:text-gray-500 text-lg mb-2",children:"No achievements found"}),e.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Try selecting a different category"})]})]})},tp=()=>{var f,j,m,E;const[t,r]=n.useState([]),[a,s]=n.useState([]),[l,i]=n.useState({}),[o,d]=n.useState(!0);n.useEffect(()=>{c()},[]);const c=async()=>{try{d(!0);const[b,v,N]=await Promise.all([it.getBadges(),it.getAllBadges(),it.getBadgeStats()]);r(b.badges||[]),s(v.badges||[]),i(N||{})}catch(b){console.error("Error loading badge data:",b),_.error("Failed to load badge data")}finally{d(!1)}},x=b=>{const v={common:"bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-300",rare:"bg-blue-100 text-blue-800 dark:bg-blue-900/30 dark:text-blue-300",epic:"bg-purple-100 text-purple-800 dark:bg-purple-900/30 dark:text-purple-300",legendary:"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/30 dark:text-yellow-300"};return v[b]||v.common},g=b=>{switch(b){case"rare":return e.jsx(Xe,{className:"w-4 h-4"});case"epic":return e.jsx(_e,{className:"w-4 h-4"});case"legendary":return e.jsx(nt,{className:"w-4 h-4"});default:return null}},u=b=>t.some(v=>v.badgeId===b),h=b=>a.filter(v=>v.category===b),p=[{id:"visits",name:"Visits",icon:""},{id:"streaks",name:"Streaks",icon:""},{id:"social",name:"Social",icon:""},{id:"levels",name:"Levels",icon:""},{id:"special",name:"Special",icon:""},{id:"exploration",name:"Exploration",icon:""}];return o?e.jsxs("div",{className:"animate-pulse",children:[e.jsx("div",{className:"h-4 bg-gray-300 dark:bg-gray-600 rounded mb-4"}),e.jsx("div",{className:"grid grid-cols-2 gap-4",children:[...Array(6)].map((b,v)=>e.jsx("div",{className:"h-16 bg-gray-300 dark:bg-gray-600 rounded-2xl"},v))})]}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h3",{className:"text-lg font-bold text-gray-900 dark:text-white",children:"Badge Gallery"}),e.jsxs("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:[l.total||0," / ",l.totalAvailable||0," badges"]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-6",children:[e.jsxs("div",{className:"text-center p-3 bg-gray-50 dark:bg-gray-700 rounded-xl",children:[e.jsx("div",{className:"text-lg font-bold text-gray-900 dark:text-white",children:((f=l.byRarity)==null?void 0:f.common)||0}),e.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Common"})]}),e.jsxs("div",{className:"text-center p-3 bg-blue-50 dark:bg-blue-900/20 rounded-xl",children:[e.jsx("div",{className:"text-lg font-bold text-blue-600 dark:text-blue-400",children:((j=l.byRarity)==null?void 0:j.rare)||0}),e.jsx("div",{className:"text-xs text-blue-600 dark:text-blue-400",children:"Rare"})]}),e.jsxs("div",{className:"text-center p-3 bg-purple-50 dark:bg-purple-900/20 rounded-xl",children:[e.jsx("div",{className:"text-lg font-bold text-purple-600 dark:text-purple-400",children:((m=l.byRarity)==null?void 0:m.epic)||0}),e.jsx("div",{className:"text-xs text-purple-600 dark:text-purple-400",children:"Epic"})]}),e.jsxs("div",{className:"text-center p-3 bg-yellow-50 dark:bg-yellow-900/20 rounded-xl",children:[e.jsx("div",{className:"text-lg font-bold text-yellow-600 dark:text-yellow-400",children:((E=l.byRarity)==null?void 0:E.legendary)||0}),e.jsx("div",{className:"text-xs text-yellow-600 dark:text-yellow-400",children:"Legendary"})]})]}),e.jsx("div",{className:"space-y-6",children:p.map(b=>{var N;const v=h(b.id);return v.length===0?null:e.jsxs("div",{children:[e.jsxs("h4",{className:"text-base font-semibold text-gray-900 dark:text-white mb-3 flex items-center gap-2",children:[e.jsx("span",{className:"text-lg",children:b.icon}),b.name,e.jsxs("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:["(",((N=l.byCategory)==null?void 0:N[b.id])||0,"/",v.length,")"]})]}),e.jsx("div",{className:"grid grid-cols-2 gap-4",children:v.map(w=>{const C=u(w.badgeId),k=t.find(M=>M.badgeId===w.badgeId);return e.jsx("div",{className:`p-4 rounded-2xl border-2 transition-all ${C?"border-green-200 bg-green-50 dark:border-green-700 dark:bg-green-900/20":"border-gray-200 bg-gray-50 dark:border-gray-600 dark:bg-gray-700 opacity-60"}`,children:e.jsxs("div",{className:"text-center",children:[e.jsxs("div",{className:"relative mb-2",children:[e.jsx("div",{className:"text-2xl mb-1",children:C?w.icon:""}),!C&&e.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:e.jsx(Vt,{className:"w-5 h-5 text-gray-400"})})]}),e.jsx("div",{className:"text-sm font-medium text-gray-900 dark:text-white mb-1",children:w.name}),e.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400 mb-2",children:w.description}),e.jsx("div",{className:"flex items-center justify-center",children:e.jsxs("span",{className:`inline-flex items-center gap-1 px-2 py-1 rounded-full text-xs font-medium ${x(w.rarity)}`,children:[g(w.rarity),w.rarity]})}),C&&k&&e.jsxs("div",{className:"mt-2 text-xs text-green-600 dark:text-green-400",children:["Earned ",new Date(k.earnedAt).toLocaleDateString()]})]})},w.badgeId)})})]},b.id)})}),e.jsxs("div",{className:"mt-6 p-4 bg-gray-50 dark:bg-gray-700 rounded-2xl",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Overall Progress"}),e.jsxs("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:[l.percentage||0,"%"]})]}),e.jsx("div",{className:"w-full bg-gray-200 dark:bg-gray-600 rounded-full h-2",children:e.jsx("div",{className:"bg-blue-500 h-2 rounded-full transition-all duration-300",style:{width:`${l.percentage||0}%`}})})]})]})},rp=()=>{ge();const t=Ce(),[r,a]=n.useState("overview"),[s,l]=n.useState({points:0,level:1,currentStreak:0,longestStreak:0,badges:[],achievements:[],levelProgress:{current:0,needed:100,percentage:0}}),[i,o]=n.useState({points:[],streaks:[],longestStreaks:[]}),[d,c]=n.useState(!0);n.useEffect(()=>{x()},[]);const x=async()=>{try{c(!0);const j=await it.getStats();l(j);const[m,E]=await Promise.all([it.getStreakLeaderboard(10),it.getLongestStreakLeaderboard(10)]);o({points:[],streaks:m.leaderboard||[],longestStreaks:E.leaderboard||[]})}catch(j){console.error("Error loading rewards data:",j),_.error("Failed to load rewards data")}finally{c(!1)}},g=[{id:"overview",name:"Overview",icon:qt},{id:"achievements",name:"Achievements",icon:nt},{id:"badges",name:"Badges",icon:Xe},{id:"leaderboards",name:"Leaderboards",icon:Ne},{id:"missions",name:"Missions",icon:fe}],u=j=>j>=30?e.jsx(Ga,{className:"h-5 w-5 text-red-500"}):j>=7?e.jsx(Qe,{className:"h-5 w-5 text-orange-500"}):e.jsx(Qe,{className:"h-5 w-5 text-gray-500"}),h=()=>e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsx("div",{className:"bg-gradient-to-br from-blue-500 to-blue-600 rounded-2xl p-4 text-white",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-blue-100 text-xs font-medium",children:"Total Points"}),e.jsx("p",{className:"text-2xl font-bold",children:s.points.toLocaleString()})]}),e.jsx(Dx,{className:"h-6 w-6 text-blue-200"})]})}),e.jsx("div",{className:"bg-gradient-to-br from-purple-500 to-purple-600 rounded-2xl p-4 text-white",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-purple-100 text-xs font-medium",children:"Level"}),e.jsx("p",{className:"text-2xl font-bold",children:s.level})]}),e.jsx(ea,{className:"h-6 w-6 text-purple-200"})]})}),e.jsx("div",{className:"bg-gradient-to-br from-orange-500 to-orange-600 rounded-2xl p-4 text-white",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-orange-100 text-xs font-medium",children:"Current Streak"}),e.jsx("p",{className:"text-2xl font-bold",children:s.currentStreak})]}),e.jsx(Ga,{className:"h-6 w-6 text-orange-200"})]})}),e.jsx("div",{className:"bg-gradient-to-br from-green-500 to-green-600 rounded-2xl p-4 text-white",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-green-100 text-xs font-medium",children:"Badges Earned"}),e.jsx("p",{className:"text-2xl font-bold",children:s.badges.length})]}),e.jsx(tr,{className:"h-6 w-6 text-green-200"})]})})]}),e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl p-4 shadow-sm border border-gray-100 dark:border-gray-700",children:[e.jsx("h3",{className:"text-base font-semibold text-gray-900 dark:text-white mb-3",children:"Level Progress"}),e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsxs("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:["Level ",s.level]}),e.jsxs("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:["Level ",s.level+1]})]}),e.jsx("div",{className:"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-2 mb-2",children:e.jsx("div",{className:"bg-gradient-to-r from-blue-500 to-purple-600 h-2 rounded-full transition-all duration-500",style:{width:`${s.levelProgress.percentage}%`}})}),e.jsxs("div",{className:"flex justify-between text-xs text-gray-600 dark:text-gray-400",children:[e.jsxs("span",{children:[s.levelProgress.current.toLocaleString()," XP"]}),e.jsxs("span",{children:[s.levelProgress.needed.toLocaleString()," XP needed"]})]})]}),e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl p-4 shadow-sm border border-gray-100 dark:border-gray-700",children:[e.jsx("h3",{className:"text-base font-semibold text-gray-900 dark:text-white mb-3",children:"Recent Achievements"}),s.achievements.length>0?e.jsx("div",{className:"space-y-3",children:s.achievements.slice(0,3).map((j,m)=>e.jsxs("div",{className:"flex items-center space-x-3 p-3 bg-gray-50 dark:bg-gray-700 rounded-xl",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx(nt,{className:"h-4 w-4 text-yellow-500"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-900 dark:text-white",children:j.name}),e.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:j.description})]})]},m))}):e.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-center py-6 text-sm",children:"No achievements yet. Start visiting parks to earn your first achievements!"})]})]}),p=()=>e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl p-4 shadow-sm border border-gray-100 dark:border-gray-700",children:[e.jsxs("h3",{className:"text-base font-semibold text-gray-900 dark:text-white mb-4 flex items-center",children:[e.jsx(Qe,{className:"h-5 w-5 text-orange-500 mr-2"}),"Current Streak Leaders"]}),e.jsx("div",{className:"space-y-3",children:i.streaks.map((j,m)=>e.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 dark:bg-gray-700 rounded-xl",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:`w-6 h-6 rounded-full flex items-center justify-center text-xs font-bold ${m===0?"bg-yellow-500 text-white":m===1?"bg-gray-400 text-white":m===2?"bg-orange-500 text-white":"bg-gray-200 text-gray-600"}`,children:m+1}),e.jsx("div",{children:e.jsxs("p",{className:"text-sm font-medium text-gray-900 dark:text-white",children:[j.user.firstName," ",j.user.lastName]})})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[u(j.currentStreak),e.jsx("span",{className:"text-sm font-bold text-gray-900 dark:text-white",children:j.currentStreak})]})]},j.user.id))})]}),e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl p-4 shadow-sm border border-gray-100 dark:border-gray-700",children:[e.jsxs("h3",{className:"text-base font-semibold text-gray-900 dark:text-white mb-4 flex items-center",children:[e.jsx(nt,{className:"h-5 w-5 text-yellow-500 mr-2"}),"Longest Streak Records"]}),e.jsx("div",{className:"space-y-3",children:i.longestStreaks.map((j,m)=>e.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 dark:bg-gray-700 rounded-xl",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:`w-6 h-6 rounded-full flex items-center justify-center text-xs font-bold ${m===0?"bg-yellow-500 text-white":m===1?"bg-gray-400 text-white":m===2?"bg-orange-500 text-white":"bg-gray-200 text-gray-600"}`,children:m+1}),e.jsx("div",{children:e.jsxs("p",{className:"text-sm font-medium text-gray-900 dark:text-white",children:[j.user.firstName," ",j.user.lastName]})})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Qe,{className:"h-4 w-4 text-red-500"}),e.jsx("span",{className:"text-sm font-bold text-gray-900 dark:text-white",children:j.longestStreak})]})]},j.user.id))})]})]}),f=()=>e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl p-4 shadow-sm border border-gray-100 dark:border-gray-700",children:[e.jsx("h3",{className:"text-base font-semibold text-gray-900 dark:text-white mb-4",children:"Daily Missions"}),e.jsxs("div",{className:"text-center py-6",children:[e.jsx(fe,{className:"h-10 w-10 text-gray-400 mx-auto mb-3"}),e.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-sm",children:"Mission system coming soon! Complete daily challenges to earn extra rewards."})]})]});return d?e.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900",children:e.jsx("div",{className:"max-w-lg mx-auto p-4",children:e.jsxs("div",{className:"animate-pulse",children:[e.jsx("div",{className:"h-6 bg-gray-300 dark:bg-gray-600 rounded mb-4"}),e.jsx("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[...Array(4)].map((j,m)=>e.jsx("div",{className:"h-20 bg-gray-300 dark:bg-gray-600 rounded-2xl"},m))}),e.jsx("div",{className:"space-y-4",children:[...Array(3)].map((j,m)=>e.jsx("div",{className:"h-24 bg-gray-300 dark:bg-gray-600 rounded-2xl"},m))})]})})}):e.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900",children:e.jsxs("div",{className:"max-w-lg mx-auto",children:[e.jsxs("div",{className:"bg-gradient-to-br from-purple-600 via-pink-600 to-indigo-700 dark:from-purple-700 dark:via-pink-700 dark:to-indigo-800 mx-4 mt-4 rounded-3xl p-6 text-white relative overflow-hidden",children:[e.jsx("div",{className:"absolute -top-6 -right-6 opacity-20",children:e.jsx("div",{className:"text-8xl",children:""})}),e.jsxs("div",{className:"relative z-10",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("button",{onClick:()=>t("/dashboard"),className:"text-white hover:text-purple-200 transition-colors",children:e.jsx(We,{className:"h-6 w-6"})}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(_e,{className:"h-5 w-5 text-yellow-300"}),e.jsxs("span",{className:"text-lg font-semibold",children:[s.points.toLocaleString()," XP"]})]})]}),e.jsx("h1",{className:"text-2xl font-bold mb-2",children:"Rewards Center"}),e.jsx("p",{className:"text-purple-100 dark:text-purple-200 text-sm",children:"Track your achievements, badges, and progress"})]})]}),e.jsx("div",{className:"px-4 mt-6",children:e.jsx("div",{className:"grid grid-cols-5 gap-2",children:g.map(j=>e.jsxs("button",{onClick:()=>a(j.id),className:`flex flex-col items-center justify-center p-3 rounded-2xl font-medium transition-all duration-300 transform ${r===j.id?"bg-gradient-to-br from-blue-500 to-indigo-600 text-white shadow-lg scale-105":"bg-white dark:bg-gray-800 text-gray-600 dark:text-gray-400 hover:bg-gray-50 dark:hover:bg-gray-700 hover:text-gray-900 dark:hover:text-white shadow-sm border border-gray-100 dark:border-gray-700 hover:shadow-md hover:scale-105"}`,children:[e.jsx(j.icon,{className:"h-5 w-5 mb-2"}),e.jsx("span",{className:"text-xs font-medium",children:j.name})]},j.id))})}),e.jsxs("div",{className:"px-4 mt-6 pb-6",children:[r==="overview"&&h(),r==="achievements"&&e.jsx(ep,{}),r==="badges"&&e.jsx(tp,{}),r==="leaderboards"&&p(),r==="missions"&&f()]})]})})};function sp(){const{loading:t,user:r}=ge(),[a,s]=n.useState(!1),[l,i]=n.useState(0),[o,d]=n.useState("");return n.useEffect(()=>{t||(async()=>{const x=[{name:" ...",action:()=>qs.preloadComponents(),progress:25},{name:" ...",action:()=>qs.preloadServices(),progress:50},{name:" ...",action:()=>qs.preloadEssentialData(r),progress:75},{name:" ...",action:()=>new Promise(g=>setTimeout(g,200)),progress:100}];for(const g of x){d(g.name),i(g.progress);try{await g.action()}catch(u){console.warn(`Failed step: ${g.name}`,u)}}s(!0)})()},[t,r]),t||!a?e.jsxs("div",{className:"min-h-screen flex flex-col items-center justify-center bg-white dark:bg-gray-900",children:[e.jsx(js,{fullScreen:!0}),!t&&e.jsxs("div",{className:"absolute bottom-20 left-1/2 transform -translate-x-1/2 w-64",children:[e.jsx("div",{className:"bg-gray-200 dark:bg-gray-700 rounded-full h-2 mb-2",children:e.jsx("div",{className:"bg-gradient-to-r from-purple-500 to-blue-500 h-2 rounded-full transition-all duration-300",style:{width:`${l}%`}})}),e.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400 text-center",children:[o," ",Math.round(l),"%"]})]})]}):e.jsx(Ai,{children:e.jsx(_g,{children:e.jsxs(ri,{children:[e.jsx(ue,{path:"/",element:e.jsx(gu,{})}),e.jsx(ue,{path:"/test",element:e.jsx(zh,{})}),e.jsx(ue,{path:"/demo",element:e.jsx(Uh,{})}),e.jsx(ue,{path:"/login",element:e.jsx(uu,{})}),e.jsx(ue,{path:"/register",element:e.jsx(hu,{})}),e.jsx(ue,{path:"/dogs/profile/:id",element:e.jsx(Rh,{})}),e.jsxs(ue,{element:e.jsx(la,{}),children:[e.jsx(ue,{path:"/gardens",element:e.jsx(jl,{})}),e.jsx(ue,{path:"/garden/:id",element:e.jsx($u,{})}),e.jsx(ue,{path:"/public-events",element:e.jsx(vh,{})})]}),e.jsx(ue,{element:e.jsx(dl,{}),children:e.jsxs(ue,{element:e.jsx(la,{}),children:[e.jsx(ue,{path:"/dashboard",element:e.jsx(bl,{})}),e.jsx(ue,{path:"/rewards",element:e.jsx(rp,{})}),e.jsx(ue,{path:"/events",element:e.jsx(Cl,{})}),e.jsx(ue,{path:"/events/:id",element:e.jsx(yh,{})}),e.jsx(ue,{path:"/my-dogs",element:e.jsx(Dl,{})}),e.jsx(ue,{path:"/my-dogs/:id/custom-profile",element:e.jsx($h,{})}),e.jsx(ue,{path:"/profile",element:e.jsx(Tl,{})}),e.jsx(ue,{path:"/check-in",element:e.jsx(_l,{})}),e.jsx(ue,{path:"/friends",element:e.jsx(Bl,{})}),e.jsx(ue,{path:"/notifications",element:e.jsx(Zh,{})}),e.jsx(ue,{path:"/messages",element:e.jsx(Wh,{})}),e.jsx(ue,{path:"/chat/:chatId",element:e.jsx(Hh,{})}),e.jsx(ue,{path:"/admin",element:e.jsx(ar,{allowedRoles:["admin"],children:e.jsx(Hl,{})})}),e.jsx(ue,{path:"/admin/requests",element:e.jsx(ar,{allowedRoles:["admin"],children:e.jsx(Gl,{})})}),e.jsx(ue,{path:"/admin/settings",element:e.jsx(ar,{allowedRoles:["admin"],children:e.jsx(Wl,{})})}),e.jsx(ue,{path:"/admin/api-usage",element:e.jsx(ar,{allowedRoles:["admin"],children:e.jsx(Ph,{})})}),e.jsx(ue,{path:"/manage-gardens",element:e.jsx(ar,{allowedRoles:["admin","garden_manager"],children:e.jsx(Zl,{})})}),e.jsx(ue,{path:"/gardens/:id/custom-profile",element:e.jsx(ar,{allowedRoles:["admin","garden_manager"],children:e.jsx(Dh,{})})}),e.jsx(ue,{path:"/notification-test",element:e.jsx(Qh,{})}),e.jsx(ue,{path:"/notification-examples",element:e.jsx(Kh,{})}),e.jsx(ue,{path:"/dog-park-finder",element:e.jsx(Xh,{})})]})})]})})})}const ap=({children:t})=>{const r="188318745522-muktsmh6h8g765jpbl54j6o2m95gmtia.apps.googleusercontent.com";return e.jsx(iu,{clientId:r,children:t})};"serviceWorker"in navigator&&window.addEventListener("load",()=>{navigator.serviceWorker.register("/sw.js").then(t=>{console.log("SW registered: ",t)}).catch(t=>{console.log("SW registration failed: ",t)})});Hs.createRoot(document.getElementById("root")).render(e.jsx(ap,{children:e.jsx(si,{future:{v7_startTransition:!0,v7_relativeSplatPath:!0},children:e.jsx(Hx,{children:e.jsxs(Ci,{children:[e.jsx(sp,{}),e.jsx(Gs,{position:"top-right"})]})})})}));
