import{j as e,l as v,M as L,i as A,s as C}from"./index-d63ee538.js";import{r as a}from"./vendor-021dee49.js";import{L as i}from"./router-3052588b.js";import{eventService as j}from"./eventService-0703f6fe.js";import{M}from"./MagnifyingGlassIcon-f062adc4.js";import{C as R}from"./ClockIcon-d6d0aaad.js";import"./utils-917b1704.js";function I({title:l,titleId:c,...x},o){return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:o,"aria-labelledby":c},x),l?a.createElement("title",{id:c},l):null,a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 3c2.755 0 5.455.232 8.083.678.533.09.917.556.917 1.096v1.044a2.25 2.25 0 0 1-.659 1.591l-5.432 5.432a2.25 2.25 0 0 0-.659 1.591v2.927a2.25 2.25 0 0 1-1.244 2.013L9.75 21v-6.568a2.25 2.25 0 0 0-.659-1.591L3.659 7.409A2.25 2.25 0 0 1 3 5.818V4.774c0-.54.384-1.006.917-1.096A48.32 48.32 0 0 1 12 3Z"}))}const F=a.forwardRef(I),G=F,Z=()=>{const[l,c]=a.useState([]),[x,o]=a.useState(!1),[U,w]=a.useState(null),[m,N]=a.useState(""),[n,k]=a.useState("all"),[E,h]=a.useState(1),[P,S]=a.useState(!0),p=9;a.useEffect(()=>{u(!0)},[m,n]);const u=async(t=!1)=>{t?(h(1),await f(1,!0)):(await f(E+1),h(s=>s+1))},f=async(t,s=!1)=>{try{if(s){const r=await j.getPublicEvents({page:t,limit:p,search:m,type:n==="all"?void 0:n});y(r,s)}else{o(!0);const r=await j.getPublicEvents({page:t,limit:p,search:m,type:n==="all"?void 0:n});y(r,s),o(!1)}}catch(r){console.error("Error fetching events:",r),w("Error loading events"),o(!1)}},y=(t,s)=>{let r=[];t&&t.events&&Array.isArray(t.events)?r=t.events:Array.isArray(t)?r=t:t&&t.data&&Array.isArray(t.data)&&(r=t.data);const d=r.filter(g=>new Date(g.eventDate)>new Date);c(g=>s?d:[...g,...d]),S(d.length===p)},D=t=>new Date(t).toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"}),b=t=>new Date(`2000-01-01T${t}`).toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit"}),T=({action:t})=>e.jsx("div",{className:"bg-gradient-to-r from-yellow-100 to-orange-100 dark:from-yellow-900 dark:to-orange-900 border border-yellow-200 dark:border-yellow-700 rounded-3xl p-4 mb-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(C,{className:"h-5 w-5 text-yellow-600 dark:text-yellow-400 mr-2"}),e.jsxs("p",{className:"text-sm text-yellow-800 dark:text-yellow-200",children:["To ",t,", please"," ",e.jsx(i,{to:"/login",className:"font-semibold underline hover:text-yellow-900 dark:hover:text-yellow-100",children:"login"})," ","or"," ",e.jsx(i,{to:"/register",className:"font-semibold underline hover:text-yellow-900 dark:hover:text-yellow-100",children:"create an account"})]})]})});return e.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900",children:e.jsxs("div",{className:"max-w-lg mx-auto lg:max-w-7xl",children:[e.jsxs("div",{className:"px-4 pt-6 pb-4",children:[e.jsx("h1",{className:"text-2xl sm:text-3xl font-bold bg-gradient-to-r from-purple-600 via-pink-600 to-red-600 bg-clip-text text-transparent mb-6 flex items-center justify-center",children:"ðŸŽ‰ Pawradise Events"}),e.jsxs("div",{className:"space-y-3 mb-4",children:[e.jsxs("div",{className:"relative",children:[e.jsx(M,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),e.jsx("input",{type:"text",placeholder:"Search events...",value:m,onChange:t=>N(t.target.value),className:"w-full pl-10 pr-4 py-3 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-3xl text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-purple-500 transition-all"})]}),e.jsxs("div",{className:"relative",children:[e.jsx(G,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),e.jsxs("select",{value:n,onChange:t=>k(t.target.value),className:"w-full pl-10 pr-4 py-3 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-3xl text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-purple-500 transition-all",children:[e.jsx("option",{value:"all",children:"All Types"}),e.jsx("option",{value:"training",children:"Training"}),e.jsx("option",{value:"social",children:"Social Meetup"}),e.jsx("option",{value:"competition",children:"Competition"})]})]}),e.jsxs("div",{className:"text-center text-sm text-gray-600 dark:text-gray-400",children:[e.jsx("span",{className:"font-medium bg-gradient-to-r from-purple-600 to-pink-600 bg-clip-text text-transparent",children:l.length})," events found"]})]})]}),e.jsx(T,{action:"register for events, create events, or manage your participation"}),e.jsx("div",{className:"px-4 pb-6",children:l.length===0?e.jsx("div",{className:"text-center py-12",children:e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-3xl p-12 shadow-lg",children:[e.jsx(v,{className:"mx-auto h-16 w-16 text-gray-400 mb-4"}),e.jsx("h3",{className:"text-xl font-semibold bg-gradient-to-r from-purple-600 to-pink-600 bg-clip-text text-transparent mb-2",children:"No Events Available"}),e.jsx("p",{className:"text-gray-500 dark:text-gray-400 mb-6",children:"There are no upcoming events scheduled at the moment."}),e.jsx(i,{to:"/login",className:"inline-flex items-center px-6 py-3 bg-gradient-to-r from-purple-600 to-pink-600 text-white rounded-2xl font-medium hover:from-purple-700 hover:to-pink-700 transition-all",children:"Join Pawradise to Create Events"})]})}):e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:l.map(t=>{var s;return e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-3xl shadow-lg overflow-hidden hover:shadow-xl transition-all duration-300 border border-gray-100 dark:border-gray-700",children:[e.jsxs("div",{className:"bg-gradient-to-r from-purple-600 via-pink-600 to-red-600 p-4 text-white",children:[e.jsx("h3",{className:"text-lg font-semibold mb-1",children:t.title}),e.jsx("p",{className:"text-purple-100 text-sm",children:t.type})]}),e.jsxs("div",{className:"p-4",children:[e.jsx("p",{className:"text-gray-600 dark:text-gray-400 text-sm mb-4 line-clamp-2",children:t.description}),e.jsxs("div",{className:"space-y-2 text-sm",children:[e.jsxs("div",{className:"flex items-center text-gray-600 dark:text-gray-400",children:[e.jsx(v,{className:"h-4 w-4 mr-2"}),e.jsx("span",{children:D(t.eventDate)})]}),e.jsxs("div",{className:"flex items-center text-gray-600 dark:text-gray-400",children:[e.jsx(R,{className:"h-4 w-4 mr-2"}),e.jsx("span",{children:b(t.startTime)}),t.endTime&&e.jsxs("span",{children:[" - ",b(t.endTime)]})]}),e.jsxs("div",{className:"flex items-center text-gray-600 dark:text-gray-400",children:[e.jsx(L,{className:"h-4 w-4 mr-2"}),e.jsx("span",{children:((s=t.garden)==null?void 0:s.name)||"Garden not specified"})]}),e.jsxs("div",{className:"flex items-center text-gray-600 dark:text-gray-400",children:[e.jsx(A,{className:"h-4 w-4 mr-2"}),e.jsxs("span",{children:[t.approvedParticipants||0," participants",t.maxParticipants&&` / ${t.maxParticipants} max`]})]})]}),t.tags&&t.tags.length>0&&e.jsxs("div",{className:"mt-3 flex flex-wrap gap-1",children:[t.tags.slice(0,3).map((r,d)=>e.jsx("span",{className:"inline-block bg-purple-100 dark:bg-purple-900 text-purple-800 dark:text-purple-300 text-xs px-2 py-1 rounded-full",children:r},d)),t.tags.length>3&&e.jsxs("span",{className:"inline-block bg-gray-100 dark:bg-gray-800 text-gray-600 dark:text-gray-400 text-xs px-2 py-1 rounded-full",children:["+",t.tags.length-3]})]}),e.jsx("div",{className:"mt-4 pt-4 border-t border-gray-200 dark:border-gray-700",children:t.registrationDeadline&&new Date(t.registrationDeadline)<new Date?e.jsx("div",{className:"text-red-600 dark:text-red-400 text-sm font-medium",children:"Registration Closed"}):t.maxParticipants&&t.approvedParticipants>=t.maxParticipants?e.jsx("div",{className:"text-orange-600 dark:text-orange-400 text-sm font-medium",children:"Event Full"}):e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("div",{className:"text-green-600 dark:text-green-400 text-sm font-medium",children:"Open for Registration"}),e.jsx(i,{to:"/login",className:"text-xs bg-gradient-to-r from-purple-600 to-pink-600 text-white px-3 py-1 rounded-full hover:from-purple-700 hover:to-pink-700 transition-all",children:"Register"})]})})]})]},t._id)})}),P&&e.jsx("div",{className:"mt-8 text-center",children:e.jsx("button",{onClick:()=>u(),disabled:x,className:"inline-flex items-center px-6 py-3 bg-gradient-to-r from-purple-600 to-pink-600 text-white rounded-2xl font-medium hover:from-purple-700 hover:to-pink-700 transition-all disabled:opacity-50",children:x?e.jsxs(e.Fragment,{children:[e.jsxs("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Loading..."]}):"Load More Events"})})]})}),e.jsx("div",{className:"px-4 pb-8",children:e.jsxs("div",{className:"bg-gradient-to-r from-purple-600 via-pink-600 to-red-600 rounded-3xl p-8 text-center text-white shadow-xl",children:[e.jsx("h2",{className:"text-2xl sm:text-3xl font-bold mb-4",children:"Want to Join Events?"}),e.jsx("p",{className:"text-purple-100 mb-6 text-lg",children:"Join the Pawradise community and start participating in exciting dog park events"}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[e.jsx(i,{to:"/register",className:"bg-white text-purple-600 px-8 py-3 rounded-2xl font-semibold hover:bg-gray-100 transition-colors inline-block shadow-lg",children:"Sign Up"}),e.jsx(i,{to:"/login",className:"border-2 border-white text-white px-8 py-3 rounded-2xl font-semibold hover:bg-white hover:text-purple-600 transition-colors inline-block",children:"Login"})]})]})})]})})};export{Z as default};
