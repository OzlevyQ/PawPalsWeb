import{r as n,a as R0,R as re,e as qr,c as pl,g as fl}from"./vendor-021dee49.js";import{a as bl}from"./utils-917b1704.js";import{u as we,a as er,L as ge,O as na,N as M0,b as Vt,c as L0,R as yl,d as ue,B as vl}from"./router-a343b91c.js";(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))s(l);new MutationObserver(l=>{for(const o of l)if(o.type==="childList")for(const i of o.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&s(i)}).observe(document,{childList:!0,subtree:!0});function a(l){const o={};return l.integrity&&(o.integrity=l.integrity),l.referrerPolicy&&(o.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?o.credentials="include":l.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function s(l){if(l.ep)return;l.ep=!0;const o=a(l);fetch(l.href,o)}})();var $0={exports:{}},As={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wl=n,jl=Symbol.for("react.element"),El=Symbol.for("react.fragment"),kl=Object.prototype.hasOwnProperty,Nl=wl.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Cl={key:!0,ref:!0,__self:!0,__source:!0};function T0(t,r,a){var s,l={},o=null,i=null;a!==void 0&&(o=""+a),r.key!==void 0&&(o=""+r.key),r.ref!==void 0&&(i=r.ref);for(s in r)kl.call(r,s)&&!Cl.hasOwnProperty(s)&&(l[s]=r[s]);if(t&&t.defaultProps)for(s in r=t.defaultProps,r)l[s]===void 0&&(l[s]=r[s]);return{$$typeof:jl,type:t,key:o,ref:i,props:l,_owner:Nl.current}}As.Fragment=El;As.jsx=T0;As.jsxs=T0;$0.exports=As;var e=$0.exports,la={},Qa=R0;la.createRoot=Qa.createRoot,la.hydrateRoot=Qa.hydrateRoot;const Bl=()=>window.location.hostname.includes("ngrok")||window.location.hostname.includes("ngrok-free.app")?`${window.location.protocol}//${window.location.host}/api`:"/api",Al=Bl(),Q=bl.create({baseURL:Al,headers:{"Content-Type":"application/json"}});Q.interceptors.request.use(t=>{const r=localStorage.getItem("token");return r&&(t.headers.Authorization=`Bearer ${r}`),t},t=>Promise.reject(t));Q.interceptors.response.use(t=>t,t=>{var r,a,s;if(((r=t.response)==null?void 0:r.status)===401){const l=window.location.pathname,o=((s=(a=t.response)==null?void 0:a.data)==null?void 0:s.error)==="Please authenticate",i=localStorage.getItem("token"),x=Date.now()-(localStorage.getItem("loginTime")||0)<5e3;l!=="/login"&&o&&!x&&!i&&(localStorage.removeItem("token"),localStorage.removeItem("user"),localStorage.removeItem("loginTime"),window.location.href="/login")}return Promise.reject(t)});const Dl=Object.freeze(Object.defineProperty({__proto__:null,default:Q},Symbol.toStringTag,{value:"Module"})),gt={async register(t){const r=await Q.post("/auth/register",t),{token:a,user:s}=r.data;return a&&(localStorage.setItem("token",a),localStorage.setItem("user",JSON.stringify(s)),console.log("Token saved to localStorage:",a.substring(0,20)+"...")),{user:s,token:a}},async login(t){const r=await Q.post("/auth/login",t),{token:a,user:s}=r.data;return a&&(localStorage.setItem("token",a),localStorage.setItem("user",JSON.stringify(s)),console.log("Token saved to localStorage:",a.substring(0,20)+"...")),{user:s,token:a}},async getProfile(){return(await Q.get("/users/profile")).data},async updateProfile(t){return(await Q.put("/users/profile",t)).data},async changePassword(t){return(await Q.post("/users/change-password",t)).data},async getFavorites(){return(await Q.get("/users/favorites")).data},async addFavorite(t){return(await Q.post("/users/favorites",{gardenId:t})).data},async removeFavorite(t){return(await Q.delete(`/users/favorites/${t}`)).data},async logout(){localStorage.removeItem("token"),localStorage.removeItem("user"),localStorage.removeItem("loginTime"),console.log("Token removed from localStorage");try{await Q.post("/auth/logout")}catch{console.log("Backend logout call failed, but local cleanup done")}},async googleAuth(t){const r=await Q.post("/auth/google",{credential:t}),{token:a,user:s}=r.data;return a&&(localStorage.setItem("token",a),localStorage.setItem("user",JSON.stringify(s)),console.log("Google auth token saved to localStorage")),{user:s,token:a}}},Fl=Object.freeze(Object.defineProperty({__proto__:null,authService:gt},Symbol.toStringTag,{value:"Module"}));function I0(t){var r,a,s="";if(typeof t=="string"||typeof t=="number")s+=t;else if(typeof t=="object")if(Array.isArray(t))for(r=0;r<t.length;r++)t[r]&&(a=I0(t[r]))&&(s&&(s+=" "),s+=a);else for(r in t)t[r]&&(s&&(s+=" "),s+=r);return s}function Zt(){for(var t,r,a=0,s="";a<arguments.length;)(t=arguments[a++])&&(r=I0(t))&&(s&&(s+=" "),s+=r);return s}const _r=t=>typeof t=="number"&&!isNaN(t),ur=t=>typeof t=="string",rt=t=>typeof t=="function",ms=t=>ur(t)||rt(t)?t:null,zs=t=>n.isValidElement(t)||ur(t)||rt(t)||_r(t);function Sl(t,r,a){a===void 0&&(a=300);const{scrollHeight:s,style:l}=t;requestAnimationFrame(()=>{l.minHeight="initial",l.height=s+"px",l.transition=`all ${a}ms`,requestAnimationFrame(()=>{l.height="0",l.padding="0",l.margin="0",setTimeout(r,a)})})}function Ds(t){let{enter:r,exit:a,appendPosition:s=!1,collapse:l=!0,collapseDuration:o=300}=t;return function(i){let{children:x,position:c,preventExitTransition:u,done:h,nodeRef:d,isIn:p}=i;const g=s?`${r}--${c}`:r,f=s?`${a}--${c}`:a,w=n.useRef(0);return n.useLayoutEffect(()=>{const m=d.current,B=g.split(" "),E=N=>{N.target===d.current&&(m.dispatchEvent(new Event("d")),m.removeEventListener("animationend",E),m.removeEventListener("animationcancel",E),w.current===0&&N.type!=="animationcancel"&&m.classList.remove(...B))};m.classList.add(...B),m.addEventListener("animationend",E),m.addEventListener("animationcancel",E)},[]),n.useEffect(()=>{const m=d.current,B=()=>{m.removeEventListener("animationend",B),l?Sl(m,h,o):h()};p||(u?B():(w.current=1,m.className+=` ${f}`,m.addEventListener("animationend",B)))},[p]),re.createElement(re.Fragment,null,x)}}function Ya(t,r){return t!=null?{content:t.content,containerId:t.props.containerId,id:t.props.toastId,theme:t.props.theme,type:t.props.type,data:t.props.data||{},isLoading:t.props.isLoading,icon:t.props.icon,status:r}:{}}const mt={list:new Map,emitQueue:new Map,on(t,r){return this.list.has(t)||this.list.set(t,[]),this.list.get(t).push(r),this},off(t,r){if(r){const a=this.list.get(t).filter(s=>s!==r);return this.list.set(t,a),this}return this.list.delete(t),this},cancelEmit(t){const r=this.emitQueue.get(t);return r&&(r.forEach(clearTimeout),this.emitQueue.delete(t)),this},emit(t){this.list.has(t)&&this.list.get(t).forEach(r=>{const a=setTimeout(()=>{r(...[].slice.call(arguments,1))},0);this.emitQueue.has(t)||this.emitQueue.set(t,[]),this.emitQueue.get(t).push(a)})}},ns=t=>{let{theme:r,type:a,...s}=t;return re.createElement("svg",{viewBox:"0 0 24 24",width:"100%",height:"100%",fill:r==="colored"?"currentColor":`var(--toastify-icon-color-${a})`,...s})},Us={info:function(t){return re.createElement(ns,{...t},re.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))},warning:function(t){return re.createElement(ns,{...t},re.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))},success:function(t){return re.createElement(ns,{...t},re.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))},error:function(t){return re.createElement(ns,{...t},re.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))},spinner:function(){return re.createElement("div",{className:"Toastify__spinner"})}};function Pl(t){const[,r]=n.useReducer(g=>g+1,0),[a,s]=n.useState([]),l=n.useRef(null),o=n.useRef(new Map).current,i=g=>a.indexOf(g)!==-1,x=n.useRef({toastKey:1,displayedToast:0,count:0,queue:[],props:t,containerId:null,isToastActive:i,getToast:g=>o.get(g)}).current;function c(g){let{containerId:f}=g;const{limit:w}=x.props;!w||f&&x.containerId!==f||(x.count-=x.queue.length,x.queue=[])}function u(g){s(f=>g==null?[]:f.filter(w=>w!==g))}function h(){const{toastContent:g,toastProps:f,staleId:w}=x.queue.shift();p(g,f,w)}function d(g,f){let{delay:w,staleId:m,...B}=f;if(!zs(g)||function(A){return!l.current||x.props.enableMultiContainer&&A.containerId!==x.props.containerId||o.has(A.toastId)&&A.updateId==null}(B))return;const{toastId:E,updateId:N,data:v}=B,{props:j}=x,k=()=>u(E),b=N==null;b&&x.count++;const C={...j,style:j.toastStyle,key:x.toastKey++,...Object.fromEntries(Object.entries(B).filter(A=>{let[R,M]=A;return M!=null})),toastId:E,updateId:N,data:v,closeToast:k,isIn:!1,className:ms(B.className||j.toastClassName),bodyClassName:ms(B.bodyClassName||j.bodyClassName),progressClassName:ms(B.progressClassName||j.progressClassName),autoClose:!B.isLoading&&(D=B.autoClose,F=j.autoClose,D===!1||_r(D)&&D>0?D:F),deleteToast(){const A=Ya(o.get(E),"removed");o.delete(E),mt.emit(4,A);const R=x.queue.length;if(x.count=E==null?x.count-x.displayedToast:x.count-1,x.count<0&&(x.count=0),R>0){const M=E==null?x.props.limit:1;if(R===1||M===1)x.displayedToast++,h();else{const _=M>R?R:M;x.displayedToast=_;for(let q=0;q<_;q++)h()}}else r()}};var D,F;C.iconOut=function(A){let{theme:R,type:M,isLoading:_,icon:q}=A,U=null;const L={theme:R,type:M};return q===!1||(rt(q)?U=q(L):n.isValidElement(q)?U=n.cloneElement(q,L):ur(q)||_r(q)?U=q:_?U=Us.spinner():(S=>S in Us)(M)&&(U=Us[M](L))),U}(C),rt(B.onOpen)&&(C.onOpen=B.onOpen),rt(B.onClose)&&(C.onClose=B.onClose),C.closeButton=j.closeButton,B.closeButton===!1||zs(B.closeButton)?C.closeButton=B.closeButton:B.closeButton===!0&&(C.closeButton=!zs(j.closeButton)||j.closeButton);let T=g;n.isValidElement(g)&&!ur(g.type)?T=n.cloneElement(g,{closeToast:k,toastProps:C,data:v}):rt(g)&&(T=g({closeToast:k,toastProps:C,data:v})),j.limit&&j.limit>0&&x.count>j.limit&&b?x.queue.push({toastContent:T,toastProps:C,staleId:m}):_r(w)?setTimeout(()=>{p(T,C,m)},w):p(T,C,m)}function p(g,f,w){const{toastId:m}=f;w&&o.delete(w);const B={content:g,props:f};o.set(m,B),s(E=>[...E,m].filter(N=>N!==w)),mt.emit(4,Ya(B,B.props.updateId==null?"added":"updated"))}return n.useEffect(()=>(x.containerId=t.containerId,mt.cancelEmit(3).on(0,d).on(1,g=>l.current&&u(g)).on(5,c).emit(2,x),()=>{o.clear(),mt.emit(3,x)}),[]),n.useEffect(()=>{x.props=t,x.isToastActive=i,x.displayedToast=a.length}),{getToastToRender:function(g){const f=new Map,w=Array.from(o.values());return t.newestOnTop&&w.reverse(),w.forEach(m=>{const{position:B}=m.props;f.has(B)||f.set(B,[]),f.get(B).push(m)}),Array.from(f,m=>g(m[0],m[1]))},containerRef:l,isToastActive:i}}function Ja(t){return t.targetTouches&&t.targetTouches.length>=1?t.targetTouches[0].clientX:t.clientX}function Xa(t){return t.targetTouches&&t.targetTouches.length>=1?t.targetTouches[0].clientY:t.clientY}function Rl(t){const[r,a]=n.useState(!1),[s,l]=n.useState(!1),o=n.useRef(null),i=n.useRef({start:0,x:0,y:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,boundingRect:null,didMove:!1}).current,x=n.useRef(t),{autoClose:c,pauseOnHover:u,closeToast:h,onClick:d,closeOnClick:p}=t;function g(v){if(t.draggable){v.nativeEvent.type==="touchstart"&&v.nativeEvent.preventDefault(),i.didMove=!1,document.addEventListener("mousemove",B),document.addEventListener("mouseup",E),document.addEventListener("touchmove",B),document.addEventListener("touchend",E);const j=o.current;i.canCloseOnClick=!0,i.canDrag=!0,i.boundingRect=j.getBoundingClientRect(),j.style.transition="",i.x=Ja(v.nativeEvent),i.y=Xa(v.nativeEvent),t.draggableDirection==="x"?(i.start=i.x,i.removalDistance=j.offsetWidth*(t.draggablePercent/100)):(i.start=i.y,i.removalDistance=j.offsetHeight*(t.draggablePercent===80?1.5*t.draggablePercent:t.draggablePercent/100))}}function f(v){if(i.boundingRect){const{top:j,bottom:k,left:b,right:C}=i.boundingRect;v.nativeEvent.type!=="touchend"&&t.pauseOnHover&&i.x>=b&&i.x<=C&&i.y>=j&&i.y<=k?m():w()}}function w(){a(!0)}function m(){a(!1)}function B(v){const j=o.current;i.canDrag&&j&&(i.didMove=!0,r&&m(),i.x=Ja(v),i.y=Xa(v),i.delta=t.draggableDirection==="x"?i.x-i.start:i.y-i.start,i.start!==i.x&&(i.canCloseOnClick=!1),j.style.transform=`translate${t.draggableDirection}(${i.delta}px)`,j.style.opacity=""+(1-Math.abs(i.delta/i.removalDistance)))}function E(){document.removeEventListener("mousemove",B),document.removeEventListener("mouseup",E),document.removeEventListener("touchmove",B),document.removeEventListener("touchend",E);const v=o.current;if(i.canDrag&&i.didMove&&v){if(i.canDrag=!1,Math.abs(i.delta)>i.removalDistance)return l(!0),void t.closeToast();v.style.transition="transform 0.2s, opacity 0.2s",v.style.transform=`translate${t.draggableDirection}(0)`,v.style.opacity="1"}}n.useEffect(()=>{x.current=t}),n.useEffect(()=>(o.current&&o.current.addEventListener("d",w,{once:!0}),rt(t.onOpen)&&t.onOpen(n.isValidElement(t.children)&&t.children.props),()=>{const v=x.current;rt(v.onClose)&&v.onClose(n.isValidElement(v.children)&&v.children.props)}),[]),n.useEffect(()=>(t.pauseOnFocusLoss&&(document.hasFocus()||m(),window.addEventListener("focus",w),window.addEventListener("blur",m)),()=>{t.pauseOnFocusLoss&&(window.removeEventListener("focus",w),window.removeEventListener("blur",m))}),[t.pauseOnFocusLoss]);const N={onMouseDown:g,onTouchStart:g,onMouseUp:f,onTouchEnd:f};return c&&u&&(N.onMouseEnter=m,N.onMouseLeave=w),p&&(N.onClick=v=>{d&&d(v),i.canCloseOnClick&&h()}),{playToast:w,pauseToast:m,isRunning:r,preventExitTransition:s,toastRef:o,eventHandlers:N}}function _0(t){let{closeToast:r,theme:a,ariaLabel:s="close"}=t;return re.createElement("button",{className:`Toastify__close-button Toastify__close-button--${a}`,type:"button",onClick:l=>{l.stopPropagation(),r(l)},"aria-label":s},re.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},re.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}function Ml(t){let{delay:r,isRunning:a,closeToast:s,type:l="default",hide:o,className:i,style:x,controlledProgress:c,progress:u,rtl:h,isIn:d,theme:p}=t;const g=o||c&&u===0,f={...x,animationDuration:`${r}ms`,animationPlayState:a?"running":"paused",opacity:g?0:1};c&&(f.transform=`scaleX(${u})`);const w=Zt("Toastify__progress-bar",c?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated",`Toastify__progress-bar-theme--${p}`,`Toastify__progress-bar--${l}`,{"Toastify__progress-bar--rtl":h}),m=rt(i)?i({rtl:h,type:l,defaultClassName:w}):Zt(w,i);return re.createElement("div",{role:"progressbar","aria-hidden":g?"true":"false","aria-label":"notification timer",className:m,style:f,[c&&u>=1?"onTransitionEnd":"onAnimationEnd"]:c&&u<1?null:()=>{d&&s()}})}const Ll=t=>{const{isRunning:r,preventExitTransition:a,toastRef:s,eventHandlers:l}=Rl(t),{closeButton:o,children:i,autoClose:x,onClick:c,type:u,hideProgressBar:h,closeToast:d,transition:p,position:g,className:f,style:w,bodyClassName:m,bodyStyle:B,progressClassName:E,progressStyle:N,updateId:v,role:j,progress:k,rtl:b,toastId:C,deleteToast:D,isIn:F,isLoading:T,iconOut:A,closeOnClick:R,theme:M}=t,_=Zt("Toastify__toast",`Toastify__toast-theme--${M}`,`Toastify__toast--${u}`,{"Toastify__toast--rtl":b},{"Toastify__toast--close-on-click":R}),q=rt(f)?f({rtl:b,position:g,type:u,defaultClassName:_}):Zt(_,f),U=!!k||!x,L={closeToast:d,type:u,theme:M};let S=null;return o===!1||(S=rt(o)?o(L):n.isValidElement(o)?n.cloneElement(o,L):_0(L)),re.createElement(p,{isIn:F,done:D,position:g,preventExitTransition:a,nodeRef:s},re.createElement("div",{id:C,onClick:c,className:q,...l,style:w,ref:s},re.createElement("div",{...F&&{role:j},className:rt(m)?m({type:u}):Zt("Toastify__toast-body",m),style:B},A!=null&&re.createElement("div",{className:Zt("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!T})},A),re.createElement("div",null,i)),S,re.createElement(Ml,{...v&&!U?{key:`pb-${v}`}:{},rtl:b,theme:M,delay:x,isRunning:r,isIn:F,closeToast:d,hide:h,type:u,style:N,className:E,controlledProgress:U,progress:k||0})))},Fs=function(t,r){return r===void 0&&(r=!1),{enter:`Toastify--animate Toastify__${t}-enter`,exit:`Toastify--animate Toastify__${t}-exit`,appendPosition:r}},$l=Ds(Fs("bounce",!0));Ds(Fs("slide",!0));Ds(Fs("zoom"));Ds(Fs("flip"));const oa=n.forwardRef((t,r)=>{const{getToastToRender:a,containerRef:s,isToastActive:l}=Pl(t),{className:o,style:i,rtl:x,containerId:c}=t;function u(h){const d=Zt("Toastify__toast-container",`Toastify__toast-container--${h}`,{"Toastify__toast-container--rtl":x});return rt(o)?o({position:h,rtl:x,defaultClassName:d}):Zt(d,ms(o))}return n.useEffect(()=>{r&&(r.current=s.current)},[]),re.createElement("div",{ref:s,className:"Toastify",id:c},a((h,d)=>{const p=d.length?{...i}:{...i,pointerEvents:"none"};return re.createElement("div",{className:u(h),style:p,key:`container-${h}`},d.map((g,f)=>{let{content:w,props:m}=g;return re.createElement(Ll,{...m,isIn:l(m.toastId),style:{...m.style,"--nth":f+1,"--len":d.length},key:`toast-${m.key}`},w)}))}))});oa.displayName="ToastContainer",oa.defaultProps={position:"top-right",transition:$l,autoClose:5e3,closeButton:_0,pauseOnHover:!0,pauseOnFocusLoss:!0,closeOnClick:!0,draggable:!0,draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light"};let qs,rr=new Map,Tr=[],Tl=1;function O0(){return""+Tl++}function Il(t){return t&&(ur(t.toastId)||_r(t.toastId))?t.toastId:O0()}function Or(t,r){return rr.size>0?mt.emit(0,t,r):Tr.push({content:t,options:r}),r.toastId}function bs(t,r){return{...r,type:r&&r.type||t,toastId:Il(r)}}function ls(t){return(r,a)=>Or(r,bs(t,a))}function I(t,r){return Or(t,bs("default",r))}I.loading=(t,r)=>Or(t,bs("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...r})),I.promise=function(t,r,a){let s,{pending:l,error:o,success:i}=r;l&&(s=ur(l)?I.loading(l,a):I.loading(l.render,{...a,...l}));const x={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},c=(h,d,p)=>{if(d==null)return void I.dismiss(s);const g={type:h,...x,...a,data:p},f=ur(d)?{render:d}:d;return s?I.update(s,{...g,...f}):I(f.render,{...g,...f}),p},u=rt(t)?t():t;return u.then(h=>c("success",i,h)).catch(h=>c("error",o,h)),u},I.success=ls("success"),I.info=ls("info"),I.error=ls("error"),I.warning=ls("warning"),I.warn=I.warning,I.dark=(t,r)=>Or(t,bs("default",{theme:"dark",...r})),I.dismiss=t=>{rr.size>0?mt.emit(1,t):Tr=Tr.filter(r=>t!=null&&r.options.toastId!==t)},I.clearWaitingQueue=function(t){return t===void 0&&(t={}),mt.emit(5,t)},I.isActive=t=>{let r=!1;return rr.forEach(a=>{a.isToastActive&&a.isToastActive(t)&&(r=!0)}),r},I.update=function(t,r){r===void 0&&(r={}),setTimeout(()=>{const a=function(s,l){let{containerId:o}=l;const i=rr.get(o||qs);return i&&i.getToast(s)}(t,r);if(a){const{props:s,content:l}=a,o={delay:100,...s,...r,toastId:r.toastId||t,updateId:O0()};o.toastId!==t&&(o.staleId=t);const i=o.render||l;delete o.render,Or(i,o)}},0)},I.done=t=>{I.update(t,{progress:1})},I.onChange=t=>(mt.on(4,t),()=>{mt.off(4,t)}),I.POSITION={TOP_LEFT:"top-left",TOP_RIGHT:"top-right",TOP_CENTER:"top-center",BOTTOM_LEFT:"bottom-left",BOTTOM_RIGHT:"bottom-right",BOTTOM_CENTER:"bottom-center"},I.TYPE={INFO:"info",SUCCESS:"success",WARNING:"warning",ERROR:"error",DEFAULT:"default"},mt.on(2,t=>{qs=t.containerId||t,rr.set(qs,t),Tr.forEach(r=>{mt.emit(0,r.content,r.options)}),Tr=[]}).on(3,t=>{rr.delete(t.containerId||t),rr.size===0&&mt.off(0).off(1).off(5)});const _l="modulepreload",Ol=function(t){return"/"+t},Ka={},ve=function(r,a,s){if(!a||a.length===0)return r();const l=document.getElementsByTagName("link");return Promise.all(a.map(o=>{if(o=Ol(o),o in Ka)return;Ka[o]=!0;const i=o.endsWith(".css"),x=i?'[rel="stylesheet"]':"";if(!!s)for(let h=l.length-1;h>=0;h--){const d=l[h];if(d.href===o&&(!i||d.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${o}"]${x}`))return;const u=document.createElement("link");if(u.rel=i?"stylesheet":_l,i||(u.as="script",u.crossOrigin=""),u.href=o,document.head.appendChild(u),i)return new Promise((h,d)=>{u.addEventListener("load",h),u.addEventListener("error",()=>d(new Error(`Unable to preload CSS for ${o}`)))})})).then(()=>r()).catch(o=>{const i=new Event("vite:preloadError",{cancelable:!0});if(i.payload=o,window.dispatchEvent(i),!i.defaultPrevented)throw o})},Gs=new Map,nt=t=>{if(!Gs.has(t)){const r=t();return Gs.set(t,r),r}return Gs.get(t)},e0=()=>{nt(()=>ve(()=>Promise.resolve().then(()=>Tn),void 0)),nt(()=>ve(()=>Promise.resolve().then(()=>_n),void 0)),nt(()=>ve(()=>Promise.resolve().then(()=>ep),void 0)),nt(()=>ve(()=>Promise.resolve().then(()=>Yn),void 0)),nt(()=>ve(()=>Promise.resolve().then(()=>ll),void 0))},Vl=t=>({onMouseEnter:()=>nt(t),onFocus:()=>nt(t)}),Hs=t=>{switch(t){case"admin":nt(()=>ve(()=>Promise.resolve().then(()=>dp),void 0)),nt(()=>ve(()=>Promise.resolve().then(()=>cp),void 0)),nt(()=>ve(()=>Promise.resolve().then(()=>mp),void 0));break;case"garden_manager":nt(()=>ve(()=>Promise.resolve().then(()=>hp),void 0));break;default:nt(()=>ve(()=>Promise.resolve().then(()=>Gn),void 0)),nt(()=>ve(()=>Promise.resolve().then(()=>tp),void 0));break}},zl=()=>{"requestIdleCallback"in window?requestIdleCallback(()=>{e0()}):setTimeout(e0,1e3)};class Ul{constructor(){this.baseURL=this.getApiUrl(),this.notifications=[],this.unreadCount=0,this.subscribers=[],this.websocket=null,this.reconnectAttempts=0,this.maxReconnectAttempts=5,this.reconnectDelay=1e3}getApiUrl(){return window.location.hostname==="localhost"||window.location.hostname==="127.0.0.1"?"http://localhost:5000/api":"/api"}async init(){try{await this.requestPermission(),await this.loadNotifications(),this.connectWebSocket()}catch(r){console.error("Failed to initialize notification service:",r)}}async loadNotifications(r={}){try{const a=localStorage.getItem("token");if(!a)return{notifications:[],unreadCount:0};const s=new URLSearchParams;r.page&&s.append("page",r.page),r.limit&&s.append("limit",r.limit),r.unreadOnly&&s.append("unreadOnly","true"),r.type&&s.append("type",r.type);const l=await fetch(`${this.baseURL}/notifications?${s}`,{headers:{Authorization:`Bearer ${a}`,"Content-Type":"application/json"}});if(l.ok){const o=await l.json();return this.notifications=o.notifications||[],this.unreadCount=o.unreadCount||0,this.notifySubscribers(),o}}catch(a){console.error("Failed to load notifications:",a)}return{notifications:[],unreadCount:0}}connectWebSocket(){try{const r=localStorage.getItem("token");if(!r)return;const s=window.location.hostname==="localhost"||window.location.hostname==="127.0.0.1"?`ws://localhost:5000/notifications-ws?token=${r}`:`${window.location.protocol==="https:"?"wss:":"ws:"}//${window.location.host}/notifications-ws?token=${r}`;this.websocket=new WebSocket(s),this.websocket.onopen=()=>{console.log("WebSocket connected"),this.reconnectAttempts=0,this.reconnectDelay=1e3},this.websocket.onmessage=l=>{try{const o=JSON.parse(l.data);o.type==="notification"&&this.handleNewNotification(o.notification)}catch(o){console.error("Failed to parse WebSocket message:",o)}},this.websocket.onclose=()=>{console.log("WebSocket disconnected"),this.scheduleReconnect()},this.websocket.onerror=l=>{console.error("WebSocket error:",l)}}catch(r){console.error("Failed to connect WebSocket:",r),this.scheduleReconnect()}}scheduleReconnect(){this.reconnectAttempts<this.maxReconnectAttempts&&setTimeout(()=>{this.reconnectAttempts++,this.reconnectDelay*=2,console.log(`Attempting to reconnect WebSocket (${this.reconnectAttempts}/${this.maxReconnectAttempts})`),this.connectWebSocket()},this.reconnectDelay)}handleNewNotification(r){this.notifications.unshift(r),r.isRead||this.unreadCount++,this.showBrowserNotification(r),this.notifySubscribers()}async showBrowserNotification(r){if(console.log("🔔 Attempting to show browser notification:",r),console.log("🔔 Notification support:","Notification"in window),console.log("🔔 Permission status:",Notification.permission),console.log("🔔 Is PWA installed:",window.matchMedia("(display-mode: standalone)").matches),"Notification"in window){if(Notification.permission==="granted"){console.log("✅ Showing notification with permission granted");try{const a=new Notification(r.title,{body:r.content,icon:"/icon-192.png",badge:"/icon-192.png",data:r,tag:"pawradise-notification"});a.onclick=()=>{console.log("📱 Notification clicked"),window.focus(),a.close()},console.log("✅ Notification created successfully")}catch(a){console.error("❌ Error creating notification:",a)}}else if(Notification.permission==="denied")console.warn("⚠️ Notifications are blocked by user");else if(console.warn("⚠️ Notification permission not granted, requesting..."),await this.requestPermission())return this.showBrowserNotification(r)}else console.error("❌ Notifications not supported in this browser")}async requestPermission(){return"Notification"in window?await Notification.requestPermission()==="granted":!1}getNotifications(){return this.notifications}getUnreadNotifications(){return this.notifications.filter(r=>!r.isRead)}getUnreadCount(){return this.unreadCount}async markAsRead(r){try{const a=localStorage.getItem("token");if((await fetch(`${this.baseURL}/notifications/${r}/read`,{method:"PUT",headers:{Authorization:`Bearer ${a}`,"Content-Type":"application/json"}})).ok){const l=this.notifications.find(o=>o._id===r);return l&&!l.isRead&&(l.isRead=!0,l.readAt=new Date,this.unreadCount=Math.max(0,this.unreadCount-1),this.notifySubscribers()),!0}}catch(a){console.error("Failed to mark notification as read:",a)}return!1}async markAllAsRead(){try{const r=localStorage.getItem("token");if((await fetch(`${this.baseURL}/notifications/mark-all-read`,{method:"PUT",headers:{Authorization:`Bearer ${r}`,"Content-Type":"application/json"}})).ok)return this.notifications.forEach(s=>{s.isRead||(s.isRead=!0,s.readAt=new Date)}),this.unreadCount=0,this.notifySubscribers(),!0}catch(r){console.error("Failed to mark all notifications as read:",r)}return!1}async deleteNotification(r){try{const a=localStorage.getItem("token");if((await fetch(`${this.baseURL}/notifications/${r}`,{method:"DELETE",headers:{Authorization:`Bearer ${a}`,"Content-Type":"application/json"}})).ok){const l=this.notifications.findIndex(o=>o._id===r);return l!==-1&&(this.notifications[l].isRead||(this.unreadCount=Math.max(0,this.unreadCount-1)),this.notifications.splice(l,1),this.notifySubscribers()),!0}}catch(a){console.error("Failed to delete notification:",a)}return!1}subscribe(r){return this.subscribers.push(r),r({notifications:this.notifications,unreadCount:this.unreadCount}),()=>{const a=this.subscribers.indexOf(r);a>-1&&this.subscribers.splice(a,1)}}notifySubscribers(){this.subscribers.forEach(r=>{r({notifications:this.notifications,unreadCount:this.unreadCount})})}async createTestNotification(r="system",a="Test",s="This is a test notification"){try{const l=localStorage.getItem("token"),o=await fetch(`${this.baseURL}/notifications/test`,{method:"POST",headers:{Authorization:`Bearer ${l}`,"Content-Type":"application/json"},body:JSON.stringify({type:r,title:a,content:s})});if(o.ok){const i=await o.json();return console.log("Test notification created:",i),await this.loadNotifications(),!0}}catch(l){console.error("Failed to create test notification:",l)}return!1}destroy(){this.websocket&&this.websocket.close(),this.subscribers=[]}}const Ye=new Ul,ql=Object.freeze(Object.defineProperty({__proto__:null,default:Ye},Symbol.toStringTag,{value:"Module"})),V0=n.createContext(),pe=()=>{const t=n.useContext(V0);if(!t)throw new Error("useAuth must be used within an AuthProvider");return t},Gl=({children:t})=>{const[r,a]=n.useState(null),[s,l]=n.useState(!0);n.useEffect(()=>{(async()=>{var g,f,w;const p=localStorage.getItem("token");if(console.log("AuthContext loadUser - token exists:",!!p),p)try{const m=await gt.getProfile();console.log("AuthContext loadUser - profile loaded:",m),a(m),await Ye.init(),Hs(m.role)}catch(m){console.error("Error loading user profile:",m),((g=m.response)==null?void 0:g.status)===401&&((w=(f=m.response)==null?void 0:f.data)==null?void 0:w.error)==="Please authenticate"&&(console.log("Removing token due to authentication failure"),localStorage.removeItem("token"),localStorage.removeItem("user"))}l(!1)})()},[]),n.useEffect(()=>{s||zl()},[s]);const h={user:r,loading:s,login:async d=>{try{const{user:p,token:g}=await gt.login(d);return console.log("Login successful, user:",p,"token exists:",!!g),a(p),localStorage.setItem("loginTime",Date.now().toString()),await Ye.init(),Hs(p.role),I.success("Login successful"),{success:!0,user:p}}catch(p){return I.error(p.message||"Login failed"),{success:!1,error:p.message}}},register:async d=>{try{const{user:p,token:g}=await gt.register(d);return console.log("Registration successful, user:",p,"token exists:",!!g),a(p),localStorage.setItem("loginTime",Date.now().toString()),await Ye.init(),I.success("Registration successful"),{success:!0,user:p}}catch(p){return I.error(p.message||"Registration failed"),{success:!1,error:p.message}}},logout:async()=>{try{await gt.logout(),a(null),localStorage.removeItem("token"),localStorage.removeItem("user"),localStorage.removeItem("loginTime"),await Ye.cleanup(),I.success("Logged out successfully")}catch(d){console.error("Logout error:",d),a(null),localStorage.removeItem("token"),localStorage.removeItem("user"),localStorage.removeItem("loginTime")}},updateUser:d=>{a(d),localStorage.setItem("user",JSON.stringify(d))},loginWithGoogle:async d=>{try{const{user:p,token:g}=await gt.googleAuth(d);return console.log("Google login successful, user:",p,"token exists:",!!g),a(p),localStorage.setItem("loginTime",Date.now().toString()),await Ye.init(),Hs(p.role),I.success("Google login successful"),{success:!0,user:p}}catch(p){return I.error(p.message||"Google login failed"),{success:!1,error:p.message}}},isAuthenticated:!!r};return e.jsx(V0.Provider,{value:h,children:t})},z0=n.createContext(),Hl=()=>{const t=n.useContext(z0);if(!t)throw new Error("useLanguage must be used within a LanguageProvider");return t},Wl=({children:t})=>{const[r,a]=n.useState("en"),[s,l]=n.useState(!1);n.useEffect(()=>{const c=localStorage.getItem("language")||"en";o(c)},[]);const o=c=>{a(c);const u=c==="he";l(u),localStorage.setItem("language",c),document.documentElement.dir=u?"rtl":"ltr",document.documentElement.lang=c,u?(document.body.classList.add("rtl"),document.documentElement.classList.add("rtl")):(document.body.classList.remove("rtl"),document.documentElement.classList.remove("rtl"))},x={language:r,isRTL:s,changeLanguage:o,toggleLanguage:()=>{o(r==="en"?"he":"en")}};return e.jsx(z0.Provider,{value:x,children:t})};var Zl=Object.defineProperty,Ql=(t,r,a)=>r in t?Zl(t,r,{enumerable:!0,configurable:!0,writable:!0,value:a}):t[r]=a,Ws=(t,r,a)=>(Ql(t,typeof r!="symbol"?r+"":r,a),a);let Yl=class{constructor(){Ws(this,"current",this.detect()),Ws(this,"handoffState","pending"),Ws(this,"currentId",0)}set(r){this.current!==r&&(this.handoffState="pending",this.currentId=0,this.current=r)}reset(){this.set(this.detect())}nextId(){return++this.currentId}get isServer(){return this.current==="server"}get isClient(){return this.current==="client"}detect(){return typeof window>"u"||typeof document>"u"?"server":"client"}handoff(){this.handoffState==="pending"&&(this.handoffState="complete")}get isHandoffComplete(){return this.handoffState==="complete"}},Lt=new Yl,ft=(t,r)=>{Lt.isServer?n.useEffect(t,r):n.useLayoutEffect(t,r)};function $t(t){let r=n.useRef(t);return ft(()=>{r.current=t},[t]),r}let Pe=function(t){let r=$t(t);return re.useCallback((...a)=>r.current(...a),[r])};function Ss(t){typeof queueMicrotask=="function"?queueMicrotask(t):Promise.resolve().then(t).catch(r=>setTimeout(()=>{throw r}))}function fr(){let t=[],r={addEventListener(a,s,l,o){return a.addEventListener(s,l,o),r.add(()=>a.removeEventListener(s,l,o))},requestAnimationFrame(...a){let s=requestAnimationFrame(...a);return r.add(()=>cancelAnimationFrame(s))},nextFrame(...a){return r.requestAnimationFrame(()=>r.requestAnimationFrame(...a))},setTimeout(...a){let s=setTimeout(...a);return r.add(()=>clearTimeout(s))},microTask(...a){let s={current:!0};return Ss(()=>{s.current&&a[0]()}),r.add(()=>{s.current=!1})},style(a,s,l){let o=a.style.getPropertyValue(s);return Object.assign(a.style,{[s]:l}),this.add(()=>{Object.assign(a.style,{[s]:o})})},group(a){let s=fr();return a(s),this.add(()=>s.dispose())},add(a){return t.push(a),()=>{let s=t.indexOf(a);if(s>=0)for(let l of t.splice(s,1))l()}},dispose(){for(let a of t.splice(0))a()}};return r}function Aa(){let[t]=n.useState(fr);return n.useEffect(()=>()=>t.dispose(),[t]),t}function Jl(){let t=typeof document>"u";return"useSyncExternalStore"in qr?(r=>r.useSyncExternalStore)(qr)(()=>()=>{},()=>!1,()=>!t):!1}function Ar(){let t=Jl(),[r,a]=n.useState(Lt.isHandoffComplete);return r&&Lt.isHandoffComplete===!1&&a(!1),n.useEffect(()=>{r!==!0&&a(!0)},[r]),n.useEffect(()=>Lt.handoff(),[]),t?!1:r}var t0;let Dr=(t0=re.useId)!=null?t0:function(){let t=Ar(),[r,a]=re.useState(t?()=>Lt.nextId():null);return ft(()=>{r===null&&a(Lt.nextId())},[r]),r!=null?""+r:void 0};function He(t,r,...a){if(t in r){let l=r[t];return typeof l=="function"?l(...a):l}let s=new Error(`Tried to handle "${t}" but there is no handler defined. Only defined handlers are: ${Object.keys(r).map(l=>`"${l}"`).join(", ")}.`);throw Error.captureStackTrace&&Error.captureStackTrace(s,He),s}function U0(t){return Lt.isServer?null:t instanceof Node?t.ownerDocument:t!=null&&t.hasOwnProperty("current")&&t.current instanceof Node?t.current.ownerDocument:document}let ia=["[contentEditable=true]","[tabindex]","a[href]","area[href]","button:not([disabled])","iframe","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].map(t=>`${t}:not([tabindex='-1'])`).join(",");var sr=(t=>(t[t.First=1]="First",t[t.Previous=2]="Previous",t[t.Next=4]="Next",t[t.Last=8]="Last",t[t.WrapAround=16]="WrapAround",t[t.NoScroll=32]="NoScroll",t))(sr||{}),q0=(t=>(t[t.Error=0]="Error",t[t.Overflow=1]="Overflow",t[t.Success=2]="Success",t[t.Underflow=3]="Underflow",t))(q0||{}),Xl=(t=>(t[t.Previous=-1]="Previous",t[t.Next=1]="Next",t))(Xl||{});function Kl(t=document.body){return t==null?[]:Array.from(t.querySelectorAll(ia)).sort((r,a)=>Math.sign((r.tabIndex||Number.MAX_SAFE_INTEGER)-(a.tabIndex||Number.MAX_SAFE_INTEGER)))}var G0=(t=>(t[t.Strict=0]="Strict",t[t.Loose=1]="Loose",t))(G0||{});function eo(t,r=0){var a;return t===((a=U0(t))==null?void 0:a.body)?!1:He(r,{0(){return t.matches(ia)},1(){let s=t;for(;s!==null;){if(s.matches(ia))return!0;s=s.parentElement}return!1}})}var to=(t=>(t[t.Keyboard=0]="Keyboard",t[t.Mouse=1]="Mouse",t))(to||{});typeof window<"u"&&typeof document<"u"&&(document.addEventListener("keydown",t=>{t.metaKey||t.altKey||t.ctrlKey||(document.documentElement.dataset.headlessuiFocusVisible="")},!0),document.addEventListener("click",t=>{t.detail===1?delete document.documentElement.dataset.headlessuiFocusVisible:t.detail===0&&(document.documentElement.dataset.headlessuiFocusVisible="")},!0));function dr(t){t==null||t.focus({preventScroll:!0})}let ro=["textarea","input"].join(",");function so(t){var r,a;return(a=(r=t==null?void 0:t.matches)==null?void 0:r.call(t,ro))!=null?a:!1}function ao(t,r=a=>a){return t.slice().sort((a,s)=>{let l=r(a),o=r(s);if(l===null||o===null)return 0;let i=l.compareDocumentPosition(o);return i&Node.DOCUMENT_POSITION_FOLLOWING?-1:i&Node.DOCUMENT_POSITION_PRECEDING?1:0})}function gs(t,r,{sorted:a=!0,relativeTo:s=null,skipElements:l=[]}={}){let o=Array.isArray(t)?t.length>0?t[0].ownerDocument:document:t.ownerDocument,i=Array.isArray(t)?a?ao(t):t:Kl(t);l.length>0&&i.length>1&&(i=i.filter(g=>!l.includes(g))),s=s??o.activeElement;let x=(()=>{if(r&5)return 1;if(r&10)return-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),c=(()=>{if(r&1)return 0;if(r&2)return Math.max(0,i.indexOf(s))-1;if(r&4)return Math.max(0,i.indexOf(s))+1;if(r&8)return i.length-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),u=r&32?{preventScroll:!0}:{},h=0,d=i.length,p;do{if(h>=d||h+d<=0)return 0;let g=c+h;if(r&16)g=(g+d)%d;else{if(g<0)return 3;if(g>=d)return 1}p=i[g],p==null||p.focus(u),h+=x}while(p!==o.activeElement);return r&6&&so(p)&&p.select(),2}function H0(){return/iPhone/gi.test(window.navigator.platform)||/Mac/gi.test(window.navigator.platform)&&window.navigator.maxTouchPoints>0}function no(){return/Android/gi.test(window.navigator.userAgent)}function lo(){return H0()||no()}function os(t,r,a){let s=$t(r);n.useEffect(()=>{function l(o){s.current(o)}return document.addEventListener(t,l,a),()=>document.removeEventListener(t,l,a)},[t,a])}function W0(t,r,a){let s=$t(r);n.useEffect(()=>{function l(o){s.current(o)}return window.addEventListener(t,l,a),()=>window.removeEventListener(t,l,a)},[t,a])}function oo(t,r,a=!0){let s=n.useRef(!1);n.useEffect(()=>{requestAnimationFrame(()=>{s.current=a})},[a]);function l(i,x){if(!s.current||i.defaultPrevented)return;let c=x(i);if(c===null||!c.getRootNode().contains(c)||!c.isConnected)return;let u=function h(d){return typeof d=="function"?h(d()):Array.isArray(d)||d instanceof Set?d:[d]}(t);for(let h of u){if(h===null)continue;let d=h instanceof HTMLElement?h:h.current;if(d!=null&&d.contains(c)||i.composed&&i.composedPath().includes(d))return}return!eo(c,G0.Loose)&&c.tabIndex!==-1&&i.preventDefault(),r(i,c)}let o=n.useRef(null);os("pointerdown",i=>{var x,c;s.current&&(o.current=((c=(x=i.composedPath)==null?void 0:x.call(i))==null?void 0:c[0])||i.target)},!0),os("mousedown",i=>{var x,c;s.current&&(o.current=((c=(x=i.composedPath)==null?void 0:x.call(i))==null?void 0:c[0])||i.target)},!0),os("click",i=>{lo()||o.current&&(l(i,()=>o.current),o.current=null)},!0),os("touchend",i=>l(i,()=>i.target instanceof HTMLElement?i.target:null),!0),W0("blur",i=>l(i,()=>window.document.activeElement instanceof HTMLIFrameElement?window.document.activeElement:null),!0)}function Yr(...t){return n.useMemo(()=>U0(...t),[...t])}let Z0=Symbol();function io(t,r=!0){return Object.assign(t,{[Z0]:r})}function Ct(...t){let r=n.useRef(t);n.useEffect(()=>{r.current=t},[t]);let a=Pe(s=>{for(let l of r.current)l!=null&&(typeof l=="function"?l(s):l.current=s)});return t.every(s=>s==null||(s==null?void 0:s[Z0]))?void 0:a}function Da(t,r){let a=n.useRef([]),s=Pe(t);n.useEffect(()=>{let l=[...a.current];for(let[o,i]of r.entries())if(a.current[o]!==i){let x=s(r,l);return a.current=r,x}},[s,...r])}function ys(...t){return Array.from(new Set(t.flatMap(r=>typeof r=="string"?r.split(" "):[]))).filter(Boolean).join(" ")}var vs=(t=>(t[t.None=0]="None",t[t.RenderStrategy=1]="RenderStrategy",t[t.Static=2]="Static",t))(vs||{}),Qt=(t=>(t[t.Unmount=0]="Unmount",t[t.Hidden=1]="Hidden",t))(Qt||{});function yt({ourProps:t,theirProps:r,slot:a,defaultTag:s,features:l,visible:o=!0,name:i,mergeRefs:x}){x=x??xo;let c=Q0(r,t);if(o)return is(c,a,s,i,x);let u=l??0;if(u&2){let{static:h=!1,...d}=c;if(h)return is(d,a,s,i,x)}if(u&1){let{unmount:h=!0,...d}=c;return He(h?0:1,{0(){return null},1(){return is({...d,hidden:!0,style:{display:"none"}},a,s,i,x)}})}return is(c,a,s,i,x)}function is(t,r={},a,s,l){let{as:o=a,children:i,refName:x="ref",...c}=Zs(t,["unmount","static"]),u=t.ref!==void 0?{[x]:t.ref}:{},h=typeof i=="function"?i(r):i;"className"in c&&c.className&&typeof c.className=="function"&&(c.className=c.className(r));let d={};if(r){let p=!1,g=[];for(let[f,w]of Object.entries(r))typeof w=="boolean"&&(p=!0),w===!0&&g.push(f);p&&(d["data-headlessui-state"]=g.join(" "))}if(o===n.Fragment&&Object.keys(r0(c)).length>0){if(!n.isValidElement(h)||Array.isArray(h)&&h.length>1)throw new Error(['Passing props on "Fragment"!',"",`The current component <${s} /> is rendering a "Fragment".`,"However we need to passthrough the following props:",Object.keys(c).map(w=>`  - ${w}`).join(`
`),"","You can apply a few solutions:",['Add an `as="..."` prop, to ensure that we render an actual element instead of a "Fragment".',"Render a single element as the child so that we can forward the props onto that element."].map(w=>`  - ${w}`).join(`
`)].join(`
`));let p=h.props,g=typeof(p==null?void 0:p.className)=="function"?(...w)=>ys(p==null?void 0:p.className(...w),c.className):ys(p==null?void 0:p.className,c.className),f=g?{className:g}:{};return n.cloneElement(h,Object.assign({},Q0(h.props,r0(Zs(c,["ref"]))),d,u,{ref:l(h.ref,u.ref)},f))}return n.createElement(o,Object.assign({},Zs(c,["ref"]),o!==n.Fragment&&u,o!==n.Fragment&&d),h)}function xo(...t){return t.every(r=>r==null)?void 0:r=>{for(let a of t)a!=null&&(typeof a=="function"?a(r):a.current=r)}}function Q0(...t){if(t.length===0)return{};if(t.length===1)return t[0];let r={},a={};for(let s of t)for(let l in s)l.startsWith("on")&&typeof s[l]=="function"?(a[l]!=null||(a[l]=[]),a[l].push(s[l])):r[l]=s[l];if(r.disabled||r["aria-disabled"])return Object.assign(r,Object.fromEntries(Object.keys(a).map(s=>[s,void 0])));for(let s in a)Object.assign(r,{[s](l,...o){let i=a[s];for(let x of i){if((l instanceof Event||(l==null?void 0:l.nativeEvent)instanceof Event)&&l.defaultPrevented)return;x(l,...o)}}});return r}function ct(t){var r;return Object.assign(n.forwardRef(t),{displayName:(r=t.displayName)!=null?r:t.name})}function r0(t){let r=Object.assign({},t);for(let a in r)r[a]===void 0&&delete r[a];return r}function Zs(t,r=[]){let a=Object.assign({},t);for(let s of r)s in a&&delete a[s];return a}let co="div";var ws=(t=>(t[t.None=1]="None",t[t.Focusable=2]="Focusable",t[t.Hidden=4]="Hidden",t))(ws||{});function mo(t,r){var a;let{features:s=1,...l}=t,o={ref:r,"aria-hidden":(s&2)===2?!0:(a=l["aria-hidden"])!=null?a:void 0,hidden:(s&4)===4?!0:void 0,style:{position:"fixed",top:1,left:1,width:1,height:0,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0",...(s&4)===4&&(s&2)!==2&&{display:"none"}}};return yt({ourProps:o,theirProps:l,slot:{},defaultTag:co,name:"Hidden"})}let xa=ct(mo),Fa=n.createContext(null);Fa.displayName="OpenClosedContext";var lt=(t=>(t[t.Open=1]="Open",t[t.Closed=2]="Closed",t[t.Closing=4]="Closing",t[t.Opening=8]="Opening",t))(lt||{});function Sa(){return n.useContext(Fa)}function go({value:t,children:r}){return re.createElement(Fa.Provider,{value:t},r)}function uo(t){function r(){document.readyState!=="loading"&&(t(),document.removeEventListener("DOMContentLoaded",r))}typeof window<"u"&&typeof document<"u"&&(document.addEventListener("DOMContentLoaded",r),r())}let Gt=[];uo(()=>{function t(r){r.target instanceof HTMLElement&&r.target!==document.body&&Gt[0]!==r.target&&(Gt.unshift(r.target),Gt=Gt.filter(a=>a!=null&&a.isConnected),Gt.splice(10))}window.addEventListener("click",t,{capture:!0}),window.addEventListener("mousedown",t,{capture:!0}),window.addEventListener("focus",t,{capture:!0}),document.body.addEventListener("click",t,{capture:!0}),document.body.addEventListener("mousedown",t,{capture:!0}),document.body.addEventListener("focus",t,{capture:!0})});function ho(t){let r=t.parentElement,a=null;for(;r&&!(r instanceof HTMLFieldSetElement);)r instanceof HTMLLegendElement&&(a=r),r=r.parentElement;let s=(r==null?void 0:r.getAttribute("disabled"))==="";return s&&po(a)?!1:s}function po(t){if(!t)return!1;let r=t.previousElementSibling;for(;r!==null;){if(r instanceof HTMLLegendElement)return!1;r=r.previousElementSibling}return!0}var Y0=(t=>(t.Space=" ",t.Enter="Enter",t.Escape="Escape",t.Backspace="Backspace",t.Delete="Delete",t.ArrowLeft="ArrowLeft",t.ArrowUp="ArrowUp",t.ArrowRight="ArrowRight",t.ArrowDown="ArrowDown",t.Home="Home",t.End="End",t.PageUp="PageUp",t.PageDown="PageDown",t.Tab="Tab",t))(Y0||{});function J0(t,r,a,s){let l=$t(a);n.useEffect(()=>{t=t??window;function o(i){l.current(i)}return t.addEventListener(r,o,s),()=>t.removeEventListener(r,o,s)},[t,r,s])}function Jr(){let t=n.useRef(!1);return ft(()=>(t.current=!0,()=>{t.current=!1}),[]),t}function X0(t){let r=Pe(t),a=n.useRef(!1);n.useEffect(()=>(a.current=!1,()=>{a.current=!0,Ss(()=>{a.current&&r()})}),[r])}var Ir=(t=>(t[t.Forwards=0]="Forwards",t[t.Backwards=1]="Backwards",t))(Ir||{});function fo(){let t=n.useRef(0);return W0("keydown",r=>{r.key==="Tab"&&(t.current=r.shiftKey?1:0)},!0),t}function K0(t){if(!t)return new Set;if(typeof t=="function")return new Set(t());let r=new Set;for(let a of t.current)a.current instanceof HTMLElement&&r.add(a.current);return r}let bo="div";var en=(t=>(t[t.None=1]="None",t[t.InitialFocus=2]="InitialFocus",t[t.TabLock=4]="TabLock",t[t.FocusLock=8]="FocusLock",t[t.RestoreFocus=16]="RestoreFocus",t[t.All=30]="All",t))(en||{});function yo(t,r){let a=n.useRef(null),s=Ct(a,r),{initialFocus:l,containers:o,features:i=30,...x}=t;Ar()||(i=1);let c=Yr(a);jo({ownerDocument:c},!!(i&16));let u=Eo({ownerDocument:c,container:a,initialFocus:l},!!(i&2));ko({ownerDocument:c,container:a,containers:o,previousActiveElement:u},!!(i&8));let h=fo(),d=Pe(w=>{let m=a.current;m&&(B=>B())(()=>{He(h.current,{[Ir.Forwards]:()=>{gs(m,sr.First,{skipElements:[w.relatedTarget]})},[Ir.Backwards]:()=>{gs(m,sr.Last,{skipElements:[w.relatedTarget]})}})})}),p=Aa(),g=n.useRef(!1),f={ref:s,onKeyDown(w){w.key=="Tab"&&(g.current=!0,p.requestAnimationFrame(()=>{g.current=!1}))},onBlur(w){let m=K0(o);a.current instanceof HTMLElement&&m.add(a.current);let B=w.relatedTarget;B instanceof HTMLElement&&B.dataset.headlessuiFocusGuard!=="true"&&(tn(m,B)||(g.current?gs(a.current,He(h.current,{[Ir.Forwards]:()=>sr.Next,[Ir.Backwards]:()=>sr.Previous})|sr.WrapAround,{relativeTo:w.target}):w.target instanceof HTMLElement&&dr(w.target)))}};return re.createElement(re.Fragment,null,!!(i&4)&&re.createElement(xa,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:d,features:ws.Focusable}),yt({ourProps:f,theirProps:x,defaultTag:bo,name:"FocusTrap"}),!!(i&4)&&re.createElement(xa,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:d,features:ws.Focusable}))}let vo=ct(yo),Rr=Object.assign(vo,{features:en});function wo(t=!0){let r=n.useRef(Gt.slice());return Da(([a],[s])=>{s===!0&&a===!1&&Ss(()=>{r.current.splice(0)}),s===!1&&a===!0&&(r.current=Gt.slice())},[t,Gt,r]),Pe(()=>{var a;return(a=r.current.find(s=>s!=null&&s.isConnected))!=null?a:null})}function jo({ownerDocument:t},r){let a=wo(r);Da(()=>{r||(t==null?void 0:t.activeElement)===(t==null?void 0:t.body)&&dr(a())},[r]),X0(()=>{r&&dr(a())})}function Eo({ownerDocument:t,container:r,initialFocus:a},s){let l=n.useRef(null),o=Jr();return Da(()=>{if(!s)return;let i=r.current;i&&Ss(()=>{if(!o.current)return;let x=t==null?void 0:t.activeElement;if(a!=null&&a.current){if((a==null?void 0:a.current)===x){l.current=x;return}}else if(i.contains(x)){l.current=x;return}a!=null&&a.current?dr(a.current):gs(i,sr.First)===q0.Error&&console.warn("There are no focusable elements inside the <FocusTrap />"),l.current=t==null?void 0:t.activeElement})},[s]),l}function ko({ownerDocument:t,container:r,containers:a,previousActiveElement:s},l){let o=Jr();J0(t==null?void 0:t.defaultView,"focus",i=>{if(!l||!o.current)return;let x=K0(a);r.current instanceof HTMLElement&&x.add(r.current);let c=s.current;if(!c)return;let u=i.target;u&&u instanceof HTMLElement?tn(x,u)?(s.current=u,dr(u)):(i.preventDefault(),i.stopPropagation(),dr(c)):dr(s.current)},!0)}function tn(t,r){for(let a of t)if(a.contains(r))return!0;return!1}let rn=n.createContext(!1);function No(){return n.useContext(rn)}function da(t){return re.createElement(rn.Provider,{value:t.force},t.children)}function Co(t){let r=No(),a=n.useContext(sn),s=Yr(t),[l,o]=n.useState(()=>{if(!r&&a!==null||Lt.isServer)return null;let i=s==null?void 0:s.getElementById("headlessui-portal-root");if(i)return i;if(s===null)return null;let x=s.createElement("div");return x.setAttribute("id","headlessui-portal-root"),s.body.appendChild(x)});return n.useEffect(()=>{l!==null&&(s!=null&&s.body.contains(l)||s==null||s.body.appendChild(l))},[l,s]),n.useEffect(()=>{r||a!==null&&o(a.current)},[a,o,r]),l}let Bo=n.Fragment;function Ao(t,r){let a=t,s=n.useRef(null),l=Ct(io(h=>{s.current=h}),r),o=Yr(s),i=Co(s),[x]=n.useState(()=>{var h;return Lt.isServer?null:(h=o==null?void 0:o.createElement("div"))!=null?h:null}),c=n.useContext(ca),u=Ar();return ft(()=>{!i||!x||i.contains(x)||(x.setAttribute("data-headlessui-portal",""),i.appendChild(x))},[i,x]),ft(()=>{if(x&&c)return c.register(x)},[c,x]),X0(()=>{var h;!i||!x||(x instanceof Node&&i.contains(x)&&i.removeChild(x),i.childNodes.length<=0&&((h=i.parentElement)==null||h.removeChild(i)))}),u?!i||!x?null:R0.createPortal(yt({ourProps:{ref:l},theirProps:a,defaultTag:Bo,name:"Portal"}),x):null}let Do=n.Fragment,sn=n.createContext(null);function Fo(t,r){let{target:a,...s}=t,l={ref:Ct(r)};return re.createElement(sn.Provider,{value:a},yt({ourProps:l,theirProps:s,defaultTag:Do,name:"Popover.Group"}))}let ca=n.createContext(null);function So(){let t=n.useContext(ca),r=n.useRef([]),a=Pe(o=>(r.current.push(o),t&&t.register(o),()=>s(o))),s=Pe(o=>{let i=r.current.indexOf(o);i!==-1&&r.current.splice(i,1),t&&t.unregister(o)}),l=n.useMemo(()=>({register:a,unregister:s,portals:r}),[a,s,r]);return[r,n.useMemo(()=>function({children:o}){return re.createElement(ca.Provider,{value:l},o)},[l])]}let Po=ct(Ao),Ro=ct(Fo),ma=Object.assign(Po,{Group:Ro});function Mo(t,r){return t===r&&(t!==0||1/t===1/r)||t!==t&&r!==r}const Lo=typeof Object.is=="function"?Object.is:Mo,{useState:$o,useEffect:To,useLayoutEffect:Io,useDebugValue:_o}=qr;function Oo(t,r,a){const s=r(),[{inst:l},o]=$o({inst:{value:s,getSnapshot:r}});return Io(()=>{l.value=s,l.getSnapshot=r,Qs(l)&&o({inst:l})},[t,s,r]),To(()=>(Qs(l)&&o({inst:l}),t(()=>{Qs(l)&&o({inst:l})})),[t]),_o(s),s}function Qs(t){const r=t.getSnapshot,a=t.value;try{const s=r();return!Lo(a,s)}catch{return!0}}function Vo(t,r,a){return r()}const zo=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Uo=!zo,qo=Uo?Vo:Oo,Go="useSyncExternalStore"in qr?(t=>t.useSyncExternalStore)(qr):qo;function Ho(t){return Go(t.subscribe,t.getSnapshot,t.getSnapshot)}function Wo(t,r){let a=t(),s=new Set;return{getSnapshot(){return a},subscribe(l){return s.add(l),()=>s.delete(l)},dispatch(l,...o){let i=r[l].call(a,...o);i&&(a=i,s.forEach(x=>x()))}}}function Zo(){let t;return{before({doc:r}){var a;let s=r.documentElement;t=((a=r.defaultView)!=null?a:window).innerWidth-s.clientWidth},after({doc:r,d:a}){let s=r.documentElement,l=s.clientWidth-s.offsetWidth,o=t-l;a.style(s,"paddingRight",`${o}px`)}}}function Qo(){return H0()?{before({doc:t,d:r,meta:a}){function s(l){return a.containers.flatMap(o=>o()).some(o=>o.contains(l))}r.microTask(()=>{var l;if(window.getComputedStyle(t.documentElement).scrollBehavior!=="auto"){let x=fr();x.style(t.documentElement,"scrollBehavior","auto"),r.add(()=>r.microTask(()=>x.dispose()))}let o=(l=window.scrollY)!=null?l:window.pageYOffset,i=null;r.addEventListener(t,"click",x=>{if(x.target instanceof HTMLElement)try{let c=x.target.closest("a");if(!c)return;let{hash:u}=new URL(c.href),h=t.querySelector(u);h&&!s(h)&&(i=h)}catch{}},!0),r.addEventListener(t,"touchstart",x=>{if(x.target instanceof HTMLElement)if(s(x.target)){let c=x.target;for(;c.parentElement&&s(c.parentElement);)c=c.parentElement;r.style(c,"overscrollBehavior","contain")}else r.style(x.target,"touchAction","none")}),r.addEventListener(t,"touchmove",x=>{if(x.target instanceof HTMLElement)if(s(x.target)){let c=x.target;for(;c.parentElement&&c.dataset.headlessuiPortal!==""&&!(c.scrollHeight>c.clientHeight||c.scrollWidth>c.clientWidth);)c=c.parentElement;c.dataset.headlessuiPortal===""&&x.preventDefault()}else x.preventDefault()},{passive:!1}),r.add(()=>{var x;let c=(x=window.scrollY)!=null?x:window.pageYOffset;o!==c&&window.scrollTo(0,o),i&&i.isConnected&&(i.scrollIntoView({block:"nearest"}),i=null)})})}}:{}}function Yo(){return{before({doc:t,d:r}){r.style(t.documentElement,"overflow","hidden")}}}function Jo(t){let r={};for(let a of t)Object.assign(r,a(r));return r}let lr=Wo(()=>new Map,{PUSH(t,r){var a;let s=(a=this.get(t))!=null?a:{doc:t,count:0,d:fr(),meta:new Set};return s.count++,s.meta.add(r),this.set(t,s),this},POP(t,r){let a=this.get(t);return a&&(a.count--,a.meta.delete(r)),this},SCROLL_PREVENT({doc:t,d:r,meta:a}){let s={doc:t,d:r,meta:Jo(a)},l=[Qo(),Zo(),Yo()];l.forEach(({before:o})=>o==null?void 0:o(s)),l.forEach(({after:o})=>o==null?void 0:o(s))},SCROLL_ALLOW({d:t}){t.dispose()},TEARDOWN({doc:t}){this.delete(t)}});lr.subscribe(()=>{let t=lr.getSnapshot(),r=new Map;for(let[a]of t)r.set(a,a.documentElement.style.overflow);for(let a of t.values()){let s=r.get(a.doc)==="hidden",l=a.count!==0;(l&&!s||!l&&s)&&lr.dispatch(a.count>0?"SCROLL_PREVENT":"SCROLL_ALLOW",a),a.count===0&&lr.dispatch("TEARDOWN",a)}});function Xo(t,r,a){let s=Ho(lr),l=t?s.get(t):void 0,o=l?l.count>0:!1;return ft(()=>{if(!(!t||!r))return lr.dispatch("PUSH",t,a),()=>lr.dispatch("POP",t,a)},[r,t]),o}let Ys=new Map,Mr=new Map;function s0(t,r=!0){ft(()=>{var a;if(!r)return;let s=typeof t=="function"?t():t.current;if(!s)return;function l(){var i;if(!s)return;let x=(i=Mr.get(s))!=null?i:1;if(x===1?Mr.delete(s):Mr.set(s,x-1),x!==1)return;let c=Ys.get(s);c&&(c["aria-hidden"]===null?s.removeAttribute("aria-hidden"):s.setAttribute("aria-hidden",c["aria-hidden"]),s.inert=c.inert,Ys.delete(s))}let o=(a=Mr.get(s))!=null?a:0;return Mr.set(s,o+1),o!==0||(Ys.set(s,{"aria-hidden":s.getAttribute("aria-hidden"),inert:s.inert}),s.setAttribute("aria-hidden","true"),s.inert=!0),l},[t,r])}function Ko({defaultContainers:t=[],portals:r,mainTreeNodeRef:a}={}){var s;let l=n.useRef((s=a==null?void 0:a.current)!=null?s:null),o=Yr(l),i=Pe(()=>{var x,c,u;let h=[];for(let d of t)d!==null&&(d instanceof HTMLElement?h.push(d):"current"in d&&d.current instanceof HTMLElement&&h.push(d.current));if(r!=null&&r.current)for(let d of r.current)h.push(d);for(let d of(x=o==null?void 0:o.querySelectorAll("html > *, body > *"))!=null?x:[])d!==document.body&&d!==document.head&&d instanceof HTMLElement&&d.id!=="headlessui-portal-root"&&(d.contains(l.current)||d.contains((u=(c=l.current)==null?void 0:c.getRootNode())==null?void 0:u.host)||h.some(p=>d.contains(p))||h.push(d));return h});return{resolveContainers:i,contains:Pe(x=>i().some(c=>c.contains(x))),mainTreeNodeRef:l,MainTreeNode:n.useMemo(()=>function(){return a!=null?null:re.createElement(xa,{features:ws.Hidden,ref:l})},[l,a])}}let Pa=n.createContext(()=>{});Pa.displayName="StackContext";var ga=(t=>(t[t.Add=0]="Add",t[t.Remove=1]="Remove",t))(ga||{});function ei(){return n.useContext(Pa)}function ti({children:t,onUpdate:r,type:a,element:s,enabled:l}){let o=ei(),i=Pe((...x)=>{r==null||r(...x),o(...x)});return ft(()=>{let x=l===void 0||l===!0;return x&&i(0,a,s),()=>{x&&i(1,a,s)}},[i,a,s,l]),re.createElement(Pa.Provider,{value:i},t)}let an=n.createContext(null);function nn(){let t=n.useContext(an);if(t===null){let r=new Error("You used a <Description /> component, but it is not inside a relevant parent.");throw Error.captureStackTrace&&Error.captureStackTrace(r,nn),r}return t}function ri(){let[t,r]=n.useState([]);return[t.length>0?t.join(" "):void 0,n.useMemo(()=>function(a){let s=Pe(o=>(r(i=>[...i,o]),()=>r(i=>{let x=i.slice(),c=x.indexOf(o);return c!==-1&&x.splice(c,1),x}))),l=n.useMemo(()=>({register:s,slot:a.slot,name:a.name,props:a.props}),[s,a.slot,a.name,a.props]);return re.createElement(an.Provider,{value:l},a.children)},[r])]}let si="p";function ai(t,r){let a=Dr(),{id:s=`headlessui-description-${a}`,...l}=t,o=nn(),i=Ct(r);ft(()=>o.register(s),[s,o.register]);let x={ref:i,...o.props,id:s};return yt({ourProps:x,theirProps:l,slot:o.slot||{},defaultTag:si,name:o.name||"Description"})}let ni=ct(ai),li=Object.assign(ni,{});var oi=(t=>(t[t.Open=0]="Open",t[t.Closed=1]="Closed",t))(oi||{}),ii=(t=>(t[t.SetTitleId=0]="SetTitleId",t))(ii||{});let xi={0(t,r){return t.titleId===r.id?t:{...t,titleId:r.id}}},js=n.createContext(null);js.displayName="DialogContext";function Xr(t){let r=n.useContext(js);if(r===null){let a=new Error(`<${t} /> is missing a parent <Dialog /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(a,Xr),a}return r}function di(t,r,a=()=>[document.body]){Xo(t,r,s=>{var l;return{containers:[...(l=s.containers)!=null?l:[],a]}})}function ci(t,r){return He(r.type,xi,t,r)}let mi="div",gi=vs.RenderStrategy|vs.Static;function ui(t,r){let a=Dr(),{id:s=`headlessui-dialog-${a}`,open:l,onClose:o,initialFocus:i,role:x="dialog",__demoMode:c=!1,...u}=t,[h,d]=n.useState(0),p=n.useRef(!1);x=function(){return x==="dialog"||x==="alertdialog"?x:(p.current||(p.current=!0,console.warn(`Invalid role [${x}] passed to <Dialog />. Only \`dialog\` and and \`alertdialog\` are supported. Using \`dialog\` instead.`)),"dialog")}();let g=Sa();l===void 0&&g!==null&&(l=(g&lt.Open)===lt.Open);let f=n.useRef(null),w=Ct(f,r),m=Yr(f),B=t.hasOwnProperty("open")||g!==null,E=t.hasOwnProperty("onClose");if(!B&&!E)throw new Error("You have to provide an `open` and an `onClose` prop to the `Dialog` component.");if(!B)throw new Error("You provided an `onClose` prop to the `Dialog`, but forgot an `open` prop.");if(!E)throw new Error("You provided an `open` prop to the `Dialog`, but forgot an `onClose` prop.");if(typeof l!="boolean")throw new Error(`You provided an \`open\` prop to the \`Dialog\`, but the value is not a boolean. Received: ${l}`);if(typeof o!="function")throw new Error(`You provided an \`onClose\` prop to the \`Dialog\`, but the value is not a function. Received: ${o}`);let N=l?0:1,[v,j]=n.useReducer(ci,{titleId:null,descriptionId:null,panelRef:n.createRef()}),k=Pe(()=>o(!1)),b=Pe(xe=>j({type:0,id:xe})),C=Ar()?c?!1:N===0:!1,D=h>1,F=n.useContext(js)!==null,[T,A]=So(),R={get current(){var xe;return(xe=v.panelRef.current)!=null?xe:f.current}},{resolveContainers:M,mainTreeNodeRef:_,MainTreeNode:q}=Ko({portals:T,defaultContainers:[R]}),U=D?"parent":"leaf",L=g!==null?(g&lt.Closing)===lt.Closing:!1,S=(()=>F||L?!1:C)(),H=n.useCallback(()=>{var xe,fe;return(fe=Array.from((xe=m==null?void 0:m.querySelectorAll("body > *"))!=null?xe:[]).find(ce=>ce.id==="headlessui-portal-root"?!1:ce.contains(_.current)&&ce instanceof HTMLElement))!=null?fe:null},[_]);s0(H,S);let P=(()=>D?!0:C)(),G=n.useCallback(()=>{var xe,fe;return(fe=Array.from((xe=m==null?void 0:m.querySelectorAll("[data-headlessui-portal]"))!=null?xe:[]).find(ce=>ce.contains(_.current)&&ce instanceof HTMLElement))!=null?fe:null},[_]);s0(G,P);let z=(()=>!(!C||D))();oo(M,xe=>{xe.preventDefault(),k()},z);let O=(()=>!(D||N!==0))();J0(m==null?void 0:m.defaultView,"keydown",xe=>{O&&(xe.defaultPrevented||xe.key===Y0.Escape&&(xe.preventDefault(),xe.stopPropagation(),k()))});let Y=(()=>!(L||N!==0||F))();di(m,Y,M),n.useEffect(()=>{if(N!==0||!f.current)return;let xe=new ResizeObserver(fe=>{for(let ce of fe){let be=ce.target.getBoundingClientRect();be.x===0&&be.y===0&&be.width===0&&be.height===0&&k()}});return xe.observe(f.current),()=>xe.disconnect()},[N,f,k]);let[X,ae]=ri(),me=n.useMemo(()=>[{dialogState:N,close:k,setTitleId:b},v],[N,v,k,b]),de=n.useMemo(()=>({open:N===0}),[N]),Ce={ref:w,id:s,role:x,"aria-modal":N===0?!0:void 0,"aria-labelledby":v.titleId,"aria-describedby":X};return re.createElement(ti,{type:"Dialog",enabled:N===0,element:f,onUpdate:Pe((xe,fe)=>{fe==="Dialog"&&He(xe,{[ga.Add]:()=>d(ce=>ce+1),[ga.Remove]:()=>d(ce=>ce-1)})})},re.createElement(da,{force:!0},re.createElement(ma,null,re.createElement(js.Provider,{value:me},re.createElement(ma.Group,{target:f},re.createElement(da,{force:!1},re.createElement(ae,{slot:de,name:"Dialog.Description"},re.createElement(Rr,{initialFocus:i,containers:M,features:C?He(U,{parent:Rr.features.RestoreFocus,leaf:Rr.features.All&~Rr.features.FocusLock}):Rr.features.None},re.createElement(A,null,yt({ourProps:Ce,theirProps:u,slot:de,defaultTag:mi,features:gi,visible:N===0,name:"Dialog"}))))))))),re.createElement(q,null))}let hi="div";function pi(t,r){let a=Dr(),{id:s=`headlessui-dialog-overlay-${a}`,...l}=t,[{dialogState:o,close:i}]=Xr("Dialog.Overlay"),x=Ct(r),c=Pe(h=>{if(h.target===h.currentTarget){if(ho(h.currentTarget))return h.preventDefault();h.preventDefault(),h.stopPropagation(),i()}}),u=n.useMemo(()=>({open:o===0}),[o]);return yt({ourProps:{ref:x,id:s,"aria-hidden":!0,onClick:c},theirProps:l,slot:u,defaultTag:hi,name:"Dialog.Overlay"})}let fi="div";function bi(t,r){let a=Dr(),{id:s=`headlessui-dialog-backdrop-${a}`,...l}=t,[{dialogState:o},i]=Xr("Dialog.Backdrop"),x=Ct(r);n.useEffect(()=>{if(i.panelRef.current===null)throw new Error("A <Dialog.Backdrop /> component is being used, but a <Dialog.Panel /> component is missing.")},[i.panelRef]);let c=n.useMemo(()=>({open:o===0}),[o]);return re.createElement(da,{force:!0},re.createElement(ma,null,yt({ourProps:{ref:x,id:s,"aria-hidden":!0},theirProps:l,slot:c,defaultTag:fi,name:"Dialog.Backdrop"})))}let yi="div";function vi(t,r){let a=Dr(),{id:s=`headlessui-dialog-panel-${a}`,...l}=t,[{dialogState:o},i]=Xr("Dialog.Panel"),x=Ct(r,i.panelRef),c=n.useMemo(()=>({open:o===0}),[o]),u=Pe(h=>{h.stopPropagation()});return yt({ourProps:{ref:x,id:s,onClick:u},theirProps:l,slot:c,defaultTag:yi,name:"Dialog.Panel"})}let wi="h2";function ji(t,r){let a=Dr(),{id:s=`headlessui-dialog-title-${a}`,...l}=t,[{dialogState:o,setTitleId:i}]=Xr("Dialog.Title"),x=Ct(r);n.useEffect(()=>(i(s),()=>i(null)),[s,i]);let c=n.useMemo(()=>({open:o===0}),[o]);return yt({ourProps:{ref:x,id:s},theirProps:l,slot:c,defaultTag:wi,name:"Dialog.Title"})}let Ei=ct(ui),ki=ct(bi),Ni=ct(vi),Ci=ct(pi),Bi=ct(ji),ht=Object.assign(Ei,{Backdrop:ki,Panel:Ni,Overlay:Ci,Title:Bi,Description:li});function Ai(t=0){let[r,a]=n.useState(t),s=Jr(),l=n.useCallback(c=>{s.current&&a(u=>u|c)},[r,s]),o=n.useCallback(c=>!!(r&c),[r]),i=n.useCallback(c=>{s.current&&a(u=>u&~c)},[a,s]),x=n.useCallback(c=>{s.current&&a(u=>u^c)},[a]);return{flags:r,addFlag:l,hasFlag:o,removeFlag:i,toggleFlag:x}}function Di(t){let r={called:!1};return(...a)=>{if(!r.called)return r.called=!0,t(...a)}}function Js(t,...r){t&&r.length>0&&t.classList.add(...r)}function Xs(t,...r){t&&r.length>0&&t.classList.remove(...r)}function Fi(t,r){let a=fr();if(!t)return a.dispose;let{transitionDuration:s,transitionDelay:l}=getComputedStyle(t),[o,i]=[s,l].map(c=>{let[u=0]=c.split(",").filter(Boolean).map(h=>h.includes("ms")?parseFloat(h):parseFloat(h)*1e3).sort((h,d)=>d-h);return u}),x=o+i;if(x!==0){a.group(u=>{u.setTimeout(()=>{r(),u.dispose()},x),u.addEventListener(t,"transitionrun",h=>{h.target===h.currentTarget&&u.dispose()})});let c=a.addEventListener(t,"transitionend",u=>{u.target===u.currentTarget&&(r(),c())})}else r();return a.add(()=>r()),a.dispose}function Si(t,r,a,s){let l=a?"enter":"leave",o=fr(),i=s!==void 0?Di(s):()=>{};l==="enter"&&(t.removeAttribute("hidden"),t.style.display="");let x=He(l,{enter:()=>r.enter,leave:()=>r.leave}),c=He(l,{enter:()=>r.enterTo,leave:()=>r.leaveTo}),u=He(l,{enter:()=>r.enterFrom,leave:()=>r.leaveFrom});return Xs(t,...r.base,...r.enter,...r.enterTo,...r.enterFrom,...r.leave,...r.leaveFrom,...r.leaveTo,...r.entered),Js(t,...r.base,...x,...u),o.nextFrame(()=>{Xs(t,...r.base,...x,...u),Js(t,...r.base,...x,...c),Fi(t,()=>(Xs(t,...r.base,...x),Js(t,...r.base,...r.entered),i()))}),o.dispose}function Pi({immediate:t,container:r,direction:a,classes:s,onStart:l,onStop:o}){let i=Jr(),x=Aa(),c=$t(a);ft(()=>{t&&(c.current="enter")},[t]),ft(()=>{let u=fr();x.add(u.dispose);let h=r.current;if(h&&c.current!=="idle"&&i.current)return u.dispose(),l.current(c.current),u.add(Si(h,s.current,c.current==="enter",()=>{u.dispose(),o.current(c.current)})),u.dispose},[a])}function Ut(t=""){return t.split(/\s+/).filter(r=>r.length>1)}let Ps=n.createContext(null);Ps.displayName="TransitionContext";var Ri=(t=>(t.Visible="visible",t.Hidden="hidden",t))(Ri||{});function Mi(){let t=n.useContext(Ps);if(t===null)throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return t}function Li(){let t=n.useContext(Rs);if(t===null)throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return t}let Rs=n.createContext(null);Rs.displayName="NestingContext";function Ms(t){return"children"in t?Ms(t.children):t.current.filter(({el:r})=>r.current!==null).filter(({state:r})=>r==="visible").length>0}function ln(t,r){let a=$t(t),s=n.useRef([]),l=Jr(),o=Aa(),i=Pe((g,f=Qt.Hidden)=>{let w=s.current.findIndex(({el:m})=>m===g);w!==-1&&(He(f,{[Qt.Unmount](){s.current.splice(w,1)},[Qt.Hidden](){s.current[w].state="hidden"}}),o.microTask(()=>{var m;!Ms(s)&&l.current&&((m=a.current)==null||m.call(a))}))}),x=Pe(g=>{let f=s.current.find(({el:w})=>w===g);return f?f.state!=="visible"&&(f.state="visible"):s.current.push({el:g,state:"visible"}),()=>i(g,Qt.Unmount)}),c=n.useRef([]),u=n.useRef(Promise.resolve()),h=n.useRef({enter:[],leave:[],idle:[]}),d=Pe((g,f,w)=>{c.current.splice(0),r&&(r.chains.current[f]=r.chains.current[f].filter(([m])=>m!==g)),r==null||r.chains.current[f].push([g,new Promise(m=>{c.current.push(m)})]),r==null||r.chains.current[f].push([g,new Promise(m=>{Promise.all(h.current[f].map(([B,E])=>E)).then(()=>m())})]),f==="enter"?u.current=u.current.then(()=>r==null?void 0:r.wait.current).then(()=>w(f)):w(f)}),p=Pe((g,f,w)=>{Promise.all(h.current[f].splice(0).map(([m,B])=>B)).then(()=>{var m;(m=c.current.shift())==null||m()}).then(()=>w(f))});return n.useMemo(()=>({children:s,register:x,unregister:i,onStart:d,onStop:p,wait:u,chains:h}),[x,i,s,d,p,h,u])}function $i(){}let Ti=["beforeEnter","afterEnter","beforeLeave","afterLeave"];function a0(t){var r;let a={};for(let s of Ti)a[s]=(r=t[s])!=null?r:$i;return a}function Ii(t){let r=n.useRef(a0(t));return n.useEffect(()=>{r.current=a0(t)},[t]),r}let _i="div",on=vs.RenderStrategy;function Oi(t,r){var a,s;let{beforeEnter:l,afterEnter:o,beforeLeave:i,afterLeave:x,enter:c,enterFrom:u,enterTo:h,entered:d,leave:p,leaveFrom:g,leaveTo:f,...w}=t,m=n.useRef(null),B=Ct(m,r),E=(a=w.unmount)==null||a?Qt.Unmount:Qt.Hidden,{show:N,appear:v,initial:j}=Mi(),[k,b]=n.useState(N?"visible":"hidden"),C=Li(),{register:D,unregister:F}=C;n.useEffect(()=>D(m),[D,m]),n.useEffect(()=>{if(E===Qt.Hidden&&m.current){if(N&&k!=="visible"){b("visible");return}return He(k,{hidden:()=>F(m),visible:()=>D(m)})}},[k,m,D,F,N,E]);let T=$t({base:Ut(w.className),enter:Ut(c),enterFrom:Ut(u),enterTo:Ut(h),entered:Ut(d),leave:Ut(p),leaveFrom:Ut(g),leaveTo:Ut(f)}),A=Ii({beforeEnter:l,afterEnter:o,beforeLeave:i,afterLeave:x}),R=Ar();n.useEffect(()=>{if(R&&k==="visible"&&m.current===null)throw new Error("Did you forget to passthrough the `ref` to the actual DOM node?")},[m,k,R]);let M=j&&!v,_=v&&N&&j,q=(()=>!R||M?"idle":N?"enter":"leave")(),U=Ai(0),L=Pe(O=>He(O,{enter:()=>{U.addFlag(lt.Opening),A.current.beforeEnter()},leave:()=>{U.addFlag(lt.Closing),A.current.beforeLeave()},idle:()=>{}})),S=Pe(O=>He(O,{enter:()=>{U.removeFlag(lt.Opening),A.current.afterEnter()},leave:()=>{U.removeFlag(lt.Closing),A.current.afterLeave()},idle:()=>{}})),H=ln(()=>{b("hidden"),F(m)},C),P=n.useRef(!1);Pi({immediate:_,container:m,classes:T,direction:q,onStart:$t(O=>{P.current=!0,H.onStart(m,O,L)}),onStop:$t(O=>{P.current=!1,H.onStop(m,O,S),O==="leave"&&!Ms(H)&&(b("hidden"),F(m))})});let G=w,z={ref:B};return _?G={...G,className:ys(w.className,...T.current.enter,...T.current.enterFrom)}:P.current&&(G.className=ys(w.className,(s=m.current)==null?void 0:s.className),G.className===""&&delete G.className),re.createElement(Rs.Provider,{value:H},re.createElement(go,{value:He(k,{visible:lt.Open,hidden:lt.Closed})|U.flags},yt({ourProps:z,theirProps:G,defaultTag:_i,features:on,visible:k==="visible",name:"Transition.Child"})))}function Vi(t,r){let{show:a,appear:s=!1,unmount:l=!0,...o}=t,i=n.useRef(null),x=Ct(i,r);Ar();let c=Sa();if(a===void 0&&c!==null&&(a=(c&lt.Open)===lt.Open),![!0,!1].includes(a))throw new Error("A <Transition /> is used but it is missing a `show={true | false}` prop.");let[u,h]=n.useState(a?"visible":"hidden"),d=ln(()=>{h("hidden")}),[p,g]=n.useState(!0),f=n.useRef([a]);ft(()=>{p!==!1&&f.current[f.current.length-1]!==a&&(f.current.push(a),g(!1))},[f,a]);let w=n.useMemo(()=>({show:a,appear:s,initial:p}),[a,s,p]);n.useEffect(()=>{if(a)h("visible");else if(!Ms(d))h("hidden");else{let N=i.current;if(!N)return;let v=N.getBoundingClientRect();v.x===0&&v.y===0&&v.width===0&&v.height===0&&h("hidden")}},[a,d]);let m={unmount:l},B=Pe(()=>{var N;p&&g(!1),(N=t.beforeEnter)==null||N.call(t)}),E=Pe(()=>{var N;p&&g(!1),(N=t.beforeLeave)==null||N.call(t)});return re.createElement(Rs.Provider,{value:d},re.createElement(Ps.Provider,{value:w},yt({ourProps:{...m,as:n.Fragment,children:re.createElement(xn,{ref:x,...m,...o,beforeEnter:B,beforeLeave:E})},theirProps:{},defaultTag:n.Fragment,features:on,visible:u==="visible",name:"Transition"})))}function zi(t,r){let a=n.useContext(Ps)!==null,s=Sa()!==null;return re.createElement(re.Fragment,null,!a&&s?re.createElement(ua,{ref:r,...t}):re.createElement(xn,{ref:r,...t}))}let ua=ct(Vi),xn=ct(Oi),Ui=ct(zi),qe=Object.assign(ua,{Child:Ui,Root:ua});function qi({title:t,titleId:r,...a},s){return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":r},a),t?n.createElement("title",{id:r},t):null,n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4.26 10.147a60.438 60.438 0 0 0-.491 6.347A48.62 48.62 0 0 1 12 20.904a48.62 48.62 0 0 1 8.232-4.41 60.46 60.46 0 0 0-.491-6.347m-15.482 0a50.636 50.636 0 0 0-2.658-.813A59.906 59.906 0 0 1 12 3.493a59.903 59.903 0 0 1 10.399 5.84c-.896.248-1.783.52-2.658.814m-15.482 0A50.717 50.717 0 0 1 12 13.489a50.702 50.702 0 0 1 7.74-3.342M6.75 15a.75.75 0 1 0 0-1.5.75.75 0 0 0 0 1.5Zm0 0v-3.675A55.378 55.378 0 0 1 12 8.443m-7.007 11.55A5.981 5.981 0 0 0 6.75 15.75v-1.5"}))}const Gi=n.forwardRef(qi),ha=Gi;function Hi({title:t,titleId:r,...a},s){return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":r},a),t?n.createElement("title",{id:r},t):null,n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10.5 6h9.75M10.5 6a1.5 1.5 0 1 1-3 0m3 0a1.5 1.5 0 1 0-3 0M3.75 6H7.5m3 12h9.75m-9.75 0a1.5 1.5 0 0 1-3 0m3 0a1.5 1.5 0 0 0-3 0m-3.75 0H7.5m9-6h3.75m-3.75 0a1.5 1.5 0 0 1-3 0m3 0a1.5 1.5 0 0 0-3 0m-9.75 0h9.75"}))}const Wi=n.forwardRef(Hi),Zi=Wi;function Qi({title:t,titleId:r,...a},s){return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":r},a),t?n.createElement("title",{id:r},t):null,n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 16.5v2.25A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75V16.5M16.5 12 12 16.5m0 0L7.5 12m4.5 4.5V3"}))}const Yi=n.forwardRef(Qi),Ji=Yi;function Xi({title:t,titleId:r,...a},s){return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":r},a),t?n.createElement("title",{id:r},t):null,n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10.5 19.5 3 12m0 0 7.5-7.5M3 12h18"}))}const Ki=n.forwardRef(Xi),Ue=Ki;function ex({title:t,titleId:r,...a},s){return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":r},a),t?n.createElement("title",{id:r},t):null,n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.023 9.348h4.992v-.001M2.985 19.644v-4.992m0 0h4.992m-4.993 0 3.181 3.183a8.25 8.25 0 0 0 13.803-3.7M4.031 9.865a8.25 8.25 0 0 1 13.803-3.7l3.181 3.182m0-4.991v4.99"}))}const tx=n.forwardRef(ex),Fr=tx;function rx({title:t,titleId:r,...a},s){return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":r},a),t?n.createElement("title",{id:r},t):null,n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 9V5.25A2.25 2.25 0 0 0 13.5 3h-6a2.25 2.25 0 0 0-2.25 2.25v13.5A2.25 2.25 0 0 0 7.5 21h6a2.25 2.25 0 0 0 2.25-2.25V15m3 0 3-3m0 0-3-3m3 3H9"}))}const sx=n.forwardRef(rx),Gr=sx;function ax({title:t,titleId:r,...a},s){return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":r},a),t?n.createElement("title",{id:r},t):null,n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13.5 4.5 21 12m0 0-7.5 7.5M21 12H3"}))}const nx=n.forwardRef(ax),kr=nx;function lx({title:t,titleId:r,...a},s){return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":r},a),t?n.createElement("title",{id:r},t):null,n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13.5 6H5.25A2.25 2.25 0 0 0 3 8.25v10.5A2.25 2.25 0 0 0 5.25 21h10.5A2.25 2.25 0 0 0 18 18.75V10.5m-10.5 6L21 3m0 0h-5.25M21 3v5.25"}))}const ox=n.forwardRef(lx),ix=ox;function xx({title:t,titleId:r,...a},s){return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":r},a),t?n.createElement("title",{id:r},t):null,n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 6 9 12.75l4.286-4.286a11.948 11.948 0 0 1 4.306 6.43l.776 2.898m0 0 3.182-5.511m-3.182 5.51-5.511-3.181"}))}const dx=n.forwardRef(xx),cx=dx;function mx({title:t,titleId:r,...a},s){return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":r},a),t?n.createElement("title",{id:r},t):null,n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 18 9 11.25l4.306 4.306a11.95 11.95 0 0 1 5.814-5.518l2.74-1.22m0 0-5.94-2.281m5.94 2.28-2.28 5.941"}))}const gx=n.forwardRef(mx),ux=gx;function hx({title:t,titleId:r,...a},s){return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":r},a),t?n.createElement("title",{id:r},t):null,n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25h16.5"}))}const px=n.forwardRef(hx),dn=px;function fx({title:t,titleId:r,...a},s){return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":r},a),t?n.createElement("title",{id:r},t):null,n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.143 17.082a24.248 24.248 0 0 0 3.844.148m-3.844-.148a23.856 23.856 0 0 1-5.455-1.31 8.964 8.964 0 0 0 2.3-5.542m3.155 6.852a3 3 0 0 0 5.667 1.97m1.965-2.277L21 21m-4.225-4.225a23.81 23.81 0 0 0 3.536-1.003A8.967 8.967 0 0 1 18 9.75V9A6 6 0 0 0 6.53 6.53m10.245 10.245L6.53 6.53M3 3l3.53 3.53"}))}const bx=n.forwardRef(fx),yx=bx;function vx({title:t,titleId:r,...a},s){return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":r},a),t?n.createElement("title",{id:r},t):null,n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M14.857 17.082a23.848 23.848 0 0 0 5.454-1.31A8.967 8.967 0 0 1 18 9.75V9A6 6 0 0 0 6 9v.75a8.967 8.967 0 0 1-2.312 6.022c1.733.64 3.56 1.085 5.455 1.31m5.714 0a24.255 24.255 0 0 1-5.714 0m5.714 0a3 3 0 1 1-5.714 0"}))}const wx=n.forwardRef(vx),dt=wx;function jx({title:t,titleId:r,...a},s){return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":r},a),t?n.createElement("title",{id:r},t):null,n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m3.75 13.5 10.5-11.25L12 10.5h8.25L9.75 21.75 12 13.5H3.75Z"}))}const Ex=n.forwardRef(jx),kx=Ex;function Nx({title:t,titleId:r,...a},s){return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":r},a),t?n.createElement("title",{id:r},t):null,n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6.042A8.967 8.967 0 0 0 6 3.75c-1.052 0-2.062.18-3 .512v14.25A8.987 8.987 0 0 1 6 18c2.305 0 4.408.867 6 2.292m0-14.25a8.966 8.966 0 0 1 6-2.292c1.052 0 2.062.18 3 .512v14.25A8.987 8.987 0 0 0 18 18a8.967 8.967 0 0 0-6 2.292m0-14.25v14.25"}))}const Cx=n.forwardRef(Nx),cr=Cx;function Bx({title:t,titleId:r,...a},s){return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":r},a),t?n.createElement("title",{id:r},t):null,n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 21h16.5M4.5 3h15M5.25 3v18m13.5-18v18M9 6.75h1.5m-1.5 3h1.5m-1.5 3h1.5m3-6H15m-1.5 3H15m-1.5 3H15M9 21v-3.375c0-.621.504-1.125 1.125-1.125h3.75c.621 0 1.125.504 1.125 1.125V21"}))}const Ax=n.forwardRef(Bx),Dx=Ax;function Fx({title:t,titleId:r,...a},s){return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":r},a),t?n.createElement("title",{id:r},t):null,n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6.75 3v2.25M17.25 3v2.25M3 18.75V7.5a2.25 2.25 0 0 1 2.25-2.25h13.5A2.25 2.25 0 0 1 21 7.5v11.25m-18 0A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75m-18 0v-7.5A2.25 2.25 0 0 1 5.25 9h13.5A2.25 2.25 0 0 1 21 11.25v7.5m-9-6h.008v.008H12v-.008ZM12 15h.008v.008H12V15Zm0 2.25h.008v.008H12v-.008ZM9.75 15h.008v.008H9.75V15Zm0 2.25h.008v.008H9.75v-.008ZM7.5 15h.008v.008H7.5V15Zm0 2.25h.008v.008H7.5v-.008Zm6.75-4.5h.008v.008h-.008v-.008Zm0 2.25h.008v.008h-.008V15Zm0 2.25h.008v.008h-.008v-.008Zm2.25-4.5h.008v.008H16.5v-.008Zm0 2.25h.008v.008H16.5V15Z"}))}const Sx=n.forwardRef(Fx),Nt=Sx;function Px({title:t,titleId:r,...a},s){return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":r},a),t?n.createElement("title",{id:r},t):null,n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6.75 3v2.25M17.25 3v2.25M3 18.75V7.5a2.25 2.25 0 0 1 2.25-2.25h13.5A2.25 2.25 0 0 1 21 7.5v11.25m-18 0A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75m-18 0v-7.5A2.25 2.25 0 0 1 5.25 9h13.5A2.25 2.25 0 0 1 21 11.25v7.5"}))}const Rx=n.forwardRef(Px),bt=Rx;function Mx({title:t,titleId:r,...a},s){return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":r},a),t?n.createElement("title",{id:r},t):null,n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6.827 6.175A2.31 2.31 0 0 1 5.186 7.23c-.38.054-.757.112-1.134.175C2.999 7.58 2.25 8.507 2.25 9.574V18a2.25 2.25 0 0 0 2.25 2.25h15A2.25 2.25 0 0 0 21.75 18V9.574c0-1.067-.75-1.994-1.802-2.169a47.865 47.865 0 0 0-1.134-.175 2.31 2.31 0 0 1-1.64-1.055l-.822-1.316a2.192 2.192 0 0 0-1.736-1.039 48.774 48.774 0 0 0-5.232 0 2.192 2.192 0 0 0-1.736 1.039l-.821 1.316Z"}),n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.5 12.75a4.5 4.5 0 1 1-9 0 4.5 4.5 0 0 1 9 0ZM18.75 10.5h.008v.008h-.008V10.5Z"}))}const Lx=n.forwardRef(Mx),Ls=Lx;function $x({title:t,titleId:r,...a},s){return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":r},a),t?n.createElement("title",{id:r},t):null,n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 13.125C3 12.504 3.504 12 4.125 12h2.25c.621 0 1.125.504 1.125 1.125v6.75C7.5 20.496 6.996 21 6.375 21h-2.25A1.125 1.125 0 0 1 3 19.875v-6.75ZM9.75 8.625c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125v11.25c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 0 1-1.125-1.125V8.625ZM16.5 4.125c0-.621.504-1.125 1.125-1.125h2.25C20.496 3 21 3.504 21 4.125v15.75c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 0 1-1.125-1.125V4.125Z"}))}const Tx=n.forwardRef($x),Yt=Tx;function Ix({title:t,titleId:r,...a},s){return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":r},a),t?n.createElement("title",{id:r},t):null,n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M7.5 8.25h9m-9 3H12m-9.75 1.51c0 1.6 1.123 2.994 2.707 3.227 1.129.166 2.27.293 3.423.379.35.026.67.21.865.501L12 21l2.755-4.133a1.14 1.14 0 0 1 .865-.501 48.172 48.172 0 0 0 3.423-.379c1.584-.233 2.707-1.626 2.707-3.228V6.741c0-1.602-1.123-2.995-2.707-3.228A48.394 48.394 0 0 0 12 3c-2.392 0-4.744.175-7.043.513C3.373 3.746 2.25 5.14 2.25 6.741v6.018Z"}))}const _x=n.forwardRef(Ix),cn=_x;function Ox({title:t,titleId:r,...a},s){return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":r},a),t?n.createElement("title",{id:r},t):null,n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M20.25 8.511c.884.284 1.5 1.128 1.5 2.097v4.286c0 1.136-.847 2.1-1.98 2.193-.34.027-.68.052-1.02.072v3.091l-3-3c-1.354 0-2.694-.055-4.02-.163a2.115 2.115 0 0 1-.825-.242m9.345-8.334a2.126 2.126 0 0 0-.476-.095 48.64 48.64 0 0 0-8.048 0c-1.131.094-1.976 1.057-1.976 2.192v4.286c0 .837.46 1.58 1.155 1.951m9.345-8.334V6.637c0-1.621-1.152-3.026-2.76-3.235A48.455 48.455 0 0 0 11.25 3c-2.115 0-4.198.137-6.24.402-1.608.209-2.76 1.614-2.76 3.235v6.226c0 1.621 1.152 3.026 2.76 3.235.577.075 1.157.14 1.74.194V21l4.155-4.155"}))}const Vx=n.forwardRef(Ox),ut=Vx;function zx({title:t,titleId:r,...a},s){return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":r},a),t?n.createElement("title",{id:r},t):null,n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 12.76c0 1.6 1.123 2.994 2.707 3.227 1.087.16 2.185.283 3.293.369V21l4.076-4.076a1.526 1.526 0 0 1 1.037-.443 48.282 48.282 0 0 0 5.68-.494c1.584-.233 2.707-1.626 2.707-3.228V6.741c0-1.602-1.123-2.995-2.707-3.228A48.394 48.394 0 0 0 12 3c-2.392 0-4.744.175-7.043.513C3.373 3.746 2.25 5.14 2.25 6.741v6.018Z"}))}const Ux=n.forwardRef(zx),pa=Ux;function qx({title:t,titleId:r,...a},s){return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":r},a),t?n.createElement("title",{id:r},t):null,n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75 11.25 15 15 9.75M21 12c0 1.268-.63 2.39-1.593 3.068a3.745 3.745 0 0 1-1.043 3.296 3.745 3.745 0 0 1-3.296 1.043A3.745 3.745 0 0 1 12 21c-1.268 0-2.39-.63-3.068-1.593a3.746 3.746 0 0 1-3.296-1.043 3.745 3.745 0 0 1-1.043-3.296A3.745 3.745 0 0 1 3 12c0-1.268.63-2.39 1.593-3.068a3.745 3.745 0 0 1 1.043-3.296 3.746 3.746 0 0 1 3.296-1.043A3.746 3.746 0 0 1 12 3c1.268 0 2.39.63 3.068 1.593a3.746 3.746 0 0 1 3.296 1.043 3.746 3.746 0 0 1 1.043 3.296A3.745 3.745 0 0 1 21 12Z"}))}const Gx=n.forwardRef(qx),fa=Gx;function Hx({title:t,titleId:r,...a},s){return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":r},a),t?n.createElement("title",{id:r},t):null,n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75 11.25 15 15 9.75M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const Wx=n.forwardRef(Hx),Me=Wx;function Zx({title:t,titleId:r,...a},s){return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":r},a),t?n.createElement("title",{id:r},t):null,n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m4.5 12.75 6 6 9-13.5"}))}const Qx=n.forwardRef(Zx),mr=Qx;function Yx({title:t,titleId:r,...a},s){return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":r},a),t?n.createElement("title",{id:r},t):null,n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m19.5 8.25-7.5 7.5-7.5-7.5"}))}const Jx=n.forwardRef(Yx),ba=Jx;function Xx({title:t,titleId:r,...a},s){return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":r},a),t?n.createElement("title",{id:r},t):null,n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12h3.75M9 15h3.75M9 18h3.75m3 .75H18a2.25 2.25 0 0 0 2.25-2.25V6.108c0-1.135-.845-2.098-1.976-2.192a48.424 48.424 0 0 0-1.123-.08m-5.801 0c-.065.21-.1.433-.1.664 0 .414.336.75.75.75h4.5a.75.75 0 0 0 .75-.75 2.25 2.25 0 0 0-.1-.664m-5.8 0A2.251 2.251 0 0 1 13.5 2.25H15c1.012 0 1.867.668 2.15 1.586m-5.8 0c-.376.023-.75.05-1.124.08C9.095 4.01 8.25 4.973 8.25 6.108V8.25m0 0H4.875c-.621 0-1.125.504-1.125 1.125v11.25c0 .621.504 1.125 1.125 1.125h9.75c.621 0 1.125-.504 1.125-1.125V9.375c0-.621-.504-1.125-1.125-1.125H8.25ZM6.75 12h.008v.008H6.75V12Zm0 3h.008v.008H6.75V15Zm0 3h.008v.008H6.75V18Z"}))}const Kx=n.forwardRef(Xx),ed=Kx;function td({title:t,titleId:r,...a},s){return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":r},a),t?n.createElement("title",{id:r},t):null,n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8.25 7.5V6.108c0-1.135.845-2.098 1.976-2.192.373-.03.748-.057 1.123-.08M15.75 18H18a2.25 2.25 0 0 0 2.25-2.25V6.108c0-1.135-.845-2.098-1.976-2.192a48.424 48.424 0 0 0-1.123-.08M15.75 18.75v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5A3.375 3.375 0 0 0 6.375 7.5H5.25m11.9-3.664A2.251 2.251 0 0 0 15 2.25h-1.5a2.251 2.251 0 0 0-2.15 1.586m5.8 0c.065.21.1.433.1.664v.75h-6V4.5c0-.231.035-.454.1-.664M6.75 7.5H4.875c-.621 0-1.125.504-1.125 1.125v12c0 .621.504 1.125 1.125 1.125h9.75c.621 0 1.125-.504 1.125-1.125V16.5a9 9 0 0 0-9-9Z"}))}const rd=n.forwardRef(td),us=rd;function sd({title:t,titleId:r,...a},s){return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":r},a),t?n.createElement("title",{id:r},t):null,n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6v6h4.5m4.5 0a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const ad=n.forwardRef(sd),Le=ad;function nd({title:t,titleId:r,...a},s){return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":r},a),t?n.createElement("title",{id:r},t):null,n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 15a4.5 4.5 0 0 0 4.5 4.5H18a3.75 3.75 0 0 0 1.332-7.257 3 3 0 0 0-3.758-3.848 5.25 5.25 0 0 0-10.233 2.33A4.502 4.502 0 0 0 2.25 15Z"}))}const ld=n.forwardRef(nd),n0=ld;function od({title:t,titleId:r,...a},s){return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":r},a),t?n.createElement("title",{id:r},t):null,n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M17.25 6.75 22.5 12l-5.25 5.25m-10.5 0L1.5 12l5.25-5.25m7.5-3-4.5 16.5"}))}const id=n.forwardRef(od),xd=id;function dd({title:t,titleId:r,...a},s){return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":r},a),t?n.createElement("title",{id:r},t):null,n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.594 3.94c.09-.542.56-.94 1.11-.94h2.593c.55 0 1.02.398 1.11.94l.213 1.281c.063.374.313.686.645.87.074.04.147.083.22.127.325.196.72.257 1.075.124l1.217-.456a1.125 1.125 0 0 1 1.37.49l1.296 2.247a1.125 1.125 0 0 1-.26 1.431l-1.003.827c-.293.241-.438.613-.43.992a7.723 7.723 0 0 1 0 .255c-.008.378.137.75.43.991l1.004.827c.424.35.534.955.26 1.43l-1.298 2.247a1.125 1.125 0 0 1-1.369.491l-1.217-.456c-.355-.133-.75-.072-1.076.124a6.47 6.47 0 0 1-.22.128c-.331.183-.581.495-.644.869l-.213 1.281c-.09.543-.56.94-1.11.94h-2.594c-.55 0-1.019-.398-1.11-.94l-.213-1.281c-.062-.374-.312-.686-.644-.87a6.52 6.52 0 0 1-.22-.127c-.325-.196-.72-.257-1.076-.124l-1.217.456a1.125 1.125 0 0 1-1.369-.49l-1.297-2.247a1.125 1.125 0 0 1 .26-1.431l1.004-.827c.292-.24.437-.613.43-.991a6.932 6.932 0 0 1 0-.255c.007-.38-.138-.751-.43-.992l-1.004-.827a1.125 1.125 0 0 1-.26-1.43l1.297-2.247a1.125 1.125 0 0 1 1.37-.491l1.216.456c.356.133.751.072 1.076-.124.072-.044.146-.086.22-.128.332-.183.582-.495.644-.869l.214-1.28Z"}),n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"}))}const cd=n.forwardRef(dd),md=cd;function gd({title:t,titleId:r,...a},s){return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":r},a),t?n.createElement("title",{id:r},t):null,n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4.5 12a7.5 7.5 0 0 0 15 0m-15 0a7.5 7.5 0 1 1 15 0m-15 0H3m16.5 0H21m-1.5 0H12m-8.457 3.077 1.41-.513m14.095-5.13 1.41-.513M5.106 17.785l1.15-.964m11.49-9.642 1.149-.964M7.501 19.795l.75-1.3m7.5-12.99.75-1.3m-6.063 16.658.26-1.477m2.605-14.772.26-1.477m0 17.726-.26-1.477M10.698 4.614l-.26-1.477M16.5 19.794l-.75-1.299M7.5 4.205 12 12m6.894 5.785-1.149-.964M6.256 7.178l-1.15-.964m15.352 8.864-1.41-.513M4.954 9.435l-1.41-.514M12.002 12l-3.75 6.495"}))}const ud=n.forwardRef(gd),Hr=ud;function hd({title:t,titleId:r,...a},s){return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":r},a),t?n.createElement("title",{id:r},t):null,n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6v12m-3-2.818.879.659c1.171.879 3.07.879 4.242 0 1.172-.879 1.172-2.303 0-3.182C13.536 12.219 12.768 12 12 12c-.725 0-1.45-.22-2.003-.659-1.106-.879-1.106-2.303 0-3.182s2.9-.879 4.006 0l.415.33M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const pd=n.forwardRef(hd),Ks=pd;function fd({title:t,titleId:r,...a},s){return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":r},a),t?n.createElement("title",{id:r},t):null,n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 14.25v-2.625a3.375 3.375 0 0 0-3.375-3.375h-1.5A1.125 1.125 0 0 1 13.5 7.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H8.25m.75 12 3 3m0 0 3-3m-3 3v-6m-1.5-9H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 0 0-9-9Z"}))}const bd=n.forwardRef(fd),l0=bd;function yd({title:t,titleId:r,...a},s){return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":r},a),t?n.createElement("title",{id:r},t):null,n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 14.25v-2.625a3.375 3.375 0 0 0-3.375-3.375h-1.5A1.125 1.125 0 0 1 13.5 7.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H8.25M9 16.5v.75m3-3v3M15 12v5.25m-4.5-15H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 0 0-9-9Z"}))}const vd=n.forwardRef(yd),wd=vd;function jd({title:t,titleId:r,...a},s){return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":r},a),t?n.createElement("title",{id:r},t):null,n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6.75a.75.75 0 1 1 0-1.5.75.75 0 0 1 0 1.5ZM12 12.75a.75.75 0 1 1 0-1.5.75.75 0 0 1 0 1.5ZM12 18.75a.75.75 0 1 1 0-1.5.75.75 0 0 1 0 1.5Z"}))}const Ed=n.forwardRef(jd),mn=Ed;function kd({title:t,titleId:r,...a},s){return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":r},a),t?n.createElement("title",{id:r},t):null,n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21.75 6.75v10.5a2.25 2.25 0 0 1-2.25 2.25h-15a2.25 2.25 0 0 1-2.25-2.25V6.75m19.5 0A2.25 2.25 0 0 0 19.5 4.5h-15a2.25 2.25 0 0 0-2.25 2.25m19.5 0v.243a2.25 2.25 0 0 1-1.07 1.916l-7.5 4.615a2.25 2.25 0 0 1-2.36 0L3.32 8.91a2.25 2.25 0 0 1-1.07-1.916V6.75"}))}const Nd=n.forwardRef(kd),Xt=Nd;function Cd({title:t,titleId:r,...a},s){return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":r},a),t?n.createElement("title",{id:r},t):null,n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v3.75m-9.303 3.376c-.866 1.5.217 3.374 1.948 3.374h14.71c1.73 0 2.813-1.874 1.948-3.374L13.949 3.378c-.866-1.5-3.032-1.5-3.898 0L2.697 16.126ZM12 15.75h.007v.008H12v-.008Z"}))}const Bd=n.forwardRef(Cd),Es=Bd;function Ad({title:t,titleId:r,...a},s){return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":r},a),t?n.createElement("title",{id:r},t):null,n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.98 8.223A10.477 10.477 0 0 0 1.934 12C3.226 16.338 7.244 19.5 12 19.5c.993 0 1.953-.138 2.863-.395M6.228 6.228A10.451 10.451 0 0 1 12 4.5c4.756 0 8.773 3.162 10.065 7.498a10.522 10.522 0 0 1-4.293 5.774M6.228 6.228 3 3m3.228 3.228 3.65 3.65m7.894 7.894L21 21m-3.228-3.228-3.65-3.65m0 0a3 3 0 1 0-4.243-4.243m4.242 4.242L9.88 9.88"}))}const Dd=n.forwardRef(Ad),gn=Dd;function Fd({title:t,titleId:r,...a},s){return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":r},a),t?n.createElement("title",{id:r},t):null,n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.036 12.322a1.012 1.012 0 0 1 0-.639C3.423 7.51 7.36 4.5 12 4.5c4.638 0 8.573 3.007 9.963 7.178.07.207.07.431 0 .639C20.577 16.49 16.64 19.5 12 19.5c-4.638 0-8.573-3.007-9.963-7.178Z"}),n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"}))}const Sd=n.forwardRef(Fd),at=Sd;function Pd({title:t,titleId:r,...a},s){return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":r},a),t?n.createElement("title",{id:r},t):null,n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.362 5.214A8.252 8.252 0 0 1 12 21 8.25 8.25 0 0 1 6.038 7.047 8.287 8.287 0 0 0 9 9.601a8.983 8.983 0 0 1 3.361-6.867 8.21 8.21 0 0 0 3 2.48Z"}),n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 18a3.75 3.75 0 0 0 .495-7.468 5.99 5.99 0 0 0-1.925 3.547 5.975 5.975 0 0 1-2.133-1.001A3.75 3.75 0 0 0 12 18Z"}))}const Rd=n.forwardRef(Pd),st=Rd;function Md({title:t,titleId:r,...a},s){return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":r},a),t?n.createElement("title",{id:r},t):null,n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 3c2.755 0 5.455.232 8.083.678.533.09.917.556.917 1.096v1.044a2.25 2.25 0 0 1-.659 1.591l-5.432 5.432a2.25 2.25 0 0 0-.659 1.591v2.927a2.25 2.25 0 0 1-1.244 2.013L9.75 21v-6.568a2.25 2.25 0 0 0-.659-1.591L3.659 7.409A2.25 2.25 0 0 1 3 5.818V4.774c0-.54.384-1.006.917-1.096A48.32 48.32 0 0 1 12 3Z"}))}const Ld=n.forwardRef(Md),$d=Ld;function Td({title:t,titleId:r,...a},s){return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":r},a),t?n.createElement("title",{id:r},t):null,n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 21a9.004 9.004 0 0 0 8.716-6.747M12 21a9.004 9.004 0 0 1-8.716-6.747M12 21c2.485 0 4.5-4.03 4.5-9S14.485 3 12 3m0 18c-2.485 0-4.5-4.03-4.5-9S9.515 3 12 3m0 0a8.997 8.997 0 0 1 7.843 4.582M12 3a8.997 8.997 0 0 0-7.843 4.582m15.686 0A11.953 11.953 0 0 1 12 10.5c-2.998 0-5.74-1.1-7.843-2.918m15.686 0A8.959 8.959 0 0 1 21 12c0 .778-.099 1.533-.284 2.253m0 0A17.919 17.919 0 0 1 12 16.5c-3.162 0-6.133-.815-8.716-2.247m0 0A9.015 9.015 0 0 1 3 12c0-1.605.42-3.113 1.157-4.418"}))}const Id=n.forwardRef(Td),Wr=Id;function _d({title:t,titleId:r,...a},s){return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":r},a),t?n.createElement("title",{id:r},t):null,n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M7.498 15.25H4.372c-1.026 0-1.945-.694-2.054-1.715a12.137 12.137 0 0 1-.068-1.285c0-2.848.992-5.464 2.649-7.521C5.287 4.247 5.886 4 6.504 4h4.016a4.5 4.5 0 0 1 1.423.23l3.114 1.04a4.5 4.5 0 0 0 1.423.23h1.294M7.498 15.25c.618 0 .991.724.725 1.282A7.471 7.471 0 0 0 7.5 19.75 2.25 2.25 0 0 0 9.75 22a.75.75 0 0 0 .75-.75v-.633c0-.573.11-1.14.322-1.672.304-.76.93-1.33 1.653-1.715a9.04 9.04 0 0 0 2.86-2.4c.498-.634 1.226-1.08 2.032-1.08h.384m-10.253 1.5H9.7m8.075-9.75c.01.05.027.1.05.148.593 1.2.925 2.55.925 3.977 0 1.487-.36 2.89-.999 4.125m.023-8.25c-.076-.365.183-.75.575-.75h.908c.889 0 1.713.518 1.972 1.368.339 1.11.521 2.287.521 3.507 0 1.553-.295 3.036-.831 4.398-.306.774-1.086 1.227-1.918 1.227h-1.053c-.472 0-.745-.556-.5-.96a8.95 8.95 0 0 0 .303-.54"}))}const Od=n.forwardRef(_d),un=Od;function Vd({title:t,titleId:r,...a},s){return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":r},a),t?n.createElement("title",{id:r},t):null,n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6.633 10.25c.806 0 1.533-.446 2.031-1.08a9.041 9.041 0 0 1 2.861-2.4c.723-.384 1.35-.956 1.653-1.715a4.498 4.498 0 0 0 .322-1.672V2.75a.75.75 0 0 1 .75-.75 2.25 2.25 0 0 1 2.25 2.25c0 1.152-.26 2.243-.723 3.218-.266.558.107 1.282.725 1.282m0 0h3.126c1.026 0 1.945.694 2.054 1.715.045.422.068.85.068 1.285a11.95 11.95 0 0 1-2.649 7.521c-.388.482-.987.729-1.605.729H13.48c-.483 0-.964-.078-1.423-.23l-3.114-1.04a4.501 4.501 0 0 0-1.423-.23H5.904m10.598-9.75H14.25M5.904 18.5c.083.205.173.405.27.602.197.4-.078.898-.523.898h-.908c-.889 0-1.713-.518-1.972-1.368a12 12 0 0 1-.521-3.507c0-1.553.295-3.036.831-4.398C3.387 9.953 4.167 9.5 5 9.5h1.053c.472 0 .745.556.5.96a8.958 8.958 0 0 0-1.302 4.665c0 1.194.232 2.333.654 3.375Z"}))}const zd=n.forwardRef(Vd),Ud=zd;function qd({title:t,titleId:r,...a},s){return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":r},a),t?n.createElement("title",{id:r},t):null,n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21 8.25c0-2.485-2.099-4.5-4.688-4.5-1.935 0-3.597 1.126-4.312 2.733-.715-1.607-2.377-2.733-4.313-2.733C5.1 3.75 3 5.765 3 8.25c0 7.22 9 12 9 12s9-4.78 9-12Z"}))}const Gd=n.forwardRef(qd),Re=Gd;function Hd({title:t,titleId:r,...a},s){return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":r},a),t?n.createElement("title",{id:r},t):null,n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m2.25 12 8.954-8.955c.44-.439 1.152-.439 1.591 0L21.75 12M4.5 9.75v10.125c0 .621.504 1.125 1.125 1.125H9.75v-4.875c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125V21h4.125c.621 0 1.125-.504 1.125-1.125V9.75M8.25 21h8.25"}))}const Wd=n.forwardRef(Hd),Nr=Wd;function Zd({title:t,titleId:r,...a},s){return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":r},a),t?n.createElement("title",{id:r},t):null,n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m11.25 11.25.041-.02a.75.75 0 0 1 1.063.852l-.708 2.836a.75.75 0 0 0 1.063.853l.041-.021M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Zm-9-3.75h.008v.008H12V8.25Z"}))}const Qd=n.forwardRef(Zd),Cr=Qd;function Yd({title:t,titleId:r,...a},s){return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":r},a),t?n.createElement("title",{id:r},t):null,n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13.19 8.688a4.5 4.5 0 0 1 1.242 7.244l-4.5 4.5a4.5 4.5 0 0 1-6.364-6.364l1.757-1.757m13.35-.622 1.757-1.757a4.5 4.5 0 0 0-6.364-6.364l-4.5 4.5a4.5 4.5 0 0 0 1.242 7.244"}))}const Jd=n.forwardRef(Yd),Xd=Jd;function Kd({title:t,titleId:r,...a},s){return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":r},a),t?n.createElement("title",{id:r},t):null,n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8.25 6.75h12M8.25 12h12m-12 5.25h12M3.75 6.75h.007v.008H3.75V6.75Zm.375 0a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0ZM3.75 12h.007v.008H3.75V12Zm.375 0a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0Zm-.375 5.25h.007v.008H3.75v-.008Zm.375 0a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0Z"}))}const ec=n.forwardRef(Kd),tc=ec;function rc({title:t,titleId:r,...a},s){return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":r},a),t?n.createElement("title",{id:r},t):null,n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.5 10.5V6.75a4.5 4.5 0 1 0-9 0v3.75m-.75 11.25h10.5a2.25 2.25 0 0 0 2.25-2.25v-6.75a2.25 2.25 0 0 0-2.25-2.25H6.75a2.25 2.25 0 0 0-2.25 2.25v6.75a2.25 2.25 0 0 0 2.25 2.25Z"}))}const sc=n.forwardRef(rc),Kt=sc;function ac({title:t,titleId:r,...a},s){return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":r},a),t?n.createElement("title",{id:r},t):null,n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m21 21-5.197-5.197m0 0A7.5 7.5 0 1 0 5.196 5.196a7.5 7.5 0 0 0 10.607 10.607Z"}))}const nc=n.forwardRef(ac),_t=nc;function lc({title:t,titleId:r,...a},s){return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":r},a),t?n.createElement("title",{id:r},t):null,n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 10.5a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"}),n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 10.5c0 7.142-7.5 11.25-7.5 11.25S4.5 17.642 4.5 10.5a7.5 7.5 0 1 1 15 0Z"}))}const oc=n.forwardRef(lc),ye=oc;function ic({title:t,titleId:r,...a},s){return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":r},a),t?n.createElement("title",{id:r},t):null,n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21.752 15.002A9.72 9.72 0 0 1 18 15.75c-5.385 0-9.75-4.365-9.75-9.75 0-1.33.266-2.597.748-3.752A9.753 9.753 0 0 0 3 11.25C3 16.635 7.365 21 12.75 21a9.753 9.753 0 0 0 9.002-5.998Z"}))}const xc=n.forwardRef(ic),hn=xc;function dc({title:t,titleId:r,...a},s){return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":r},a),t?n.createElement("title",{id:r},t):null,n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 12 3.269 3.125A59.769 59.769 0 0 1 21.485 12 59.768 59.768 0 0 1 3.27 20.875L5.999 12Zm0 0h7.5"}))}const cc=n.forwardRef(dc),Ra=cc;function mc({title:t,titleId:r,...a},s){return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":r},a),t?n.createElement("title",{id:r},t):null,n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m16.862 4.487 1.687-1.688a1.875 1.875 0 1 1 2.652 2.652L10.582 16.07a4.5 4.5 0 0 1-1.897 1.13L6 18l.8-2.685a4.5 4.5 0 0 1 1.13-1.897l8.932-8.931Zm0 0L19.5 7.125M18 14v4.75A2.25 2.25 0 0 1 15.75 21H5.25A2.25 2.25 0 0 1 3 18.75V8.25A2.25 2.25 0 0 1 5.25 6H10"}))}const gc=n.forwardRef(mc),$s=gc;function uc({title:t,titleId:r,...a},s){return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":r},a),t?n.createElement("title",{id:r},t):null,n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m16.862 4.487 1.687-1.688a1.875 1.875 0 1 1 2.652 2.652L6.832 19.82a4.5 4.5 0 0 1-1.897 1.13l-2.685.8.8-2.685a4.5 4.5 0 0 1 1.13-1.897L16.863 4.487Zm0 0L19.5 7.125"}))}const hc=n.forwardRef(uc),Ma=hc;function pc({title:t,titleId:r,...a},s){return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":r},a),t?n.createElement("title",{id:r},t):null,n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 6.75c0 8.284 6.716 15 15 15h2.25a2.25 2.25 0 0 0 2.25-2.25v-1.372c0-.516-.351-.966-.852-1.091l-4.423-1.106c-.44-.11-.902.055-1.173.417l-.97 1.293c-.282.376-.769.542-1.21.38a12.035 12.035 0 0 1-7.143-7.143c-.162-.441.004-.928.38-1.21l1.293-.97c.363-.271.527-.734.417-1.173L6.963 3.102a1.125 1.125 0 0 0-1.091-.852H4.5A2.25 2.25 0 0 0 2.25 4.5v2.25Z"}))}const fc=n.forwardRef(pc),Kr=fc;function bc({title:t,titleId:r,...a},s){return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":r},a),t?n.createElement("title",{id:r},t):null,n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m2.25 15.75 5.159-5.159a2.25 2.25 0 0 1 3.182 0l5.159 5.159m-1.5-1.5 1.409-1.409a2.25 2.25 0 0 1 3.182 0l2.909 2.909m-18 3.75h16.5a1.5 1.5 0 0 0 1.5-1.5V6a1.5 1.5 0 0 0-1.5-1.5H3.75A1.5 1.5 0 0 0 2.25 6v12a1.5 1.5 0 0 0 1.5 1.5Zm10.5-11.25h.008v.008h-.008V8.25Zm.375 0a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0Z"}))}const yc=n.forwardRef(bc),or=yc;function vc({title:t,titleId:r,...a},s){return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":r},a),t?n.createElement("title",{id:r},t):null,n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5.25 5.653c0-.856.917-1.398 1.667-.986l11.54 6.347a1.125 1.125 0 0 1 0 1.972l-11.54 6.347a1.125 1.125 0 0 1-1.667-.986V5.653Z"}))}const wc=n.forwardRef(vc),o0=wc;function jc({title:t,titleId:r,...a},s){return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":r},a),t?n.createElement("title",{id:r},t):null,n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v6m3-3H9m12 0a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const Ec=n.forwardRef(jc),kc=Ec;function Nc({title:t,titleId:r,...a},s){return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":r},a),t?n.createElement("title",{id:r},t):null,n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4.5v15m7.5-7.5h-15"}))}const Cc=n.forwardRef(Nc),Ft=Cc;function Bc({title:t,titleId:r,...a},s){return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":r},a),t?n.createElement("title",{id:r},t):null,n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6.72 13.829c-.24.03-.48.062-.72.096m.72-.096a42.415 42.415 0 0 1 10.56 0m-10.56 0L6.34 18m10.94-4.171c.24.03.48.062.72.096m-.72-.096L17.66 18m0 0 .229 2.523a1.125 1.125 0 0 1-1.12 1.227H7.231c-.662 0-1.18-.568-1.12-1.227L6.34 18m11.318 0h1.091A2.25 2.25 0 0 0 21 15.75V9.456c0-1.081-.768-2.015-1.837-2.175a48.055 48.055 0 0 0-1.913-.247M6.34 18H5.25A2.25 2.25 0 0 1 3 15.75V9.456c0-1.081.768-2.015 1.837-2.175a48.041 48.041 0 0 1 1.913-.247m10.5 0a48.536 48.536 0 0 0-10.5 0m10.5 0V3.375c0-.621-.504-1.125-1.125-1.125h-8.25c-.621 0-1.125.504-1.125 1.125v3.659M18 10.5h.008v.008H18V10.5Zm-3 0h.008v.008H15V10.5Z"}))}const Ac=n.forwardRef(Bc),Dc=Ac;function Fc({title:t,titleId:r,...a},s){return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":r},a),t?n.createElement("title",{id:r},t):null,n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 4.875c0-.621.504-1.125 1.125-1.125h4.5c.621 0 1.125.504 1.125 1.125v4.5c0 .621-.504 1.125-1.125 1.125h-4.5A1.125 1.125 0 0 1 3.75 9.375v-4.5ZM3.75 14.625c0-.621.504-1.125 1.125-1.125h4.5c.621 0 1.125.504 1.125 1.125v4.5c0 .621-.504 1.125-1.125 1.125h-4.5a1.125 1.125 0 0 1-1.125-1.125v-4.5ZM13.5 4.875c0-.621.504-1.125 1.125-1.125h4.5c.621 0 1.125.504 1.125 1.125v4.5c0 .621-.504 1.125-1.125 1.125h-4.5A1.125 1.125 0 0 1 13.5 9.375v-4.5Z"}),n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6.75 6.75h.75v.75h-.75v-.75ZM6.75 16.5h.75v.75h-.75v-.75ZM16.5 6.75h.75v.75h-.75v-.75ZM13.5 13.5h.75v.75h-.75v-.75ZM13.5 19.5h.75v.75h-.75v-.75ZM19.5 13.5h.75v.75h-.75v-.75ZM19.5 19.5h.75v.75h-.75v-.75ZM16.5 16.5h.75v.75h-.75v-.75Z"}))}const Sc=n.forwardRef(Fc),pt=Sc;function Pc({title:t,titleId:r,...a},s){return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":r},a),t?n.createElement("title",{id:r},t):null,n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21.75 17.25v-.228a4.5 4.5 0 0 0-.12-1.03l-2.268-9.64a3.375 3.375 0 0 0-3.285-2.602H7.923a3.375 3.375 0 0 0-3.285 2.602l-2.268 9.64a4.5 4.5 0 0 0-.12 1.03v.228m19.5 0a3 3 0 0 1-3 3H5.25a3 3 0 0 1-3-3m19.5 0a3 3 0 0 0-3-3H5.25a3 3 0 0 0-3 3m16.5 0h.008v.008h-.008v-.008Zm-3 0h.008v.008h-.008v-.008Z"}))}const Rc=n.forwardRef(Pc),Mc=Rc;function Lc({title:t,titleId:r,...a},s){return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":r},a),t?n.createElement("title",{id:r},t):null,n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M7.217 10.907a2.25 2.25 0 1 0 0 2.186m0-2.186c.18.324.283.696.283 1.093s-.103.77-.283 1.093m0-2.186 9.566-5.314m-9.566 7.5 9.566 5.314m0 0a2.25 2.25 0 1 0 3.935 2.186 2.25 2.25 0 0 0-3.935-2.186Zm0-12.814a2.25 2.25 0 1 0 3.933-2.185 2.25 2.25 0 0 0-3.933 2.185Z"}))}const $c=n.forwardRef(Lc),pn=$c;function Tc({title:t,titleId:r,...a},s){return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":r},a),t?n.createElement("title",{id:r},t):null,n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75 11.25 15 15 9.75m-3-7.036A11.959 11.959 0 0 1 3.598 6 11.99 11.99 0 0 0 3 9.749c0 5.592 3.824 10.29 9 11.623 5.176-1.332 9-6.03 9-11.622 0-1.31-.21-2.571-.598-3.751h-.152c-3.196 0-6.1-1.248-8.25-3.285Z"}))}const Ic=n.forwardRef(Tc),gr=Ic;function _c({title:t,titleId:r,...a},s){return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":r},a),t?n.createElement("title",{id:r},t):null,n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.813 15.904 9 18.75l-.813-2.846a4.5 4.5 0 0 0-3.09-3.09L2.25 12l2.846-.813a4.5 4.5 0 0 0 3.09-3.09L9 5.25l.813 2.846a4.5 4.5 0 0 0 3.09 3.09L15.75 12l-2.846.813a4.5 4.5 0 0 0-3.09 3.09ZM18.259 8.715 18 9.75l-.259-1.035a3.375 3.375 0 0 0-2.455-2.456L14.25 6l1.036-.259a3.375 3.375 0 0 0 2.455-2.456L18 2.25l.259 1.035a3.375 3.375 0 0 0 2.456 2.456L21.75 6l-1.035.259a3.375 3.375 0 0 0-2.456 2.456ZM16.894 20.567 16.5 21.75l-.394-1.183a2.25 2.25 0 0 0-1.423-1.423L13.5 18.75l1.183-.394a2.25 2.25 0 0 0 1.423-1.423l.394-1.183.394 1.183a2.25 2.25 0 0 0 1.423 1.423l1.183.394-1.183.394a2.25 2.25 0 0 0-1.423 1.423Z"}))}const Oc=n.forwardRef(_c),$e=Oc;function Vc({title:t,titleId:r,...a},s){return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":r},a),t?n.createElement("title",{id:r},t):null,n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 6A2.25 2.25 0 0 1 6 3.75h2.25A2.25 2.25 0 0 1 10.5 6v2.25a2.25 2.25 0 0 1-2.25 2.25H6a2.25 2.25 0 0 1-2.25-2.25V6ZM3.75 15.75A2.25 2.25 0 0 1 6 13.5h2.25a2.25 2.25 0 0 1 2.25 2.25V18a2.25 2.25 0 0 1-2.25 2.25H6A2.25 2.25 0 0 1 3.75 18v-2.25ZM13.5 6a2.25 2.25 0 0 1 2.25-2.25H18A2.25 2.25 0 0 1 20.25 6v2.25A2.25 2.25 0 0 1 18 10.5h-2.25a2.25 2.25 0 0 1-2.25-2.25V6ZM13.5 15.75a2.25 2.25 0 0 1 2.25-2.25H18a2.25 2.25 0 0 1 2.25 2.25V18A2.25 2.25 0 0 1 18 20.25h-2.25A2.25 2.25 0 0 1 13.5 18v-2.25Z"}))}const zc=n.forwardRef(Vc),Uc=zc;function qc({title:t,titleId:r,...a},s){return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":r},a),t?n.createElement("title",{id:r},t):null,n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M11.48 3.499a.562.562 0 0 1 1.04 0l2.125 5.111a.563.563 0 0 0 .475.345l5.518.442c.499.04.701.663.321.988l-4.204 3.602a.563.563 0 0 0-.182.557l1.285 5.385a.562.562 0 0 1-.84.61l-4.725-2.885a.562.562 0 0 0-.586 0L6.982 20.54a.562.562 0 0 1-.84-.61l1.285-5.386a.562.562 0 0 0-.182-.557l-4.204-3.602a.562.562 0 0 1 .321-.988l5.518-.442a.563.563 0 0 0 .475-.345L11.48 3.5Z"}))}const Gc=n.forwardRef(qc),We=Gc;function Hc({title:t,titleId:r,...a},s){return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":r},a),t?n.createElement("title",{id:r},t):null,n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5.25 7.5A2.25 2.25 0 0 1 7.5 5.25h9a2.25 2.25 0 0 1 2.25 2.25v9a2.25 2.25 0 0 1-2.25 2.25h-9a2.25 2.25 0 0 1-2.25-2.25v-9Z"}))}const Wc=n.forwardRef(Hc),fn=Wc;function Zc({title:t,titleId:r,...a},s){return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":r},a),t?n.createElement("title",{id:r},t):null,n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 3v2.25m6.364.386-1.591 1.591M21 12h-2.25m-.386 6.364-1.591-1.591M12 18.75V21m-4.773-4.227-1.591 1.591M5.25 12H3m4.227-4.773L5.636 5.636M15.75 12a3.75 3.75 0 1 1-7.5 0 3.75 3.75 0 0 1 7.5 0Z"}))}const Qc=n.forwardRef(Zc),Yc=Qc;function Jc({title:t,titleId:r,...a},s){return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":r},a),t?n.createElement("title",{id:r},t):null,n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.568 3H5.25A2.25 2.25 0 0 0 3 5.25v4.318c0 .597.237 1.17.659 1.591l9.581 9.581c.699.699 1.78.872 2.607.33a18.095 18.095 0 0 0 5.223-5.223c.542-.827.369-1.908-.33-2.607L11.16 3.66A2.25 2.25 0 0 0 9.568 3Z"}),n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 6h.008v.008H6V6Z"}))}const Xc=n.forwardRef(Jc),Zr=Xc;function Kc({title:t,titleId:r,...a},s){return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":r},a),t?n.createElement("title",{id:r},t):null,n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m14.74 9-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 0 1-2.244 2.077H8.084a2.25 2.25 0 0 1-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 0 0-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 0 1 3.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 0 0-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 0 0-7.5 0"}))}const em=n.forwardRef(Kc),br=em;function tm({title:t,titleId:r,...a},s){return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":r},a),t?n.createElement("title",{id:r},t):null,n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.5 18.75h-9m9 0a3 3 0 0 1 3 3h-15a3 3 0 0 1 3-3m9 0v-3.375c0-.621-.503-1.125-1.125-1.125h-.871M7.5 18.75v-3.375c0-.621.504-1.125 1.125-1.125h.872m5.007 0H9.497m5.007 0a7.454 7.454 0 0 1-.982-3.172M9.497 14.25a7.454 7.454 0 0 0 .981-3.172M5.25 4.236c-.982.143-1.954.317-2.916.52A6.003 6.003 0 0 0 7.73 9.728M5.25 4.236V4.5c0 2.108.966 3.99 2.48 5.228M5.25 4.236V2.721C7.456 2.41 9.71 2.25 12 2.25c2.291 0 4.545.16 6.75.47v1.516M7.73 9.728a6.726 6.726 0 0 0 2.748 1.35m8.272-6.842V4.5c0 2.108-.966 3.99-2.48 5.228m2.48-5.492a46.32 46.32 0 0 1 2.916.52 6.003 6.003 0 0 1-5.395 4.972m0 0a6.726 6.726 0 0 1-2.749 1.35m0 0a6.772 6.772 0 0 1-3.044 0"}))}const rm=n.forwardRef(tm),ot=rm;function sm({title:t,titleId:r,...a},s){return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":r},a),t?n.createElement("title",{id:r},t):null,n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M17.982 18.725A7.488 7.488 0 0 0 12 15.75a7.488 7.488 0 0 0-5.982 2.975m11.963 0a9 9 0 1 0-11.963 0m11.963 0A8.966 8.966 0 0 1 12 21a8.966 8.966 0 0 1-5.982-2.275M15 9.75a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"}))}const am=n.forwardRef(sm),Qr=am;function nm({title:t,titleId:r,...a},s){return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":r},a),t?n.createElement("title",{id:r},t):null,n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M18 18.72a9.094 9.094 0 0 0 3.741-.479 3 3 0 0 0-4.682-2.72m.94 3.198.001.031c0 .225-.012.447-.037.666A11.944 11.944 0 0 1 12 21c-2.17 0-4.207-.576-5.963-1.584A6.062 6.062 0 0 1 6 18.719m12 0a5.971 5.971 0 0 0-.941-3.197m0 0A5.995 5.995 0 0 0 12 12.75a5.995 5.995 0 0 0-5.058 2.772m0 0a3 3 0 0 0-4.681 2.72 8.986 8.986 0 0 0 3.74.477m.94-3.197a5.971 5.971 0 0 0-.94 3.197M15 6.75a3 3 0 1 1-6 0 3 3 0 0 1 6 0Zm6 3a2.25 2.25 0 1 1-4.5 0 2.25 2.25 0 0 1 4.5 0Zm-13.5 0a2.25 2.25 0 1 1-4.5 0 2.25 2.25 0 0 1 4.5 0Z"}))}const lm=n.forwardRef(nm),Ne=lm;function om({title:t,titleId:r,...a},s){return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":r},a),t?n.createElement("title",{id:r},t):null,n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M22 10.5h-6m-2.25-4.125a3.375 3.375 0 1 1-6.75 0 3.375 3.375 0 0 1 6.75 0ZM4 19.235v-.11a6.375 6.375 0 0 1 12.75 0v.109A12.318 12.318 0 0 1 10.374 21c-2.331 0-4.512-.645-6.374-1.766Z"}))}const im=n.forwardRef(om),bn=im;function xm({title:t,titleId:r,...a},s){return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":r},a),t?n.createElement("title",{id:r},t):null,n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M18 7.5v3m0 0v3m0-3h3m-3 0h-3m-2.25-4.125a3.375 3.375 0 1 1-6.75 0 3.375 3.375 0 0 1 6.75 0ZM3 19.235v-.11a6.375 6.375 0 0 1 12.75 0v.109A12.318 12.318 0 0 1 9.374 21c-2.331 0-4.512-.645-6.374-1.766Z"}))}const dm=n.forwardRef(xm),hr=dm;function cm({title:t,titleId:r,...a},s){return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":r},a),t?n.createElement("title",{id:r},t):null,n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 6a3.75 3.75 0 1 1-7.5 0 3.75 3.75 0 0 1 7.5 0ZM4.501 20.118a7.5 7.5 0 0 1 14.998 0A17.933 17.933 0 0 1 12 21.75c-2.676 0-5.216-.584-7.499-1.632Z"}))}const mm=n.forwardRef(cm),Tt=mm;function gm({title:t,titleId:r,...a},s){return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":r},a),t?n.createElement("title",{id:r},t):null,n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 19.128a9.38 9.38 0 0 0 2.625.372 9.337 9.337 0 0 0 4.121-.952 4.125 4.125 0 0 0-7.533-2.493M15 19.128v-.003c0-1.113-.285-2.16-.786-3.07M15 19.128v.106A12.318 12.318 0 0 1 8.624 21c-2.331 0-4.512-.645-6.374-1.766l-.001-.109a6.375 6.375 0 0 1 11.964-3.07M12 6.375a3.375 3.375 0 1 1-6.75 0 3.375 3.375 0 0 1 6.75 0Zm8.25 2.25a2.625 2.625 0 1 1-5.25 0 2.625 2.625 0 0 1 5.25 0Z"}))}const um=n.forwardRef(gm),It=um;function hm({title:t,titleId:r,...a},s){return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":r},a),t?n.createElement("title",{id:r},t):null,n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m9.75 9.75 4.5 4.5m0-4.5-4.5 4.5M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const pm=n.forwardRef(hm),Br=pm;function fm({title:t,titleId:r,...a},s){return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":r},a),t?n.createElement("title",{id:r},t):null,n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18 18 6M6 6l12 12"}))}const bm=n.forwardRef(fm),he=bm;function ym({title:t,titleId:r,...a},s){return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":r},a),t?n.createElement("title",{id:r},t):null,n.createElement("path",{fillRule:"evenodd",d:"M5.25 9a6.75 6.75 0 0 1 13.5 0v.75c0 2.123.8 4.057 2.118 5.52a.75.75 0 0 1-.297 1.206c-1.544.57-3.16.99-4.831 1.243a3.75 3.75 0 1 1-7.48 0 24.585 24.585 0 0 1-4.831-1.244.75.75 0 0 1-.298-1.205A8.217 8.217 0 0 0 5.25 9.75V9Zm4.502 8.9a2.25 2.25 0 1 0 4.496 0 25.057 25.057 0 0 1-4.496 0Z",clipRule:"evenodd"}))}const vm=n.forwardRef(ym),es=vm;function wm({title:t,titleId:r,...a},s){return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":r},a),t?n.createElement("title",{id:r},t):null,n.createElement("path",{d:"M12.75 12.75a.75.75 0 1 1-1.5 0 .75.75 0 0 1 1.5 0ZM7.5 15.75a.75.75 0 1 0 0-1.5.75.75 0 0 0 0 1.5ZM8.25 17.25a.75.75 0 1 1-1.5 0 .75.75 0 0 1 1.5 0ZM9.75 15.75a.75.75 0 1 0 0-1.5.75.75 0 0 0 0 1.5ZM10.5 17.25a.75.75 0 1 1-1.5 0 .75.75 0 0 1 1.5 0ZM12 15.75a.75.75 0 1 0 0-1.5.75.75 0 0 0 0 1.5ZM12.75 17.25a.75.75 0 1 1-1.5 0 .75.75 0 0 1 1.5 0ZM14.25 15.75a.75.75 0 1 0 0-1.5.75.75 0 0 0 0 1.5ZM15 17.25a.75.75 0 1 1-1.5 0 .75.75 0 0 1 1.5 0ZM16.5 15.75a.75.75 0 1 0 0-1.5.75.75 0 0 0 0 1.5ZM15 12.75a.75.75 0 1 1-1.5 0 .75.75 0 0 1 1.5 0ZM16.5 13.5a.75.75 0 1 0 0-1.5.75.75 0 0 0 0 1.5Z"}),n.createElement("path",{fillRule:"evenodd",d:"M6.75 2.25A.75.75 0 0 1 7.5 3v1.5h9V3A.75.75 0 0 1 18 3v1.5h.75a3 3 0 0 1 3 3v11.25a3 3 0 0 1-3 3H5.25a3 3 0 0 1-3-3V7.5a3 3 0 0 1 3-3H6V3a.75.75 0 0 1 .75-.75Zm13.5 9a1.5 1.5 0 0 0-1.5-1.5H5.25a1.5 1.5 0 0 0-1.5 1.5v7.5a1.5 1.5 0 0 0 1.5 1.5h13.5a1.5 1.5 0 0 0 1.5-1.5v-7.5Z",clipRule:"evenodd"}))}const jm=n.forwardRef(wm),yn=jm;function Em({title:t,titleId:r,...a},s){return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":r},a),t?n.createElement("title",{id:r},t):null,n.createElement("path",{d:"M18.375 2.25c-1.035 0-1.875.84-1.875 1.875v15.75c0 1.035.84 1.875 1.875 1.875h.75c1.035 0 1.875-.84 1.875-1.875V4.125c0-1.036-.84-1.875-1.875-1.875h-.75ZM9.75 8.625c0-1.036.84-1.875 1.875-1.875h.75c1.036 0 1.875.84 1.875 1.875v11.25c0 1.035-.84 1.875-1.875 1.875h-.75a1.875 1.875 0 0 1-1.875-1.875V8.625ZM3 13.125c0-1.036.84-1.875 1.875-1.875h.75c1.036 0 1.875.84 1.875 1.875v6.75c0 1.035-.84 1.875-1.875 1.875h-.75A1.875 1.875 0 0 1 3 19.875v-6.75Z"}))}const km=n.forwardRef(Em),Nm=km;function Cm({title:t,titleId:r,...a},s){return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":r},a),t?n.createElement("title",{id:r},t):null,n.createElement("path",{d:"M4.913 2.658c2.075-.27 4.19-.408 6.337-.408 2.147 0 4.262.139 6.337.408 1.922.25 3.291 1.861 3.405 3.727a4.403 4.403 0 0 0-1.032-.211 50.89 50.89 0 0 0-8.42 0c-2.358.196-4.04 2.19-4.04 4.434v4.286a4.47 4.47 0 0 0 2.433 3.984L7.28 21.53A.75.75 0 0 1 6 21v-4.03a48.527 48.527 0 0 1-1.087-.128C2.905 16.58 1.5 14.833 1.5 12.862V6.638c0-1.97 1.405-3.718 3.413-3.979Z"}),n.createElement("path",{d:"M15.75 7.5c-1.376 0-2.739.057-4.086.169C10.124 7.797 9 9.103 9 10.609v4.285c0 1.507 1.128 2.814 2.67 2.94 1.243.102 2.5.157 3.768.165l2.782 2.781a.75.75 0 0 0 1.28-.53v-2.39l.33-.026c1.542-.125 2.67-1.433 2.67-2.94v-4.286c0-1.505-1.125-2.811-2.664-2.94A49.392 49.392 0 0 0 15.75 7.5Z"}))}const Bm=n.forwardRef(Cm),Am=Bm;function Dm({title:t,titleId:r,...a},s){return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":r},a),t?n.createElement("title",{id:r},t):null,n.createElement("path",{fillRule:"evenodd",d:"M2.25 12c0-5.385 4.365-9.75 9.75-9.75s9.75 4.365 9.75 9.75-4.365 9.75-9.75 9.75S2.25 17.385 2.25 12Zm13.36-1.814a.75.75 0 1 0-1.22-.872l-3.236 4.53L9.53 12.22a.75.75 0 0 0-1.06 1.06l2.25 2.25a.75.75 0 0 0 1.14-.094l3.75-5.25Z",clipRule:"evenodd"}))}const Fm=n.forwardRef(Dm),La=Fm;function Sm({title:t,titleId:r,...a},s){return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":r},a),t?n.createElement("title",{id:r},t):null,n.createElement("path",{d:"M17.004 10.407c.138.435-.216.842-.672.842h-3.465a.75.75 0 0 1-.65-.375l-1.732-3c-.229-.396-.053-.907.393-1.004a5.252 5.252 0 0 1 6.126 3.537ZM8.12 8.464c.307-.338.838-.235 1.066.16l1.732 3a.75.75 0 0 1 0 .75l-1.732 3c-.229.397-.76.5-1.067.161A5.23 5.23 0 0 1 6.75 12a5.23 5.23 0 0 1 1.37-3.536ZM10.878 17.13c-.447-.098-.623-.608-.394-1.004l1.733-3.002a.75.75 0 0 1 .65-.375h3.465c.457 0 .81.407.672.842a5.252 5.252 0 0 1-6.126 3.539Z"}),n.createElement("path",{fillRule:"evenodd",d:"M21 12.75a.75.75 0 1 0 0-1.5h-.783a8.22 8.22 0 0 0-.237-1.357l.734-.267a.75.75 0 1 0-.513-1.41l-.735.268a8.24 8.24 0 0 0-.689-1.192l.6-.503a.75.75 0 1 0-.964-1.149l-.6.504a8.3 8.3 0 0 0-1.054-.885l.391-.678a.75.75 0 1 0-1.299-.75l-.39.676a8.188 8.188 0 0 0-1.295-.47l.136-.77a.75.75 0 0 0-1.477-.26l-.136.77a8.36 8.36 0 0 0-1.377 0l-.136-.77a.75.75 0 1 0-1.477.26l.136.77c-.448.121-.88.28-1.294.47l-.39-.676a.75.75 0 0 0-1.3.75l.392.678a8.29 8.29 0 0 0-1.054.885l-.6-.504a.75.75 0 1 0-.965 1.149l.6.503a8.243 8.243 0 0 0-.689 1.192L3.8 8.216a.75.75 0 1 0-.513 1.41l.735.267a8.222 8.222 0 0 0-.238 1.356h-.783a.75.75 0 0 0 0 1.5h.783c.042.464.122.917.238 1.356l-.735.268a.75.75 0 0 0 .513 1.41l.735-.268c.197.417.428.816.69 1.191l-.6.504a.75.75 0 0 0 .963 1.15l.601-.505c.326.323.679.62 1.054.885l-.392.68a.75.75 0 0 0 1.3.75l.39-.679c.414.192.847.35 1.294.471l-.136.77a.75.75 0 0 0 1.477.261l.137-.772a8.332 8.332 0 0 0 1.376 0l.136.772a.75.75 0 1 0 1.477-.26l-.136-.771a8.19 8.19 0 0 0 1.294-.47l.391.677a.75.75 0 0 0 1.3-.75l-.393-.679a8.29 8.29 0 0 0 1.054-.885l.601.504a.75.75 0 0 0 .964-1.15l-.6-.503c.261-.375.492-.774.69-1.191l.735.267a.75.75 0 1 0 .512-1.41l-.734-.267c.115-.439.195-.892.237-1.356h.784Zm-2.657-3.06a6.744 6.744 0 0 0-1.19-2.053 6.784 6.784 0 0 0-1.82-1.51A6.705 6.705 0 0 0 12 5.25a6.8 6.8 0 0 0-1.225.11 6.7 6.7 0 0 0-2.15.793 6.784 6.784 0 0 0-2.952 3.489.76.76 0 0 1-.036.098A6.74 6.74 0 0 0 5.251 12a6.74 6.74 0 0 0 3.366 5.842l.009.005a6.704 6.704 0 0 0 2.18.798l.022.003a6.792 6.792 0 0 0 2.368-.004 6.704 6.704 0 0 0 2.205-.811 6.785 6.785 0 0 0 1.762-1.484l.009-.01.009-.01a6.743 6.743 0 0 0 1.18-2.066c.253-.707.39-1.469.39-2.263a6.74 6.74 0 0 0-.408-2.309Z",clipRule:"evenodd"}))}const Pm=n.forwardRef(Sm),Rm=Pm;function Mm({title:t,titleId:r,...a},s){return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":r},a),t?n.createElement("title",{id:r},t):null,n.createElement("path",{d:"M1.5 8.67v8.58a3 3 0 0 0 3 3h15a3 3 0 0 0 3-3V8.67l-8.928 5.493a3 3 0 0 1-3.144 0L1.5 8.67Z"}),n.createElement("path",{d:"M22.5 6.908V6.75a3 3 0 0 0-3-3h-15a3 3 0 0 0-3 3v.158l9.714 5.978a1.5 1.5 0 0 0 1.572 0L22.5 6.908Z"}))}const Lm=n.forwardRef(Mm),vn=Lm;function $m({title:t,titleId:r,...a},s){return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":r},a),t?n.createElement("title",{id:r},t):null,n.createElement("path",{fillRule:"evenodd",d:"M12.963 2.286a.75.75 0 0 0-1.071-.136 9.742 9.742 0 0 0-3.539 6.176 7.547 7.547 0 0 1-1.705-1.715.75.75 0 0 0-1.152-.082A9 9 0 1 0 15.68 4.534a7.46 7.46 0 0 1-2.717-2.248ZM15.75 14.25a3.75 3.75 0 1 1-7.313-1.172c.628.465 1.35.81 2.133 1a5.99 5.99 0 0 1 1.925-3.546 3.75 3.75 0 0 1 3.255 3.718Z",clipRule:"evenodd"}))}const Tm=n.forwardRef($m),i0=Tm;function Im({title:t,titleId:r,...a},s){return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":r},a),t?n.createElement("title",{id:r},t):null,n.createElement("path",{d:"M15.73 5.5h1.035A7.465 7.465 0 0 1 18 9.625a7.465 7.465 0 0 1-1.235 4.125h-.148c-.806 0-1.534.446-2.031 1.08a9.04 9.04 0 0 1-2.861 2.4c-.723.384-1.35.956-1.653 1.715a4.499 4.499 0 0 0-.322 1.672v.633A.75.75 0 0 1 9 22a2.25 2.25 0 0 1-2.25-2.25c0-1.152.26-2.243.723-3.218.266-.558-.107-1.282-.725-1.282H3.622c-1.026 0-1.945-.694-2.054-1.715A12.137 12.137 0 0 1 1.5 12.25c0-2.848.992-5.464 2.649-7.521C4.537 4.247 5.136 4 5.754 4H9.77a4.5 4.5 0 0 1 1.423.23l3.114 1.04a4.5 4.5 0 0 0 1.423.23ZM21.669 14.023c.536-1.362.831-2.845.831-4.398 0-1.22-.182-2.398-.52-3.507-.26-.85-1.084-1.368-1.973-1.368H19.1c-.445 0-.72.498-.523.898.591 1.2.924 2.55.924 3.977a8.958 8.958 0 0 1-1.302 4.666c-.245.403.028.959.5.959h1.053c.832 0 1.612-.453 1.918-1.227Z"}))}const _m=n.forwardRef(Im),wn=_m;function Om({title:t,titleId:r,...a},s){return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":r},a),t?n.createElement("title",{id:r},t):null,n.createElement("path",{d:"m11.645 20.91-.007-.003-.022-.012a15.247 15.247 0 0 1-.383-.218 25.18 25.18 0 0 1-4.244-3.17C4.688 15.36 2.25 12.174 2.25 8.25 2.25 5.322 4.714 3 7.688 3A5.5 5.5 0 0 1 12 5.052 5.5 5.5 0 0 1 16.313 3c2.973 0 5.437 2.322 5.437 5.25 0 3.925-2.438 7.111-4.739 9.256a25.175 25.175 0 0 1-4.244 3.17 15.247 15.247 0 0 1-.383.219l-.022.012-.007.004-.003.001a.752.752 0 0 1-.704 0l-.003-.001Z"}))}const Vm=n.forwardRef(Om),Oe=Vm;function zm({title:t,titleId:r,...a},s){return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":r},a),t?n.createElement("title",{id:r},t):null,n.createElement("path",{d:"M11.47 3.841a.75.75 0 0 1 1.06 0l8.69 8.69a.75.75 0 1 0 1.06-1.061l-8.689-8.69a2.25 2.25 0 0 0-3.182 0l-8.69 8.69a.75.75 0 1 0 1.061 1.06l8.69-8.689Z"}),n.createElement("path",{d:"m12 5.432 8.159 8.159c.03.03.06.058.091.086v6.198c0 1.035-.84 1.875-1.875 1.875H15a.75.75 0 0 1-.75-.75v-4.5a.75.75 0 0 0-.75-.75h-3a.75.75 0 0 0-.75.75V21a.75.75 0 0 1-.75.75H5.625a1.875 1.875 0 0 1-1.875-1.875v-6.198a2.29 2.29 0 0 0 .091-.086L12 5.432Z"}))}const Um=n.forwardRef(zm),Ts=Um;function qm({title:t,titleId:r,...a},s){return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":r},a),t?n.createElement("title",{id:r},t):null,n.createElement("path",{fillRule:"evenodd",d:"M12 1.5a5.25 5.25 0 0 0-5.25 5.25v3a3 3 0 0 0-3 3v6.75a3 3 0 0 0 3 3h10.5a3 3 0 0 0 3-3v-6.75a3 3 0 0 0-3-3v-3c0-2.9-2.35-5.25-5.25-5.25Zm3.75 8.25v-3a3.75 3.75 0 1 0-7.5 0v3h7.5Z",clipRule:"evenodd"}))}const Gm=n.forwardRef(qm),x0=Gm;function Hm({title:t,titleId:r,...a},s){return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":r},a),t?n.createElement("title",{id:r},t):null,n.createElement("path",{fillRule:"evenodd",d:"m11.54 22.351.07.04.028.016a.76.76 0 0 0 .723 0l.028-.015.071-.041a16.975 16.975 0 0 0 1.144-.742 19.58 19.58 0 0 0 2.683-2.282c1.944-1.99 3.963-4.98 3.963-8.827a8.25 8.25 0 0 0-16.5 0c0 3.846 2.02 6.837 3.963 8.827a19.58 19.58 0 0 0 2.682 2.282 16.975 16.975 0 0 0 1.145.742ZM12 13.5a3 3 0 1 0 0-6 3 3 0 0 0 0 6Z",clipRule:"evenodd"}))}const Wm=n.forwardRef(Hm),ir=Wm;function Zm({title:t,titleId:r,...a},s){return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":r},a),t?n.createElement("title",{id:r},t):null,n.createElement("path",{fillRule:"evenodd",d:"M12 2.25c-5.385 0-9.75 4.365-9.75 9.75s4.365 9.75 9.75 9.75 9.75-4.365 9.75-9.75S17.385 2.25 12 2.25ZM12.75 9a.75.75 0 0 0-1.5 0v2.25H9a.75.75 0 0 0 0 1.5h2.25V15a.75.75 0 0 0 1.5 0v-2.25H15a.75.75 0 0 0 0-1.5h-2.25V9Z",clipRule:"evenodd"}))}const Qm=n.forwardRef(Zm),ya=Qm;function Ym({title:t,titleId:r,...a},s){return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":r},a),t?n.createElement("title",{id:r},t):null,n.createElement("path",{fillRule:"evenodd",d:"M3 4.875C3 3.839 3.84 3 4.875 3h4.5c1.036 0 1.875.84 1.875 1.875v4.5c0 1.036-.84 1.875-1.875 1.875h-4.5A1.875 1.875 0 0 1 3 9.375v-4.5ZM4.875 4.5a.375.375 0 0 0-.375.375v4.5c0 .207.168.375.375.375h4.5a.375.375 0 0 0 .375-.375v-4.5a.375.375 0 0 0-.375-.375h-4.5Zm7.875.375c0-1.036.84-1.875 1.875-1.875h4.5C20.16 3 21 3.84 21 4.875v4.5c0 1.036-.84 1.875-1.875 1.875h-4.5a1.875 1.875 0 0 1-1.875-1.875v-4.5Zm1.875-.375a.375.375 0 0 0-.375.375v4.5c0 .207.168.375.375.375h4.5a.375.375 0 0 0 .375-.375v-4.5a.375.375 0 0 0-.375-.375h-4.5ZM6 6.75A.75.75 0 0 1 6.75 6h.75a.75.75 0 0 1 .75.75v.75a.75.75 0 0 1-.75.75h-.75A.75.75 0 0 1 6 7.5v-.75Zm9.75 0A.75.75 0 0 1 16.5 6h.75a.75.75 0 0 1 .75.75v.75a.75.75 0 0 1-.75.75h-.75a.75.75 0 0 1-.75-.75v-.75ZM3 14.625c0-1.036.84-1.875 1.875-1.875h4.5c1.036 0 1.875.84 1.875 1.875v4.5c0 1.035-.84 1.875-1.875 1.875h-4.5A1.875 1.875 0 0 1 3 19.125v-4.5Zm1.875-.375a.375.375 0 0 0-.375.375v4.5c0 .207.168.375.375.375h4.5a.375.375 0 0 0 .375-.375v-4.5a.375.375 0 0 0-.375-.375h-4.5Zm7.875-.75a.75.75 0 0 1 .75-.75h.75a.75.75 0 0 1 .75.75v.75a.75.75 0 0 1-.75.75h-.75a.75.75 0 0 1-.75-.75v-.75Zm6 0a.75.75 0 0 1 .75-.75h.75a.75.75 0 0 1 .75.75v.75a.75.75 0 0 1-.75.75h-.75a.75.75 0 0 1-.75-.75v-.75ZM6 16.5a.75.75 0 0 1 .75-.75h.75a.75.75 0 0 1 .75.75v.75a.75.75 0 0 1-.75.75h-.75a.75.75 0 0 1-.75-.75v-.75Zm9.75 0a.75.75 0 0 1 .75-.75h.75a.75.75 0 0 1 .75.75v.75a.75.75 0 0 1-.75.75h-.75a.75.75 0 0 1-.75-.75v-.75Zm-3 3a.75.75 0 0 1 .75-.75h.75a.75.75 0 0 1 .75.75v.75a.75.75 0 0 1-.75.75h-.75a.75.75 0 0 1-.75-.75v-.75Zm6 0a.75.75 0 0 1 .75-.75h.75a.75.75 0 0 1 .75.75v.75a.75.75 0 0 1-.75.75h-.75a.75.75 0 0 1-.75-.75v-.75Z",clipRule:"evenodd"}))}const Jm=n.forwardRef(Ym),Xm=Jm;function Km({title:t,titleId:r,...a},s){return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":r},a),t?n.createElement("title",{id:r},t):null,n.createElement("path",{fillRule:"evenodd",d:"M9 4.5a.75.75 0 0 1 .721.544l.813 2.846a3.75 3.75 0 0 0 2.576 2.576l2.846.813a.75.75 0 0 1 0 1.442l-2.846.813a3.75 3.75 0 0 0-2.576 2.576l-.813 2.846a.75.75 0 0 1-1.442 0l-.813-2.846a3.75 3.75 0 0 0-2.576-2.576l-2.846-.813a.75.75 0 0 1 0-1.442l2.846-.813A3.75 3.75 0 0 0 7.466 7.89l.813-2.846A.75.75 0 0 1 9 4.5ZM18 1.5a.75.75 0 0 1 .728.568l.258 1.036c.236.94.97 1.674 1.91 1.91l1.036.258a.75.75 0 0 1 0 1.456l-1.036.258c-.94.236-1.674.97-1.91 1.91l-.258 1.036a.75.75 0 0 1-1.456 0l-.258-1.036a2.625 2.625 0 0 0-1.91-1.91l-1.036-.258a.75.75 0 0 1 0-1.456l1.036-.258a2.625 2.625 0 0 0 1.91-1.91l.258-1.036A.75.75 0 0 1 18 1.5ZM16.5 15a.75.75 0 0 1 .712.513l.394 1.183c.15.447.5.799.948.948l1.183.395a.75.75 0 0 1 0 1.422l-1.183.395c-.447.15-.799.5-.948.948l-.395 1.183a.75.75 0 0 1-1.422 0l-.395-1.183a1.5 1.5 0 0 0-.948-.948l-1.183-.395a.75.75 0 0 1 0-1.422l1.183-.395c.447-.15.799-.5.948-.948l.395-1.183A.75.75 0 0 1 16.5 15Z",clipRule:"evenodd"}))}const eg=n.forwardRef(Km),jn=eg;function tg({title:t,titleId:r,...a},s){return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":r},a),t?n.createElement("title",{id:r},t):null,n.createElement("path",{fillRule:"evenodd",d:"M10.788 3.21c.448-1.077 1.976-1.077 2.424 0l2.082 5.006 5.404.434c1.164.093 1.636 1.545.749 2.305l-4.117 3.527 1.257 5.273c.271 1.136-.964 2.033-1.96 1.425L12 18.354 7.373 21.18c-.996.608-2.231-.29-1.96-1.425l1.257-5.273-4.117-3.527c-.887-.76-.415-2.212.749-2.305l5.404-.434 2.082-5.005Z",clipRule:"evenodd"}))}const rg=n.forwardRef(tg),pr=rg;function sg({title:t,titleId:r,...a},s){return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":r},a),t?n.createElement("title",{id:r},t):null,n.createElement("path",{fillRule:"evenodd",d:"M5.166 2.621v.858c-1.035.148-2.059.33-3.071.543a.75.75 0 0 0-.584.859 6.753 6.753 0 0 0 6.138 5.6 6.73 6.73 0 0 0 2.743 1.346A6.707 6.707 0 0 1 9.279 15H8.54c-1.036 0-1.875.84-1.875 1.875V19.5h-.75a2.25 2.25 0 0 0-2.25 2.25c0 .414.336.75.75.75h15a.75.75 0 0 0 .75-.75 2.25 2.25 0 0 0-2.25-2.25h-.75v-2.625c0-1.036-.84-1.875-1.875-1.875h-.739a6.706 6.706 0 0 1-1.112-3.173 6.73 6.73 0 0 0 2.743-1.347 6.753 6.753 0 0 0 6.139-5.6.75.75 0 0 0-.585-.858 47.077 47.077 0 0 0-3.07-.543V2.62a.75.75 0 0 0-.658-.744 49.22 49.22 0 0 0-6.093-.377c-2.063 0-4.096.128-6.093.377a.75.75 0 0 0-.657.744Zm0 2.629c0 1.196.312 2.32.857 3.294A5.266 5.266 0 0 1 3.16 5.337a45.6 45.6 0 0 1 2.006-.343v.256Zm13.5 0v-.256c.674.1 1.343.214 2.006.343a5.265 5.265 0 0 1-2.863 3.207 6.72 6.72 0 0 0 .857-3.294Z",clipRule:"evenodd"}))}const ag=n.forwardRef(sg),ng=ag;function lg({title:t,titleId:r,...a},s){return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":r},a),t?n.createElement("title",{id:r},t):null,n.createElement("path",{fillRule:"evenodd",d:"M18.685 19.097A9.723 9.723 0 0 0 21.75 12c0-5.385-4.365-9.75-9.75-9.75S2.25 6.615 2.25 12a9.723 9.723 0 0 0 3.065 7.097A9.716 9.716 0 0 0 12 21.75a9.716 9.716 0 0 0 6.685-2.653Zm-12.54-1.285A7.486 7.486 0 0 1 12 15a7.486 7.486 0 0 1 5.855 2.812A8.224 8.224 0 0 1 12 20.25a8.224 8.224 0 0 1-5.855-2.438ZM15.75 9a3.75 3.75 0 1 1-7.5 0 3.75 3.75 0 0 1 7.5 0Z",clipRule:"evenodd"}))}const og=n.forwardRef(lg),ig=og;function xg({title:t,titleId:r,...a},s){return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":r},a),t?n.createElement("title",{id:r},t):null,n.createElement("path",{fillRule:"evenodd",d:"M8.25 6.75a3.75 3.75 0 1 1 7.5 0 3.75 3.75 0 0 1-7.5 0ZM15.75 9.75a3 3 0 1 1 6 0 3 3 0 0 1-6 0ZM2.25 9.75a3 3 0 1 1 6 0 3 3 0 0 1-6 0ZM6.31 15.117A6.745 6.745 0 0 1 12 12a6.745 6.745 0 0 1 6.709 7.498.75.75 0 0 1-.372.568A12.696 12.696 0 0 1 12 21.75c-2.305 0-4.47-.612-6.337-1.684a.75.75 0 0 1-.372-.568 6.787 6.787 0 0 1 1.019-4.38Z",clipRule:"evenodd"}),n.createElement("path",{d:"M5.082 14.254a8.287 8.287 0 0 0-1.308 5.135 9.687 9.687 0 0 1-1.764-.44l-.115-.04a.563.563 0 0 1-.373-.487l-.01-.121a3.75 3.75 0 0 1 3.57-4.047ZM20.226 19.389a8.287 8.287 0 0 0-1.308-5.135 3.75 3.75 0 0 1 3.57 4.047l-.01.121a.563.563 0 0 1-.373.486l-.115.04c-.567.2-1.156.349-1.764.441Z"}))}const dg=n.forwardRef(xg),va=dg;function cg({title:t,titleId:r,...a},s){return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":r},a),t?n.createElement("title",{id:r},t):null,n.createElement("path",{d:"M5.25 6.375a4.125 4.125 0 1 1 8.25 0 4.125 4.125 0 0 1-8.25 0ZM2.25 19.125a7.125 7.125 0 0 1 14.25 0v.003l-.001.119a.75.75 0 0 1-.363.63 13.067 13.067 0 0 1-6.761 1.873c-2.472 0-4.786-.684-6.76-1.873a.75.75 0 0 1-.364-.63l-.001-.122ZM18.75 7.5a.75.75 0 0 0-1.5 0v2.25H15a.75.75 0 0 0 0 1.5h2.25v2.25a.75.75 0 0 0 1.5 0v-2.25H21a.75.75 0 0 0 0-1.5h-2.25V7.5Z"}))}const mg=n.forwardRef(cg),gg=mg;function ug({title:t,titleId:r,...a},s){return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":r},a),t?n.createElement("title",{id:r},t):null,n.createElement("path",{fillRule:"evenodd",d:"M7.5 6a4.5 4.5 0 1 1 9 0 4.5 4.5 0 0 1-9 0ZM3.751 20.105a8.25 8.25 0 0 1 16.498 0 .75.75 0 0 1-.437.695A18.683 18.683 0 0 1 12 22.5c-2.786 0-5.433-.608-7.812-1.7a.75.75 0 0 1-.437-.695Z",clipRule:"evenodd"}))}const hg=n.forwardRef(ug),d0=hg,pg=t=>{const r=[{name:"Dashboard",href:"/dashboard",icon:Ts},{name:"QR Scanner",href:"/scan",icon:Xm},{name:"Gardens",href:"/gardens",icon:ir},{name:"Events",href:"/events",icon:yn}];return t==="admin"?[...r,{name:"Admin Panel",href:"/admin",icon:Rm},{name:"Manage Gardens",href:"/manage-gardens",icon:va},{name:"My Dogs",href:"/my-dogs",icon:Oe},{name:"Check In",href:"/check-in",icon:ir}]:t==="garden_manager"?[...r,{name:"Manage Gardens",href:"/manage-gardens",icon:va},{name:"My Dogs",href:"/my-dogs",icon:Oe},{name:"Check In",href:"/check-in",icon:ir}]:[...r,{name:"My Dogs",href:"/my-dogs",icon:Oe},{name:"Check In",href:"/check-in",icon:ir}]};function xs(...t){return t.filter(Boolean).join(" ")}const fg=()=>{var u,h,d,p,g,f;const{user:t,logout:r}=pe(),a=we(),s=er(),l=pg(t==null?void 0:t.role),[o,i]=n.useState(!1),x=()=>{r(),a("/login")},c=w=>s.pathname===w;return e.jsxs(e.Fragment,{children:[e.jsx(qe.Root,{show:o,as:n.Fragment,children:e.jsxs(ht,{as:"div",className:"relative z-50 lg:hidden",onClose:i,children:[e.jsx(qe.Child,{as:n.Fragment,enter:"transition-opacity ease-linear duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"transition-opacity ease-linear duration-300",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:e.jsx("div",{className:"fixed inset-0 bg-gray-900/80"})}),e.jsx("div",{className:"fixed inset-0 flex",children:e.jsx(qe.Child,{as:n.Fragment,enter:"transition ease-in-out duration-300 transform",enterFrom:"-translate-x-full",enterTo:"translate-x-0",leave:"transition ease-in-out duration-300 transform",leaveFrom:"translate-x-0",leaveTo:"-translate-x-full",children:e.jsxs(ht.Panel,{className:"relative mr-16 flex w-full max-w-xs flex-1",children:[e.jsx(qe.Child,{as:n.Fragment,enter:"ease-in-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in-out duration-300",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:e.jsx("div",{className:"absolute left-full top-0 flex w-16 justify-center pt-5",children:e.jsxs("button",{type:"button",className:"-m-2.5 p-2.5",onClick:()=>i(!1),children:[e.jsx("span",{className:"sr-only",children:"Close sidebar"}),e.jsx(he,{className:"h-6 w-6 text-white","aria-hidden":"true"})]})})}),e.jsxs("div",{className:"flex grow flex-col gap-y-5 overflow-y-auto bg-white dark:bg-gray-800 px-6 pb-4",children:[e.jsx("div",{className:"flex h-16 shrink-0 items-center",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-600 rounded-xl p-2",children:e.jsx(Oe,{className:"h-6 w-6 text-white"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-xl font-bold text-gray-900 dark:text-white",children:"PawPals"}),e.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 -mt-1",children:"Community"})]})]})}),e.jsx("nav",{className:"flex flex-1 flex-col",children:e.jsxs("ul",{role:"list",className:"flex flex-1 flex-col gap-y-7",children:[e.jsx("li",{children:e.jsx("ul",{role:"list",className:"-mx-2 space-y-1",children:l.map(w=>{const m=w.icon,B=c(w.href);return e.jsx("li",{children:e.jsxs(ge,{to:w.href,className:xs(B?"bg-blue-50 dark:bg-blue-900 text-blue-700 dark:text-blue-300":"text-gray-700 dark:text-gray-300 hover:text-blue-700 dark:hover:text-blue-300 hover:bg-blue-50 dark:hover:bg-gray-700","group flex gap-x-3 rounded-lg p-3 text-sm leading-6 font-semibold"),onClick:()=>i(!1),children:[e.jsx(m,{className:xs(B?"text-blue-700 dark:text-blue-300":"text-gray-400 dark:text-gray-500 group-hover:text-blue-700 dark:group-hover:text-blue-300","h-6 w-6 shrink-0"),"aria-hidden":"true"}),w.name]})},w.name)})})}),e.jsx("li",{className:"mt-auto",children:e.jsxs("div",{className:"border-t border-gray-200 dark:border-gray-700 pt-4",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[e.jsx("div",{className:"h-10 w-10 rounded-lg bg-gradient-to-r from-blue-600 to-indigo-600 flex items-center justify-center text-white font-semibold",children:((h=(u=t==null?void 0:t.firstName)==null?void 0:u[0])==null?void 0:h.toUpperCase())||"U"}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("p",{className:"text-sm font-medium text-gray-900 dark:text-white truncate",children:[t==null?void 0:t.firstName," ",t==null?void 0:t.lastName]}),e.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 capitalize truncate",children:(d=t==null?void 0:t.role)==null?void 0:d.replace("_"," ")})]})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsxs(ge,{to:"/profile",className:"flex items-center gap-x-3 rounded-lg p-3 text-sm font-semibold text-gray-700 dark:text-gray-300 hover:text-blue-700 dark:hover:text-blue-300 hover:bg-blue-50 dark:hover:bg-gray-700 transition-colors",onClick:()=>i(!1),children:[e.jsx(Qr,{className:"h-5 w-5 text-gray-400 dark:text-gray-500"}),"Profile Settings"]}),e.jsxs("button",{onClick:()=>{x(),i(!1)},className:"flex items-center gap-x-3 rounded-lg p-3 text-sm font-semibold text-gray-700 dark:text-gray-300 hover:text-red-700 dark:hover:text-red-400 hover:bg-red-50 dark:hover:bg-red-900/20 transition-colors w-full text-left",children:[e.jsx(Gr,{className:"h-5 w-5 text-gray-400 dark:text-gray-500"}),"Sign Out"]})]})]})})]})})]})]})})})]})}),e.jsx("div",{className:"hidden lg:fixed lg:inset-y-0 lg:z-50 lg:flex lg:w-72 lg:flex-col",children:e.jsxs("div",{className:"flex grow flex-col gap-y-5 overflow-y-auto bg-white dark:bg-gray-800 border-r border-gray-200 dark:border-gray-700 px-6 pb-4",children:[e.jsx("div",{className:"flex h-16 shrink-0 items-center",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-600 rounded-xl p-2",children:e.jsx(Oe,{className:"h-6 w-6 text-white"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-xl font-bold text-gray-900 dark:text-white",children:"PawPals"}),e.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 -mt-1",children:"Community"})]})]})}),e.jsx("nav",{className:"flex flex-1 flex-col",children:e.jsxs("ul",{role:"list",className:"flex flex-1 flex-col gap-y-7",children:[e.jsx("li",{children:e.jsx("ul",{role:"list",className:"-mx-2 space-y-1",children:l.map(w=>{const m=w.icon,B=c(w.href);return e.jsx("li",{children:e.jsxs(ge,{to:w.href,className:xs(B?"bg-blue-50 dark:bg-blue-900 text-blue-700 dark:text-blue-300":"text-gray-700 dark:text-gray-300 hover:text-blue-700 dark:hover:text-blue-300 hover:bg-blue-50 dark:hover:bg-gray-700","group flex gap-x-3 rounded-lg p-3 text-sm leading-6 font-semibold transition-colors"),children:[e.jsx(m,{className:xs(B?"text-blue-700 dark:text-blue-300":"text-gray-400 dark:text-gray-500 group-hover:text-blue-700 dark:group-hover:text-blue-300","h-6 w-6 shrink-0"),"aria-hidden":"true"}),w.name]})},w.name)})})}),e.jsx("li",{className:"mt-auto",children:e.jsxs("div",{className:"border-t border-gray-200 dark:border-gray-700 pt-4",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[e.jsx("div",{className:"h-10 w-10 rounded-lg bg-gradient-to-r from-blue-600 to-indigo-600 flex items-center justify-center text-white font-semibold",children:((g=(p=t==null?void 0:t.firstName)==null?void 0:p[0])==null?void 0:g.toUpperCase())||"U"}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("p",{className:"text-sm font-medium text-gray-900 dark:text-white truncate",children:[t==null?void 0:t.firstName," ",t==null?void 0:t.lastName]}),e.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 capitalize truncate",children:(f=t==null?void 0:t.role)==null?void 0:f.replace("_"," ")})]})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsxs(ge,{to:"/profile",className:"flex items-center gap-x-3 rounded-lg p-3 text-sm font-semibold text-gray-700 dark:text-gray-300 hover:text-blue-700 dark:hover:text-blue-300 hover:bg-blue-50 dark:hover:bg-gray-700 transition-colors",children:[e.jsx(Qr,{className:"h-5 w-5 text-gray-400 dark:text-gray-500"}),"Profile Settings"]}),e.jsxs("button",{onClick:x,className:"flex items-center gap-x-3 rounded-lg p-3 text-sm font-semibold text-gray-700 dark:text-gray-300 hover:text-red-700 dark:hover:text-red-400 hover:bg-red-50 dark:hover:bg-red-900/20 transition-colors w-full text-left",children:[e.jsx(Gr,{className:"h-5 w-5 text-gray-400 dark:text-gray-500"}),"Sign Out"]})]})]})})]})})]})}),e.jsxs("div",{className:"sticky top-0 z-40 flex items-center gap-x-6 bg-white dark:bg-gray-800 px-4 py-4 shadow-sm dark:shadow-gray-900/20 sm:px-6 lg:hidden",children:[e.jsxs("button",{type:"button",className:"-m-2.5 p-2.5 text-gray-700 dark:text-gray-300 lg:hidden",onClick:()=>i(!0),children:[e.jsx("span",{className:"sr-only",children:"Open sidebar"}),e.jsx(dn,{className:"h-6 w-6","aria-hidden":"true"})]}),e.jsx("div",{className:"flex-1 text-sm font-semibold leading-6 text-gray-900 dark:text-white",children:" PawPals Community"})]})]})},En=n.createContext(),$a=()=>{const t=n.useContext(En);if(!t)throw new Error("useTheme must be used within a ThemeProvider");return t},bg=({children:t})=>{const[r,a]=n.useState(()=>{const o=localStorage.getItem("theme");return o||(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light")});n.useEffect(()=>{const o=window.document.documentElement;r==="dark"?o.classList.add("dark"):o.classList.remove("dark"),localStorage.setItem("theme",r)},[r]);const l={theme:r,setTheme:a,toggleTheme:()=>{a(o=>o==="light"?"dark":"light")},isDark:r==="dark"};return e.jsx(En.Provider,{value:l,children:t})},xt={async getStats(){var t,r;try{const a=await Q.get("/gamification/stats");return console.log("Gamification stats loaded:",a.data),a.data}catch(a){throw console.error("Error fetching gamification stats:",a),console.error("Status:",(t=a.response)==null?void 0:t.status),console.error("Data:",(r=a.response)==null?void 0:r.data),a}},async getBadges(){try{return(await Q.get("/gamification/badges")).data}catch(t){throw console.error("Error fetching badges:",t),t}},async getAllBadges(){try{return(await Q.get("/gamification/badges/all")).data}catch(t){throw console.error("Error fetching all badges:",t),t}},async getBadgeStats(){try{return(await Q.get("/gamification/badges/stats")).data}catch(t){throw console.error("Error fetching badge stats:",t),t}},async getLevelInfo(){try{return(await Q.get("/gamification/level")).data}catch(t){throw console.error("Error fetching level info:",t),t}},async getAllLevels(){try{return(await Q.get("/gamification/levels")).data}catch(t){throw console.error("Error fetching all levels:",t),t}},async getStreakInfo(){try{return(await Q.get("/gamification/streak")).data}catch(t){throw console.error("Error fetching streak info:",t),t}},async getStreakLeaderboard(t=10){try{return(await Q.get(`/gamification/leaderboard/streak?limit=${t}`)).data}catch(r){throw console.error("Error fetching streak leaderboard:",r),r}},async getLongestStreakLeaderboard(t=10){try{return(await Q.get(`/gamification/leaderboard/longest-streak?limit=${t}`)).data}catch(r){throw console.error("Error fetching longest streak leaderboard:",r),r}},async awardPoints(t,r,a){try{return(await Q.post("/gamification/points/award",{targetUserId:t,pointType:r,amount:a})).data}catch(s){throw console.error("Error awarding points:",s),s}},async awardBadge(t,r){try{return(await Q.post("/gamification/badges/award",{targetUserId:t,badgeId:r})).data}catch(a){throw console.error("Error awarding badge:",a),a}},async resetStreak(t){try{return(await Q.post("/gamification/streak/reset",{targetUserId:t})).data}catch(r){throw console.error("Error resetting streak:",r),r}},async getAchievements(){try{return(await Q.get("/gamification/achievements")).data}catch(t){throw console.error("Error fetching achievements:",t),t}},async getRecentActivity(t=10){try{return(await Q.get(`/gamification/activity?limit=${t}`)).data}catch(r){throw console.error("Error fetching recent activity:",r),r}}};/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yg=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),vg=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(r,a,s)=>s?s.toUpperCase():a.toLowerCase()),c0=t=>{const r=vg(t);return r.charAt(0).toUpperCase()+r.slice(1)},kn=(...t)=>t.filter((r,a,s)=>!!r&&r.trim()!==""&&s.indexOf(r)===a).join(" ").trim(),wg=t=>{for(const r in t)if(r.startsWith("aria-")||r==="role"||r==="title")return!0};/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var jg={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Eg=n.forwardRef(({color:t="currentColor",size:r=24,strokeWidth:a=2,absoluteStrokeWidth:s,className:l="",children:o,iconNode:i,...x},c)=>n.createElement("svg",{ref:c,...jg,width:r,height:r,stroke:t,strokeWidth:s?Number(a)*24/Number(r):a,className:kn("lucide",l),...!o&&!wg(x)&&{"aria-hidden":"true"},...x},[...i.map(([u,h])=>n.createElement(u,h)),...Array.isArray(o)?o:[o]]));/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ze=(t,r)=>{const a=n.forwardRef(({className:s,...l},o)=>n.createElement(Eg,{ref:o,iconNode:r,className:kn(`lucide-${yg(c0(t))}`,`lucide-${t}`,s),...l}));return a.displayName=c0(t),a};/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kg=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M17 17H4a1 1 0 0 1-.74-1.673C4.59 13.956 6 12.499 6 8a6 6 0 0 1 .258-1.742",key:"178tsu"}],["path",{d:"m2 2 20 20",key:"1ooewy"}],["path",{d:"M8.668 3.01A6 6 0 0 1 18 8c0 2.687.77 4.653 1.707 6.05",key:"1hqiys"}]],Ng=Ze("bell-off",kg);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cg=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],Nn=Ze("bell",Cg);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bg=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],Ag=Ze("calendar",Bg);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dg=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],Cn=Ze("check",Dg);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fg=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Sg=Ze("circle-check-big",Fg);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pg=[["path",{d:"m16 18 6-6-6-6",key:"eg8j8"}],["path",{d:"m8 6-6 6 6 6",key:"ppft3o"}]],m0=Ze("code",Pg);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rg=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]],Mg=Ze("ellipsis-vertical",Rg);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lg=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],$g=Ze("map-pin",Lg);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tg=[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]],Ig=Ze("message-circle",Tg);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _g=[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],g0=Ze("settings",_g);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Og=[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]],Vg=Ze("smartphone",Og);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zg=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],Ug=Ze("star",zg);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qg=[["path",{d:"M14.5 2v17.5c0 1.4-1.1 2.5-2.5 2.5c-1.4 0-2.5-1.1-2.5-2.5V2",key:"125lnx"}],["path",{d:"M8.5 2h7",key:"csnxdl"}],["path",{d:"M14.5 16h-5",key:"1ox875"}]],u0=Ze("test-tube",qg);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gg=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],Hg=Ze("trash-2",Gg);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wg=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],Zg=Ze("user-plus",Wg);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qg=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],wa=Ze("x",Qg),Ta=()=>{const[t,r]=n.useState([]),[a,s]=n.useState(0),[l,o]=n.useState(!0),[i,x]=n.useState(null);return n.useEffect(()=>{if(!localStorage.getItem("token")){o(!1);return}return Ye.subscribe(({notifications:m,unreadCount:B})=>{r(m),s(B),o(!1),x(null)})},[]),{notifications:t,unreadCount:a,loading:l,error:i,loadNotifications:async(f={})=>{try{o(!0);const w=await Ye.loadNotifications(f);return x(null),w}catch(w){return x("Failed to load notifications"),console.error("Error loading notifications:",w),{notifications:[],unreadCount:0}}finally{o(!1)}},markAsRead:async f=>{try{const w=await Ye.markAsRead(f);return w||x("Failed to mark notification as read"),w}catch(w){return x("Error marking notification as read"),console.error("Error marking notification as read:",w),!1}},markAllAsRead:async()=>{try{const f=await Ye.markAllAsRead();return f||x("Failed to mark all notifications as read"),f}catch(f){return x("Error marking all notifications as read"),console.error("Error marking all notifications as read:",f),!1}},deleteNotification:async f=>{try{const w=await Ye.deleteNotification(f);return w||x("Failed to delete notification"),w}catch(w){return x("Error deleting notification"),console.error("Error deleting notification:",w),!1}},createTestNotification:async()=>{try{const f=await Ye.createTestNotification();return f||x("Failed to create test notification"),f}catch(f){return x("Error creating test notification"),console.error("Error creating test notification:",f),!1}},requestPermission:async()=>{try{return await Ye.requestPermission()}catch(f){return x("Error requesting notification permission"),console.error("Error requesting notification permission:",f),!1}}}},Yg=({isOpen:t,onClose:r,onToggle:a})=>{const[s,l]=n.useState(null),o=n.useRef(null),i=we(),{notifications:x,unreadCount:c,markAsRead:u,markAllAsRead:h,deleteNotification:d}=Ta();n.useEffect(()=>{const v=j=>{o.current&&!o.current.contains(j.target)&&(r&&r(),l(null))};return document.addEventListener("mousedown",v),()=>document.removeEventListener("mousedown",v)},[r]);const p=v=>{const j=new Date,k=new Date(v),b=j-k,C=Math.floor(b/6e4),D=Math.floor(C/60),F=Math.floor(D/24);return C<1?"Just now":C===1?"1m ago":C<60?`${C}m ago`:D===1?"1h ago":D<24?`${D}h ago`:F===1?"Yesterday":F<7?`${F}d ago`:k.toLocaleDateString("en-US",{month:"short",day:"numeric"})},g=v=>({new_message:"💬",friend_request:"👤",friend_request_accepted:"✨",friend_request_declined:"😔",event_registration:"🎉",event_status_update:"📋",event_reminder:"⏰",event_cancelled:"🚫",garden_update:"🌿",permission_request:"🔑",visit_reminder:"📍",review_response:"⭐",check_in_alert:"📱",system:"🔔"})[v]||"🔔",f=v=>({urgent:"border-l-red-400 bg-red-50/70 dark:bg-red-900/20",high:"border-l-orange-400 bg-orange-50/70 dark:bg-orange-900/20",medium:"border-l-blue-400 bg-blue-50/70 dark:bg-blue-900/20",low:"border-l-gray-400 bg-gray-50/70 dark:bg-gray-800/50"})[v]||"border-l-gray-300 bg-gray-50/70 dark:bg-gray-800/50",w=async v=>{var j,k,b;v.isRead||await u(v._id),v.actionUrl?i(v.actionUrl):(j=v.data)!=null&&j.chatId?i(`/chat/${v.data.chatId}`):(k=v.data)!=null&&k.eventId?i(`/events/${v.data.eventId}`):(b=v.data)!=null&&b.gardenId?i(`/gardens/${v.data.gardenId}`):v.type==="friend_request"&&i("/friends"),r&&r()},m=async(v,j)=>{v.stopPropagation(),await u(j)},B=async(v,j)=>{v.stopPropagation(),await d(j),l(null)},E=async()=>{await h(),l(null)},N=x.slice(0,6);return e.jsxs("div",{className:"relative",ref:o,children:[e.jsxs("button",{onClick:a,className:`relative p-2.5 rounded-xl transition-all duration-300 ${c>0?"text-blue-600 dark:text-blue-400 bg-blue-50 dark:bg-blue-900/30 hover:bg-blue-100 dark:hover:bg-blue-900/50":"text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-800"}`,"aria-label":"Notifications",children:[e.jsx(Nn,{size:18,className:"transition-transform duration-200 hover:scale-110"}),c>0&&e.jsx("span",{className:"absolute -top-1 -right-1 bg-gradient-to-r from-red-500 to-pink-500 text-white text-xs rounded-full h-4 w-4 flex items-center justify-center min-w-[16px] shadow-sm border border-white dark:border-gray-900 font-medium",children:c>9?"9+":c})]}),t&&e.jsxs("div",{className:`absolute right-0 mt-2 w-80 bg-gradient-to-b from-gray-100 to-white dark:from-gray-900 dark:to-gray-600
 backdrop-blur-xl rounded-xl shadow-xl border border-gray-200/60 dark:border-gray-700/60 z-50 overflow-hidden`,children:[e.jsx("div",{className:"px-4 py-3 border-b border-gray-100 dark:border-gray-800",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("h3",{className:"font-medium text-gray-900 dark:text-white text-sm",children:"Notifications"}),c>0&&e.jsxs("span",{className:"bg-blue-100 dark:bg-blue-900/50 text-blue-700 dark:text-blue-300 text-xs px-2 py-0.5 rounded-full font-medium",children:[c," new"]})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[c>0&&e.jsx("button",{onClick:E,className:"text-xs text-blue-600 dark:text-blue-400 hover:text-blue-700 dark:hover:text-blue-300 hover:bg-blue-50 dark:hover:bg-blue-900/30 px-2 py-1 rounded-md transition-colors font-medium",children:"Mark all read"}),e.jsx("button",{onClick:r,className:"text-gray-400 dark:text-gray-500 hover:text-gray-600 dark:hover:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-800 p-1 rounded-md transition-colors",children:e.jsx(wa,{size:14})})]})]})}),e.jsx("div",{className:"max-h-80 overflow-y-auto",children:N.length===0?e.jsxs("div",{className:"p-8 text-center",children:[e.jsx("div",{className:"w-12 h-12 bg-gray-100 dark:bg-gray-800 rounded-full flex items-center justify-center mx-auto mb-3",children:e.jsx(Ng,{size:20,className:"text-gray-400 dark:text-gray-500"})}),e.jsx("p",{className:"text-sm font-medium text-gray-900 dark:text-white mb-1",children:"All caught up!"}),e.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"No new notifications to show"})]}):e.jsx("div",{className:"py-1",children:N.map((v,j)=>e.jsxs("div",{onClick:()=>w(v),className:`relative px-4 py-3 hover:bg-gray-50 dark:hover:bg-gray-800/50 cursor-pointer transition-all duration-200 border-l-2 ${f(v.priority)} ${v.isRead?"":"bg-blue-50/30 dark:bg-blue-900/10"}`,children:[e.jsxs("div",{className:"flex gap-3",children:[e.jsx("div",{className:"flex-shrink-0 mt-0.5",children:e.jsx("div",{className:"w-8 h-8 bg-white dark:bg-gray-800 rounded-full border border-gray-200 dark:border-gray-700 flex items-center justify-center text-sm shadow-sm",children:g(v.type)})}),e.jsx("div",{className:"flex-1 min-w-0",children:e.jsxs("div",{className:"flex items-start justify-between gap-2",children:[e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-sm font-medium text-gray-900 dark:text-white truncate leading-tight",children:v.title}),e.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400 mt-0.5 line-clamp-2 leading-relaxed",children:v.content}),e.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[e.jsx("span",{className:"text-xs text-gray-400 dark:text-gray-500",children:p(v.createdAt)}),!v.isRead&&e.jsx("div",{className:"w-1.5 h-1.5 bg-blue-500 rounded-full"})]})]}),e.jsxs("div",{className:"flex items-center gap-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[!v.isRead&&e.jsx("button",{onClick:k=>m(k,v._id),className:"p-1 text-blue-500 hover:text-blue-600 hover:bg-blue-50 dark:hover:bg-blue-900/30 rounded transition-colors",title:"Mark as read",children:e.jsx(Cn,{size:12})}),e.jsxs("div",{className:"relative",children:[e.jsx("button",{onClick:k=>{k.stopPropagation(),l(s===v._id?null:v._id)},className:"p-1 text-gray-400 dark:text-gray-500 hover:text-gray-600 dark:hover:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 rounded transition-colors",children:e.jsx(Mg,{size:12})}),s===v._id&&e.jsx("div",{className:"absolute right-0 top-full mt-1 w-28 bg-white dark:bg-gray-800 rounded-lg shadow-lg border border-gray-200 dark:border-gray-700 z-10 py-1",children:e.jsxs("button",{onClick:k=>B(k,v._id),className:"w-full px-3 py-1.5 text-left text-xs text-red-600 dark:text-red-400 hover:bg-red-50 dark:hover:bg-red-900/20 flex items-center gap-2 transition-colors",children:[e.jsx(Hg,{size:10}),"Delete"]})})]})]})]})})]}),e.jsx("div",{className:"absolute inset-x-0 bottom-0 h-px bg-gradient-to-r from-transparent via-gray-200 dark:via-gray-700 to-transparent opacity-0 group-hover:opacity-100 transition-opacity"})]},v._id))})}),x.length>6&&e.jsx("div",{className:"px-4 py-3 border-t border-gray-100 dark:border-gray-800 bg-gray-50/50 dark:bg-gray-800/50",children:e.jsxs("button",{onClick:()=>{i("/notifications"),r&&r()},className:"w-full text-xs text-center text-blue-600 dark:text-blue-400 hover:text-blue-700 dark:hover:text-blue-300 font-medium py-1 transition-colors",children:["View all notifications (",x.length,")"]})})]})]})},Jg=()=>{var N,v;const{user:t,logout:r}=pe(),{theme:a,toggleTheme:s,isDark:l}=$a(),o=we(),[i,x]=n.useState(!1),[c,u]=n.useState(!1),[h,d]=n.useState({level:1,points:0,currentStreak:0,levelProgress:{current:0,needed:100,percentage:0}}),p=n.useRef(null);n.useEffect(()=>{const j=async()=>{try{if(t){const b=await xt.getStats();d({level:b.level||1,points:b.points||0,currentStreak:b.currentStreak||0,levelProgress:b.levelProgress||{current:0,needed:100,percentage:0}})}}catch(b){console.error("Error loading gamification stats for TopHeader:",b)}};j();const k=setInterval(j,3e4);return()=>clearInterval(k)},[t]),n.useEffect(()=>{const j=k=>{p.current&&!p.current.contains(k.target)&&x(!1)};return document.addEventListener("mousedown",j),()=>{document.removeEventListener("mousedown",j)}},[]);const g=async()=>{try{await r(),o("/login")}catch(j){console.error("Logout error:",j)}},f=()=>{x(!1),o("/events?view=manage")},w=()=>{u(!c)},m=()=>{u(!1)},B=(t==null?void 0:t.role)==="garden_manager"||(t==null?void 0:t.role)==="admin",E=(N=t==null?void 0:t.eventPermissions)==null?void 0:N.canCreateEvents;return e.jsx("div",{className:"sticky top-0 z-40 bg-white dark:bg-gray-900 border-b border-gray-200 dark:border-gray-700 backdrop-blur-lg bg-opacity-95 dark:bg-opacity-95",children:e.jsxs("div",{className:"max-w-lg mx-auto px-4 py-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("div",{className:"flex items-center space-x-4",children:e.jsxs(ge,{to:"/profile",className:"flex items-center space-x-3 group",children:[e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-purple-500 to-pink-500 rounded-full flex items-center justify-center shadow-lg",children:e.jsx("span",{className:"text-white font-bold text-lg",children:"P"})}),e.jsx("div",{className:"absolute -bottom-1 -right-1",children:e.jsx("div",{className:"w-5 h-5 bg-green-500 rounded-full flex items-center justify-center border-2 border-white dark:border-gray-900",children:e.jsx("div",{className:"w-2 h-2 bg-green-400 rounded-full"})})})]}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-lg font-bold bg-gradient-to-r from-gray-800 to-gray-600 dark:from-white dark:to-gray-300 bg-clip-text text-transparent group-hover:from-purple-600 group-hover:to-pink-600 transition-all duration-200",children:"PawPals"}),e.jsxs("div",{className:"flex items-center space-x-3 text-xs",children:[e.jsxs("div",{className:"flex items-center space-x-1 bg-gradient-to-r from-orange-400 to-orange-500 text-white px-2 py-1 rounded-full",children:[e.jsx(ot,{className:"w-3 h-3"}),e.jsxs("span",{className:"font-medium",children:["Level ",h.level]})]}),e.jsxs("div",{className:"flex items-center space-x-1 bg-gradient-to-r from-blue-400 to-purple-500 text-white px-2 py-1 rounded-full",children:[e.jsx(st,{className:"w-3 h-3"}),e.jsx("span",{className:"font-medium",children:h.points.toLocaleString()})]})]})]})]})}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(Yg,{isOpen:c,onClose:m,onToggle:w}),e.jsxs("div",{className:"relative",ref:p,children:[e.jsxs("button",{onClick:()=>x(!i),className:"flex items-center space-x-1 p-2 text-gray-600 dark:text-gray-400 hover:text-gray-800 dark:hover:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-800 rounded-xl transition-all duration-200",children:[e.jsx(md,{className:"w-5 h-5"}),e.jsx(ba,{className:`w-4 h-4 transition-transform duration-200 ${i?"rotate-180":""}`})]}),i&&e.jsxs("div",{className:"absolute right-0 mt-2 w-56 bg-white dark:bg-gray-800 rounded-2xl shadow-xl border border-gray-200 dark:border-gray-700 py-2 z-50",children:[e.jsxs("div",{className:"px-4 py-3 border-b border-gray-100 dark:border-gray-700",children:[e.jsxs("p",{className:"text-sm font-medium text-gray-900 dark:text-white",children:[t==null?void 0:t.firstName," ",t==null?void 0:t.lastName]}),e.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 capitalize",children:((v=t==null?void 0:t.role)==null?void 0:v.replace("_"," "))||"Member"})]}),e.jsxs("div",{className:"py-2",children:[e.jsxs(ge,{to:"/profile",onClick:()=>x(!1),className:"flex items-center space-x-3 px-4 py-2 text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors",children:[e.jsx(Qr,{className:"w-5 h-5"}),e.jsx("span",{className:"text-sm",children:"Profile"})]}),e.jsxs(ge,{to:"/dog-journal",onClick:()=>x(!1),className:"flex items-center space-x-3 px-4 py-2 text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors",children:[e.jsx(cr,{className:"w-5 h-5"}),e.jsx("span",{className:"text-sm",children:"Dog Journal"})]}),e.jsxs("button",{onClick:()=>{s(),x(!1)},className:"flex items-center space-x-3 px-4 py-2 text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors w-full text-left",children:[l?e.jsx(Yc,{className:"w-5 h-5"}):e.jsx(hn,{className:"w-5 h-5"}),e.jsx("span",{className:"text-sm",children:l?"Light Mode":"Dark Mode"})]}),(B||E)&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"border-t border-gray-100 dark:border-gray-700 my-2"}),E&&e.jsxs("button",{onClick:f,className:"flex items-center space-x-3 px-4 py-2 text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors w-full text-left",children:[e.jsx(Nt,{className:"w-5 h-5"}),e.jsx("span",{className:"text-sm",children:"Manage Events"})]}),B&&e.jsxs(e.Fragment,{children:[e.jsxs(ge,{to:"/manage-gardens",onClick:()=>x(!1),className:"flex items-center space-x-3 px-4 py-2 text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors",children:[e.jsx(Dx,{className:"w-5 h-5"}),e.jsx("span",{className:"text-sm",children:"Manage Gardens"})]}),e.jsxs(ge,{to:"/admin/requests",onClick:()=>x(!1),className:"flex items-center space-x-3 px-4 py-2 text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors",children:[e.jsx(gr,{className:"w-5 h-5"}),e.jsx("span",{className:"text-sm",children:"Permission Requests"})]})]})]}),e.jsx("div",{className:"border-t border-gray-100 dark:border-gray-700 my-2"}),e.jsxs("button",{onClick:()=>{x(!1),g()},className:"flex items-center space-x-3 px-4 py-2 text-red-600 dark:text-red-400 hover:bg-red-50 dark:hover:bg-red-900/20 transition-colors w-full text-left",children:[e.jsx(Gr,{className:"w-5 h-5"}),e.jsx("span",{className:"text-sm",children:"Sign Out"})]})]})]})]})]})]}),e.jsxs("div",{className:"mt-3",children:[e.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-500 dark:text-gray-400 mb-1",children:[e.jsxs("span",{children:["Level ",h.level]}),e.jsxs("span",{children:["Level ",h.level+1]})]}),e.jsx("div",{className:"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-2 overflow-hidden",children:e.jsx("div",{className:"h-full bg-gradient-to-r from-blue-500 to-purple-600 rounded-full transition-all duration-500 ease-out",style:{width:"68%"},children:e.jsx("div",{className:"h-full bg-gradient-to-r from-white/20 to-transparent rounded-full animate-pulse"})})}),e.jsx("div",{className:"text-center mt-1",children:e.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:"680 / 1000 XP"})})]})]})})},Xg=()=>{const t=er(),r=[{name:"Home",href:"/dashboard",outlineIcon:Nr,solidIcon:Ts,preload:()=>ve(()=>Promise.resolve().then(()=>Tn),void 0)},{name:"Parks",href:"/gardens",outlineIcon:ye,solidIcon:ir,badge:"🔥",preload:()=>ve(()=>Promise.resolve().then(()=>_n),void 0)},{name:"My Dogs",href:"/my-dogs",outlineIcon:Re,solidIcon:Oe,preload:()=>ve(()=>Promise.resolve().then(()=>Yn),void 0)},{name:"Social",href:"/friends",outlineIcon:ut,solidIcon:Am,badge:"3",preload:()=>ve(()=>Promise.resolve().then(()=>ll),void 0)},{name:"Events",href:"/events",outlineIcon:Nt,solidIcon:yn,preload:()=>ve(()=>Promise.resolve().then(()=>Gn),void 0)}],a=s=>s==="/dashboard"?t.pathname==="/dashboard"||t.pathname==="/":t.pathname.startsWith(s);return e.jsx("div",{className:"fixed bottom-0 left-0 right-0 z-50 bg-white dark:bg-gray-800 border-t border-gray-200 dark:border-gray-700",children:e.jsx("div",{className:"flex justify-around items-center py-2 px-4 max-w-lg mx-auto",children:r.map(s=>{const l=a(s.href)?s.solidIcon:s.outlineIcon,o=a(s.href);return e.jsxs(ge,{to:s.href,className:`flex flex-col items-center justify-center p-2 rounded-2xl transition-all duration-200 min-w-0 flex-1 ${o?"text-purple-600 dark:text-purple-400 bg-purple-50 dark:bg-purple-900/20":"text-gray-500 dark:text-gray-400 hover:text-purple-600 dark:hover:text-purple-400 hover:bg-gray-50 dark:hover:bg-gray-700/50"}`,...s.preload?Vl(s.preload):{},children:[e.jsxs("div",{className:"relative",children:[e.jsx(l,{className:"h-6 w-6"}),s.badge&&e.jsx("span",{className:"absolute -top-2 -right-2 min-w-[18px] h-[18px] bg-red-500 text-white text-xs rounded-full flex items-center justify-center font-medium",children:s.badge})]}),e.jsx("span",{className:`text-xs mt-1 font-medium truncate max-w-full ${o?"text-purple-600 dark:text-purple-400":"text-gray-500 dark:text-gray-400"}`,children:s.name})]},s.name)})})})},hs={getChats:async()=>{try{return(await Q.get("/chats")).data}catch(t){throw console.error("Error fetching chats:",t),t}},getMessages:async(t,r=50,a=0)=>{try{return(await Q.get(`/chats/${t}/messages`,{params:{limit:r,skip:a}})).data}catch(s){throw console.error("Error fetching messages:",s),s}},sendMessage:async(t,r)=>{try{return(await Q.post(`/chats/${t}/messages`,{message:r})).data}catch(a){throw console.error("Error sending message:",a),a}},createChat:async(t,r)=>{try{return(await Q.post("/chats",{userId:t,message:r})).data}catch(a){throw console.error("Error creating chat:",a),a}},markAsRead:async t=>{try{return(await Q.put(`/chats/messages/${t}/read`)).data}catch(r){throw console.error("Error marking message as read:",r),r}},deleteMessage:async t=>{try{return(await Q.delete(`/chats/messages/${t}`)).data}catch(r){throw console.error("Error deleting message:",r),r}}},Kg=()=>{var q,U,L,S,H;const{user:t}=pe(),[r,a]=n.useState([]),[s,l]=n.useState(null),[o,i]=n.useState([]),[x,c]=n.useState(""),[u,h]=n.useState(!0),[d,p]=n.useState(!1),g=n.useRef(null),[f,w]=n.useState(!1),[m,B]=n.useState(0);n.useState(!1),n.useState(new Set);const[E,N]=n.useState(0),[v,j]=n.useState(!1),[k,b]=n.useState(!1);n.useEffect(()=>{C();const P=setInterval(()=>{f?(C(),s&&D()):C()},1e4),G=O=>{w(!0),b(!1),j(!1)},z=O=>{const{chatId:Y,targetUser:X}=O.detail,ae=r.find(me=>me._id===Y);ae?l(ae):X&&(l({_id:Y,participants:[X],lastMessage:"",lastMessageTime:new Date}),setTimeout(C,500))};return window.addEventListener("openChat",G),window.addEventListener("selectChat",z),()=>{clearInterval(P),window.removeEventListener("openChat",G),window.removeEventListener("selectChat",z)}},[f,s,r]),n.useEffect(()=>{s&&D()},[s]),n.useEffect(()=>{A()},[o]),n.useEffect(()=>{const P=r.reduce((z,O)=>z+(O.messageCount||0),0),G=r.reduce((z,O)=>z+(O.unreadCount||0),0);B(G),!f&&P>E&&E>0&&(b(!0),j(!0),typeof Notification<"u"&&Notification.permission==="granted"&&new Notification("New message received!",{body:"You have a new message in Dog Parks",icon:"/favicon.ico"}),setTimeout(()=>{j(!1)},3e3)),N(P)},[r,f,E]),n.useEffect(()=>{const P=G=>{G.key==="Escape"&&f&&w(!1)};return window.addEventListener("keydown",P),()=>window.removeEventListener("keydown",P)},[f]),n.useEffect(()=>{typeof Notification<"u"&&Notification.permission==="default"&&Notification.requestPermission()},[]);const C=async()=>{try{h(!0);const P=await hs.getChats();a(P.chats||[])}catch(P){console.error("Error loading chats:",P)}finally{h(!1)}},D=async()=>{if(s)try{const P=await hs.getMessages(s._id);i(P.messages||[])}catch(P){console.error("Error loading messages:",P),I.error("Failed to load messages")}},F=async P=>{if(P.preventDefault(),!(!x.trim()||!s))try{p(!0);const G=await hs.sendMessage(s._id,{type:"text",text:x});i([...o,G.message]),c("")}catch(G){console.error("Error sending message:",G),I.error("Failed to send message")}finally{p(!1)}},T=()=>{w(!f),f||(b(!1),j(!1))},A=()=>{var P;(P=g.current)==null||P.scrollIntoView({behavior:"smooth"})},R=P=>{const G=new Date(P),O=Math.floor((new Date-G)/(1e3*60));return O<1?"now":O<60?`${O}m`:O<1440?`${Math.floor(O/60)}h`:G.toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit"})},M=P=>{const G=new Date(P),z=new Date,O=new Date(z);return O.setDate(O.getDate()-1),G.toDateString()===z.toDateString()?"Today":G.toDateString()===O.toDateString()?"Yesterday":G.toLocaleDateString("en-US",{month:"short",day:"numeric"})},_=P=>{const G=new Date(P),O=Math.floor((new Date-G)/(1e3*60));return O<1?"now":O<60?`${O}m`:O<1440?`${Math.floor(O/60)}h`:O<10080?`${Math.floor(O/1440)}d`:G.toLocaleDateString("en-US",{month:"short",day:"numeric"})};return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"fixed bottom-4 right-4 z-40",children:[v&&e.jsxs("div",{className:"absolute bottom-16 right-0 bg-white rounded-lg shadow-lg border border-gray-200 p-3 mb-2 animate-bounce",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full animate-pulse"}),e.jsx("span",{className:"text-sm text-gray-700 font-medium",children:"New message!"})]}),e.jsx("div",{className:"absolute bottom-0 right-4 transform translate-y-1/2 rotate-45 w-2 h-2 bg-white border-r border-b border-gray-200"})]}),e.jsx("button",{onClick:T,"data-chat-toggle":!0,className:"inline-flex items-center justify-center w-14 h-14 bg-blue-600 text-white rounded-full shadow-lg hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-all duration-200 relative",children:f?e.jsx(he,{className:"h-6 w-6"}):e.jsxs("div",{className:"relative",children:[e.jsx(ut,{className:"h-6 w-6"}),(m>0||k)&&e.jsx("span",{className:`absolute -top-2 -right-2 text-white text-xs rounded-full h-5 w-5 flex items-center justify-center font-medium ${k?"bg-red-500 animate-pulse":"bg-red-500"}`,children:m>9?"9+":m||"!"}),k&&e.jsx("div",{className:"absolute -top-1 -right-1 w-3 h-3 bg-red-500 rounded-full animate-ping"})]})})]}),f&&e.jsxs("div",{className:"fixed bottom-20 right-4 z-40 w-96 h-[600px] bg-white rounded-xl shadow-2xl flex flex-col border border-gray-200 overflow-hidden",children:[e.jsxs("div",{className:"bg-gradient-to-r from-blue-600 to-blue-700 text-white p-4 flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(ut,{className:"h-6 w-6 mr-2"}),e.jsx("h3",{className:"text-lg font-semibold",children:"Messages"})]}),e.jsx("button",{onClick:()=>w(!1),className:"p-1 hover:bg-blue-500 rounded-full transition-colors",children:e.jsx(he,{className:"h-5 w-5"})})]}),e.jsxs("div",{className:"flex flex-1 overflow-hidden",children:[e.jsx("div",{className:"w-2/5 border-r border-gray-200 overflow-y-auto bg-gray-50",children:e.jsxs("div",{className:"p-3",children:[e.jsx("h4",{className:"text-xs font-semibold text-gray-600 uppercase tracking-wider mb-3",children:"Conversations"}),u?e.jsxs("div",{className:"text-center py-8",children:[e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto"}),e.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"Loading..."})]}):r.length===0?e.jsxs("div",{className:"text-center py-8",children:[e.jsx(ut,{className:"h-12 w-12 text-gray-300 mx-auto mb-2"}),e.jsx("p",{className:"text-sm text-gray-500",children:"No conversations yet"}),e.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Start chatting with other dog owners!"})]}):e.jsx("div",{className:"space-y-1",children:r.map(P=>{var G,z,O,Y,X;return e.jsx("button",{onClick:()=>l(P),className:`w-full text-left p-3 rounded-lg hover:bg-white transition-all duration-200 ${(s==null?void 0:s._id)===P._id?"bg-white shadow-sm border border-blue-200":"hover:shadow-sm"}`,children:e.jsxs("div",{className:"flex items-center",children:[e.jsxs("div",{className:"relative",children:[(G=P.participants[0])!=null&&G.profileImage?e.jsx("img",{src:P.participants[0].profileImage,alt:"",className:"w-10 h-10 rounded-full object-cover"}):e.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-blue-400 to-blue-600 rounded-full flex items-center justify-center text-white text-sm font-semibold",children:((O=(z=P.participants[0])==null?void 0:z.firstName)==null?void 0:O[0])||"U"}),e.jsx("div",{className:"absolute -bottom-1 -right-1 w-3 h-3 bg-green-400 border-2 border-white rounded-full"})]}),e.jsxs("div",{className:"ml-3 flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("p",{className:"text-sm font-medium text-gray-900 truncate",children:[(Y=P.participants[0])==null?void 0:Y.firstName," ",(X=P.participants[0])==null?void 0:X.lastName]}),P.lastMessageTime&&e.jsx("span",{className:"text-xs text-gray-500",children:_(P.lastMessageTime)})]}),e.jsx("p",{className:"text-xs text-gray-500 truncate mt-1",children:P.lastMessage||"No messages"})]})]})},P._id)})})]})}),e.jsx("div",{className:"flex-1 flex flex-col",children:s?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"p-4 border-b border-gray-200 bg-white",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsxs("div",{className:"relative",children:[(q=s.participants[0])!=null&&q.profileImage?e.jsx("img",{src:s.participants[0].profileImage,alt:"",className:"w-10 h-10 rounded-full object-cover"}):e.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-blue-400 to-blue-600 rounded-full flex items-center justify-center text-white text-sm font-semibold",children:((L=(U=s.participants[0])==null?void 0:U.firstName)==null?void 0:L[0])||"U"}),e.jsx("div",{className:"absolute -bottom-1 -right-1 w-3 h-3 bg-green-400 border-2 border-white rounded-full"})]}),e.jsxs("div",{className:"ml-3",children:[e.jsxs("p",{className:"text-sm font-medium text-gray-900",children:[(S=s.participants[0])==null?void 0:S.firstName," ",(H=s.participants[0])==null?void 0:H.lastName]}),e.jsx("p",{className:"text-xs text-green-600 font-medium",children:"Online"})]})]}),e.jsx("button",{className:"p-2 hover:bg-gray-100 rounded-full transition-colors",children:e.jsx(mn,{className:"h-5 w-5 text-gray-500"})})]})}),e.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-3 bg-gray-50",children:[o.length===0?e.jsx("div",{className:"flex items-center justify-center h-full",children:e.jsxs("div",{className:"text-center",children:[e.jsx(ut,{className:"h-16 w-16 text-gray-300 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-500 text-sm",children:"No messages yet"}),e.jsx("p",{className:"text-gray-400 text-xs mt-1",children:"Start the conversation!"})]})}):o.map((P,G)=>{var X,ae,me;const z=P.sender._id===t._id||P.sender===t._id,O=G===0||M(P.createdAt)!==M(o[G-1].createdAt),Y=!z&&(G===o.length-1||((X=o[G+1])==null?void 0:X.sender._id)!==P.sender._id);return e.jsxs("div",{children:[O&&e.jsx("div",{className:"text-center mb-4",children:e.jsx("span",{className:"text-xs text-gray-500 bg-white px-3 py-1 rounded-full shadow-sm",children:M(P.createdAt)})}),e.jsxs("div",{className:`flex items-end space-x-2 ${z?"justify-end":"justify-start"}`,children:[!z&&e.jsx("div",{className:"w-8 h-8 flex-shrink-0",children:Y&&(P.sender.profileImage?e.jsx("img",{src:P.sender.profileImage,alt:"",className:"w-8 h-8 rounded-full object-cover"}):e.jsx("div",{className:"w-8 h-8 bg-gradient-to-br from-gray-400 to-gray-600 rounded-full flex items-center justify-center text-white text-xs font-semibold",children:((ae=P.sender.firstName)==null?void 0:ae[0])||"U"}))}),e.jsxs("div",{className:`max-w-[75%] px-4 py-2 rounded-2xl shadow-sm ${z?"bg-blue-600 text-white rounded-br-md":"bg-white text-gray-900 rounded-bl-md border border-gray-200"}`,children:[e.jsx("p",{className:"text-sm break-words",children:((me=P.content)==null?void 0:me.text)||P.text}),e.jsx("p",{className:`text-xs mt-1 ${z?"text-blue-100":"text-gray-500"}`,children:R(P.createdAt)})]})]})]},P._id)}),e.jsx("div",{ref:g})]}),e.jsx("form",{onSubmit:F,className:"p-4 border-t border-gray-200 bg-white",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsxs("div",{className:"flex-1 relative",children:[e.jsx("input",{type:"text",value:x,onChange:P=>c(P.target.value),onKeyPress:P=>{P.key==="Enter"&&!P.shiftKey&&(P.preventDefault(),F(P))},placeholder:"Type a message...",className:"w-full rounded-full px-4 py-3 bg-gray-100 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:bg-white transition-all duration-200",disabled:d}),d&&e.jsx("div",{className:"absolute right-3 top-1/2 transform -translate-y-1/2",children:e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-blue-600"})})]}),e.jsx("button",{type:"submit",disabled:!x.trim()||d,className:"inline-flex items-center justify-center w-10 h-10 rounded-full bg-blue-600 text-white hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200",children:e.jsx(Ra,{className:"h-5 w-5"})})]})})]}):e.jsx("div",{className:"flex-1 flex items-center justify-center bg-gray-50",children:e.jsxs("div",{className:"text-center",children:[e.jsx(ut,{className:"h-16 w-16 text-gray-300 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-500 text-sm",children:"Select a conversation to start messaging"}),e.jsx("p",{className:"text-gray-400 text-xs mt-1",children:"Choose from your conversations on the left"})]})})})]})]})]})},h0=[{name:"Gardens",href:"/gardens",icon:ir},{name:"Events",href:"/public-events",icon:Nt}];function ea(...t){return t.filter(Boolean).join(" ")}const eu=()=>{const t=er(),[r,a]=n.useState(!1),[s,l]=n.useState(!1);n.useEffect(()=>{const x=localStorage.getItem("darkMode"),c=window.matchMedia("(prefers-color-scheme: dark)").matches,u=x?x==="true":c;l(u),u?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")},[]);const o=()=>{const x=!s;l(x),localStorage.setItem("darkMode",x.toString()),x?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")},i=x=>t.pathname===x;return e.jsxs(e.Fragment,{children:[e.jsx(qe.Root,{show:r,as:n.Fragment,children:e.jsxs(ht,{as:"div",className:"relative z-50 lg:hidden",onClose:a,children:[e.jsx(qe.Child,{as:n.Fragment,enter:"transition-opacity ease-linear duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"transition-opacity ease-linear duration-300",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:e.jsx("div",{className:"fixed inset-0 bg-gray-900/80"})}),e.jsx("div",{className:"fixed inset-0 flex",children:e.jsx(qe.Child,{as:n.Fragment,enter:"transition ease-in-out duration-300 transform",enterFrom:"-translate-x-full",enterTo:"translate-x-0",leave:"transition ease-in-out duration-300 transform",leaveFrom:"translate-x-0",leaveTo:"-translate-x-full",children:e.jsxs(ht.Panel,{className:"relative mr-16 flex w-full max-w-xs flex-1",children:[e.jsx(qe.Child,{as:n.Fragment,enter:"ease-in-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in-out duration-300",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:e.jsx("div",{className:"absolute left-full top-0 flex w-16 justify-center pt-5",children:e.jsxs("button",{type:"button",className:"-m-2.5 p-2.5",onClick:()=>a(!1),children:[e.jsx("span",{className:"sr-only",children:"Close sidebar"}),e.jsx(he,{className:"h-6 w-6 text-white","aria-hidden":"true"})]})})}),e.jsxs("div",{className:"flex grow flex-col gap-y-5 overflow-y-auto bg-white dark:bg-gray-900 px-6 pb-4",children:[e.jsx("div",{className:"flex h-16 shrink-0 items-center",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"bg-gradient-to-r from-purple-600 to-pink-600 rounded-xl p-2",children:e.jsx(Oe,{className:"h-6 w-6 text-white"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-xl font-bold bg-gradient-to-r from-purple-600 to-pink-600 bg-clip-text text-transparent",children:"PawConnect"}),e.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 -mt-1",children:"Dog Parks"})]})]})}),e.jsx("nav",{className:"flex flex-1 flex-col",children:e.jsxs("ul",{role:"list",className:"flex flex-1 flex-col gap-y-7",children:[e.jsx("li",{children:e.jsx("ul",{role:"list",className:"-mx-2 space-y-1",children:h0.map(x=>{const c=x.icon,u=i(x.href);return e.jsx("li",{children:e.jsxs(ge,{to:x.href,className:ea(u?"bg-purple-50 dark:bg-purple-900 text-purple-700 dark:text-purple-300":"text-gray-700 dark:text-gray-300 hover:text-purple-700 dark:hover:text-purple-300 hover:bg-purple-50 dark:hover:bg-purple-900","group flex gap-x-3 rounded-2xl p-3 text-sm leading-6 font-semibold transition-all"),onClick:()=>a(!1),children:[e.jsx(c,{className:ea(u?"text-purple-700 dark:text-purple-300":"text-gray-400 dark:text-gray-500 group-hover:text-purple-700 dark:group-hover:text-purple-300","h-6 w-6 shrink-0"),"aria-hidden":"true"}),x.name]})},x.name)})})}),e.jsx("li",{children:e.jsxs("button",{onClick:o,className:"flex items-center justify-between w-full gap-x-3 rounded-2xl p-3 text-sm font-semibold text-gray-700 dark:text-gray-300 hover:text-purple-700 dark:hover:text-purple-300 hover:bg-purple-50 dark:hover:bg-purple-900 transition-all",children:[e.jsxs("div",{className:"flex items-center gap-x-3",children:[e.jsx(hn,{className:"h-5 w-5 text-gray-400 dark:text-gray-500"}),e.jsx("span",{children:"Dark Mode"})]}),e.jsx("div",{className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors duration-200 ${s?"bg-purple-600":"bg-gray-200 dark:bg-gray-700"}`,children:e.jsx("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition-transform duration-200 ${s?"translate-x-6":"translate-x-1"}`})})]})}),e.jsx("li",{className:"mt-auto",children:e.jsxs("div",{className:"border-t border-gray-200 dark:border-gray-700 pt-4 space-y-1",children:[e.jsxs(ge,{to:"/login",className:"flex items-center gap-x-3 rounded-2xl p-3 text-sm font-semibold text-gray-700 dark:text-gray-300 hover:text-purple-700 dark:hover:text-purple-300 hover:bg-purple-50 dark:hover:bg-purple-900 transition-all",onClick:()=>a(!1),children:[e.jsx(Gr,{className:"h-5 w-5 text-gray-400 dark:text-gray-500"}),"Login"]}),e.jsxs(ge,{to:"/register",className:"flex items-center gap-x-3 rounded-2xl p-3 text-sm font-semibold text-white bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700 transition-all shadow-lg",onClick:()=>a(!1),children:[e.jsx(hr,{className:"h-5 w-5"}),"Sign Up"]})]})})]})})]})]})})})]})}),e.jsx("div",{className:"bg-white dark:bg-gray-900 shadow-lg border-b border-gray-200 dark:border-gray-700 transition-colors",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"flex justify-between items-center h-16",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"bg-gradient-to-r from-purple-600 to-pink-600 rounded-xl p-2 shadow-lg",children:e.jsx(Oe,{className:"h-6 w-6 text-white"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-xl font-bold bg-gradient-to-r from-purple-600 to-pink-600 bg-clip-text text-transparent",children:"PawPals"}),e.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 -mt-1",children:"Community"})]})]}),e.jsx("nav",{className:"hidden md:flex space-x-8",children:h0.map(x=>{const c=x.icon,u=i(x.href);return e.jsxs(ge,{to:x.href,className:ea(u?"text-purple-700 dark:text-purple-300 border-purple-700 dark:border-purple-300":"text-gray-700 dark:text-gray-300 hover:text-purple-700 dark:hover:text-purple-300 border-transparent hover:border-purple-300 dark:hover:border-purple-600","flex items-center px-3 py-2 border-b-2 text-sm font-medium transition-all"),children:[e.jsx(c,{className:"h-5 w-5 mr-2"}),x.name]},x.name)})}),e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx(ge,{to:"/login",className:"text-gray-700 dark:text-gray-300 hover:text-purple-700 dark:hover:text-purple-300 font-medium text-sm transition-colors",children:"Login"}),e.jsx(ge,{to:"/register",className:"bg-gradient-to-r from-purple-600 to-pink-600 text-white px-4 py-2 rounded-2xl text-sm font-medium hover:from-purple-700 hover:to-pink-700 transition-all shadow-lg",children:"Sign Up"}),e.jsxs("button",{type:"button",className:"md:hidden -m-2.5 p-2.5 text-gray-700 dark:text-gray-300 hover:text-purple-700 dark:hover:text-purple-300 transition-colors",onClick:()=>a(!0),children:[e.jsx("span",{className:"sr-only",children:"Open main menu"}),e.jsx(dn,{className:"h-6 w-6"})]})]})]})})})]})},ja=()=>{const{isAuthenticated:t}=pe();return t?e.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900",children:[e.jsx("div",{className:"hidden lg:block",children:e.jsx(fg,{})}),e.jsx("div",{className:"lg:hidden",children:e.jsx(Jg,{})}),e.jsx("main",{className:"lg:pl-72 pb-20 lg:pb-0",children:e.jsx("div",{className:"pt-0 lg:pt-8",children:e.jsx(na,{})})}),e.jsx("div",{className:"lg:hidden",children:e.jsx(Xg,{})}),e.jsx("div",{className:"hidden lg:block",children:e.jsx(Kg,{})})]}):e.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900",children:[e.jsx(eu,{}),e.jsx("main",{children:e.jsx(na,{})})]})},tu=Object.freeze(Object.defineProperty({__proto__:null,default:ja},Symbol.toStringTag,{value:"Module"})),Bn=()=>{const{isAuthenticated:t}=pe();return t?e.jsx(na,{}):e.jsx(M0,{to:"/login",replace:!0})},ru=Object.freeze(Object.defineProperty({__proto__:null,default:Bn},Symbol.toStringTag,{value:"Module"})),jr=({children:t,allowedRoles:r=[]})=>{const{user:a,isAuthenticated:s}=pe();return s?r.length>0&&!r.includes(a==null?void 0:a.role)?e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:e.jsxs("div",{className:"max-w-md w-full bg-white shadow-lg rounded-lg p-6 text-center",children:[e.jsx("div",{className:"text-red-500 text-6xl mb-4",children:"🚫"}),e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Access Denied"}),e.jsx("p",{className:"text-gray-600 mb-4",children:"You don't have permission to access this page."}),e.jsxs("p",{className:"text-sm text-gray-500 mb-6",children:["Required role: ",r.join(" or "),e.jsx("br",{}),"Your role: ",(a==null?void 0:a.role)||"Unknown"]}),e.jsx("button",{onClick:()=>window.history.back(),className:"bg-primary-600 text-white px-4 py-2 rounded-md hover:bg-primary-700",children:"Go Back"})]})}):t:e.jsx(M0,{to:"/login",replace:!0})},Is=({fullScreen:t=!1,minDisplayTime:r=100,size:a="md",showText:s=!0})=>{const l={sm:"w-8 h-8",md:"w-12 h-12",lg:"w-16 h-16",xl:"w-24 h-24"},o=t?"fixed inset-0 flex flex-col items-center justify-center bg-white/95 dark:bg-gray-900/95 backdrop-blur-md z-50":"flex flex-col items-center justify-center p-8 min-h-screen",i=["Woof woof! Sniffing out the best parks...","Arf arf! Finding play dates...","Ruff ruff! Tail wagging intensifies...","Woof! Searching for treats and friends...","Bow wow! Getting ready to fetch...","Yip yip! So excited to play...","Woof woof! Fetching amazing adventures...","Arf! Barking with excitement...","Ruff! Can't wait to meet new friends...","Woof! Pawsome things loading...","Bow wow wow! Adventure time soon...","Yap yap! Happy tail wagging...","Woof woof! Sniff sniff... something good coming...","Arf arf! Zoomies incoming...","Ruff ruff! Best day ever loading...","Woof! Paws crossed for fun...","Bow wow! Ready to make friends...","Yip! Squeaky toy excitement level...","Woof woof! Belly rub approved content...","Arf! Treat-level happiness loading..."],x=n.useMemo(()=>i[Math.floor(Math.random()*i.length)],[]);return e.jsx("div",{className:o,children:e.jsxs("div",{className:"flex flex-col items-center space-y-6",children:[e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute -inset-6 opacity-30",children:e.jsxs("div",{className:"animate-spin",style:{animationDuration:"8s"},children:[e.jsx(ye,{className:"absolute top-0 left-1/2 transform -translate-x-1/2 w-5 h-5 text-purple-500"}),e.jsx(Ne,{className:"absolute right-0 top-1/2 transform -translate-y-1/2 w-5 h-5 text-pink-500"}),e.jsx(bt,{className:"absolute bottom-0 left-1/2 transform -translate-x-1/2 w-5 h-5 text-blue-500"}),e.jsx(Re,{className:"absolute left-0 top-1/2 transform -translate-y-1/2 w-5 h-5 text-green-500"})]})}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:`${l[a]} rounded-full border-4 border-gray-100 dark:border-gray-800`}),e.jsx("div",{className:`${l[a]} rounded-full border-4 border-transparent border-t-purple-600 border-r-pink-600 animate-spin absolute top-0 left-0`,style:{animationDuration:"1.2s"}}),e.jsx("div",{className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2",children:e.jsx($e,{className:"w-5 h-5 text-purple-600 animate-pulse"})})]})]}),s&&e.jsxs("div",{className:"text-center max-w-xs",children:[e.jsx("p",{className:"text-gray-600 dark:text-gray-400 font-medium text-sm",children:x}),e.jsxs("div",{className:"flex justify-center space-x-1 mt-3",children:[e.jsx("div",{className:"w-2 h-2 bg-purple-600 rounded-full animate-pulse",style:{animationDelay:"0ms"}}),e.jsx("div",{className:"w-2 h-2 bg-pink-600 rounded-full animate-pulse",style:{animationDelay:"200ms"}}),e.jsx("div",{className:"w-2 h-2 bg-blue-600 rounded-full animate-pulse",style:{animationDelay:"400ms"}})]})]}),t&&e.jsx("div",{className:"absolute bottom-8 left-1/2 transform -translate-x-1/2",children:e.jsxs("div",{className:"text-center",children:[e.jsxs("div",{className:"flex items-center justify-center space-x-3 mb-2",children:[e.jsx(ye,{className:"w-6 h-6 text-purple-600 dark:text-purple-400"}),e.jsx("span",{className:"text-xl font-bold bg-gradient-to-r from-purple-600 to-pink-600 bg-clip-text text-transparent",children:"PawPals"}),e.jsx(We,{className:"w-6 h-6 text-pink-600 dark:text-pink-400"})]}),e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Connecting pets and their owners"})]})}),t&&e.jsxs("div",{className:"absolute inset-0 pointer-events-none overflow-hidden",children:[e.jsx("div",{className:"absolute top-10 left-10 opacity-10",children:e.jsx(ye,{className:"w-8 h-8 text-purple-500 animate-pulse",style:{animationDelay:"0s"}})}),e.jsx("div",{className:"absolute top-20 right-16 opacity-10",children:e.jsx(Ne,{className:"w-6 h-6 text-pink-500 animate-pulse",style:{animationDelay:"2s"}})}),e.jsx("div",{className:"absolute bottom-32 left-20 opacity-10",children:e.jsx(bt,{className:"w-10 h-10 text-blue-500 animate-pulse",style:{animationDelay:"4s"}})}),e.jsx("div",{className:"absolute bottom-20 right-10 opacity-10",children:e.jsx(Re,{className:"w-6 h-6 text-green-500 animate-pulse",style:{animationDelay:"6s"}})})]})]})})},su=({size:t="sm",className:r="",theme:a="purple"})=>{const s={xs:"w-3 h-3",sm:"w-4 h-4",md:"w-5 h-5",lg:"w-6 h-6"},l={purple:"border-t-purple-600",pink:"border-t-pink-600",blue:"border-t-blue-600",green:"border-t-green-600"};return e.jsx("div",{className:`${s[t]} ${r} relative`,children:e.jsx("div",{className:`${s[t]} rounded-full border-2 border-transparent ${l[a]} animate-spin`})})},au=({className:t="",lines:r=3})=>e.jsx("div",{className:`animate-pulse ${t}`,children:Array.from({length:r}).map((a,s)=>e.jsxs("div",{className:"flex items-center mb-3",children:[e.jsx("div",{className:"w-8 h-8 bg-gray-200 dark:bg-gray-700 rounded-full mr-3 flex items-center justify-center",children:e.jsx("div",{className:"w-3 h-3 bg-gray-300 dark:bg-gray-600 rounded-full"})}),e.jsx("div",{className:`h-4 bg-gray-200 dark:bg-gray-700 rounded ${s===r-1?"w-3/4":"w-full"}`})]},s))}),nu=()=>{const[t,r]=n.useState(!1),a=n.useCallback(async s=>{r(!0);try{await s()}catch(l){throw l}finally{r(!1)}},[]);return{isLoading:t,showLoadingFor:a}},lu=(t=50)=>{const[r,a]=n.useState(!1),s=n.useCallback(async l=>{a(!0);const o=Date.now();try{await l()}catch(i){throw i}finally{const i=Date.now()-o,x=Math.max(0,t-i);x>0&&i<50&&await new Promise(c=>setTimeout(c,x)),a(!1)}},[t]);return{isLoading:r,showLoadingFor:s}},ou={INSTANT:0,FAST:50,NORMAL:100,SLOW:300,HEAVY:600},iu=Object.freeze(Object.defineProperty({__proto__:null,LOADING_PRESETS:ou,LoadingSkeleton:au,LoadingSpinner:su,default:Is,useFastLoading:nu,useLoadingWithMinTime:lu},Symbol.toStringTag,{value:"Module"})),xu=({children:t})=>{const r=er(),[a,s]=n.useState(r),[l,o]=n.useState("fadeIn");return n.useEffect(()=>{r!==a&&o("fadeOut")},[r,a]),n.useEffect(()=>{if(l==="fadeOut"){const i=setTimeout(()=>{s(r),o("fadeIn")},50);return()=>clearTimeout(i)}},[l,r]),e.jsx("div",{className:`transition-opacity duration-50 ${l==="fadeOut"?"opacity-0":"opacity-100"}`,style:{transitionDuration:"50ms"},children:t})};class du{constructor(){this.cache=new Map,this.cacheExpiry=new Map,this.defaultTTL=5*60*1e3}set(r,a,s=this.defaultTTL){this.cache.set(r,a),this.cacheExpiry.set(r,Date.now()+s)}get(r){if(!this.cache.has(r))return null;const a=this.cacheExpiry.get(r);return Date.now()>a?(this.cache.delete(r),this.cacheExpiry.delete(r),null):this.cache.get(r)}has(r){return this.get(r)!==null}cleanup(){const r=Date.now();for(const[a,s]of this.cacheExpiry.entries())r>s&&(this.cache.delete(a),this.cacheExpiry.delete(a))}clear(){this.cache.clear(),this.cacheExpiry.clear()}getStats(){return{size:this.cache.size,keys:Array.from(this.cache.keys())}}}const ps=new du;setInterval(()=>{ps.cleanup()},5*60*1e3);class cu{constructor(){this.preloadedServices=new Set,this.preloadedData=new Map}async preloadServices(){const r=[()=>ve(()=>Promise.resolve().then(()=>Dl),void 0),()=>ve(()=>Promise.resolve().then(()=>Fl),void 0),()=>ve(()=>Promise.resolve().then(()=>A0),void 0),()=>ve(()=>Promise.resolve().then(()=>D0),void 0),()=>ve(()=>Promise.resolve().then(()=>mh),void 0),()=>ve(()=>Promise.resolve().then(()=>qu),void 0),()=>ve(()=>Promise.resolve().then(()=>ql),void 0)],a=await Promise.allSettled(r.map(s=>s()));console.log(`Preloaded ${a.filter(s=>s.status==="fulfilled").length}/${a.length} services`)}async preloadEssentialData(r){if(r)try{const a=[];a.push(ve(()=>Promise.resolve().then(()=>D0),void 0).then(async({dogService:l})=>{try{const o=await l.getMyDogs();return ps.set("user_dogs",o,10*60*1e3),o}catch{return null}})),navigator.geolocation&&a.push(new Promise(l=>{navigator.geolocation.getCurrentPosition(async o=>{try{const{gardenService:i}=await ve(()=>Promise.resolve().then(()=>A0),void 0),x=await i.getNearbyGardens(o.coords.latitude,o.coords.longitude,10);ps.set("nearby_gardens",x,5*60*1e3),ps.set("user_location",{lat:o.coords.latitude,lng:o.coords.longitude},30*60*1e3),l(x)}catch{l(null)}},()=>l(null),{timeout:5e3})}));const s=await Promise.allSettled(a);console.log(`Preloaded ${s.filter(l=>l.status==="fulfilled").length} data sources`)}catch(a){console.warn("Failed to preload some data:",a)}}async preloadComponents(){const r=[()=>ve(()=>Promise.resolve().then(()=>iu),void 0),()=>ve(()=>Promise.resolve().then(()=>tu),void 0),()=>ve(()=>Promise.resolve().then(()=>ru),void 0),()=>ve(()=>Promise.resolve().then(()=>sp),void 0)],a=await Promise.allSettled(r.map(s=>s()));console.log(`Preloaded ${a.filter(s=>s.status==="fulfilled").length}/${a.length} components`)}async preloadAll(r=null){console.log("🚀 Starting app preload...");const a=[{name:"services",fn:()=>this.preloadServices()},{name:"components",fn:()=>this.preloadComponents()}];r&&a.push({name:"data",fn:()=>this.preloadEssentialData(r)});for(const s of a)try{await s.fn(),console.log(`✅ ${s.name} preloaded`)}catch(l){console.warn(`⚠️ Failed to preload ${s.name}:`,l)}console.log("🎉 App preload complete!")}isReady(){return this.preloadedServices.size>0}}const ta=new cu;var ts=t=>t.type==="checkbox",xr=t=>t instanceof Date,Qe=t=>t==null;const An=t=>typeof t=="object";var Ie=t=>!Qe(t)&&!Array.isArray(t)&&An(t)&&!xr(t),mu=t=>Ie(t)&&t.target?ts(t.target)?t.target.checked:t.target.value:t,gu=t=>t.substring(0,t.search(/\.\d+(\.|$)/))||t,uu=(t,r)=>t.has(gu(r)),hu=t=>{const r=t.constructor&&t.constructor.prototype;return Ie(r)&&r.hasOwnProperty("isPrototypeOf")},Ia=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function Ge(t){let r;const a=Array.isArray(t),s=typeof FileList<"u"?t instanceof FileList:!1;if(t instanceof Date)r=new Date(t);else if(t instanceof Set)r=new Set(t);else if(!(Ia&&(t instanceof Blob||s))&&(a||Ie(t)))if(r=a?[]:{},!a&&!hu(t))r=t;else for(const l in t)t.hasOwnProperty(l)&&(r[l]=Ge(t[l]));else return t;return r}var _s=t=>/^\w*$/.test(t),_e=t=>t===void 0,_a=t=>Array.isArray(t)?t.filter(Boolean):[],Oa=t=>_a(t.replace(/["|']|\]/g,"").split(/\.|\[/)),oe=(t,r,a)=>{if(!r||!Ie(t))return a;const s=(_s(r)?[r]:Oa(r)).reduce((l,o)=>Qe(l)?l:l[o],t);return _e(s)||s===t?_e(t[r])?a:t[r]:s},At=t=>typeof t=="boolean",De=(t,r,a)=>{let s=-1;const l=_s(r)?[r]:Oa(r),o=l.length,i=o-1;for(;++s<o;){const x=l[s];let c=a;if(s!==i){const u=t[x];c=Ie(u)||Array.isArray(u)?u:isNaN(+l[s+1])?{}:[]}if(x==="__proto__"||x==="constructor"||x==="prototype")return;t[x]=c,t=t[x]}};const p0={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},wt={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},Pt={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},pu=re.createContext(null);pu.displayName="HookFormContext";var fu=(t,r,a,s=!0)=>{const l={defaultValues:r._defaultValues};for(const o in t)Object.defineProperty(l,o,{get:()=>{const i=o;return r._proxyFormState[i]!==wt.all&&(r._proxyFormState[i]=!s||wt.all),a&&(a[i]=!0),t[i]}});return l};const bu=typeof window<"u"?n.useLayoutEffect:n.useEffect;var Dt=t=>typeof t=="string",yu=(t,r,a,s,l)=>Dt(t)?(s&&r.watch.add(t),oe(a,t,l)):Array.isArray(t)?t.map(o=>(s&&r.watch.add(o),oe(a,o))):(s&&(r.watchAll=!0),a),vu=(t,r,a,s,l)=>r?{...a[t],types:{...a[t]&&a[t].types?a[t].types:{},[s]:l||!0}}:{},Vr=t=>Array.isArray(t)?t:[t],f0=()=>{let t=[];return{get observers(){return t},next:l=>{for(const o of t)o.next&&o.next(l)},subscribe:l=>(t.push(l),{unsubscribe:()=>{t=t.filter(o=>o!==l)}}),unsubscribe:()=>{t=[]}}},Ea=t=>Qe(t)||!An(t);function Ht(t,r){if(Ea(t)||Ea(r))return t===r;if(xr(t)&&xr(r))return t.getTime()===r.getTime();const a=Object.keys(t),s=Object.keys(r);if(a.length!==s.length)return!1;for(const l of a){const o=t[l];if(!s.includes(l))return!1;if(l!=="ref"){const i=r[l];if(xr(o)&&xr(i)||Ie(o)&&Ie(i)||Array.isArray(o)&&Array.isArray(i)?!Ht(o,i):o!==i)return!1}}return!0}var et=t=>Ie(t)&&!Object.keys(t).length,Va=t=>t.type==="file",jt=t=>typeof t=="function",ks=t=>{if(!Ia)return!1;const r=t?t.ownerDocument:0;return t instanceof(r&&r.defaultView?r.defaultView.HTMLElement:HTMLElement)},Dn=t=>t.type==="select-multiple",za=t=>t.type==="radio",wu=t=>za(t)||ts(t),ra=t=>ks(t)&&t.isConnected;function ju(t,r){const a=r.slice(0,-1).length;let s=0;for(;s<a;)t=_e(t)?s++:t[r[s++]];return t}function Eu(t){for(const r in t)if(t.hasOwnProperty(r)&&!_e(t[r]))return!1;return!0}function Ve(t,r){const a=Array.isArray(r)?r:_s(r)?[r]:Oa(r),s=a.length===1?t:ju(t,a),l=a.length-1,o=a[l];return s&&delete s[o],l!==0&&(Ie(s)&&et(s)||Array.isArray(s)&&Eu(s))&&Ve(t,a.slice(0,-1)),t}var Fn=t=>{for(const r in t)if(jt(t[r]))return!0;return!1};function Ns(t,r={}){const a=Array.isArray(t);if(Ie(t)||a)for(const s in t)Array.isArray(t[s])||Ie(t[s])&&!Fn(t[s])?(r[s]=Array.isArray(t[s])?[]:{},Ns(t[s],r[s])):Qe(t[s])||(r[s]=!0);return r}function Sn(t,r,a){const s=Array.isArray(t);if(Ie(t)||s)for(const l in t)Array.isArray(t[l])||Ie(t[l])&&!Fn(t[l])?_e(r)||Ea(a[l])?a[l]=Array.isArray(t[l])?Ns(t[l],[]):{...Ns(t[l])}:Sn(t[l],Qe(r)?{}:r[l],a[l]):a[l]=!Ht(t[l],r[l]);return a}var Lr=(t,r)=>Sn(t,r,Ns(r));const b0={value:!1,isValid:!1},y0={value:!0,isValid:!0};var Pn=t=>{if(Array.isArray(t)){if(t.length>1){const r=t.filter(a=>a&&a.checked&&!a.disabled).map(a=>a.value);return{value:r,isValid:!!r.length}}return t[0].checked&&!t[0].disabled?t[0].attributes&&!_e(t[0].attributes.value)?_e(t[0].value)||t[0].value===""?y0:{value:t[0].value,isValid:!0}:y0:b0}return b0},Rn=(t,{valueAsNumber:r,valueAsDate:a,setValueAs:s})=>_e(t)?t:r?t===""?NaN:t&&+t:a&&Dt(t)?new Date(t):s?s(t):t;const v0={isValid:!1,value:null};var Mn=t=>Array.isArray(t)?t.reduce((r,a)=>a&&a.checked&&!a.disabled?{isValid:!0,value:a.value}:r,v0):v0;function w0(t){const r=t.ref;return Va(r)?r.files:za(r)?Mn(t.refs).value:Dn(r)?[...r.selectedOptions].map(({value:a})=>a):ts(r)?Pn(t.refs).value:Rn(_e(r.value)?t.ref.value:r.value,t)}var ku=(t,r,a,s)=>{const l={};for(const o of t){const i=oe(r,o);i&&De(l,o,i._f)}return{criteriaMode:a,names:[...t],fields:l,shouldUseNativeValidation:s}},Cs=t=>t instanceof RegExp,$r=t=>_e(t)?t:Cs(t)?t.source:Ie(t)?Cs(t.value)?t.value.source:t.value:t,j0=t=>({isOnSubmit:!t||t===wt.onSubmit,isOnBlur:t===wt.onBlur,isOnChange:t===wt.onChange,isOnAll:t===wt.all,isOnTouch:t===wt.onTouched});const E0="AsyncFunction";var Nu=t=>!!t&&!!t.validate&&!!(jt(t.validate)&&t.validate.constructor.name===E0||Ie(t.validate)&&Object.values(t.validate).find(r=>r.constructor.name===E0)),Cu=t=>t.mount&&(t.required||t.min||t.max||t.maxLength||t.minLength||t.pattern||t.validate),k0=(t,r,a)=>!a&&(r.watchAll||r.watch.has(t)||[...r.watch].some(s=>t.startsWith(s)&&/^\.\w+/.test(t.slice(s.length))));const zr=(t,r,a,s)=>{for(const l of a||Object.keys(t)){const o=oe(t,l);if(o){const{_f:i,...x}=o;if(i){if(i.refs&&i.refs[0]&&r(i.refs[0],l)&&!s)return!0;if(i.ref&&r(i.ref,i.name)&&!s)return!0;if(zr(x,r))break}else if(Ie(x)&&zr(x,r))break}}};function N0(t,r,a){const s=oe(t,a);if(s||_s(a))return{error:s,name:a};const l=a.split(".");for(;l.length;){const o=l.join("."),i=oe(r,o),x=oe(t,o);if(i&&!Array.isArray(i)&&a!==o)return{name:a};if(x&&x.type)return{name:o,error:x};if(x&&x.root&&x.root.type)return{name:`${o}.root`,error:x.root};l.pop()}return{name:a}}var Bu=(t,r,a,s)=>{a(t);const{name:l,...o}=t;return et(o)||Object.keys(o).length>=Object.keys(r).length||Object.keys(o).find(i=>r[i]===(!s||wt.all))},Au=(t,r,a)=>!t||!r||t===r||Vr(t).some(s=>s&&(a?s===r:s.startsWith(r)||r.startsWith(s))),Du=(t,r,a,s,l)=>l.isOnAll?!1:!a&&l.isOnTouch?!(r||t):(a?s.isOnBlur:l.isOnBlur)?!t:(a?s.isOnChange:l.isOnChange)?t:!0,Fu=(t,r)=>!_a(oe(t,r)).length&&Ve(t,r),Su=(t,r,a)=>{const s=Vr(oe(t,a));return De(s,"root",r[a]),De(t,a,s),t},fs=t=>Dt(t);function C0(t,r,a="validate"){if(fs(t)||Array.isArray(t)&&t.every(fs)||At(t)&&!t)return{type:a,message:fs(t)?t:"",ref:r}}var Er=t=>Ie(t)&&!Cs(t)?t:{value:t,message:""},B0=async(t,r,a,s,l,o)=>{const{ref:i,refs:x,required:c,maxLength:u,minLength:h,min:d,max:p,pattern:g,validate:f,name:w,valueAsNumber:m,mount:B}=t._f,E=oe(a,w);if(!B||r.has(w))return{};const N=x?x[0]:i,v=A=>{l&&N.reportValidity&&(N.setCustomValidity(At(A)?"":A||""),N.reportValidity())},j={},k=za(i),b=ts(i),C=k||b,D=(m||Va(i))&&_e(i.value)&&_e(E)||ks(i)&&i.value===""||E===""||Array.isArray(E)&&!E.length,F=vu.bind(null,w,s,j),T=(A,R,M,_=Pt.maxLength,q=Pt.minLength)=>{const U=A?R:M;j[w]={type:A?_:q,message:U,ref:i,...F(A?_:q,U)}};if(o?!Array.isArray(E)||!E.length:c&&(!C&&(D||Qe(E))||At(E)&&!E||b&&!Pn(x).isValid||k&&!Mn(x).isValid)){const{value:A,message:R}=fs(c)?{value:!!c,message:c}:Er(c);if(A&&(j[w]={type:Pt.required,message:R,ref:N,...F(Pt.required,R)},!s))return v(R),j}if(!D&&(!Qe(d)||!Qe(p))){let A,R;const M=Er(p),_=Er(d);if(!Qe(E)&&!isNaN(E)){const q=i.valueAsNumber||E&&+E;Qe(M.value)||(A=q>M.value),Qe(_.value)||(R=q<_.value)}else{const q=i.valueAsDate||new Date(E),U=H=>new Date(new Date().toDateString()+" "+H),L=i.type=="time",S=i.type=="week";Dt(M.value)&&E&&(A=L?U(E)>U(M.value):S?E>M.value:q>new Date(M.value)),Dt(_.value)&&E&&(R=L?U(E)<U(_.value):S?E<_.value:q<new Date(_.value))}if((A||R)&&(T(!!A,M.message,_.message,Pt.max,Pt.min),!s))return v(j[w].message),j}if((u||h)&&!D&&(Dt(E)||o&&Array.isArray(E))){const A=Er(u),R=Er(h),M=!Qe(A.value)&&E.length>+A.value,_=!Qe(R.value)&&E.length<+R.value;if((M||_)&&(T(M,A.message,R.message),!s))return v(j[w].message),j}if(g&&!D&&Dt(E)){const{value:A,message:R}=Er(g);if(Cs(A)&&!E.match(A)&&(j[w]={type:Pt.pattern,message:R,ref:i,...F(Pt.pattern,R)},!s))return v(R),j}if(f){if(jt(f)){const A=await f(E,a),R=C0(A,N);if(R&&(j[w]={...R,...F(Pt.validate,R.message)},!s))return v(R.message),j}else if(Ie(f)){let A={};for(const R in f){if(!et(A)&&!s)break;const M=C0(await f[R](E,a),N,R);M&&(A={...M,...F(R,M.message)},v(M.message),s&&(j[w]=A))}if(!et(A)&&(j[w]={ref:N,...A},!s))return j}}return v(!0),j};const Pu={mode:wt.onSubmit,reValidateMode:wt.onChange,shouldFocusError:!0};function Ru(t={}){let r={...Pu,...t},a={submitCount:0,isDirty:!1,isReady:!1,isLoading:jt(r.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:r.errors||{},disabled:r.disabled||!1};const s={};let l=Ie(r.defaultValues)||Ie(r.values)?Ge(r.defaultValues||r.values)||{}:{},o=r.shouldUnregister?{}:Ge(l),i={action:!1,mount:!1,watch:!1},x={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},c,u=0;const h={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let d={...h};const p={array:f0(),state:f0()},g=r.criteriaMode===wt.all,f=$=>V=>{clearTimeout(u),u=setTimeout($,V)},w=async $=>{if(!r.disabled&&(h.isValid||d.isValid||$)){const V=r.resolver?et((await b()).errors):await D(s,!0);V!==a.isValid&&p.state.next({isValid:V})}},m=($,V)=>{!r.disabled&&(h.isValidating||h.validatingFields||d.isValidating||d.validatingFields)&&(($||Array.from(x.mount)).forEach(Z=>{Z&&(V?De(a.validatingFields,Z,V):Ve(a.validatingFields,Z))}),p.state.next({validatingFields:a.validatingFields,isValidating:!et(a.validatingFields)}))},B=($,V=[],Z,se,te=!0,K=!0)=>{if(se&&Z&&!r.disabled){if(i.action=!0,K&&Array.isArray(oe(s,$))){const le=Z(oe(s,$),se.argA,se.argB);te&&De(s,$,le)}if(K&&Array.isArray(oe(a.errors,$))){const le=Z(oe(a.errors,$),se.argA,se.argB);te&&De(a.errors,$,le),Fu(a.errors,$)}if((h.touchedFields||d.touchedFields)&&K&&Array.isArray(oe(a.touchedFields,$))){const le=Z(oe(a.touchedFields,$),se.argA,se.argB);te&&De(a.touchedFields,$,le)}(h.dirtyFields||d.dirtyFields)&&(a.dirtyFields=Lr(l,o)),p.state.next({name:$,isDirty:T($,V),dirtyFields:a.dirtyFields,errors:a.errors,isValid:a.isValid})}else De(o,$,V)},E=($,V)=>{De(a.errors,$,V),p.state.next({errors:a.errors})},N=$=>{a.errors=$,p.state.next({errors:a.errors,isValid:!1})},v=($,V,Z,se)=>{const te=oe(s,$);if(te){const K=oe(o,$,_e(Z)?oe(l,$):Z);_e(K)||se&&se.defaultChecked||V?De(o,$,V?K:w0(te._f)):M($,K),i.mount&&w()}},j=($,V,Z,se,te)=>{let K=!1,le=!1;const je={name:$};if(!r.disabled){if(!Z||se){(h.isDirty||d.isDirty)&&(le=a.isDirty,a.isDirty=je.isDirty=T(),K=le!==je.isDirty);const Ee=Ht(oe(l,$),V);le=!!oe(a.dirtyFields,$),Ee?Ve(a.dirtyFields,$):De(a.dirtyFields,$,!0),je.dirtyFields=a.dirtyFields,K=K||(h.dirtyFields||d.dirtyFields)&&le!==!Ee}if(Z){const Ee=oe(a.touchedFields,$);Ee||(De(a.touchedFields,$,Z),je.touchedFields=a.touchedFields,K=K||(h.touchedFields||d.touchedFields)&&Ee!==Z)}K&&te&&p.state.next(je)}return K?je:{}},k=($,V,Z,se)=>{const te=oe(a.errors,$),K=(h.isValid||d.isValid)&&At(V)&&a.isValid!==V;if(r.delayError&&Z?(c=f(()=>E($,Z)),c(r.delayError)):(clearTimeout(u),c=null,Z?De(a.errors,$,Z):Ve(a.errors,$)),(Z?!Ht(te,Z):te)||!et(se)||K){const le={...se,...K&&At(V)?{isValid:V}:{},errors:a.errors,name:$};a={...a,...le},p.state.next(le)}},b=async $=>{m($,!0);const V=await r.resolver(o,r.context,ku($||x.mount,s,r.criteriaMode,r.shouldUseNativeValidation));return m($),V},C=async $=>{const{errors:V}=await b($);if($)for(const Z of $){const se=oe(V,Z);se?De(a.errors,Z,se):Ve(a.errors,Z)}else a.errors=V;return V},D=async($,V,Z={valid:!0})=>{for(const se in $){const te=$[se];if(te){const{_f:K,...le}=te;if(K){const je=x.array.has(K.name),Ee=te._f&&Nu(te._f);Ee&&h.validatingFields&&m([se],!0);const Xe=await B0(te,x.disabled,o,g,r.shouldUseNativeValidation&&!V,je);if(Ee&&h.validatingFields&&m([se]),Xe[K.name]&&(Z.valid=!1,V))break;!V&&(oe(Xe,K.name)?je?Su(a.errors,Xe,K.name):De(a.errors,K.name,Xe[K.name]):Ve(a.errors,K.name))}!et(le)&&await D(le,V,Z)}}return Z.valid},F=()=>{for(const $ of x.unMount){const V=oe(s,$);V&&(V._f.refs?V._f.refs.every(Z=>!ra(Z)):!ra(V._f.ref))&&ae($)}x.unMount=new Set},T=($,V)=>!r.disabled&&($&&V&&De(o,$,V),!Ht(H(),l)),A=($,V,Z)=>yu($,x,{...i.mount?o:_e(V)?l:Dt($)?{[$]:V}:V},Z,V),R=$=>_a(oe(i.mount?o:l,$,r.shouldUnregister?oe(l,$,[]):[])),M=($,V,Z={})=>{const se=oe(s,$);let te=V;if(se){const K=se._f;K&&(!K.disabled&&De(o,$,Rn(V,K)),te=ks(K.ref)&&Qe(V)?"":V,Dn(K.ref)?[...K.ref.options].forEach(le=>le.selected=te.includes(le.value)):K.refs?ts(K.ref)?K.refs.forEach(le=>{(!le.defaultChecked||!le.disabled)&&(Array.isArray(te)?le.checked=!!te.find(je=>je===le.value):le.checked=te===le.value||!!te)}):K.refs.forEach(le=>le.checked=le.value===te):Va(K.ref)?K.ref.value="":(K.ref.value=te,K.ref.type||p.state.next({name:$,values:Ge(o)})))}(Z.shouldDirty||Z.shouldTouch)&&j($,te,Z.shouldTouch,Z.shouldDirty,!0),Z.shouldValidate&&S($)},_=($,V,Z)=>{for(const se in V){if(!V.hasOwnProperty(se))return;const te=V[se],K=$+"."+se,le=oe(s,K);(x.array.has($)||Ie(te)||le&&!le._f)&&!xr(te)?_(K,te,Z):M(K,te,Z)}},q=($,V,Z={})=>{const se=oe(s,$),te=x.array.has($),K=Ge(V);De(o,$,K),te?(p.array.next({name:$,values:Ge(o)}),(h.isDirty||h.dirtyFields||d.isDirty||d.dirtyFields)&&Z.shouldDirty&&p.state.next({name:$,dirtyFields:Lr(l,o),isDirty:T($,K)})):se&&!se._f&&!Qe(K)?_($,K,Z):M($,K,Z),k0($,x)&&p.state.next({...a}),p.state.next({name:i.mount?$:void 0,values:Ge(o)})},U=async $=>{i.mount=!0;const V=$.target;let Z=V.name,se=!0;const te=oe(s,Z),K=Ee=>{se=Number.isNaN(Ee)||xr(Ee)&&isNaN(Ee.getTime())||Ht(Ee,oe(o,Z,Ee))},le=j0(r.mode),je=j0(r.reValidateMode);if(te){let Ee,Xe;const yr=V.type?w0(te._f):mu($),St=$.type===p0.BLUR||$.type===p0.FOCUS_OUT,ne=!Cu(te._f)&&!r.resolver&&!oe(a.errors,Z)&&!te._f.deps||Du(St,oe(a.touchedFields,Z),a.isSubmitted,je,le),vr=k0(Z,x,St);De(o,Z,yr),St?(te._f.onBlur&&te._f.onBlur($),c&&c(0)):te._f.onChange&&te._f.onChange($);const wr=j(Z,yr,St),ss=!et(wr)||vr;if(!St&&p.state.next({name:Z,type:$.type,values:Ge(o)}),ne)return(h.isValid||d.isValid)&&(r.mode==="onBlur"?St&&w():St||w()),ss&&p.state.next({name:Z,...vr?{}:wr});if(!St&&vr&&p.state.next({...a}),r.resolver){const{errors:Sr}=await b([Z]);if(K(yr),se){const as=N0(a.errors,s,Z),Pr=N0(Sr,s,as.name||Z);Ee=Pr.error,Z=Pr.name,Xe=et(Sr)}}else m([Z],!0),Ee=(await B0(te,x.disabled,o,g,r.shouldUseNativeValidation))[Z],m([Z]),K(yr),se&&(Ee?Xe=!1:(h.isValid||d.isValid)&&(Xe=await D(s,!0)));se&&(te._f.deps&&S(te._f.deps),k(Z,Xe,Ee,wr))}},L=($,V)=>{if(oe(a.errors,V)&&$.focus)return $.focus(),1},S=async($,V={})=>{let Z,se;const te=Vr($);if(r.resolver){const K=await C(_e($)?$:te);Z=et(K),se=$?!te.some(le=>oe(K,le)):Z}else $?(se=(await Promise.all(te.map(async K=>{const le=oe(s,K);return await D(le&&le._f?{[K]:le}:le)}))).every(Boolean),!(!se&&!a.isValid)&&w()):se=Z=await D(s);return p.state.next({...!Dt($)||(h.isValid||d.isValid)&&Z!==a.isValid?{}:{name:$},...r.resolver||!$?{isValid:Z}:{},errors:a.errors}),V.shouldFocus&&!se&&zr(s,L,$?te:x.mount),se},H=$=>{const V={...i.mount?o:l};return _e($)?V:Dt($)?oe(V,$):$.map(Z=>oe(V,Z))},P=($,V)=>({invalid:!!oe((V||a).errors,$),isDirty:!!oe((V||a).dirtyFields,$),error:oe((V||a).errors,$),isValidating:!!oe(a.validatingFields,$),isTouched:!!oe((V||a).touchedFields,$)}),G=$=>{$&&Vr($).forEach(V=>Ve(a.errors,V)),p.state.next({errors:$?a.errors:{}})},z=($,V,Z)=>{const se=(oe(s,$,{_f:{}})._f||{}).ref,te=oe(a.errors,$)||{},{ref:K,message:le,type:je,...Ee}=te;De(a.errors,$,{...Ee,...V,ref:se}),p.state.next({name:$,errors:a.errors,isValid:!1}),Z&&Z.shouldFocus&&se&&se.focus&&se.focus()},O=($,V)=>jt($)?p.state.subscribe({next:Z=>$(A(void 0,V),Z)}):A($,V,!0),Y=$=>p.state.subscribe({next:V=>{Au($.name,V.name,$.exact)&&Bu(V,$.formState||h,Je,$.reRenderRoot)&&$.callback({values:{...o},...a,...V})}}).unsubscribe,X=$=>(i.mount=!0,d={...d,...$.formState},Y({...$,formState:d})),ae=($,V={})=>{for(const Z of $?Vr($):x.mount)x.mount.delete(Z),x.array.delete(Z),V.keepValue||(Ve(s,Z),Ve(o,Z)),!V.keepError&&Ve(a.errors,Z),!V.keepDirty&&Ve(a.dirtyFields,Z),!V.keepTouched&&Ve(a.touchedFields,Z),!V.keepIsValidating&&Ve(a.validatingFields,Z),!r.shouldUnregister&&!V.keepDefaultValue&&Ve(l,Z);p.state.next({values:Ge(o)}),p.state.next({...a,...V.keepDirty?{isDirty:T()}:{}}),!V.keepIsValid&&w()},me=({disabled:$,name:V})=>{(At($)&&i.mount||$||x.disabled.has(V))&&($?x.disabled.add(V):x.disabled.delete(V))},de=($,V={})=>{let Z=oe(s,$);const se=At(V.disabled)||At(r.disabled);return De(s,$,{...Z||{},_f:{...Z&&Z._f?Z._f:{ref:{name:$}},name:$,mount:!0,...V}}),x.mount.add($),Z?me({disabled:At(V.disabled)?V.disabled:r.disabled,name:$}):v($,!0,V.value),{...se?{disabled:V.disabled||r.disabled}:{},...r.progressive?{required:!!V.required,min:$r(V.min),max:$r(V.max),minLength:$r(V.minLength),maxLength:$r(V.maxLength),pattern:$r(V.pattern)}:{},name:$,onChange:U,onBlur:U,ref:te=>{if(te){de($,V),Z=oe(s,$);const K=_e(te.value)&&te.querySelectorAll&&te.querySelectorAll("input,select,textarea")[0]||te,le=wu(K),je=Z._f.refs||[];if(le?je.find(Ee=>Ee===K):K===Z._f.ref)return;De(s,$,{_f:{...Z._f,...le?{refs:[...je.filter(ra),K,...Array.isArray(oe(l,$))?[{}]:[]],ref:{type:K.type,name:$}}:{ref:K}}}),v($,!1,void 0,K)}else Z=oe(s,$,{}),Z._f&&(Z._f.mount=!1),(r.shouldUnregister||V.shouldUnregister)&&!(uu(x.array,$)&&i.action)&&x.unMount.add($)}}},Ce=()=>r.shouldFocusError&&zr(s,L,x.mount),xe=$=>{At($)&&(p.state.next({disabled:$}),zr(s,(V,Z)=>{const se=oe(s,Z);se&&(V.disabled=se._f.disabled||$,Array.isArray(se._f.refs)&&se._f.refs.forEach(te=>{te.disabled=se._f.disabled||$}))},0,!1))},fe=($,V)=>async Z=>{let se;Z&&(Z.preventDefault&&Z.preventDefault(),Z.persist&&Z.persist());let te=Ge(o);if(p.state.next({isSubmitting:!0}),r.resolver){const{errors:K,values:le}=await b();a.errors=K,te=le}else await D(s);if(x.disabled.size)for(const K of x.disabled)De(te,K,void 0);if(Ve(a.errors,"root"),et(a.errors)){p.state.next({errors:{}});try{await $(te,Z)}catch(K){se=K}}else V&&await V({...a.errors},Z),Ce(),setTimeout(Ce);if(p.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:et(a.errors)&&!se,submitCount:a.submitCount+1,errors:a.errors}),se)throw se},ce=($,V={})=>{oe(s,$)&&(_e(V.defaultValue)?q($,Ge(oe(l,$))):(q($,V.defaultValue),De(l,$,Ge(V.defaultValue))),V.keepTouched||Ve(a.touchedFields,$),V.keepDirty||(Ve(a.dirtyFields,$),a.isDirty=V.defaultValue?T($,Ge(oe(l,$))):T()),V.keepError||(Ve(a.errors,$),h.isValid&&w()),p.state.next({...a}))},be=($,V={})=>{const Z=$?Ge($):l,se=Ge(Z),te=et($),K=te?l:se;if(V.keepDefaultValues||(l=Z),!V.keepValues){if(V.keepDirtyValues){const le=new Set([...x.mount,...Object.keys(Lr(l,o))]);for(const je of Array.from(le))oe(a.dirtyFields,je)?De(K,je,oe(o,je)):q(je,oe(K,je))}else{if(Ia&&_e($))for(const le of x.mount){const je=oe(s,le);if(je&&je._f){const Ee=Array.isArray(je._f.refs)?je._f.refs[0]:je._f.ref;if(ks(Ee)){const Xe=Ee.closest("form");if(Xe){Xe.reset();break}}}}for(const le of x.mount)q(le,oe(K,le))}o=Ge(K),p.array.next({values:{...K}}),p.state.next({values:{...K}})}x={mount:V.keepDirtyValues?x.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},i.mount=!h.isValid||!!V.keepIsValid||!!V.keepDirtyValues,i.watch=!!r.shouldUnregister,p.state.next({submitCount:V.keepSubmitCount?a.submitCount:0,isDirty:te?!1:V.keepDirty?a.isDirty:!!(V.keepDefaultValues&&!Ht($,l)),isSubmitted:V.keepIsSubmitted?a.isSubmitted:!1,dirtyFields:te?{}:V.keepDirtyValues?V.keepDefaultValues&&o?Lr(l,o):a.dirtyFields:V.keepDefaultValues&&$?Lr(l,$):V.keepDirty?a.dirtyFields:{},touchedFields:V.keepTouched?a.touchedFields:{},errors:V.keepErrors?a.errors:{},isSubmitSuccessful:V.keepIsSubmitSuccessful?a.isSubmitSuccessful:!1,isSubmitting:!1})},Ae=($,V)=>be(jt($)?$(o):$,V),Te=($,V={})=>{const Z=oe(s,$),se=Z&&Z._f;if(se){const te=se.refs?se.refs[0]:se.ref;te.focus&&(te.focus(),V.shouldSelect&&jt(te.select)&&te.select())}},Je=$=>{a={...a,...$}},ee={control:{register:de,unregister:ae,getFieldState:P,handleSubmit:fe,setError:z,_subscribe:Y,_runSchema:b,_focusError:Ce,_getWatch:A,_getDirty:T,_setValid:w,_setFieldArray:B,_setDisabledField:me,_setErrors:N,_getFieldArray:R,_reset:be,_resetDefaultValues:()=>jt(r.defaultValues)&&r.defaultValues().then($=>{Ae($,r.resetOptions),p.state.next({isLoading:!1})}),_removeUnmounted:F,_disableForm:xe,_subjects:p,_proxyFormState:h,get _fields(){return s},get _formValues(){return o},get _state(){return i},set _state($){i=$},get _defaultValues(){return l},get _names(){return x},set _names($){x=$},get _formState(){return a},get _options(){return r},set _options($){r={...r,...$}}},subscribe:X,trigger:S,register:de,handleSubmit:fe,watch:O,setValue:q,getValues:H,reset:Ae,resetField:ce,clearErrors:G,unregister:ae,setError:z,setFocus:Te,getFieldState:P};return{...ee,formControl:ee}}function Jt(t={}){const r=re.useRef(void 0),a=re.useRef(void 0),[s,l]=re.useState({isDirty:!1,isValidating:!1,isLoading:jt(t.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1,isReady:!1,defaultValues:jt(t.defaultValues)?void 0:t.defaultValues});if(!r.current)if(t.formControl)r.current={...t.formControl,formState:s},t.defaultValues&&!jt(t.defaultValues)&&t.formControl.reset(t.defaultValues,t.resetOptions);else{const{formControl:i,...x}=Ru(t);r.current={...x,formState:s}}const o=r.current.control;return o._options=t,bu(()=>{const i=o._subscribe({formState:o._proxyFormState,callback:()=>l({...o._formState}),reRenderRoot:!0});return l(x=>({...x,isReady:!0})),o._formState.isReady=!0,i},[o]),re.useEffect(()=>o._disableForm(t.disabled),[o,t.disabled]),re.useEffect(()=>{t.mode&&(o._options.mode=t.mode),t.reValidateMode&&(o._options.reValidateMode=t.reValidateMode)},[o,t.mode,t.reValidateMode]),re.useEffect(()=>{t.errors&&(o._setErrors(t.errors),o._focusError())},[o,t.errors]),re.useEffect(()=>{t.shouldUnregister&&o._subjects.state.next({values:o._getWatch()})},[o,t.shouldUnregister]),re.useEffect(()=>{if(o._proxyFormState.isDirty){const i=o._getDirty();i!==s.isDirty&&o._subjects.state.next({isDirty:i})}},[o,s.isDirty]),re.useEffect(()=>{t.values&&!Ht(t.values,a.current)?(o._reset(t.values,o._options.resetOptions),a.current=t.values,l(i=>({...i}))):o._resetDefaultValues()},[o,t.values]),re.useEffect(()=>{o._state.mount||(o._setValid(),o._state.mount=!0),o._state.watch&&(o._state.watch=!1,o._subjects.state.next({...o._formState})),o._removeUnmounted()}),r.current.formState=fu(s,o),r.current}function Mu(t={}){const{nonce:r,onScriptLoadSuccess:a,onScriptLoadError:s}=t,[l,o]=n.useState(!1),i=n.useRef(a);i.current=a;const x=n.useRef(s);return x.current=s,n.useEffect(()=>{const c=document.createElement("script");return c.src="https://accounts.google.com/gsi/client",c.async=!0,c.defer=!0,c.nonce=r,c.onload=()=>{var u;o(!0),(u=i.current)===null||u===void 0||u.call(i)},c.onerror=()=>{var u;o(!1),(u=x.current)===null||u===void 0||u.call(x)},document.body.appendChild(c),()=>{document.body.removeChild(c)}},[r]),l}const Ln=n.createContext(null);function Lu({clientId:t,nonce:r,onScriptLoadSuccess:a,onScriptLoadError:s,children:l}){const o=Mu({nonce:r,onScriptLoadSuccess:a,onScriptLoadError:s}),i=n.useMemo(()=>({clientId:t,scriptLoadedSuccessfully:o}),[t,o]);return re.createElement(Ln.Provider,{value:i},l)}function $u(){const t=n.useContext(Ln);if(!t)throw new Error("Google OAuth components must be used within GoogleOAuthProvider");return t}function Tu(t){var r;return(r=t==null?void 0:t.clientId)!==null&&r!==void 0?r:t==null?void 0:t.client_id}const Iu={large:40,medium:32,small:20};function _u({onSuccess:t,onError:r,useOneTap:a,promptMomentNotification:s,type:l="standard",theme:o="outline",size:i="large",text:x,shape:c,logo_alignment:u,width:h,locale:d,click_listener:p,containerProps:g,...f}){const w=n.useRef(null),{clientId:m,scriptLoadedSuccessfully:B}=$u(),E=n.useRef(t);E.current=t;const N=n.useRef(r);N.current=r;const v=n.useRef(s);return v.current=s,n.useEffect(()=>{var j,k,b,C,D,F,T,A,R;if(B)return(b=(k=(j=window==null?void 0:window.google)===null||j===void 0?void 0:j.accounts)===null||k===void 0?void 0:k.id)===null||b===void 0||b.initialize({client_id:m,callback:M=>{var _;if(!(M!=null&&M.credential))return(_=N.current)===null||_===void 0?void 0:_.call(N);const{credential:q,select_by:U}=M;E.current({credential:q,clientId:Tu(M),select_by:U})},...f}),(F=(D=(C=window==null?void 0:window.google)===null||C===void 0?void 0:C.accounts)===null||D===void 0?void 0:D.id)===null||F===void 0||F.renderButton(w.current,{type:l,theme:o,size:i,text:x,shape:c,logo_alignment:u,width:h,locale:d,click_listener:p}),a&&((R=(A=(T=window==null?void 0:window.google)===null||T===void 0?void 0:T.accounts)===null||A===void 0?void 0:A.id)===null||R===void 0||R.prompt(v.current)),()=>{var M,_,q;a&&((q=(_=(M=window==null?void 0:window.google)===null||M===void 0?void 0:M.accounts)===null||_===void 0?void 0:_.id)===null||q===void 0||q.cancel())}},[m,B,a,l,o,i,x,c,u,h,d]),re.createElement("div",{...g,ref:w,style:{height:Iu[i],...g==null?void 0:g.style}})}const Ua=({className:t="",onSuccess:r})=>{const{loginWithGoogle:a}=pe(),s=we(),l=async i=>{try{(await a(i.credential)).success&&(r&&r(),s("/dashboard"))}catch(x){console.error("Google login error:",x)}},o=()=>{console.error("Google login failed")};return e.jsx("div",{className:t,children:e.jsx(_u,{onSuccess:l,onError:o,theme:"outline",size:"large",width:"100%",text:"continue_with"})})},Ou=({isOpen:t,onClose:r,type:a})=>{const[s,l]=n.useState(a||"login"),[o,i]=n.useState(!1),{login:x,register:c}=pe(),u=we(),{register:h,handleSubmit:d,watch:p,reset:g,formState:{errors:f,isSubmitting:w}}=Jt(),m=p("password");n.useEffect(()=>{a&&l(a)},[a]),n.useEffect(()=>{t&&g()},[t,s,g]);const B=async N=>{try{let v;if(s==="register"){const{confirmPassword:j,...k}=N;k.role=k.role||"dog_owner",v=await c(k)}else v=await x(N);v.success&&(r(),u("/dashboard"))}catch(v){console.error("Auth error:",v)}},E=()=>{l(N=>N==="login"?"register":"login"),g()};return e.jsx(qe,{appear:!0,show:t,as:n.Fragment,children:e.jsxs(ht,{as:"div",className:"relative z-50",onClose:r,children:[e.jsx(qe.Child,{as:n.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 backdrop-blur-sm"})}),e.jsx("div",{className:"fixed inset-0 overflow-y-auto",children:e.jsx("div",{className:"flex min-h-full items-center justify-center p-4 text-center",children:e.jsx(qe.Child,{as:n.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0 scale-95",enterTo:"opacity-100 scale-100",leave:"ease-in duration-200",leaveFrom:"opacity-100 scale-100",leaveTo:"opacity-0 scale-95",children:e.jsxs(ht.Panel,{className:"w-full max-w-lg transform overflow-hidden rounded-2xl bg-white shadow-xl transition-all",children:[e.jsx("div",{className:"bg-gradient-to-r from-purple-600 to-indigo-600 text-white p-6",children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"bg-white/20 rounded-lg p-2",children:s==="login"?e.jsx(kr,{className:"h-6 w-6"}):e.jsx(hr,{className:"h-6 w-6"})}),e.jsxs("div",{children:[e.jsx(ht.Title,{as:"h3",className:"text-xl font-bold",children:s==="login"?"Welcome Back! 👋":"Join Our Community! 🎉"}),e.jsx("p",{className:"text-purple-100 text-sm",children:s==="login"?"Sign in to access your account":"Create your account and start connecting"})]})]}),e.jsx("button",{type:"button",className:"text-white/80 hover:text-white transition-colors",onClick:r,children:e.jsx(he,{className:"h-6 w-6"})})]})}),e.jsxs("div",{className:"p-6",children:[e.jsxs("form",{onSubmit:d(B),className:"space-y-5",children:[s==="register"&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"firstName",className:"block text-sm font-medium text-gray-700 mb-2",children:"👤 First Name"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{...h("firstName",{required:"First name is required"}),type:"text",className:"w-full rounded-xl border border-gray-200 bg-gray-50 px-4 py-3 pl-12 text-base focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-purple-500 focus:bg-white transition-all duration-200",placeholder:"First name"}),e.jsx(Tt,{className:"h-5 w-5 text-gray-400 absolute left-4 top-1/2 transform -translate-y-1/2"})]}),f.firstName&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:f.firstName.message})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"lastName",className:"block text-sm font-medium text-gray-700 mb-2",children:"👤 Last Name"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{...h("lastName",{required:"Last name is required"}),type:"text",className:"w-full rounded-xl border border-gray-200 bg-gray-50 px-4 py-3 pl-12 text-base focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-purple-500 focus:bg-white transition-all duration-200",placeholder:"Last name"}),e.jsx(Tt,{className:"h-5 w-5 text-gray-400 absolute left-4 top-1/2 transform -translate-y-1/2"})]}),f.lastName&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:f.lastName.message})]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"username",className:"block text-sm font-medium text-gray-700 mb-2",children:"🏷️ Username"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{...h("username",{required:"Username is required",minLength:{value:3,message:"Username must be at least 3 characters"}}),type:"text",className:"w-full rounded-xl border border-gray-200 bg-gray-50 px-4 py-3 pl-12 text-base focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-purple-500 focus:bg-white transition-all duration-200",placeholder:"Choose a username"}),e.jsx(Tt,{className:"h-5 w-5 text-gray-400 absolute left-4 top-1/2 transform -translate-y-1/2"})]}),f.username&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:f.username.message})]}),e.jsxs("div",{children:[e.jsxs("label",{htmlFor:"phone",className:"block text-sm font-medium text-gray-700 mb-2",children:["📱 Phone ",e.jsx("span",{className:"text-gray-400",children:"(optional)"})]}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{...h("phone"),type:"tel",className:"w-full rounded-xl border border-gray-200 bg-gray-50 px-4 py-3 pl-12 text-base focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-purple-500 focus:bg-white transition-all duration-200",placeholder:"Phone number"}),e.jsx(Kr,{className:"h-5 w-5 text-gray-400 absolute left-4 top-1/2 transform -translate-y-1/2"})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-2",children:"📧 Email Address"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{...h("email",{required:"Email is required",pattern:{value:/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,}$/i,message:"Invalid email address"}}),type:"email",className:"w-full rounded-xl border border-gray-200 bg-gray-50 px-4 py-3 pl-12 text-base focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-purple-500 focus:bg-white transition-all duration-200",placeholder:"Enter your email"}),e.jsx(Xt,{className:"h-5 w-5 text-gray-400 absolute left-4 top-1/2 transform -translate-y-1/2"})]}),f.email&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:f.email.message})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-2",children:"🔐 Password"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{...h("password",{required:"Password is required",minLength:{value:6,message:"Password must be at least 6 characters"}}),type:o?"text":"password",className:"w-full rounded-xl border border-gray-200 bg-gray-50 px-4 py-3 pl-12 pr-12 text-base focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-purple-500 focus:bg-white transition-all duration-200",placeholder:"Enter your password"}),e.jsx(Kt,{className:"h-5 w-5 text-gray-400 absolute left-4 top-1/2 transform -translate-y-1/2"}),e.jsx("button",{type:"button",className:"absolute right-4 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",onClick:()=>i(!o),children:o?e.jsx(gn,{className:"h-5 w-5"}):e.jsx(at,{className:"h-5 w-5"})})]}),f.password&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:f.password.message})]}),s==="register"&&e.jsxs("div",{children:[e.jsx("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-gray-700 mb-2",children:"🔑 Confirm Password"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{...h("confirmPassword",{required:"Please confirm your password",validate:N=>N===m||"Passwords do not match"}),type:"password",className:"w-full rounded-xl border border-gray-200 bg-gray-50 px-4 py-3 pl-12 text-base focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-purple-500 focus:bg-white transition-all duration-200",placeholder:"Confirm your password"}),e.jsx(Kt,{className:"h-5 w-5 text-gray-400 absolute left-4 top-1/2 transform -translate-y-1/2"})]}),f.confirmPassword&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:f.confirmPassword.message})]}),e.jsx("button",{type:"submit",disabled:w,className:"w-full flex items-center justify-center py-3 px-4 bg-gradient-to-r from-purple-600 to-indigo-600 text-white font-medium rounded-xl hover:from-purple-700 hover:to-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-purple-500 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200 transform hover:scale-105",children:w?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white mr-2"}),s==="login"?"Signing in...":"Creating account..."]}):e.jsx(e.Fragment,{children:s==="login"?e.jsxs(e.Fragment,{children:[e.jsx(kr,{className:"h-5 w-5 mr-2"}),"Sign In"]}):e.jsxs(e.Fragment,{children:[e.jsx(Me,{className:"h-5 w-5 mr-2"}),"Create Account"]})})})]}),e.jsxs("div",{className:"mt-6",children:[e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-0 flex items-center",children:e.jsx("div",{className:"w-full border-t border-gray-300"})}),e.jsx("div",{className:"relative flex justify-center text-sm",children:e.jsx("span",{className:"px-2 bg-white text-gray-500",children:"Or continue with"})})]}),e.jsx("div",{className:"mt-6",children:e.jsx(Ua,{onSuccess:r})})]}),e.jsx("div",{className:"mt-6 text-center",children:e.jsxs("p",{className:"text-gray-600",children:[s==="login"?"Don't have an account?":"Already have an account?"," ",e.jsx("button",{type:"button",onClick:E,className:"font-medium text-purple-600 hover:text-purple-500 transition-colors duration-200",children:s==="login"?"Create a new account":"Sign in to existing account"})]})})]})]})})})})]})})},Vu=()=>{const[t,r]=n.useState("en"),[a,s]=n.useState(!1),[l,o]=n.useState("login"),{isAuthenticated:i}=pe(),x=we();n.useEffect(()=>{i&&x("/dashboard")},[i,x]);const c=()=>{r(p=>p==="en"?"he":"en")},u=p=>{o(p),s(!0)},h=()=>{s(!1)},d=(p,g)=>t==="he"?g:p;return e.jsxs("div",{className:`min-h-screen bg-white ${t==="he"?"rtl":""}`,dir:t==="he"?"rtl":"ltr",children:[e.jsx("header",{className:"fixed top-0 w-full bg-white/90 backdrop-blur-md border-b border-gray-100 z-50",children:e.jsxs("nav",{className:"max-w-6xl mx-auto flex justify-between items-center px-6 py-4",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-10 h-10 bg-gradient-to-r from-green-500 to-emerald-600 rounded-full flex items-center justify-center",children:e.jsx(Oe,{className:"h-5 w-5 text-white"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-lg font-semibold text-gray-900",children:d("PawPals","PawPals")}),e.jsx("p",{className:"text-xs text-gray-500 -mt-0.5",children:d("Community","Community")})]})]}),e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("button",{onClick:c,className:"text-sm text-gray-600 hover:text-gray-900 px-3 py-2 rounded-lg hover:bg-gray-50 transition-colors",children:t==="he"?"English":"עברית"}),e.jsx("button",{onClick:()=>u("login"),className:"text-sm text-gray-600 hover:text-gray-900 px-4 py-2 rounded-lg hover:bg-gray-50 transition-colors",children:d("Sign In","התחבר")}),e.jsx("button",{onClick:()=>u("register"),className:"text-sm bg-green-500 text-white px-4 py-2 rounded-lg hover:bg-green-600 transition-colors",children:d("Join","הצטרף")})]})]})}),e.jsx("section",{className:"pt-24 pb-16 px-6",children:e.jsx("div",{className:"max-w-6xl mx-auto",children:e.jsxs("div",{className:"grid md:grid-cols-2 gap-12 items-center",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"inline-flex items-center gap-2 bg-green-50 text-green-700 px-4 py-2 rounded-full text-sm font-medium mb-6",children:[e.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full animate-pulse"}),d("500+ dog owners already joined","כבר 500+ בעלי כלבים הצטרפו")]}),e.jsx("h1",{className:"text-4xl md:text-5xl font-semibold text-gray-900 mb-6 leading-tight",children:d("Find the perfect dog park for your furry friend","מצא את גן הכלבים המושלם עבור החבר הפרוותי שלך")}),e.jsx("p",{className:"text-lg text-gray-600 mb-8 leading-relaxed",children:d("Connect with local dog owners, discover safe parks, and make sure your dog gets the exercise and socialization they need.","התחבר עם בעלי כלבים מקומיים, גלה פארקים בטוחים וודא שהכלב שלך מקבל את הפעילות והחברתיות שהם צריכים.")}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 mb-8",children:[e.jsxs("button",{onClick:()=>u("register"),className:"bg-green-500 text-white px-8 py-3 rounded-lg font-medium hover:bg-green-600 transition-colors inline-flex items-center justify-center gap-2",children:[d("Get Started Free","התחל בחינם"),e.jsx(kr,{className:"h-4 w-4"})]}),e.jsxs(ge,{to:"/gardens",className:"text-gray-700 border border-gray-300 px-8 py-3 rounded-lg font-medium hover:bg-gray-50 transition-colors inline-flex items-center justify-center gap-2",children:[e.jsx(ye,{className:"h-4 w-4"}),d("Browse Parks","עיין בפארקים")]})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-8 max-w-sm",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-2xl font-semibold text-gray-900",children:"49"}),e.jsx("div",{className:"text-sm text-gray-600",children:d("Parks","פארקים")})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-2xl font-semibold text-gray-900",children:"500+"}),e.jsx("div",{className:"text-sm text-gray-600",children:d("Members","חברים")})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-2xl font-semibold text-gray-900",children:"1.2K+"}),e.jsx("div",{className:"text-sm text-gray-600",children:d("Dogs","כלבים")})]})]})]}),e.jsx("div",{className:"relative",children:e.jsxs("div",{className:"relative rounded-2xl overflow-hidden shadow-2xl",children:[e.jsx("img",{src:"https://images.unsplash.com/photo-1601758228041-f3b2795255f1?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1000&q=80",alt:"Happy dogs playing in park",className:"w-full h-[500px] object-cover"}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/20 to-transparent"}),e.jsx("div",{className:"absolute top-6 left-6 bg-white/95 backdrop-blur-sm rounded-lg p-3 shadow-lg",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-8 h-8 bg-green-500 rounded-full flex items-center justify-center",children:e.jsx(It,{className:"h-4 w-4 text-white"})}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-medium text-gray-900",children:d("3 dogs playing now","3 כלבים משחקים עכשיו")}),e.jsx("div",{className:"text-xs text-gray-600",children:d("Yarkon Park","פארק הירקון")})]})]})}),e.jsx("div",{className:"absolute bottom-6 right-6 bg-white/95 backdrop-blur-sm rounded-lg p-3 shadow-lg",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-8 h-8 bg-yellow-500 rounded-full flex items-center justify-center",children:e.jsx(We,{className:"h-4 w-4 text-white"})}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-medium text-gray-900",children:"4.8/5"}),e.jsx("div",{className:"text-xs text-gray-600",children:d("Average rating","דירוג ממוצע")})]})]})})]})})]})})}),e.jsxs("section",{className:"py-16 bg-gray-50 relative overflow-hidden",children:[e.jsx("div",{className:"absolute inset-0",children:e.jsx("img",{src:"https://images.unsplash.com/photo-1568572933382-74d440642117?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=2000&q=80",alt:"Dog park landscape",className:"w-full h-full object-cover opacity-5"})}),e.jsxs("div",{className:"max-w-5xl mx-auto px-6 relative z-10",children:[e.jsxs("div",{className:"text-center mb-12",children:[e.jsx("h2",{className:"text-3xl font-semibold text-gray-900 mb-4",children:d("Everything you need","כל מה שאתה צריך")}),e.jsx("p",{className:"text-lg text-gray-600 max-w-2xl mx-auto",children:d("Simple tools to help you and your dog make the most of your local dog parks","כלים פשוטים שיעזרו לך ולכלב שלך להפיק את המרב מגני הכלבים המקומיים")})]}),e.jsx("div",{className:"grid md:grid-cols-3 gap-8",children:[{icon:It,image:"https://images.unsplash.com/photo-1544568100-847a948585b9?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=800&q=80",title:d("See who's there","ראה מי שם"),description:d("Check real-time activity before you go. See which dogs are there and plan the perfect playdate.","בדוק פעילות בזמן אמת לפני שאתה הולך. ראה איזה כלבים שם ותכנן מפגש משחק מושלם.")},{icon:ut,image:"https://images.unsplash.com/photo-1558788353-f76d92427f16?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=800&q=80",title:d("Connect with neighbors","התחבר עם שכנים"),description:d("Chat with other dog owners in your area. Share tips and arrange playdates.","צ'אט עם בעלי כלבים אחרים באזור. שתף טיפים ותאם מפגשי משחק.")},{icon:We,image:"https://images.unsplash.com/photo-1583512603805-3cc6b41f3edb?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=800&q=80",title:d("Reviews and ratings","ביקורות ודירוגים"),description:d("Read honest reviews from other dog owners about cleanliness, safety, and facilities.","קרא ביקורות כנות מבעלי כלבים אחרים על ניקיון, בטיחות ומתקנים.")}].map((p,g)=>e.jsxs("div",{className:"bg-white p-6 rounded-xl border border-gray-200 hover:border-green-300 transition-all duration-300 hover:shadow-lg group",children:[e.jsx("div",{className:"mb-4 rounded-lg overflow-hidden",children:e.jsx("img",{src:p.image,alt:p.title,className:"w-full h-40 object-cover group-hover:scale-105 transition-transform duration-300"})}),e.jsx("div",{className:"w-10 h-10 bg-green-100 rounded-lg flex items-center justify-center mb-4",children:e.jsx(p.icon,{className:"h-5 w-5 text-green-600"})}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:p.title}),e.jsx("p",{className:"text-gray-600 leading-relaxed",children:p.description})]},g))})]})]}),e.jsx("section",{className:"py-16 bg-white relative",children:e.jsxs("div",{className:"max-w-4xl mx-auto px-6",children:[e.jsxs("div",{className:"text-center mb-12",children:[e.jsx("h2",{className:"text-3xl font-semibold text-gray-900 mb-4",children:d("How it works","איך זה עובד")}),e.jsx("div",{className:"w-32 h-24 mx-auto mb-6 rounded-lg overflow-hidden",children:e.jsx("img",{src:"https://images.unsplash.com/photo-1415369629372-26f2fe60c467?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=800&q=80",alt:"Dogs playing together",className:"w-full h-full object-cover"})})]}),e.jsx("div",{className:"grid md:grid-cols-3 gap-8",children:[{step:"1",image:"https://images.unsplash.com/photo-1516734212186-a967f81ad0d7?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=800&q=80",title:d("Find a park","מצא פארק"),description:d("Browse nearby dog parks and check who's currently there","עיין בגני כלבים קרובים ובדוק מי נמצא שם כרגע")},{step:"2",image:"https://images.unsplash.com/photo-1548199973-03cce0bbc87b?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=800&q=80",title:d("Check in","עשה צ'ק-אין"),description:d("Let others know you're there with a quick check-in","תן לאחרים לדעת שאתה שם עם צ'ק-אין מהיר")},{step:"3",image:"https://images.unsplash.com/photo-1601758228041-f3b2795255f1?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=800&q=80",title:d("Connect & play","התחבר ושחק"),description:d("Meet new friends and arrange future playdates","פגוש חברים חדשים ותאם מפגשי משחק עתידיים")}].map((p,g)=>e.jsxs("div",{className:"text-center group",children:[e.jsxs("div",{className:"relative mb-6",children:[e.jsx("div",{className:"w-full h-32 rounded-lg overflow-hidden mb-4",children:e.jsx("img",{src:p.image,alt:p.title,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-300"})}),e.jsx("div",{className:"w-12 h-12 bg-green-500 text-white rounded-full flex items-center justify-center text-lg font-semibold mx-auto -mt-6 relative z-10 border-4 border-white shadow-lg",children:p.step})]}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:p.title}),e.jsx("p",{className:"text-gray-600",children:p.description})]},g))})]})}),e.jsxs("section",{className:"py-16 bg-green-50 relative overflow-hidden",children:[e.jsx("div",{className:"absolute inset-0",children:e.jsx("img",{src:"https://images.unsplash.com/photo-1587300003388-59208cc962cb?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=2000&q=80",alt:"Happy dog owners in park",className:"w-full h-full object-cover opacity-5"})}),e.jsxs("div",{className:"max-w-4xl mx-auto px-6 relative z-10",children:[e.jsxs("div",{className:"text-center mb-12",children:[e.jsx("h2",{className:"text-3xl font-semibold text-gray-900 mb-4",children:d("What dog owners say","מה בעלי כלבים אומרים")}),e.jsx("div",{className:"w-32 h-20 mx-auto mb-6 rounded-lg overflow-hidden",children:e.jsx("img",{src:"https://images.unsplash.com/photo-1552053831-71594a27632d?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=800&q=80",alt:"Happy dog and owner",className:"w-full h-full object-cover"})})]}),e.jsx("div",{className:"grid md:grid-cols-2 gap-8",children:[{name:d("Sarah & Max","שרה ומקס"),image:"https://images.unsplash.com/photo-1438761681033-6461ffad8d80?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=400&q=80",text:d("This app has been a game changer for us. We've met so many great dogs and their owners.","האפליקציה הזו שינתה עבורנו את המשחק. פגשנו כל כך הרבה כלבים נהדרים ובעליהם.")},{name:d("David & Luna","דוד ולונה"),image:"https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=400&q=80",text:d("I love being able to see who's at the park before I make the trip. Perfect for planning.","אני אוהב שאני יכול לראות מי בפארק לפני שאני עושה את הנסיעה. מושלם לתכנון.")}].map((p,g)=>e.jsxs("div",{className:"bg-white p-6 rounded-xl border border-gray-200 shadow-lg hover:shadow-xl transition-shadow duration-300",children:[e.jsxs("p",{className:"text-gray-700 mb-4 italic text-lg",children:['"',p.text,'"']}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"w-12 h-12 rounded-full overflow-hidden mr-3",children:e.jsx("img",{src:p.image,alt:p.name,className:"w-full h-full object-cover"})}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-gray-900",children:p.name}),e.jsx("div",{className:"text-sm text-gray-500",children:d("Dog Parent","הורה לכלב")})]})]})]},g))})]})]}),e.jsx("section",{className:"py-16",children:e.jsxs("div",{className:"max-w-3xl mx-auto text-center px-6",children:[e.jsx("h2",{className:"text-3xl font-semibold text-gray-900 mb-4",children:d("Ready to get started?","מוכן להתחיל?")}),e.jsx("p",{className:"text-lg text-gray-600 mb-8",children:d("Join our community and help your dog make new friends today.","הצטרף לקהילה שלנו ועזור לכלב שלך לרכוש חברים חדשים היום.")}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[e.jsxs("button",{onClick:()=>u("register"),className:"bg-green-500 text-white px-8 py-3 rounded-lg font-medium hover:bg-green-600 transition-colors inline-flex items-center justify-center gap-2",children:[d("Join for Free","הצטרף בחינם"),e.jsx(kr,{className:"h-4 w-4"})]}),e.jsxs(ge,{to:"/gardens",className:"text-green-600 border border-green-300 px-8 py-3 rounded-lg font-medium hover:bg-green-50 transition-colors inline-flex items-center justify-center gap-2",children:[e.jsx(ye,{className:"h-4 w-4"}),d("Explore Parks","חקור פארקים")]})]})]})}),e.jsx("footer",{className:"border-t border-gray-200 py-12 bg-gray-50",children:e.jsxs("div",{className:"max-w-4xl mx-auto px-6",children:[e.jsxs("div",{className:"grid md:grid-cols-3 gap-8",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[e.jsx("div",{className:"w-8 h-8 bg-gradient-to-r from-green-500 to-emerald-600 rounded-full flex items-center justify-center",children:e.jsx(Oe,{className:"h-4 w-4 text-white"})}),e.jsx("span",{className:"font-medium text-gray-900",children:d("Dog Parks Community","קהילת גני כלבים")})]}),e.jsx("p",{className:"text-gray-600 text-sm",children:d("Connecting dog owners and helping dogs find their perfect playmates.","מחבר בעלי כלבים ומסייע לכלבים למצוא את חברי המשחק המושלמים שלהם.")})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-medium text-gray-900 mb-4",children:d("Features","תכונות")}),e.jsxs("div",{className:"space-y-2 text-sm text-gray-600",children:[e.jsx("p",{children:d("Real-time park activity","פעילות פארק בזמן אמת")}),e.jsx("p",{children:d("Dog profiles","פרופילי כלבים")}),e.jsx("p",{children:d("Community chat","צ'אט קהילה")}),e.jsx("p",{children:d("Park reviews","ביקורות פארק")})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-medium text-gray-900 mb-4",children:d("Get Started","התחל")}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("button",{onClick:()=>u("register"),className:"block text-sm text-gray-600 hover:text-green-600 transition-colors",children:d("Join the community","הצטרף לקהילה")}),e.jsx(ge,{to:"/gardens",className:"block text-sm text-gray-600 hover:text-green-600 transition-colors",children:d("Browse parks","עיין בפארקים")}),e.jsx(ge,{to:"/public-events",className:"block text-sm text-gray-600 hover:text-green-600 transition-colors",children:d("View events","צפה באירועים")})]})]})]}),e.jsx("div",{className:"border-t border-gray-200 mt-8 pt-8 text-center text-sm text-gray-500",children:e.jsx("p",{children:d("© 2025 Dog Parks Community. Made with love for dogs and their humans.","© 2025 קהילת גני כלבים. נוצר באהבה עבור כלבים ובני האדם שלהם.")})})]})}),a&&e.jsx(Ou,{isOpen:a,onClose:h,type:l})]})},zu=()=>{const{login:t}=pe(),r=we(),{register:a,handleSubmit:s,formState:{errors:l,isSubmitting:o}}=Jt(),i=async x=>{(await t(x)).success&&r("/dashboard")};return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-indigo-50 flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"max-w-md w-full",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-600 rounded-full w-20 h-20 flex items-center justify-center mx-auto mb-6",children:e.jsx("div",{className:"text-3xl",children:"🐕"})}),e.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Welcome Back! 👋"}),e.jsx("p",{className:"text-gray-600",children:"Sign in to manage your furry friends and explore amazing dog parks"})]}),e.jsxs("div",{className:"bg-white rounded-2xl shadow-lg border border-gray-100 overflow-hidden",children:[e.jsx("div",{className:"px-8 py-6 border-b border-gray-100 bg-gradient-to-r from-blue-50 to-indigo-50",children:e.jsxs("h3",{className:"text-xl font-bold text-gray-900 text-center flex items-center justify-center",children:[e.jsx(x0,{className:"h-6 w-6 text-blue-600 mr-2"}),"Sign In"]})}),e.jsxs("div",{className:"p-8",children:[e.jsxs("form",{onSubmit:s(i),className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-2",children:"📧 Email Address"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{...a("email",{required:"Email is required",pattern:{value:/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,}$/i,message:"Invalid email address"}}),type:"email",autoComplete:"email",className:"w-full rounded-xl border border-gray-200 bg-gray-50 px-4 py-3 pl-12 text-base focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 focus:bg-white transition-all duration-200",placeholder:"Enter your email address"}),e.jsx(vn,{className:"h-5 w-5 text-gray-400 absolute left-4 top-1/2 transform -translate-y-1/2"})]}),l.email&&e.jsxs("p",{className:"mt-2 text-sm text-red-600 flex items-center",children:[e.jsx(he,{className:"h-4 w-4 mr-1"}),l.email.message]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-2",children:"🔐 Password"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{...a("password",{required:"Password is required"}),type:"password",autoComplete:"current-password",className:"w-full rounded-xl border border-gray-200 bg-gray-50 px-4 py-3 pl-12 text-base focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 focus:bg-white transition-all duration-200",placeholder:"Enter your password"}),e.jsx(x0,{className:"h-5 w-5 text-gray-400 absolute left-4 top-1/2 transform -translate-y-1/2"})]}),l.password&&e.jsxs("p",{className:"mt-2 text-sm text-red-600 flex items-center",children:[e.jsx(he,{className:"h-4 w-4 mr-1"}),l.password.message]})]}),e.jsx("button",{type:"submit",disabled:o,className:"w-full flex items-center justify-center py-3 px-4 bg-gradient-to-r from-blue-600 to-indigo-600 text-white font-medium rounded-xl hover:from-blue-700 hover:to-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200 transform hover:scale-105",children:o?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white mr-2"}),"Signing in..."]}):e.jsxs(e.Fragment,{children:[e.jsx(kr,{className:"h-5 w-5 mr-2"}),"Sign In"]})})]}),e.jsxs("div",{className:"mt-6",children:[e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-0 flex items-center",children:e.jsx("div",{className:"w-full border-t border-gray-300"})}),e.jsx("div",{className:"relative flex justify-center text-sm",children:e.jsx("span",{className:"px-2 bg-white text-gray-500",children:"Or continue with"})})]}),e.jsx("div",{className:"mt-6",children:e.jsx(Ua,{})})]})]})]}),e.jsx("div",{className:"mt-6 text-center",children:e.jsxs("p",{className:"text-gray-600",children:["Don't have an account?"," ",e.jsxs(ge,{to:"/register",className:"inline-flex items-center font-medium text-blue-600 hover:text-blue-500 transition-colors duration-200",children:[e.jsx(hr,{className:"h-4 w-4 mr-1"}),"Create a new account"]})]})}),e.jsxs("div",{className:"mt-8 bg-white rounded-2xl shadow-lg border border-gray-100 p-6",children:[e.jsxs("h4",{className:"text-lg font-semibold text-gray-900 mb-4 text-center flex items-center justify-center",children:[e.jsx(Oe,{className:"h-5 w-5 text-red-500 mr-2"}),"Why Join Our Community?"]}),e.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[e.jsxs("div",{className:"flex items-center p-3 bg-blue-50 rounded-xl",children:[e.jsx("div",{className:"text-2xl mr-3",children:"🏞️"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-900",children:"Find Dog Parks"}),e.jsx("p",{className:"text-xs text-gray-600",children:"Discover amazing places for your dogs"})]})]}),e.jsxs("div",{className:"flex items-center p-3 bg-green-50 rounded-xl",children:[e.jsx("div",{className:"text-2xl mr-3",children:"👥"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-900",children:"Meet Other Owners"}),e.jsx("p",{className:"text-xs text-gray-600",children:"Connect with fellow dog lovers"})]})]}),e.jsxs("div",{className:"flex items-center p-3 bg-purple-50 rounded-xl",children:[e.jsx("div",{className:"text-2xl mr-3",children:"📱"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-900",children:"Track Visits"}),e.jsx("p",{className:"text-xs text-gray-600",children:"Monitor your dog's activities"})]})]})]})]})]})})},Uu=()=>{const{register:t}=pe(),r=we(),{register:a,handleSubmit:s,watch:l,formState:{errors:o,isSubmitting:i}}=Jt(),x=l("password"),c=async u=>{const{confirmPassword:h,...d}=u;(await t(d)).success&&r("/dashboard")};return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-green-50 via-white to-emerald-50 flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"max-w-lg w-full",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("div",{className:"bg-gradient-to-r from-green-600 to-emerald-600 rounded-full w-20 h-20 flex items-center justify-center mx-auto mb-6",children:e.jsx("div",{className:"text-3xl",children:"🌟"})}),e.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Join Our Community! 🎉"}),e.jsx("p",{className:"text-gray-600",children:"Create your account and start connecting with fellow dog lovers"})]}),e.jsxs("div",{className:"bg-white rounded-2xl shadow-lg border border-gray-100 overflow-hidden",children:[e.jsx("div",{className:"px-8 py-6 border-b border-gray-100 bg-gradient-to-r from-green-50 to-emerald-50",children:e.jsxs("h3",{className:"text-xl font-bold text-gray-900 text-center flex items-center justify-center",children:[e.jsx(gg,{className:"h-6 w-6 text-green-600 mr-2"}),"Create Account"]})}),e.jsxs("div",{className:"p-8",children:[e.jsxs("form",{onSubmit:s(c),className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"firstName",className:"block text-sm font-medium text-gray-700 mb-2",children:"👤 First Name"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{...a("firstName",{required:"First name is required"}),type:"text",className:"w-full rounded-xl border border-gray-200 bg-gray-50 px-4 py-3 pl-12 text-base focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-green-500 focus:bg-white transition-all duration-200",placeholder:"First name"}),e.jsx(d0,{className:"h-5 w-5 text-gray-400 absolute left-4 top-1/2 transform -translate-y-1/2"})]}),o.firstName&&e.jsxs("p",{className:"mt-1 text-sm text-red-600 flex items-center",children:[e.jsx(he,{className:"h-3 w-3 mr-1"}),o.firstName.message]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"lastName",className:"block text-sm font-medium text-gray-700 mb-2",children:"👤 Last Name"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{...a("lastName",{required:"Last name is required"}),type:"text",className:"w-full rounded-xl border border-gray-200 bg-gray-50 px-4 py-3 pl-12 text-base focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-green-500 focus:bg-white transition-all duration-200",placeholder:"Last name"}),e.jsx(d0,{className:"h-5 w-5 text-gray-400 absolute left-4 top-1/2 transform -translate-y-1/2"})]}),o.lastName&&e.jsxs("p",{className:"mt-1 text-sm text-red-600 flex items-center",children:[e.jsx(he,{className:"h-3 w-3 mr-1"}),o.lastName.message]})]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"username",className:"block text-sm font-medium text-gray-700 mb-2",children:"🏷️ Username"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{...a("username",{required:"Username is required",minLength:{value:3,message:"Username must be at least 3 characters"}}),type:"text",className:"w-full rounded-xl border border-gray-200 bg-gray-50 px-4 py-3 pl-12 text-base focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-green-500 focus:bg-white transition-all duration-200",placeholder:"Choose a unique username"}),e.jsx(fa,{className:"h-5 w-5 text-gray-400 absolute left-4 top-1/2 transform -translate-y-1/2"})]}),o.username&&e.jsxs("p",{className:"mt-1 text-sm text-red-600 flex items-center",children:[e.jsx(he,{className:"h-4 w-4 mr-1"}),o.username.message]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-2",children:"📧 Email Address"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{...a("email",{required:"Email is required",pattern:{value:/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,}$/i,message:"Invalid email address"}}),type:"email",className:"w-full rounded-xl border border-gray-200 bg-gray-50 px-4 py-3 pl-12 text-base focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-green-500 focus:bg-white transition-all duration-200",placeholder:"Enter your email address"}),e.jsx(Xt,{className:"h-5 w-5 text-gray-400 absolute left-4 top-1/2 transform -translate-y-1/2"})]}),o.email&&e.jsxs("p",{className:"mt-1 text-sm text-red-600 flex items-center",children:[e.jsx(he,{className:"h-4 w-4 mr-1"}),o.email.message]})]}),e.jsxs("div",{children:[e.jsxs("label",{htmlFor:"phone",className:"block text-sm font-medium text-gray-700 mb-2",children:["📱 Phone Number ",e.jsx("span",{className:"text-gray-400",children:"(optional)"})]}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{...a("phone"),type:"tel",className:"w-full rounded-xl border border-gray-200 bg-gray-50 px-4 py-3 pl-12 text-base focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-green-500 focus:bg-white transition-all duration-200",placeholder:"Enter your phone number"}),e.jsx(Kr,{className:"h-5 w-5 text-gray-400 absolute left-4 top-1/2 transform -translate-y-1/2"})]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"role",className:"block text-sm font-medium text-gray-700 mb-2",children:"🎭 Account Type"}),e.jsxs("select",{...a("role"),className:"w-full rounded-xl border border-gray-200 bg-gray-50 px-4 py-3 text-base focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-green-500 focus:bg-white transition-all duration-200",children:[e.jsx("option",{value:"dog_owner",children:"🐕 Dog Owner"}),e.jsx("option",{value:"garden_manager",children:"🌳 Garden Manager"})]}),e.jsxs("p",{className:"mt-1 text-xs text-gray-500 flex items-center",children:[e.jsx(jn,{className:"h-3 w-3 mr-1 text-purple-400"}),'Choose "Garden Manager" if you want to create and manage dog parks']})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-2",children:"🔐 Password"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{...a("password",{required:"Password is required",minLength:{value:6,message:"Password must be at least 6 characters"}}),type:"password",className:"w-full rounded-xl border border-gray-200 bg-gray-50 px-4 py-3 pl-12 text-base focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-green-500 focus:bg-white transition-all duration-200",placeholder:"Create password"}),e.jsx(Kt,{className:"h-5 w-5 text-gray-400 absolute left-4 top-1/2 transform -translate-y-1/2"})]}),o.password&&e.jsxs("p",{className:"mt-1 text-sm text-red-600 flex items-center",children:[e.jsx(he,{className:"h-3 w-3 mr-1"}),o.password.message]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-gray-700 mb-2",children:"🔑 Confirm Password"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{...a("confirmPassword",{required:"Please confirm your password",validate:u=>u===x||"Passwords do not match"}),type:"password",className:"w-full rounded-xl border border-gray-200 bg-gray-50 px-4 py-3 pl-12 text-base focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-green-500 focus:bg-white transition-all duration-200",placeholder:"Confirm password"}),e.jsx(Kt,{className:"h-5 w-5 text-gray-400 absolute left-4 top-1/2 transform -translate-y-1/2"})]}),o.confirmPassword&&e.jsxs("p",{className:"mt-1 text-sm text-red-600 flex items-center",children:[e.jsx(he,{className:"h-3 w-3 mr-1"}),o.confirmPassword.message]})]})]}),e.jsx("button",{type:"submit",disabled:i,className:"w-full flex items-center justify-center py-3 px-4 bg-gradient-to-r from-green-600 to-emerald-600 text-white font-medium rounded-xl hover:from-green-700 hover:to-emerald-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200 transform hover:scale-105",children:i?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white mr-2"}),"Creating account..."]}):e.jsxs(e.Fragment,{children:[e.jsx(Me,{className:"h-5 w-5 mr-2"}),"Create Account"]})})]}),e.jsxs("div",{className:"mt-6",children:[e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-0 flex items-center",children:e.jsx("div",{className:"w-full border-t border-gray-300"})}),e.jsx("div",{className:"relative flex justify-center text-sm",children:e.jsx("span",{className:"px-2 bg-white text-gray-500",children:"Or continue with"})})]}),e.jsx("div",{className:"mt-6",children:e.jsx(Ua,{})})]})]})]}),e.jsx("div",{className:"mt-6 text-center",children:e.jsxs("p",{className:"text-gray-600",children:["Already have an account?"," ",e.jsxs(ge,{to:"/login",className:"inline-flex items-center font-medium text-green-600 hover:text-green-500 transition-colors duration-200",children:[e.jsx(kr,{className:"h-4 w-4 mr-1"}),"Sign in to existing account"]})]})}),e.jsxs("div",{className:"mt-8 bg-white rounded-2xl shadow-lg border border-gray-100 p-6",children:[e.jsxs("h4",{className:"text-lg font-semibold text-gray-900 mb-4 text-center flex items-center justify-center",children:[e.jsx(Oe,{className:"h-5 w-5 text-red-500 mr-2"}),"What You'll Get"]}),e.jsxs("div",{className:"grid grid-cols-1 gap-3",children:[e.jsxs("div",{className:"flex items-center p-3 bg-green-50 rounded-xl",children:[e.jsx("div",{className:"text-xl mr-3",children:"✅"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-900",children:"Free Account"}),e.jsx("p",{className:"text-xs text-gray-600",children:"No subscription fees, ever!"})]})]}),e.jsxs("div",{className:"flex items-center p-3 bg-blue-50 rounded-xl",children:[e.jsx("div",{className:"text-xl mr-3",children:"🎯"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-900",children:"Personalized Experience"}),e.jsx("p",{className:"text-xs text-gray-600",children:"Tailored recommendations for you and your dogs"})]})]}),e.jsxs("div",{className:"flex items-center p-3 bg-purple-50 rounded-xl",children:[e.jsx("div",{className:"text-xl mr-3",children:"🏆"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-900",children:"Community Access"}),e.jsx("p",{className:"text-xs text-gray-600",children:"Join thousands of dog lovers nationwide"})]})]})]})]})]})})},Se={async getAllGardens(t={}){return(await Q.get("/gardens",{params:t})).data},async getGardenById(t){return(await Q.get(`/gardens/${t}`)).data},async createGarden(t){return(await Q.post("/gardens",t)).data},async updateGarden(t,r){return(await Q.put(`/gardens/${t}`,r)).data},async deleteGarden(t){return(await Q.delete(`/gardens/${t}`)).data},async getCurrentVisitors(t){return(await Q.get(`/gardens/${t}/visitors`)).data},async updateCustomProfile(t,r){return(await Q.put(`/gardens/${t}/custom-profile`,r)).data},async getMyGardens(){return(await Q.get("/gardens/my-gardens")).data},async getNearbyGardens(t,r,a=10){try{return(await Q.get("/gardens/nearby",{params:{lat:t,lng:r,radius:a}})).data}catch(s){return console.warn("Backend gardens API failed:",s.message),{gardens:[],total:0,error:s.message}}},async subscribeToNewsletter(t,r={}){return(await Q.post(`/gardens/${t}/newsletter/subscribe`,{preferences:r})).data},async unsubscribeFromNewsletter(t){return(await Q.delete(`/gardens/${t}/newsletter/unsubscribe`)).data},async getNewsletterStatus(t){return(await Q.get(`/gardens/${t}/newsletter/status`)).data},async getNewsletterSubscribers(t,r={}){return(await Q.get(`/gardens/${t}/newsletter/subscribers`,{params:r})).data},async getNewsletterStats(t){return(await Q.get(`/gardens/${t}/newsletter/stats`)).data},async sendNewsletter(t,r){return(await Q.post(`/gardens/${t}/newsletter/send`,r)).data}},A0=Object.freeze(Object.defineProperty({__proto__:null,gardenService:Se},Symbol.toStringTag,{value:"Module"})),it={async getMyDogs(){return(await Q.get("/dogs")).data},async getDogById(t){return(await Q.get(`/dogs/${t}`)).data},async createDog(t){return(await Q.post("/dogs",t)).data},async updateDog(t,r){return(await Q.put(`/dogs/${t}`,r)).data},async deleteDog(t){return(await Q.delete(`/dogs/${t}`)).data},async getDogPublicProfile(t){return(await Q.get(`/dogs/profile/${t}`)).data},async updateCustomProfile(t,r){return(await Q.put(`/dogs/${t}/custom-profile`,r)).data}},D0=Object.freeze(Object.defineProperty({__proto__:null,dogService:it},Symbol.toStringTag,{value:"Module"})),Et={async checkIn(t){return(await Q.post("/visits/checkin",t)).data},async checkOut(t){return(await Q.post("/visits/checkout",t)).data},async getMyVisits(t={}){return(await Q.get("/visits/my-visits",{params:t})).data},async getActiveVisit(){return(await Q.get("/visits/active")).data}},qu=Object.freeze(Object.defineProperty({__proto__:null,visitService:Et},Symbol.toStringTag,{value:"Module"})),W=({className:t="",variant:r="text"})=>{const a="animate-pulse bg-gray-200 dark:bg-gray-700 rounded",s={text:"h-4",title:"h-6",avatar:"w-10 h-10 rounded-full",card:"h-32",button:"h-10 w-24",image:"h-48 w-full"};return e.jsx("div",{className:`${a} ${s[r]} ${t}`})},Gu=()=>e.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900",children:e.jsxs("div",{className:"max-w-lg mx-auto",children:[e.jsxs("div",{className:"bg-gradient-to-br from-gray-300 to-gray-400 dark:from-gray-600 dark:to-gray-700 mx-4 mt-4 rounded-3xl p-6 animate-pulse",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx(W,{variant:"title",className:"w-48 mb-2 bg-gray-400 dark:bg-gray-600"}),e.jsx(W,{variant:"text",className:"w-32 bg-gray-400 dark:bg-gray-600"})]}),e.jsxs("div",{className:"text-right",children:[e.jsx(W,{variant:"text",className:"w-8 h-4 mb-1 bg-gray-400 dark:bg-gray-600"}),e.jsx(W,{variant:"text",className:"w-12 h-3 bg-gray-400 dark:bg-gray-600"})]})]}),e.jsxs("div",{className:"flex items-center mb-4",children:[e.jsx(W,{variant:"text",className:"w-32 bg-gray-400 dark:bg-gray-600"}),e.jsx(W,{variant:"text",className:"w-16 ml-auto bg-gray-400 dark:bg-gray-600"})]}),e.jsx("div",{className:"w-full bg-gray-400 dark:bg-gray-600 rounded-full h-2 animate-pulse"})]}),e.jsxs("div",{className:"px-4 mt-6",children:[e.jsx(W,{variant:"title",className:"w-32 mb-4"}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl p-6 border border-gray-100 dark:border-gray-700",children:[e.jsx(W,{variant:"avatar",className:"w-12 h-12 mx-auto mb-3"}),e.jsx(W,{variant:"text",className:"w-16 mx-auto"})]}),e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl p-6 border border-gray-100 dark:border-gray-700",children:[e.jsx(W,{variant:"avatar",className:"w-12 h-12 mx-auto mb-3"}),e.jsx(W,{variant:"text",className:"w-16 mx-auto"})]})]})]}),e.jsx("div",{className:"px-4 mt-6",children:e.jsx("div",{className:"grid grid-cols-3 gap-4",children:[1,2,3].map(t=>e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl p-4 text-center border border-gray-100 dark:border-gray-700",children:[e.jsx(W,{variant:"title",className:"w-12 h-8 mx-auto mb-2"}),e.jsx(W,{variant:"text",className:"w-16 h-3 mx-auto"})]},t))})})]})}),Os=()=>e.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900",children:e.jsxs("div",{className:"max-w-lg mx-auto lg:max-w-7xl px-1 sm:px-0",children:[e.jsxs("div",{className:"bg-gradient-to-br from-gray-300 to-gray-400 dark:from-gray-600 dark:to-gray-700 mx-2 sm:mx-4 mt-2 sm:mt-4 rounded-2xl sm:rounded-3xl p-4 sm:p-6 animate-pulse",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between mb-4 space-y-3 sm:space-y-0",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx(W,{variant:"title",className:"w-48 mb-2 bg-gray-400 dark:bg-gray-600"}),e.jsx(W,{variant:"text",className:"w-64 mb-3 bg-gray-400 dark:bg-gray-600"}),e.jsxs("div",{className:"flex space-x-4",children:[e.jsx(W,{variant:"text",className:"w-20 bg-gray-400 dark:bg-gray-600"}),e.jsx(W,{variant:"text",className:"w-20 bg-gray-400 dark:bg-gray-600"})]})]}),e.jsx("div",{className:"hidden sm:block",children:e.jsx(W,{variant:"avatar",className:"w-16 h-16 bg-gray-400 dark:bg-gray-600"})})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[e.jsx(W,{variant:"button",className:"w-full h-12 bg-gray-400 dark:bg-gray-600"}),e.jsx(W,{variant:"button",className:"w-full h-12 bg-gray-400 dark:bg-gray-600"})]})]}),e.jsxs("div",{className:"px-2 sm:px-4 py-4 sm:py-6",children:[e.jsx("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-3 sm:gap-4 mb-4 sm:mb-6",children:[1,2,3,4].map(t=>e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl sm:rounded-3xl p-3 sm:p-4 text-center border border-gray-100 dark:border-gray-700",children:[e.jsx(W,{variant:"avatar",className:"w-6 sm:w-8 h-6 sm:h-8 mx-auto mb-2"}),e.jsx(W,{variant:"title",className:"w-16 h-6 sm:h-8 mx-auto mb-1"}),e.jsx(W,{variant:"text",className:"w-20 h-3 mx-auto"})]},t))}),e.jsx("div",{className:"space-y-6",children:[1,2].map(t=>e.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-2xl sm:rounded-3xl border border-gray-100 dark:border-gray-700",children:e.jsxs("div",{className:"p-3 sm:p-6",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between mb-4 space-y-2 sm:space-y-0",children:[e.jsx(W,{variant:"title",className:"w-40"}),e.jsx(W,{variant:"text",className:"w-16 h-6 rounded-full"})]}),e.jsx(W,{variant:"text",className:"w-full h-12 mb-4 rounded-2xl"}),e.jsx("div",{className:"space-y-3",children:[1,2,3].map(r=>e.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 dark:bg-gray-700 rounded-xl",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(W,{variant:"avatar",className:"w-8 sm:w-10 h-8 sm:h-10"}),e.jsxs("div",{children:[e.jsx(W,{variant:"text",className:"w-32 mb-1"}),e.jsx(W,{variant:"text",className:"w-48 h-3"})]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(W,{variant:"text",className:"w-20 h-6 rounded-full"}),e.jsx(W,{variant:"button",className:"w-8 h-8 rounded-lg"}),e.jsx(W,{variant:"button",className:"w-8 h-8 rounded-lg"})]})]},r))})]})},t))})]})]})}),Hu=()=>e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-100 to-gray-200 dark:from-gray-800 dark:to-gray-900",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[e.jsx("div",{className:"bg-gradient-to-r from-gray-300 to-gray-400 dark:from-gray-600 dark:to-gray-700 rounded-3xl p-8 mb-8 animate-pulse",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx(W,{variant:"title",className:"w-80 h-10 mb-4 bg-gray-400 dark:bg-gray-600"}),e.jsx(W,{variant:"text",className:"w-96 h-6 mb-4 bg-gray-400 dark:bg-gray-600"}),e.jsxs("div",{className:"flex space-x-6",children:[e.jsx(W,{variant:"text",className:"w-32 bg-gray-400 dark:bg-gray-600"}),e.jsx(W,{variant:"text",className:"w-32 bg-gray-400 dark:bg-gray-600"})]})]}),e.jsx("div",{className:"hidden md:block",children:e.jsx(W,{variant:"avatar",className:"w-20 h-20 bg-gray-400 dark:bg-gray-600"})})]})}),e.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-3xl shadow-lg border border-gray-100 dark:border-gray-700 p-6 mb-8",children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx(W,{variant:"title",className:"w-64 mb-2"}),e.jsx(W,{variant:"text",className:"w-80"})]}),e.jsx(W,{variant:"button",className:"w-48 h-12 rounded-xl"})]})}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[1,2,3,4,5,6].map(t=>e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-3xl shadow-lg border border-gray-100 dark:border-gray-700 overflow-hidden",children:[e.jsx(W,{variant:"image",className:"rounded-none"}),e.jsxs("div",{className:"p-6",children:[e.jsx(W,{variant:"title",className:"w-40 mb-2"}),e.jsx(W,{variant:"text",className:"w-full mb-4"}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx(W,{variant:"text",className:"w-24 h-6 rounded-full"}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsx(W,{variant:"button",className:"w-8 h-8 rounded-lg"}),e.jsx(W,{variant:"button",className:"w-8 h-8 rounded-lg"}),e.jsx(W,{variant:"button",className:"w-8 h-8 rounded-lg"})]})]})]})]},t))})]})}),Wu=()=>e.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx(W,{variant:"title",className:"w-64 h-8 mb-4"}),e.jsx(W,{variant:"text",className:"w-96 mb-6"}),e.jsx(W,{variant:"text",className:"w-full h-12 rounded-2xl"})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[1,2,3,4,5,6].map(t=>e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow-lg border border-gray-100 dark:border-gray-700 overflow-hidden",children:[e.jsx(W,{variant:"image",className:"rounded-none"}),e.jsxs("div",{className:"p-6",children:[e.jsx(W,{variant:"title",className:"w-40 mb-2"}),e.jsx(W,{variant:"text",className:"w-full mb-2"}),e.jsx(W,{variant:"text",className:"w-32 mb-4"}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx(W,{variant:"text",className:"w-20 h-6 rounded-full"}),e.jsx(W,{variant:"button",className:"w-24 h-8 rounded-lg"})]})]})]},t))})]})}),Zu=()=>e.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx(W,{variant:"title",className:"w-48 h-8 mb-4"}),e.jsx(W,{variant:"text",className:"w-80 mb-6"}),e.jsxs("div",{className:"flex space-x-4",children:[e.jsx(W,{variant:"button",className:"w-32 h-10 rounded-xl"}),e.jsx(W,{variant:"button",className:"w-32 h-10 rounded-xl"})]})]}),e.jsx("div",{className:"space-y-6",children:[1,2,3,4].map(t=>e.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow-lg border border-gray-100 dark:border-gray-700 p-6",children:e.jsxs("div",{className:"flex items-start space-x-4",children:[e.jsx(W,{variant:"avatar",className:"w-16 h-16 rounded-2xl"}),e.jsxs("div",{className:"flex-1",children:[e.jsx(W,{variant:"title",className:"w-64 mb-2"}),e.jsx(W,{variant:"text",className:"w-full mb-2"}),e.jsx(W,{variant:"text",className:"w-48 mb-4"}),e.jsxs("div",{className:"flex space-x-4",children:[e.jsx(W,{variant:"text",className:"w-24 h-6 rounded-full"}),e.jsx(W,{variant:"text",className:"w-32 h-6 rounded-full"})]})]}),e.jsx(W,{variant:"button",className:"w-24 h-10 rounded-xl"})]})},t))})]})}),Qu=()=>e.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900",children:e.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[e.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-3xl shadow-lg border border-gray-100 dark:border-gray-700 p-8 mb-8",children:e.jsxs("div",{className:"flex items-center space-x-6",children:[e.jsx(W,{variant:"avatar",className:"w-24 h-24"}),e.jsxs("div",{className:"flex-1",children:[e.jsx(W,{variant:"title",className:"w-48 mb-2"}),e.jsx(W,{variant:"text",className:"w-64 mb-4"}),e.jsxs("div",{className:"flex space-x-4",children:[e.jsx(W,{variant:"text",className:"w-32 h-6 rounded-full"}),e.jsx(W,{variant:"text",className:"w-32 h-6 rounded-full"})]})]}),e.jsx(W,{variant:"button",className:"w-32 h-10 rounded-xl"})]})}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[e.jsx("div",{className:"lg:col-span-2",children:e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-3xl shadow-lg border border-gray-100 dark:border-gray-700 p-6",children:[e.jsx(W,{variant:"title",className:"w-32 mb-4"}),e.jsx("div",{className:"space-y-4",children:[1,2,3].map(t=>e.jsxs("div",{className:"flex items-center space-x-4 p-4 bg-gray-50 dark:bg-gray-700 rounded-xl",children:[e.jsx(W,{variant:"avatar",className:"w-12 h-12"}),e.jsxs("div",{className:"flex-1",children:[e.jsx(W,{variant:"text",className:"w-32 mb-1"}),e.jsx(W,{variant:"text",className:"w-48 h-3"})]})]},t))})]})}),e.jsx("div",{className:"space-y-6",children:e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-3xl shadow-lg border border-gray-100 dark:border-gray-700 p-6",children:[e.jsx(W,{variant:"title",className:"w-24 mb-4"}),e.jsx("div",{className:"space-y-3",children:[1,2,3].map(t=>e.jsx(W,{variant:"text",className:"w-full h-8 rounded-lg"},t))})]})})]})]})}),Yu=()=>e.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900",children:e.jsxs("div",{className:"max-w-lg mx-auto",children:[e.jsxs("div",{className:"bg-gradient-to-br from-gray-300 to-gray-400 dark:from-gray-600 dark:to-gray-700 mx-4 mt-4 rounded-3xl p-6 animate-pulse",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx(W,{variant:"title",className:"w-48 mb-2 bg-gray-400 dark:bg-gray-600"}),e.jsx(W,{variant:"text",className:"w-32 bg-gray-400 dark:bg-gray-600"})]}),e.jsxs("div",{className:"text-right",children:[e.jsx(W,{variant:"text",className:"w-20 h-4 mb-1 bg-gray-400 dark:bg-gray-600"}),e.jsx(W,{variant:"text",className:"w-24 h-3 bg-gray-400 dark:bg-gray-600"})]})]}),e.jsx(W,{variant:"text",className:"w-64 bg-gray-400 dark:bg-gray-600"})]}),e.jsxs("div",{className:"px-4 mt-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx(W,{variant:"title",className:"w-32"}),e.jsx(W,{variant:"text",className:"w-16 h-6 rounded-full"})]}),e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-3xl shadow-lg border border-gray-100 dark:border-gray-700",children:[e.jsxs("div",{className:"bg-gradient-to-r from-gray-300 to-gray-400 dark:from-gray-600 dark:to-gray-700 p-4 animate-pulse",children:[e.jsx(W,{variant:"title",className:"w-48 mb-1 bg-gray-400 dark:bg-gray-600"}),e.jsx(W,{variant:"text",className:"w-64 bg-gray-400 dark:bg-gray-600"})]}),e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-6",children:[e.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700 rounded-xl p-4 text-center",children:[e.jsx(W,{variant:"title",className:"w-16 h-8 mx-auto mb-1"}),e.jsx(W,{variant:"text",className:"w-20 h-3 mx-auto"})]}),e.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700 rounded-xl p-4 text-center",children:[e.jsx(W,{variant:"title",className:"w-8 h-8 mx-auto mb-1"}),e.jsx(W,{variant:"text",className:"w-16 h-3 mx-auto"})]})]}),e.jsx("div",{className:"space-y-3",children:[1,2].map(t=>e.jsxs("div",{className:"flex items-center p-3 bg-gray-50 dark:bg-gray-700 rounded-xl",children:[e.jsx(W,{variant:"avatar",className:"w-10 h-10 mr-3"}),e.jsxs("div",{className:"flex-1",children:[e.jsx(W,{variant:"text",className:"w-24 mb-1"}),e.jsx(W,{variant:"text",className:"w-16 h-3"})]})]},t))}),e.jsx(W,{variant:"button",className:"w-full h-12 mt-6 rounded-xl"})]})]})]})]})}),Ju=()=>e.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900",children:e.jsxs("div",{className:"max-w-lg mx-auto",children:[e.jsxs("div",{className:"bg-gradient-to-br from-gray-300 to-gray-400 dark:from-gray-600 dark:to-gray-700 mx-4 mt-4 rounded-3xl p-6 animate-pulse",children:[e.jsx(W,{variant:"button",className:"w-24 h-10 mb-4 bg-gray-400 dark:bg-gray-600 rounded-xl"}),e.jsxs("div",{className:"flex space-x-2 mb-3",children:[e.jsx(W,{variant:"text",className:"w-20 h-6 rounded-full bg-gray-400 dark:bg-gray-600"}),e.jsx(W,{variant:"text",className:"w-16 h-6 rounded-full bg-gray-400 dark:bg-gray-600"})]}),e.jsx(W,{variant:"title",className:"w-48 mb-2 bg-gray-400 dark:bg-gray-600"}),e.jsx(W,{variant:"text",className:"w-64 mb-4 bg-gray-400 dark:bg-gray-600"}),e.jsx("div",{className:"grid grid-cols-3 gap-4",children:[1,2,3].map(t=>e.jsxs("div",{className:"bg-gray-400 dark:bg-gray-600 rounded-xl p-3 text-center animate-pulse",children:[e.jsx(W,{variant:"text",className:"w-12 h-6 mx-auto mb-1 bg-gray-500 dark:bg-gray-500"}),e.jsx(W,{variant:"text",className:"w-16 h-3 mx-auto bg-gray-500 dark:bg-gray-500"})]},t))})]}),e.jsxs("div",{className:"px-4 mt-6",children:[e.jsx("div",{className:"flex space-x-1 bg-gray-100 dark:bg-gray-800 rounded-2xl p-1 mb-6",children:[1,2,3].map(t=>e.jsx(W,{variant:"button",className:"flex-1 h-10 rounded-xl"},t))}),e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-3xl shadow-lg border border-gray-100 dark:border-gray-700 p-6",children:[e.jsx(W,{variant:"title",className:"w-32 mb-4"}),e.jsx("div",{className:"space-y-4",children:[1,2,3,4].map(t=>e.jsxs("div",{className:"flex items-center space-x-3 p-3 bg-gray-50 dark:bg-gray-700 rounded-xl",children:[e.jsx(W,{variant:"avatar",className:"w-6 h-6"}),e.jsx(W,{variant:"text",className:"flex-1"})]},t))})]}),e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-3xl shadow-lg border border-gray-100 dark:border-gray-700 p-6 mt-6",children:[e.jsx(W,{variant:"title",className:"w-40 mb-4"}),e.jsx("div",{className:"grid grid-cols-1 gap-3 mb-4",children:[1,2].map(t=>e.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 dark:bg-gray-700 rounded-xl",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(W,{variant:"avatar",className:"w-10 h-10"}),e.jsxs("div",{children:[e.jsx(W,{variant:"text",className:"w-20 mb-1"}),e.jsx(W,{variant:"text",className:"w-16 h-3"})]})]}),e.jsx(W,{variant:"button",className:"w-8 h-8 rounded-lg"})]},t))}),e.jsx(W,{variant:"button",className:"w-full h-12 rounded-xl"})]})]})]})}),Xu=()=>e.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900",children:e.jsxs("div",{className:"max-w-lg mx-auto lg:max-w-7xl",children:[e.jsxs("div",{className:"bg-gradient-to-br from-gray-300 to-gray-400 dark:from-gray-600 dark:to-gray-700 mx-4 mt-4 rounded-3xl p-6 animate-pulse",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx(W,{variant:"title",className:"w-48 mb-2 bg-gray-400 dark:bg-gray-600"}),e.jsx(W,{variant:"text",className:"w-32 bg-gray-400 dark:bg-gray-600"})]}),e.jsx(W,{variant:"avatar",className:"w-12 h-12 bg-gray-400 dark:bg-gray-600"})]}),e.jsx(W,{variant:"button",className:"w-full h-12 bg-gray-400 dark:bg-gray-600 rounded-2xl"})]}),e.jsxs("div",{className:"px-4 py-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx(W,{variant:"title",className:"w-24"}),e.jsx(W,{variant:"button",className:"w-24 h-10 rounded-2xl"})]}),e.jsx("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2 lg:grid-cols-3",children:[1,2,3,4,5,6].map(t=>e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-3xl overflow-hidden shadow-lg border border-gray-100 dark:border-gray-700",children:[e.jsx(W,{variant:"image",className:"h-48 rounded-none"}),e.jsxs("div",{className:"p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx(W,{variant:"text",className:"w-24"}),e.jsx(W,{variant:"text",className:"w-8"})]}),e.jsx(W,{variant:"text",className:"w-32 mb-3"}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsx(W,{variant:"button",className:"flex-1 h-8 rounded-lg"}),e.jsx(W,{variant:"button",className:"flex-1 h-8 rounded-lg"})]})]})]},t))})]})]})}),Ku=()=>e.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900",children:e.jsxs("div",{className:"max-w-lg mx-auto lg:max-w-7xl",children:[e.jsxs("div",{className:"bg-gradient-to-br from-gray-300 to-gray-400 dark:from-gray-600 dark:to-gray-700 mx-4 mt-4 rounded-3xl p-6 animate-pulse",children:[e.jsx(W,{variant:"title",className:"w-48 mb-2 bg-gray-400 dark:bg-gray-600"}),e.jsx(W,{variant:"text",className:"w-32 bg-gray-400 dark:bg-gray-600"})]}),e.jsxs("div",{className:"px-4 py-6",children:[e.jsx(W,{variant:"text",className:"w-full h-12 rounded-3xl mb-6"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[1,2,3,4,5,6].map(t=>e.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-3xl shadow-lg border border-gray-100 dark:border-gray-700 p-6",children:e.jsxs("div",{className:"text-center",children:[e.jsx(W,{variant:"avatar",className:"w-16 h-16 mx-auto mb-3"}),e.jsx(W,{variant:"text",className:"w-32 mx-auto mb-2"}),e.jsx(W,{variant:"text",className:"w-24 mx-auto mb-4 h-3"}),e.jsx(W,{variant:"button",className:"w-full h-10 rounded-xl"})]})},t))})]})]})}),eh=()=>e.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900",children:e.jsxs("div",{className:"max-w-lg mx-auto",children:[e.jsxs("div",{className:"bg-gradient-to-br from-gray-300 to-gray-400 dark:from-gray-600 dark:to-gray-700 mx-4 mt-4 rounded-3xl p-6 animate-pulse",children:[e.jsx(W,{variant:"title",className:"w-40 mb-2 bg-gray-400 dark:bg-gray-600"}),e.jsx(W,{variant:"text",className:"w-32 bg-gray-400 dark:bg-gray-600"})]}),e.jsx("div",{className:"px-4 py-6",children:e.jsx("div",{className:"space-y-3",children:[1,2,3,4,5,6].map(t=>e.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow-lg border border-gray-100 dark:border-gray-700 p-4",children:e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx(W,{variant:"avatar",className:"w-10 h-10 rounded-xl"}),e.jsxs("div",{className:"flex-1",children:[e.jsx(W,{variant:"text",className:"w-48 mb-2"}),e.jsx(W,{variant:"text",className:"w-full mb-1 h-3"}),e.jsx(W,{variant:"text",className:"w-24 h-3"})]}),e.jsx(W,{variant:"text",className:"w-8 h-8 rounded-full"})]})},t))})})]})}),th=()=>e.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900",children:e.jsxs("div",{className:"max-w-4xl mx-auto px-4 py-8",children:[e.jsx(W,{variant:"button",className:"w-24 h-10 mb-6 rounded-xl"}),e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-3xl shadow-lg border border-gray-100 dark:border-gray-700 overflow-hidden mb-6",children:[e.jsx(W,{variant:"image",className:"h-64 rounded-none"}),e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex justify-between items-start mb-4",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx(W,{variant:"title",className:"w-64 mb-2"}),e.jsx(W,{variant:"text",className:"w-48 mb-4"}),e.jsxs("div",{className:"flex space-x-4",children:[e.jsx(W,{variant:"text",className:"w-32 h-6 rounded-full"}),e.jsx(W,{variant:"text",className:"w-24 h-6 rounded-full"})]})]}),e.jsx(W,{variant:"button",className:"w-24 h-10 rounded-xl"})]}),e.jsx(W,{variant:"text",className:"w-full mb-2"}),e.jsx(W,{variant:"text",className:"w-3/4"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsx("div",{className:"lg:col-span-2",children:e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-3xl shadow-lg border border-gray-100 dark:border-gray-700 p-6",children:[e.jsx(W,{variant:"title",className:"w-32 mb-4"}),e.jsx("div",{className:"space-y-4",children:[1,2,3].map(t=>e.jsxs("div",{className:"flex items-center space-x-3 p-3 bg-gray-50 dark:bg-gray-700 rounded-xl",children:[e.jsx(W,{variant:"avatar",className:"w-6 h-6"}),e.jsx(W,{variant:"text",className:"flex-1"})]},t))})]})}),e.jsx("div",{className:"space-y-6",children:e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-3xl shadow-lg border border-gray-100 dark:border-gray-700 p-6",children:[e.jsx(W,{variant:"title",className:"w-24 mb-4"}),e.jsx("div",{className:"space-y-3",children:[1,2,3].map(t=>e.jsx(W,{variant:"text",className:"w-full h-8 rounded-lg"},t))})]})})]})]})}),rh=({onClose:t})=>{const r=we();n.useState(null),n.useState(!1);const a=async()=>{t==null||t(),r("/scan")},s=()=>{t==null||t()};return e.jsx("div",{className:"fixed inset-0 z-[10000] bg-black bg-opacity-50 flex items-center justify-center p-4",children:e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-3xl p-6 max-w-sm w-full relative shadow-2xl",children:[e.jsx("button",{onClick:s,className:"absolute top-4 right-4 p-1 rounded-full hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors",children:e.jsx(he,{className:"h-5 w-5 text-gray-400"})}),e.jsxs("div",{className:"text-center mb-6",children:[e.jsxs("div",{className:"w-16 h-16 bg-gradient-to-r from-blue-500 to-purple-600 rounded-full flex items-center justify-center mx-auto mb-4 relative",children:[e.jsx(pt,{className:"h-8 w-8 text-white"}),e.jsx($e,{className:"h-4 w-4 text-yellow-300 absolute -top-1 -right-1"})]}),e.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-white mb-2",children:"🚀 Quick QR Check-in"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-300 text-sm",children:"Enable QR scanner for instant garden check-ins! Scan any garden QR code to quickly check in with your dogs."})]}),e.jsxs("div",{className:"space-y-3 mb-6",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-6 h-6 bg-green-100 dark:bg-green-900 rounded-full flex items-center justify-center",children:e.jsx(mr,{className:"h-4 w-4 text-green-600 dark:text-green-400"})}),e.jsx("span",{className:"text-sm text-gray-700 dark:text-gray-300",children:"⚡ Lightning-fast check-ins"})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-6 h-6 bg-green-100 dark:bg-green-900 rounded-full flex items-center justify-center",children:e.jsx(mr,{className:"h-4 w-4 text-green-600 dark:text-green-400"})}),e.jsx("span",{className:"text-sm text-gray-700 dark:text-gray-300",children:"🚫 Contactless experience"})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-6 h-6 bg-green-100 dark:bg-green-900 rounded-full flex items-center justify-center",children:e.jsx(mr,{className:"h-4 w-4 text-green-600 dark:text-green-400"})}),e.jsx("span",{className:"text-sm text-gray-700 dark:text-gray-300",children:"🎯 Automatic points & badges"})]})]}),e.jsx("div",{className:"space-y-3",children:e.jsxs("button",{onClick:a,className:"w-full bg-gradient-to-r from-blue-500 to-purple-600 text-white py-3 rounded-xl font-medium hover:from-blue-600 hover:to-purple-700 transition-all transform hover:scale-105 flex items-center justify-center",children:[e.jsx(Ls,{className:"h-5 w-5 mr-2"}),"🔍 Start QR Scanner"]})}),e.jsx("div",{className:"mt-4 pt-4 border-t border-gray-200 dark:border-gray-600 text-center",children:e.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"You can always find QR Scanner in the navigation menu"})})]})})},$n=()=>{var j,k,b;const{user:t}=pe(),[r,a]=n.useState({dogs:0,visits:0,activeVisit:null,nearbyGardens:[],points:0,level:1,currentStreak:0,badges:[],levelProgress:{current:0,needed:100,percentage:0}}),[s,l]=n.useState([]),[o,i]=n.useState([]),[x,c]=n.useState(!1),[u,h]=n.useState(!0),[d,p]=n.useState(!1),[g,f]=n.useState(!1);n.useEffect(()=>{const C=localStorage.getItem("loginTime");C&&Date.now()-parseInt(C)<3e3?setTimeout(()=>{m()},1e3):m(),w()},[]);const w=()=>{p(!0)},m=async()=>{try{h(!0);const[C,D,F,T,A,R,M]=await Promise.all([it.getMyDogs().catch(_=>({count:0,dogs:[]})),Et.getMyVisits({limit:5}).catch(_=>({total:0,visits:[]})),Et.getActiveVisit().catch(_=>({visit:null})),Se.getAllGardens({limit:4}).catch(_=>({gardens:[]})),xt.getStats().catch(_=>({points:0,level:1,currentStreak:0,badges:[],levelProgress:{current:0,needed:100,percentage:0}})),xt.getAchievements().catch(_=>({achievements:[]})),xt.getRecentActivity(5).catch(_=>({activity:[]}))]);a({dogs:C.count||0,visits:D.total||0,activeVisit:F.visit||null,nearbyGardens:T.gardens||[],points:A.points||0,level:A.level||1,currentStreak:A.currentStreak||0,badges:A.badges||[],levelProgress:A.levelProgress||{current:0,needed:100,percentage:0}}),l(R.achievements||[]),i(M.activity||[])}catch(C){console.error("Error loading dashboard data:",C),a({dogs:0,visits:0,activeVisit:null,nearbyGardens:[],points:0,level:1,currentStreak:0,badges:[],levelProgress:{current:0,needed:100,percentage:0}}),l([]),i([])}finally{h(!1)}},B=async()=>{var C,D;if(r.activeVisit){c(!0);try{await Et.checkOut({visitId:r.activeVisit._id}),I.success("Checked out successfully!"),await m()}catch(F){console.error("Check-out error:",F),I.error(((D=(C=F.response)==null?void 0:C.data)==null?void 0:D.error)||"Failed to check out")}finally{c(!1)}}},E=C=>{if(C===null||typeof C>"u")return"N/A";if(C<1)return"< 1m";const D=Math.floor(C/60),F=Math.round(C%60);return D>0?`${D}h ${F}m`:`${F}m`},N=C=>{if(!C)return"N/A";const F=(Date.now()-new Date(C).getTime())/6e4;return E(F)},v=()=>{const C=new Date().getHours();return C<12?"Good morning":C<18?"Good afternoon":"Good evening"};return u?e.jsx(Gu,{}):e.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900",children:[g&&e.jsx(rh,{onClose:()=>f(!1)}),e.jsxs("div",{className:"max-w-lg mx-auto",children:[e.jsxs("div",{className:"bg-gradient-to-br from-purple-600 via-pink-600 to-indigo-700 dark:from-purple-700 dark:via-pink-700 dark:to-indigo-800 mx-4 mt-4 rounded-3xl p-6 text-white relative overflow-hidden",children:[e.jsx("div",{className:"absolute -top-6 -right-6 opacity-20",children:e.jsx("div",{className:"text-8xl",children:"🏠"})}),e.jsxs("div",{className:"relative z-10",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{children:[e.jsxs("h1",{className:"text-2xl font-bold",children:[v(),", ",t==null?void 0:t.firstName,"! ✨"]}),e.jsx("p",{className:"text-purple-100 dark:text-purple-200",children:"Ready for today's adventure? 🐾"})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("div",{className:"text-sm text-purple-200",children:["🔥 ",r.currentStreak]}),e.jsx("div",{className:"text-xs text-purple-300",children:"Day Streak"})]})]}),e.jsxs("div",{className:"flex items-center mb-4",children:[e.jsxs("div",{className:"text-lg",children:["✨ ",r.points," points total"]}),e.jsxs("div",{className:"ml-auto text-sm",children:["Level ",r.level]})]}),e.jsx("div",{className:"w-full bg-white bg-opacity-20 rounded-full h-2",children:e.jsx("div",{className:"bg-yellow-400 h-2 rounded-full",style:{width:`${r.levelProgress.percentage}%`}})})]})]}),d&&e.jsx("div",{className:"px-4 mt-4",children:e.jsx("button",{onClick:()=>f(!0),className:"w-full bg-gradient-to-r from-blue-500 to-purple-600 rounded-2xl p-4 text-white hover:from-blue-600 hover:to-purple-700 transition-all duration-200 transform hover:scale-105 active:scale-95 shadow-lg",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"text-left",children:[e.jsx("h3",{className:"text-lg font-bold flex items-center",children:"🚀 Quick QR Check-in"}),e.jsx("p",{className:"text-blue-100 text-sm",children:"Scan garden QR codes for instant check-ins!"})]}),e.jsx("div",{className:"bg-white bg-opacity-20 rounded-full p-3",children:e.jsx(pt,{className:"h-6 w-6"})})]})})}),e.jsxs("div",{className:"px-4 mt-6",children:[e.jsxs("h2",{className:"text-lg font-bold text-gray-900 dark:text-white mb-4 flex items-center",children:[e.jsx($e,{className:"h-5 w-5 mr-2 text-purple-600"}),"Quick Actions"]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.activeVisit?e.jsxs(ge,{to:"/check-in",className:"bg-gradient-to-br from-blue-500 to-indigo-600 dark:from-blue-600 dark:to-indigo-700 text-white rounded-2xl p-6 flex flex-col items-center text-center hover:shadow-lg transition-all duration-300 transform hover:scale-105",children:[e.jsx("div",{className:"bg-white bg-opacity-20 rounded-xl p-3 mb-3",children:e.jsx(at,{className:"h-6 w-6"})}),e.jsx("span",{className:"font-medium",children:"Manage Visit"})]}):e.jsxs(ge,{to:"/check-in",className:"bg-gradient-to-br from-orange-500 to-red-500 dark:from-orange-600 dark:to-red-600 text-white rounded-2xl p-6 flex flex-col items-center text-center hover:shadow-lg transition-all duration-300 transform hover:scale-105",children:[e.jsx("div",{className:"bg-white bg-opacity-20 rounded-xl p-3 mb-3",children:e.jsx(kc,{className:"h-6 w-6"})}),e.jsx("span",{className:"font-medium",children:"Check In"})]}),e.jsxs(ge,{to:"/gardens",className:"bg-gradient-to-br from-green-500 to-emerald-600 dark:from-green-600 dark:to-emerald-700 text-white rounded-2xl p-6 flex flex-col items-center text-center hover:shadow-lg transition-all duration-300 transform hover:scale-105",children:[e.jsx("div",{className:"bg-white bg-opacity-20 rounded-xl p-3 mb-3",children:e.jsx(_t,{className:"h-6 w-6"})}),e.jsx("span",{className:"font-medium",children:"Explore"})]})]})]}),e.jsx("div",{className:"px-4 mt-6",children:e.jsx(ge,{to:"/rewards",className:"block bg-gradient-to-br from-indigo-500 to-purple-600 dark:from-indigo-600 dark:to-purple-700 rounded-2xl p-4 text-white shadow-lg hover:shadow-xl transition-all duration-300 transform hover:scale-105",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"text-base font-bold mb-1",children:"🎁 Rewards Center"}),e.jsx("p",{className:"text-indigo-100 dark:text-indigo-200 text-sm",children:"Tap to view achievements & badges"})]}),e.jsx("div",{className:"flex items-center space-x-2",children:e.jsx("div",{className:"bg-white bg-opacity-20 rounded-lg p-2",children:e.jsx($e,{className:"h-5 w-5"})})})]})})}),r.activeVisit?e.jsxs("div",{className:"px-4 mt-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("h2",{className:"text-lg font-bold text-gray-900 dark:text-white flex items-center",children:[e.jsx(st,{className:"h-5 w-5 mr-2 text-red-500"}),"Live Visit"]}),e.jsx("span",{className:"bg-red-100 dark:bg-red-900/30 text-red-600 dark:text-red-400 text-xs px-2 py-1 rounded-full animate-pulse",children:"🔴 Live"})]}),e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-3xl shadow-lg border border-gray-100 dark:border-gray-700 overflow-hidden",children:[e.jsxs("div",{className:"bg-gradient-to-r from-green-500 to-emerald-600 p-4 text-white relative overflow-hidden",children:[e.jsx("div",{className:"absolute -top-4 -right-4 opacity-20",children:e.jsx("div",{className:"text-6xl",children:"🏞️"})}),e.jsx("div",{className:"relative z-10",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-green-100 text-sm",children:"You are at"}),e.jsx("h3",{className:"text-xl font-bold",children:((j=r.activeVisit.garden)==null?void 0:j.name)||"Unknown Garden"})]}),e.jsx("div",{className:"bg-white bg-opacity-20 rounded-xl p-2",children:e.jsx(ye,{className:"h-5 w-5"})})]})})]}),e.jsxs("div",{className:"p-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[e.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700/50 rounded-xl p-3 text-center",children:[e.jsx("div",{className:"text-xl font-bold text-gray-800 dark:text-white",children:N(r.activeVisit.checkInTime)}),e.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Time Elapsed"})]}),e.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700/50 rounded-xl p-3 text-center",children:[e.jsx("div",{className:"text-xl font-bold text-gray-800 dark:text-white",children:((k=r.activeVisit.dogs)==null?void 0:k.length)||0}),e.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Dogs Playing"})]})]}),e.jsxs("div",{className:"mb-4",children:[e.jsxs("h4",{className:"text-sm font-medium text-gray-500 dark:text-gray-400 mb-2 flex items-center",children:[e.jsx(Re,{className:"h-4 w-4 mr-1 text-pink-500"}),"Your Dogs"]}),e.jsx("div",{className:"flex flex-wrap gap-2",children:(b=r.activeVisit.dogs)==null?void 0:b.map(C=>e.jsxs("div",{className:"flex items-center px-3 py-1 bg-purple-100 dark:bg-purple-900/30 text-purple-800 dark:text-purple-200 rounded-full text-sm",children:[e.jsx("span",{className:"mr-1",children:"🐕"})," ",(C==null?void 0:C.name)||"Unknown Dog"]},C._id))})]}),e.jsx("button",{onClick:B,disabled:x,className:"w-full inline-flex items-center justify-center px-4 py-3 bg-gradient-to-r from-red-500 to-pink-500 text-white font-medium rounded-xl hover:from-red-600 hover:to-pink-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 disabled:opacity-50 transition-all duration-200 transform hover:scale-105 active:scale-95",children:x?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Checking out..."]}):e.jsxs(e.Fragment,{children:[e.jsx(fn,{className:"h-5 w-5 mr-2"}),"Check Out Now"]})})]})]})]}):e.jsxs("div",{className:"px-4 mt-6",children:[e.jsx("div",{className:"flex items-center justify-between mb-4",children:e.jsxs("h2",{className:"text-lg font-bold text-gray-900 dark:text-white flex items-center",children:[e.jsx(ye,{className:"h-5 w-5 mr-2 text-gray-500"}),"No Active Visit"]})}),e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-3xl shadow-lg border border-gray-100 dark:border-gray-700 p-6 text-center",children:[e.jsx("div",{className:"text-5xl mb-4",children:"🏞️"}),e.jsx("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-2",children:"Ready for Adventure?"}),e.jsx("p",{className:"text-gray-500 dark:text-gray-400 mb-6",children:"Find a perfect dog park and start your visit today!"}),e.jsxs(ge,{to:"/gardens",className:"inline-flex items-center px-6 py-3 bg-gradient-to-r from-purple-500 to-pink-500 text-white font-medium rounded-xl hover:from-purple-600 hover:to-pink-600 transition-all duration-200 transform hover:scale-105",children:[e.jsx(_t,{className:"h-5 w-5 mr-2"}),"Find a Park"]})]})]}),e.jsxs("div",{className:"px-4 mt-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("h2",{className:"text-lg font-bold text-gray-900 dark:text-white flex items-center",children:[e.jsx(We,{className:"h-5 w-5 mr-2 text-yellow-500"}),"Achievement Badges"]}),e.jsx(ge,{to:"/rewards?tab=achievements",className:"text-sm text-blue-600 dark:text-blue-400 hover:underline",children:"View All"})]}),s.length>0?e.jsx("div",{className:"space-y-3",children:s.slice(0,2).map((C,D)=>e.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-3xl shadow-lg border border-gray-100 dark:border-gray-700 p-4",children:e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:"text-3xl",children:C.icon||"🏆"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"text-base font-bold text-gray-900 dark:text-white mb-1",children:C.name}),e.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400 mb-2",children:C.description}),C.progress&&e.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700 rounded-xl p-3",children:[e.jsxs("div",{className:"flex items-center justify-between mb-1",children:[e.jsxs("span",{className:"text-xs text-gray-700 dark:text-gray-300 font-medium",children:["Progress: ",C.progress.current,"/",C.progress.target]}),e.jsxs("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:[Math.round(C.progress.current/C.progress.target*100),"%"]})]}),e.jsx("div",{className:"w-full bg-gray-200 dark:bg-gray-600 rounded-full h-2",children:e.jsx("div",{className:"bg-gradient-to-r from-blue-500 to-purple-600 h-2 rounded-full transition-all duration-300",style:{width:`${Math.min(C.progress.current/C.progress.target*100,100)}%`}})})]})]})]})},C.id||D))}):r.badges&&r.badges.length>0?e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-3xl shadow-lg border border-gray-100 dark:border-gray-700 p-6 text-center",children:[e.jsx("div",{className:"text-4xl mb-3",children:r.badges[0].icon||"🏆"}),e.jsx("div",{className:"text-lg font-bold text-gray-900 dark:text-white mb-1",children:r.badges[0].name||"Badge Earned"}),e.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400 mb-3",children:r.badges[0].description||"Keep collecting badges!"}),e.jsxs("div",{className:"text-xs text-green-600 dark:text-green-400 font-medium",children:[r.badges.length," badge",r.badges.length!==1?"s":""," earned"]})]}):e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-3xl shadow-lg border border-gray-100 dark:border-gray-700 p-6 text-center",children:[e.jsx("div",{className:"text-4xl mb-3",children:"🏆"}),e.jsx("div",{className:"text-lg font-bold text-gray-900 dark:text-white mb-1",children:"Start Your Journey"}),e.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Visit dog parks to unlock your first achievements!"})]})]}),e.jsxs("div",{className:"px-4 mt-6 pb-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("h2",{className:"text-lg font-bold text-gray-900 dark:text-white flex items-center",children:[e.jsx(Le,{className:"h-5 w-5 mr-2 text-blue-500"}),"Recent Activity"]}),e.jsx(ge,{to:"/rewards?tab=overview",className:"text-sm text-blue-600 dark:text-blue-400 hover:underline",children:"View All"})]}),o.length>0?e.jsx("div",{className:"space-y-3",children:o.slice(0,3).map((C,D)=>e.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-2xl p-4 border border-gray-100 dark:border-gray-700 shadow-md",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:`h-10 w-10 rounded-full flex items-center justify-center text-white font-semibold ${C.type==="visit"?"bg-gradient-to-r from-green-400 to-blue-500":C.type==="achievement"?"bg-gradient-to-r from-purple-400 to-pink-500":C.type==="badge"?"bg-gradient-to-r from-yellow-400 to-orange-500":C.type==="level"?"bg-gradient-to-r from-indigo-400 to-purple-500":"bg-gradient-to-r from-gray-400 to-gray-500"}`,children:C.icon||(C.type==="visit"?"🐕":C.type==="achievement"?"🏆":C.type==="badge"?"🎖️":C.type==="level"?"⭐":"📝")}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:C.title||"You"}),e.jsx("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:C.description})]}),e.jsxs("div",{className:"flex items-center space-x-2 text-xs text-gray-500 dark:text-gray-400",children:[e.jsx("span",{children:C.timeAgo||new Date(C.createdAt).toLocaleDateString()}),C.points&&e.jsxs("span",{children:["✨ +",C.points," points"]})]})]}),e.jsx("div",{className:"bg-gray-100 dark:bg-gray-700 rounded-full px-3 py-1",children:e.jsx("span",{className:"text-sm",children:C.type==="visit"?"🎉":C.type==="achievement"?"🎯":C.type==="badge"?"🏅":C.type==="level"?"🚀":"✨"})})]})},C.id||D))}):r.currentStreak>0||r.points>0?e.jsxs("div",{className:"space-y-3",children:[r.currentStreak>0&&e.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-2xl p-4 border border-gray-100 dark:border-gray-700 shadow-md",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"h-10 w-10 bg-gradient-to-r from-orange-400 to-red-500 rounded-full flex items-center justify-center text-white font-semibold",children:"🔥"}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:"Streak Active"}),e.jsxs("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:[r.currentStreak," day",r.currentStreak!==1?"s":""," in a row"]})]}),e.jsx("div",{className:"flex items-center space-x-2 text-xs text-gray-500 dark:text-gray-400",children:e.jsx("span",{children:"Keep visiting to maintain your streak!"})})]}),e.jsx("div",{className:"bg-gray-100 dark:bg-gray-700 rounded-full px-3 py-1",children:e.jsx("span",{className:"text-sm",children:"🔥"})})]})}),r.level>1&&e.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-2xl p-4 border border-gray-100 dark:border-gray-700 shadow-md",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"h-10 w-10 bg-gradient-to-r from-indigo-400 to-purple-500 rounded-full flex items-center justify-center text-white font-semibold",children:"⭐"}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("span",{className:"font-medium text-gray-900 dark:text-white",children:["Level ",r.level]}),e.jsxs("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:[r.points," total points"]})]}),e.jsx("div",{className:"flex items-center space-x-2 text-xs text-gray-500 dark:text-gray-400",children:e.jsx("span",{children:"You're making great progress!"})})]}),e.jsx("div",{className:"bg-gray-100 dark:bg-gray-700 rounded-full px-3 py-1",children:e.jsx("span",{className:"text-sm",children:"🚀"})})]})})]}):e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl p-6 border border-gray-100 dark:border-gray-700 shadow-md text-center",children:[e.jsx("div",{className:"text-4xl mb-3",children:"📝"}),e.jsx("div",{className:"text-lg font-bold text-gray-900 dark:text-white mb-1",children:"No Recent Activity"}),e.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Start visiting dog parks to see your activity here!"})]})]})]})]})},Tn=Object.freeze(Object.defineProperty({__proto__:null,default:$n},Symbol.toStringTag,{value:"Module"})),sh=({isOpen:t,onClose:r,garden:a,onSubscriptionChange:s})=>{const{user:l}=pe(),[o,i]=n.useState(!1),[x,c]=n.useState(!1),[u,h]=n.useState({events:!0,promotions:!0,announcements:!0,maintenance:!0}),[d,p]=n.useState({events:!0,promotions:!0,announcements:!0,maintenance:!0});n.useEffect(()=>{t&&a&&g()},[t,a]);const g=async()=>{try{const B=await Se.getNewsletterStatus(a._id);c(B.isSubscribed),B.preferences&&(h(B.preferences),p(B.preferences))}catch(B){console.error("Error loading subscription status:",B)}},f=async()=>{var B,E;if(!l){I.error("Please log in to subscribe to newsletters");return}i(!0);try{await Se.subscribeToNewsletter(a._id,d),c(!0),h(d),I.success("Successfully subscribed to newsletter!"),s==null||s(!0),r()}catch(N){console.error("Error subscribing:",N),I.error(((E=(B=N.response)==null?void 0:B.data)==null?void 0:E.error)||"Failed to subscribe to newsletter")}finally{i(!1)}},w=async()=>{var B,E;i(!0);try{await Se.unsubscribeFromNewsletter(a._id),c(!1),I.success("Successfully unsubscribed from newsletter"),s==null||s(!1),r()}catch(N){console.error("Error unsubscribing:",N),I.error(((E=(B=N.response)==null?void 0:B.data)==null?void 0:E.error)||"Failed to unsubscribe from newsletter")}finally{i(!1)}},m=(B,E)=>{p(N=>({...N,[B]:E}))};return!t||!a?null:e.jsxs("div",{className:"fixed inset-0 z-[9999] flex items-start justify-center pt-16 pb-8",children:[e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50",onClick:r}),e.jsxs("div",{className:"relative bg-white dark:bg-gray-800 rounded-3xl shadow-2xl max-w-md w-full mx-4 max-h-[85vh] overflow-y-auto",children:[e.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200 dark:border-gray-700",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"p-2 bg-blue-100 dark:bg-blue-900/30 rounded-full",children:e.jsx(es,{className:"h-6 w-6 text-blue-600 dark:text-blue-400"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-lg font-bold text-gray-900 dark:text-white",children:"Newsletter Subscription"}),e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:a.name})]})]}),e.jsx("button",{onClick:r,className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-full transition-colors",children:e.jsx(he,{className:"h-5 w-5 text-gray-500 dark:text-gray-400"})})]}),e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"mb-6 p-4 bg-gray-50 dark:bg-gray-700 rounded-2xl",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-3",children:[e.jsx(Tt,{className:"h-5 w-5 text-gray-500 dark:text-gray-400"}),e.jsx("span",{className:"text-sm font-medium text-gray-900 dark:text-white",children:"Subscription Details"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Xt,{className:"h-4 w-4 text-gray-400"}),e.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-300",children:l==null?void 0:l.email})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Tt,{className:"h-4 w-4 text-gray-400"}),e.jsxs("span",{className:"text-sm text-gray-600 dark:text-gray-300",children:[l==null?void 0:l.firstName," ",l==null?void 0:l.lastName]})]}),(l==null?void 0:l.dogs)&&l.dogs.length>0&&e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Re,{className:"h-4 w-4 text-gray-400"}),e.jsxs("span",{className:"text-sm text-gray-600 dark:text-gray-300",children:["Dog: ",l.dogs[0].name]})]})]})]}),e.jsxs("div",{className:"mb-6",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-3",children:[e.jsx(Cr,{className:"h-5 w-5 text-blue-500"}),e.jsx("span",{className:"text-sm font-medium text-gray-900 dark:text-white",children:"Subscription Status"})]}),e.jsx("div",{className:`p-3 rounded-xl ${x?"bg-green-50 dark:bg-green-900/20 text-green-800 dark:text-green-400":"bg-gray-50 dark:bg-gray-700 text-gray-600 dark:text-gray-400"}`,children:e.jsxs("div",{className:"flex items-center space-x-2",children:[x?e.jsx(mr,{className:"h-4 w-4"}):e.jsx(dt,{className:"h-4 w-4"}),e.jsx("span",{className:"text-sm font-medium",children:x?"Subscribed":"Not Subscribed"})]})})]}),e.jsxs("div",{className:"mb-6",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-4",children:[e.jsx(dt,{className:"h-5 w-5 text-gray-500 dark:text-gray-400"}),e.jsx("span",{className:"text-sm font-medium text-gray-900 dark:text-white",children:"What would you like to receive?"})]}),e.jsx("div",{className:"space-y-3",children:[{key:"events",label:"Events & Activities",description:"Notifications about upcoming events and activities"},{key:"promotions",label:"Promotions & Offers",description:"Special offers and promotional content"},{key:"announcements",label:"General Announcements",description:"Important updates and news"},{key:"maintenance",label:"Maintenance Updates",description:"Information about closures and maintenance"}].map(B=>e.jsxs("label",{className:"flex items-start space-x-3 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:d[B.key],onChange:E=>m(B.key,E.target.checked),className:"mt-1 h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:B.label}),e.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:B.description})]})]},B.key))})]}),e.jsx("div",{className:"mb-6 p-4 bg-blue-50 dark:bg-blue-900/20 rounded-2xl",children:e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx(Cr,{className:"h-5 w-5 text-blue-500 mt-0.5"}),e.jsxs("div",{className:"text-sm text-blue-700 dark:text-blue-300",children:[e.jsx("p",{className:"font-medium mb-1",children:"Newsletter Information"}),e.jsx("p",{className:"text-xs",children:"You can unsubscribe at any time using the link in our emails or by clicking the bell icon again. We respect your privacy and will only send relevant updates."})]})]})}),e.jsx("div",{className:"flex space-x-3",children:x?e.jsxs(e.Fragment,{children:[e.jsx("button",{onClick:w,disabled:o,className:"flex-1 px-4 py-3 bg-red-500 text-white rounded-xl hover:bg-red-600 disabled:opacity-50 disabled:cursor-not-allowed transition-colors font-medium",children:o?"Unsubscribing...":"Unsubscribe"}),e.jsx("button",{onClick:f,disabled:o,className:"flex-1 px-4 py-3 bg-blue-500 text-white rounded-xl hover:bg-blue-600 disabled:opacity-50 disabled:cursor-not-allowed transition-colors font-medium",children:o?"Updating...":"Update Preferences"})]}):e.jsxs(e.Fragment,{children:[e.jsx("button",{onClick:r,className:"flex-1 px-4 py-3 bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-300 rounded-xl hover:bg-gray-300 dark:hover:bg-gray-600 transition-colors font-medium",children:"Cancel"}),e.jsx("button",{onClick:f,disabled:o,className:"flex-1 px-4 py-3 bg-blue-500 text-white rounded-xl hover:bg-blue-600 disabled:opacity-50 disabled:cursor-not-allowed transition-colors font-medium",children:o?"Subscribing...":"Subscribe"})]})})]})]})]})},In=()=>{const{user:t,isAuthenticated:r}=pe(),[a,s]=n.useState([]),[l,o]=n.useState([]),[i,x]=n.useState([]),[c,u]=n.useState(!0),[h,d]=n.useState(""),[p,g]=n.useState("all"),[f,w]=n.useState("cards"),[m,B]=n.useState(10),[E,N]=n.useState(5),[v,j]=n.useState(null),[k,b]=n.useState(!1),[C,D]=n.useState(!1),[F,T]=n.useState(!1),[A,R]=n.useState(!1),[M,_]=n.useState(null),[q,U]=n.useState({}),[L,S]=n.useState(!1),H=[5,10,15,20,25,50],P=[2,5,10,15,25,50];n.useEffect(()=>{Y(),G(),r&&ae();const J=setInterval(()=>{X()},6e4);return()=>clearInterval(J)},[r]),n.useEffect(()=>{r&&l.length>0&&xe()},[r,l]),n.useEffect(()=>{v&&l.length>0&&O()},[v,l,C,E]);const G=async()=>{if(!navigator.geolocation){console.log("🚫 Geolocation not supported");return}console.log("📍 Requesting location permission..."),b(!0);try{const J=await new Promise(($,V)=>{navigator.geolocation.getCurrentPosition($,V,{enableHighAccuracy:!0,timeout:1e4,maximumAge:6e4})}),ee={latitude:J.coords.latitude,longitude:J.coords.longitude,accuracy:J.coords.accuracy};console.log("✅ Location detected:",ee),console.log("🏞️ Total gardens before filter:",l.length),j(ee),D(!0)}catch(J){console.error("❌ Error getting location:",J.message),console.log('💡 Try the "Test Location" button to test with sample coordinates')}finally{b(!1)}},z=(J,ee,$,V)=>{const se=($-J)*Math.PI/180,te=(V-ee)*Math.PI/180,K=Math.sin(se/2)*Math.sin(se/2)+Math.cos(J*Math.PI/180)*Math.cos($*Math.PI/180)*Math.sin(te/2)*Math.sin(te/2);return 6371*(2*Math.atan2(Math.sqrt(K),Math.sqrt(1-K)))},O=()=>{if(!v){console.log("📍 No user location available");return}console.log("🔄 Updating gardens with distance calculation..."),console.log("📍 User location:",v),console.log("🏞️ Total gardens to process:",l.length);const J=l.map($=>{var se,te;const V=(te=(se=$.location)==null?void 0:se.coordinates)==null?void 0:te.coordinates;let Z=0;if(V&&Array.isArray(V)&&V.length>=2){const[K,le]=V;Z=z(v.latitude,v.longitude,le,K),console.log(`🏞️ ${$.name}: ${Z.toFixed(2)}km away`)}else Z=999999,console.log(`🏞️ ${$.name}: No coordinates available`);return{...$,distance:Z}});let ee=J;C&&(ee=J.filter($=>$.distance<=E).sort(($,V)=>$.distance-V.distance),console.log(`🎯 Filtered to ${ee.length} gardens within ${E}km`)),s(ee)},Y=async()=>{try{u(!0);let ee=(await Se.getAllGardens()).gardens||[];ee.length===0&&(console.log("📍 No gardens found, loading sample data..."),ee=fe()),o(ee),s(ee)}catch(J){console.error("Error loading gardens:",J),console.log("📍 Loading sample data due to error...");const ee=fe();o(ee),s(ee)}finally{u(!1)}},X=async()=>{try{const ee=(await Se.getAllGardens()).gardens||[];o(ee),C||s(ee)}catch(J){console.error("Error refreshing gardens:",J)}},ae=async()=>{if(r)try{const J=await gt.getFavorites();x(J.favorites||[])}catch(J){console.error("Error loading favorites:",J),I.error("Failed to load favorites.")}},me=async J=>{if(!r){I.info("Please log in to add to favorites.");return}try{if(i.some($=>$._id===J))await gt.removeFavorite(J),x($=>$.filter(V=>V._id!==J)),I.success("Garden removed from favorites!");else{await gt.addFavorite(J);const $=l.find(V=>V._id===J);$&&x(V=>[...V,$]),I.success("Garden added to favorites!")}}catch(ee){console.error("Error toggling favorite:",ee),I.error("Failed to toggle favorite.")}},de=J=>{if(!r){I.info("Please log in to manage newsletter subscriptions.");return}_(J),R(!0)},Ce=(J,ee)=>{U($=>({...$,[J]:ee}))},xe=async()=>{if(!(!r||l.length===0))try{const J={},ee=l.map(async $=>{try{const V=await Se.getNewsletterStatus($._id);J[$._id]=V.isSubscribed}catch(V){console.warn(`Newsletter status check failed for garden ${$._id}:`,V.message),J[$._id]=!1}});await Promise.all(ee),U(J)}catch(J){console.error("Error loading newsletter statuses:",J)}},fe=()=>[{_id:"tel_aviv_democratic",name:"Democratic Dog Park",description:"A spacious dog park in the heart of Tel Aviv",type:"public",location:{address:"Democratic Street, Tel Aviv",city:"Tel Aviv",coordinates:{type:"Point",coordinates:[34.7818,32.0853]}},capacity:{maxDogs:25},currentOccupancy:12,amenities:["water","shade","parking","lighting"],statistics:{averageRating:4.5,totalReviews:89},openingHours:{monday:{open:"06:00",close:"22:00",closed:!1},tuesday:{open:"06:00",close:"22:00",closed:!1},wednesday:{open:"06:00",close:"22:00",closed:!1},thursday:{open:"06:00",close:"22:00",closed:!1},friday:{open:"06:00",close:"22:00",closed:!1},saturday:{open:"06:00",close:"22:00",closed:!1},sunday:{open:"06:00",close:"22:00",closed:!1}}},{_id:"jerusalem_sacher",name:"Sacher Dog Park",description:"Beautiful dog park in Sacher Park with great views",type:"public",location:{address:"Sacher Park, Jerusalem",city:"Jerusalem",coordinates:{type:"Point",coordinates:[35.2345,31.7767]}},capacity:{maxDogs:30},currentOccupancy:8,amenities:["water","shade","scenic_view","benches"],statistics:{averageRating:4.6,totalReviews:156},openingHours:{monday:{open:"06:00",close:"22:00",closed:!1},tuesday:{open:"06:00",close:"22:00",closed:!1},wednesday:{open:"06:00",close:"22:00",closed:!1},thursday:{open:"06:00",close:"22:00",closed:!1},friday:{open:"06:00",close:"22:00",closed:!1},saturday:{open:"06:00",close:"22:00",closed:!1},sunday:{open:"06:00",close:"22:00",closed:!1}}},{_id:"haifa_carmel",name:"Carmel Dog Park",description:"Mountain dog park with panoramic views",type:"public",location:{address:"Mount Carmel, Haifa",city:"Haifa",coordinates:{type:"Point",coordinates:[34.9896,32.794]}},capacity:{maxDogs:35},currentOccupancy:15,amenities:["water","shade","scenic_view","parking"],statistics:{averageRating:4.7,totalReviews:203},openingHours:{monday:{open:"06:00",close:"22:00",closed:!1},tuesday:{open:"06:00",close:"22:00",closed:!1},wednesday:{open:"06:00",close:"22:00",closed:!1},thursday:{open:"06:00",close:"22:00",closed:!1},friday:{open:"06:00",close:"22:00",closed:!1},saturday:{open:"06:00",close:"22:00",closed:!1},sunday:{open:"06:00",close:"22:00",closed:!1}}}],ce=()=>{const J=P.indexOf(E),ee=Math.min(J+1,P.length-1);N(P[ee])},be=a.filter(J=>{var $,V;const ee=J.name.toLowerCase().includes(h.toLowerCase())||((V=($=J.location)==null?void 0:$.address)==null?void 0:V.toLowerCase().includes(h.toLowerCase()));return p==="all"?ee:p==="public"?ee&&J.type==="public":p==="private"?ee&&J.type==="private":p==="favorites"?ee&&i.some(Z=>Z._id===J._id):ee}).sort((J,ee)=>{const $=i.some(Z=>Z._id===J._id),V=i.some(Z=>Z._id===ee._id);return $&&!V?-1:!$&&V?1:0}),Ae=be.slice(0,m),Te=(J,ee)=>{const $=J/ee*100;return $>=90?{color:"text-red-600",bg:"bg-red-100 dark:bg-red-900",label:"Very Busy"}:$>=70?{color:"text-orange-600",bg:"bg-orange-100 dark:bg-orange-900",label:"Busy"}:$>=40?{color:"text-yellow-600",bg:"bg-yellow-100 dark:bg-yellow-900",label:"Moderate"}:{color:"text-green-600",bg:"bg-green-100 dark:bg-green-900",label:"Quiet"}},Je=[{name:"Total Parks",value:be.length},{name:"Active Dogs",value:be.reduce((J,ee)=>J+(ee.currentOccupancy||0),0)},{name:"Top Rated",value:be.filter(J=>{var ee;return((ee=J.statistics)==null?void 0:ee.averageRating)>=4}).length}];return c?e.jsx(Wu,{}):e.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900",children:[e.jsxs("div",{className:"max-w-lg mx-auto lg:max-w-7xl",children:[e.jsx("div",{className:"p-4",children:e.jsxs("div",{className:"bg-gradient-to-br from-blue-600 via-purple-600 to-indigo-700 rounded-3xl p-6 text-white shadow-lg relative overflow-hidden",children:[e.jsx("div",{className:"absolute -top-4 -right-4 text-8xl opacity-10",children:"🐾"}),e.jsxs("div",{className:"relative z-10",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold",children:"Discover Parks"}),e.jsx("p",{className:"text-blue-100",children:"Find the perfect spot for your furry friend"})]}),e.jsx(ge,{to:"/scan",className:"bg-white bg-opacity-20 backdrop-blur-sm hover:bg-opacity-30 rounded-full p-3 transition-all duration-200 transform hover:scale-105",children:e.jsx(pt,{className:"h-6 w-6 text-white"})})]}),e.jsx("div",{className:"grid grid-cols-3 gap-4 mt-4 text-center",children:Je.map(J=>e.jsxs("div",{className:"bg-white/20 backdrop-blur-sm rounded-2xl p-3",children:[e.jsx("div",{className:"text-2xl font-bold",children:J.value}),e.jsx("div",{className:"text-xs text-blue-100",children:J.name})]},J.name))})]})]})}),e.jsxs("div",{className:"px-4 pb-6",children:[e.jsxs("div",{className:"relative mb-4",children:[e.jsx(_t,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),e.jsx("input",{type:"text",placeholder:"Search parks...",value:h,onChange:J=>d(J.target.value),className:"w-full pl-10 pr-4 py-3 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-3xl text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-purple-500 transition-all"})]}),e.jsxs("div",{className:"flex items-center justify-between mb-4 gap-3",children:[e.jsxs("div",{className:"flex bg-gray-100 dark:bg-gray-800 rounded-xl p-1",children:[e.jsxs("button",{onClick:()=>w("cards"),className:`flex items-center px-3 py-2 rounded-lg text-sm font-medium transition-all ${f==="cards"?"bg-white dark:bg-gray-700 text-purple-600 dark:text-purple-400 shadow-sm":"text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-300"}`,children:[e.jsx(Uc,{className:"h-4 w-4 mr-1"}),"Cards"]}),e.jsxs("button",{onClick:()=>w("list"),className:`flex items-center px-3 py-2 rounded-lg text-sm font-medium transition-all ${f==="list"?"bg-white dark:bg-gray-700 text-purple-600 dark:text-purple-400 shadow-sm":"text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-300"}`,children:[e.jsx(tc,{className:"h-4 w-4 mr-1"}),"List"]})]}),e.jsxs("div",{className:"relative",children:[e.jsxs("button",{onClick:()=>T(!F),className:"flex items-center px-4 py-2 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-xl text-sm font-medium text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700 transition-all",children:[e.jsx(Zi,{className:"h-4 w-4 mr-2"}),"Show ",m,e.jsx(ba,{className:"h-4 w-4 ml-1"})]}),F&&e.jsx("div",{className:"absolute right-0 mt-2 w-48 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-xl shadow-lg z-10",children:e.jsxs("div",{className:"p-3",children:[e.jsx("div",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Display Count"}),e.jsx("div",{className:"grid grid-cols-3 gap-2",children:H.map(J=>e.jsx("button",{onClick:()=>{B(J),T(!1)},className:`px-3 py-1 rounded-lg text-sm font-medium transition-all ${m===J?"bg-purple-100 dark:bg-purple-900 text-purple-600 dark:text-purple-400":"bg-gray-100 dark:bg-gray-700 text-gray-600 dark:text-gray-400 hover:bg-gray-200 dark:hover:bg-gray-600"}`,children:J},J))})]})})]})]}),v&&e.jsxs("div",{className:"mb-4 p-4 bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("div",{className:"flex items-center text-sm text-gray-600 dark:text-gray-400",children:[e.jsx(ye,{className:"h-4 w-4 mr-2"}),"Showing parks within ",E,"km"]}),e.jsx("button",{onClick:()=>D(!C),className:`px-3 py-1 rounded-lg text-sm font-medium transition-all ${C?"bg-purple-100 dark:bg-purple-900 text-purple-600 dark:text-purple-400":"bg-gray-100 dark:bg-gray-700 text-gray-600 dark:text-gray-400"}`,children:C?"By Distance":"All Parks"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[[2,5,10].map(J=>e.jsxs("button",{onClick:()=>N(J),className:`px-3 py-1 rounded-lg text-sm font-medium transition-all ${E===J?"bg-purple-500 text-white":"bg-gray-100 dark:bg-gray-700 text-gray-600 dark:text-gray-400 hover:bg-gray-200 dark:hover:bg-gray-600"}`,children:[J,"km"]},J)),e.jsxs("div",{className:"relative",children:[e.jsxs("button",{onClick:()=>S(!L),className:"px-3 py-1 rounded-lg text-sm font-medium bg-gray-100 dark:bg-gray-700 text-gray-600 dark:text-gray-400 hover:bg-gray-200 dark:hover:bg-gray-600 transition-all flex items-center",children:["Edit",e.jsx(ba,{className:"h-4 w-4 ml-1"})]}),L&&e.jsx("div",{className:"absolute top-full left-0 mt-1 w-32 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg shadow-lg z-10",children:e.jsx("div",{className:"p-2",children:P.filter(J=>![2,5,10].includes(J)).map(J=>e.jsxs("button",{onClick:()=>{N(J),S(!1)},className:"w-full text-left px-3 py-2 rounded-lg text-sm font-medium text-gray-600 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-700 transition-all",children:[J,"km"]},J))})})]})]})]}),!v&&!k&&e.jsx("div",{className:"mb-4 p-4 bg-blue-50 dark:bg-blue-900/20 rounded-xl border border-blue-200 dark:border-blue-800",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center text-sm text-blue-600 dark:text-blue-400",children:[e.jsx(ye,{className:"h-4 w-4 mr-2"}),"Enable location to sort parks by distance"]}),e.jsx("button",{onClick:G,className:"px-4 py-2 bg-blue-500 text-white rounded-lg text-sm font-medium hover:bg-blue-600 transition-all",children:"📍 Enable Location"})]})}),k&&e.jsx("div",{className:"mb-4 p-4 bg-orange-50 dark:bg-orange-900/20 rounded-xl border border-orange-200 dark:border-orange-800",children:e.jsxs("div",{className:"flex items-center text-sm text-orange-600 dark:text-orange-400",children:[e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-orange-600 mr-2"}),"Getting your location..."]})}),!v&&a.length>0&&e.jsx("div",{className:"mb-4 p-4 bg-gray-50 dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center text-sm text-gray-600 dark:text-gray-400",children:[e.jsx("div",{className:"text-2xl mr-2",children:"🌍"}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:"Showing all parks"}),e.jsx("div",{className:"text-xs",children:"Enable location to sort by distance"})]})]}),e.jsxs("div",{className:"text-right text-sm text-gray-500 dark:text-gray-400",children:[e.jsxs("div",{className:"font-medium",children:[be.length," parks"]}),e.jsx("div",{className:"text-xs",children:"across the area"})]})]})}),!v&&!1,e.jsx("div",{className:"flex space-x-2 bg-gray-100 dark:bg-gray-800 rounded-full p-1 mb-6",children:[{name:"Favorites",type:"favorites",icon:Re},{name:"All",type:"all",icon:Wr},{name:"Private",type:"private",icon:Kt}].map(J=>{const ee=J.icon,$=p===J.type;return e.jsxs("button",{onClick:()=>g(J.type),className:`flex-1 flex justify-center items-center space-x-2 px-4 py-2 rounded-full font-medium text-sm transition-all duration-300 ${$?"bg-white dark:bg-gray-700 text-purple-600 dark:text-purple-300 shadow":"text-gray-500 dark:text-gray-400 hover:bg-gray-200 dark:hover:bg-gray-700/50"}`,children:[e.jsx(ee,{className:"w-5 h-5"}),e.jsx("span",{children:J.name})]},J.type)})}),Ae.length===0?e.jsx("div",{className:"text-center py-16",children:e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-3xl p-12 border border-gray-100 dark:border-gray-700 shadow-lg",children:[e.jsx("div",{className:"text-6xl mb-4",children:"🔍"}),e.jsx("h3",{className:"text-xl font-semibold bg-gradient-to-r from-purple-600 to-pink-600 bg-clip-text text-transparent mb-2",children:"No Parks Found"}),e.jsx("p",{className:"text-gray-500 dark:text-gray-400 mb-6",children:C&&v?`No parks found within ${E}km of your location.`:"We couldn't find any parks matching your search criteria."}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 justify-center",children:[e.jsx("button",{onClick:()=>{d(""),g("all")},className:"inline-flex items-center px-6 py-3 bg-gradient-to-r from-purple-600 to-pink-600 text-white rounded-3xl font-medium hover:from-purple-700 hover:to-pink-700 transition-all shadow-lg",children:"Clear Filters"}),C&&E<P[P.length-1]&&e.jsxs("button",{onClick:ce,className:"inline-flex items-center px-6 py-3 bg-blue-500 text-white rounded-3xl font-medium hover:bg-blue-600 transition-all shadow-lg",children:[e.jsx(Ft,{className:"h-4 w-4 mr-2"}),"Expand Range"]})]})]})}):e.jsxs(e.Fragment,{children:[e.jsx("div",{className:`${f==="cards"?"space-y-6":"space-y-3"} w-full overflow-hidden`,children:Ae.map((J,ee)=>f==="cards"?e.jsx(ah,{garden:J,index:ee,getOccupancyStatus:Te,isFavorite:i.some($=>$._id===J._id),toggleFavorite:me,isNewsletterSubscribed:q[J._id],onNewsletterClick:de},J._id):e.jsx(nh,{garden:J,getOccupancyStatus:Te,isFavorite:i.some($=>$._id===J._id),toggleFavorite:me,isNewsletterSubscribed:q[J._id],onNewsletterClick:de},J._id))}),Ae.length<be.length&&e.jsx("div",{className:"text-center mt-8",children:e.jsxs("button",{onClick:()=>B(J=>Math.min(J+10,be.length)),className:"inline-flex items-center px-8 py-3 bg-gradient-to-r from-purple-500 to-pink-500 text-white rounded-3xl font-medium hover:from-purple-600 hover:to-pink-600 transition-all shadow-lg transform hover:scale-105",children:[e.jsx(Fr,{className:"h-5 w-5 mr-2"}),"Load More Parks (",be.length-Ae.length," remaining)"]})}),C&&v&&Ae.length===be.length&&be.length>0&&E<P[P.length-1]&&e.jsx("div",{className:"text-center mt-8",children:e.jsxs("button",{onClick:ce,className:"inline-flex items-center px-8 py-3 bg-blue-500 text-white rounded-3xl font-medium hover:bg-blue-600 transition-all shadow-lg transform hover:scale-105",children:[e.jsx(Ft,{className:"h-5 w-5 mr-2"}),"Expand Range to ",P[P.indexOf(E)+1],"km"]})})]})]}),e.jsx("div",{className:"hidden lg:block px-8 py-8",children:e.jsx("div",{className:"text-center text-gray-500 dark:text-gray-400",children:"Desktop gardens layout coming soon..."})})]}),e.jsx(sh,{isOpen:A,onClose:()=>R(!1),garden:M,onSubscriptionChange:J=>{M&&Ce(M._id,J)}})]})},ah=({garden:t,index:r,getOccupancyStatus:a,isFavorite:s,toggleFavorite:l,isNewsletterSubscribed:o,onNewsletterClick:i})=>{var u,h,d,p,g,f;const x=a(t.currentOccupancy||0,((u=t.capacity)==null?void 0:u.maxDogs)||50),c=r<2&&(t.currentOccupancy||0)>3;return e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-3xl overflow-hidden shadow-lg border border-gray-100 dark:border-gray-700 hover:shadow-xl transition-all duration-300",children:[e.jsxs("div",{className:`relative h-32 ${t.type==="public"?"bg-gradient-to-br from-purple-400 via-pink-400 to-red-400":"bg-gradient-to-br from-purple-500 via-pink-500 to-red-500"}`,children:[e.jsx("div",{className:"absolute top-3 left-3",children:c?e.jsxs("div",{className:"bg-black bg-opacity-50 rounded-full px-3 py-1 flex items-center space-x-1",children:[e.jsx(st,{className:"h-4 w-4 text-orange-400"}),e.jsx("span",{className:"text-white text-xs font-medium",children:"Trending now!"})]}):(t.currentOccupancy||0)>0?e.jsx("div",{className:"bg-black bg-opacity-50 rounded-full px-3 py-1 flex items-center space-x-1",children:e.jsxs("span",{className:"text-white text-xs font-medium",children:["⚡ ",t.currentOccupancy," dogs here"]})}):null}),e.jsx("div",{className:"absolute top-3 right-3",children:e.jsx("div",{className:`rounded-full px-3 py-1 ${t.type==="public","bg-white bg-opacity-90 backdrop-blur-sm"}`,children:e.jsx("span",{className:`text-xs font-bold ${t.type==="public"?"text-purple-700":"text-pink-700"}`,children:t.type==="public"?"🌍 Public":"🔒 Private"})})}),t.distance&&e.jsx("div",{className:"absolute bottom-3 left-3",children:e.jsx("div",{className:"bg-black bg-opacity-50 rounded-full px-3 py-1",children:e.jsxs("span",{className:"text-white text-xs font-medium",children:["📍 ",t.distance.toFixed(1),"km away"]})})}),e.jsxs("div",{className:"absolute bottom-3 right-3 flex space-x-2",children:[e.jsx("button",{onClick:()=>l(t._id),className:"p-2 bg-white bg-opacity-20 rounded-full hover:bg-opacity-30 transition-all backdrop-blur-sm",children:e.jsx(Re,{className:`h-5 w-5 ${s?"text-red-500":"text-white"}`})}),e.jsx("button",{onClick:()=>i(t),className:"p-2 bg-white bg-opacity-20 rounded-full hover:bg-opacity-30 transition-all backdrop-blur-sm",children:o?e.jsx(es,{className:"h-5 w-5 text-blue-500"}):e.jsx(dt,{className:"h-5 w-5 text-white"})})]})]}),e.jsxs("div",{className:"p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("h3",{className:"text-lg font-bold text-gray-900 dark:text-white",children:t.name}),((h=t.statistics)==null?void 0:h.averageRating)>0&&e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(pr,{className:"h-4 w-4 text-yellow-400"}),e.jsx("span",{className:"text-sm font-medium text-gray-900 dark:text-white",children:t.statistics.averageRating.toFixed(1)})]})]}),e.jsxs("div",{className:"flex items-center text-sm text-gray-600 dark:text-gray-400 mb-3",children:[e.jsx(ye,{className:"h-4 w-4 mr-1"}),e.jsx("span",{className:"truncate",children:((d=t.location)==null?void 0:d.address)||"Location not specified"})]}),e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("div",{className:"flex items-center text-sm text-gray-600 dark:text-gray-400",children:[e.jsx(Ne,{className:"h-4 w-4 mr-2"}),e.jsxs("span",{children:[t.currentOccupancy||0," / ",((p=t.capacity)==null?void 0:p.maxDogs)||"No limit"," dogs"]})]}),e.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${x.bg} ${x.color}`,children:x.label})]}),t.amenities&&t.amenities.length>0&&e.jsx("div",{className:"mb-4",children:e.jsxs("div",{className:"flex flex-wrap gap-2",children:[t.amenities.slice(0,3).map(w=>e.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-purple-50 dark:bg-purple-900 text-purple-700 dark:text-purple-300",children:["✨ ",w]},w)),t.amenities.length>3&&e.jsxs("span",{className:"text-xs text-gray-500 dark:text-gray-400 flex items-center px-2",children:["+",t.amenities.length-3," more"]})]})}),(t.currentOccupancy||0)>0&&e.jsxs("div",{className:"flex items-center justify-between mb-4 p-3 bg-gray-50 dark:bg-gray-700 rounded-2xl",children:[e.jsxs("div",{className:"flex -space-x-2",children:[((g=t.currentVisitors)==null?void 0:g.slice(0,4).map((w,m)=>{var B;return e.jsx("div",{className:"relative",children:(B=w.dog)!=null&&B.image?e.jsx("img",{src:w.dog.image,alt:w.dog.name,className:"h-8 w-8 rounded-full border-2 border-white dark:border-gray-700 object-cover"}):e.jsx("div",{className:"h-8 w-8 rounded-full bg-gradient-to-r from-purple-400 to-pink-500 border-2 border-white dark:border-gray-700 flex items-center justify-center text-sm",children:"🐕"})},m)}))||[...Array(Math.min(4,t.currentOccupancy||0))].map((w,m)=>e.jsx("div",{className:"h-8 w-8 rounded-full bg-gradient-to-r from-purple-400 to-pink-500 border-2 border-white dark:border-gray-700 flex items-center justify-center text-sm",children:"🐕"},m)),(t.currentOccupancy||0)>4&&e.jsxs("div",{className:"h-8 w-8 rounded-full bg-gray-400 border-2 border-white dark:border-gray-700 flex items-center justify-center text-xs text-white font-medium",children:["+",(t.currentOccupancy||0)-4]})]}),e.jsxs("div",{className:"flex items-center text-xs text-gray-500 dark:text-gray-400",children:[e.jsx(Le,{className:"h-3 w-3 mr-1"}),"Active now"]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-4 text-sm text-gray-600 dark:text-gray-400",children:[e.jsxs("span",{className:"flex items-center",children:["🐕 ",t.currentOccupancy||0," dogs"]}),((f=t.statistics)==null?void 0:f.averageRating)>0&&e.jsxs("span",{className:"flex items-center",children:["⭐ ",t.statistics.averageRating.toFixed(1)]})]}),e.jsx(ge,{to:`/garden/${t._id}`,className:`px-6 py-2 rounded-2xl font-medium transition-all shadow-lg ${c?"bg-gradient-to-r from-orange-500 to-red-500 text-white hover:from-orange-600 hover:to-red-600":"bg-gradient-to-r from-purple-500 to-pink-500 text-white hover:from-purple-600 hover:to-pink-600"}`,children:(t.currentOccupancy||0)>0?"Join Now":"Visit"})]})]})]})},nh=({garden:t,getOccupancyStatus:r,isFavorite:a,toggleFavorite:s,isNewsletterSubscribed:l,onNewsletterClick:o})=>{var x,c,u;const i=r(t.currentOccupancy||0,((x=t.capacity)==null?void 0:x.maxDogs)||50);return e.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-gray-100 dark:border-gray-700 hover:shadow-lg transition-all duration-300 overflow-hidden",children:e.jsx("div",{className:"p-4",children:e.jsxs("div",{className:"flex items-center justify-between min-w-0",children:[e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx("div",{className:`w-3 h-3 rounded-full flex-shrink-0 ${t.type==="public"?"bg-purple-500":"bg-pink-500"}`}),e.jsx("h3",{className:"font-bold text-gray-900 dark:text-white truncate",children:t.name}),t.distance&&e.jsxs("span",{className:"text-xs text-gray-500 dark:text-gray-400 bg-gray-100 dark:bg-gray-700 px-2 py-1 rounded-full flex-shrink-0",children:[t.distance.toFixed(1),"km"]})]}),e.jsx("div",{className:"flex items-center justify-between mb-2",children:e.jsxs("div",{className:"flex items-center text-sm text-gray-600 dark:text-gray-400 min-w-0 flex-1",children:[e.jsx(ye,{className:"h-4 w-4 mr-1 flex-shrink-0"}),e.jsx("span",{className:"truncate",children:((c=t.location)==null?void 0:c.address)||"Address not specified"})]})}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center text-sm text-gray-600 dark:text-gray-400",children:[e.jsx(Ne,{className:"h-4 w-4 mr-2 flex-shrink-0"}),e.jsxs("span",{children:[t.currentOccupancy||0," / ",((u=t.capacity)==null?void 0:u.maxDogs)||"No limit"," dogs"]})]}),e.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${i.bg} ${i.color} flex-shrink-0`,children:i.label})]})]}),e.jsxs("div",{className:"ml-4 flex-shrink-0 flex flex-col items-end space-y-2",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{onClick:()=>s(t._id),className:"p-1 rounded-full hover:bg-gray-100 dark:hover:bg-gray-700 transition-all",children:e.jsx(Re,{className:`h-5 w-5 ${a?"text-red-500":"text-gray-400"}`})}),e.jsx("button",{onClick:()=>o(t),className:"p-1 rounded-full hover:bg-gray-100 dark:hover:bg-gray-700 transition-all",children:l?e.jsx(es,{className:"h-5 w-5 text-blue-500"}):e.jsx(dt,{className:"h-5 w-5 text-gray-400"})})]}),e.jsx(ge,{to:`/garden/${t._id}`,className:"inline-block px-4 py-2 bg-gradient-to-r from-purple-500 to-pink-500 text-white rounded-xl font-medium hover:from-purple-600 hover:to-pink-600 transition-all whitespace-nowrap",children:"Visit"})]})]})})})},_n=Object.freeze(Object.defineProperty({__proto__:null,default:In},Symbol.toStringTag,{value:"Module"})),tt={sendFriendRequest:async(t,r="")=>{var a,s;try{return(await Q.post("/friendships/request",{recipientId:t,message:r})).data}catch(l){throw new Error(((s=(a=l.response)==null?void 0:a.data)==null?void 0:s.error)||"Failed to send friend request")}},acceptFriendRequest:async t=>{var r,a;try{return(await Q.put(`/friendships/accept/${t}`)).data}catch(s){throw new Error(((a=(r=s.response)==null?void 0:r.data)==null?void 0:a.error)||"Failed to accept friend request")}},declineFriendRequest:async t=>{var r,a;try{return(await Q.put(`/friendships/decline/${t}`)).data}catch(s){throw new Error(((a=(r=s.response)==null?void 0:r.data)==null?void 0:a.error)||"Failed to decline friend request")}},getFriends:async()=>{try{return(await Q.get("/friendships")).data.friends||[]}catch{throw new Error("Failed to get friends")}},getPendingRequests:async()=>{try{return(await Q.get("/friendships/requests/pending")).data.requests||[]}catch{throw new Error("Failed to get pending requests")}},getSentRequests:async()=>{try{return(await Q.get("/friendships/requests/sent")).data.requests||[]}catch{throw new Error("Failed to get sent requests")}},removeFriend:async t=>{var r,a;try{return(await Q.delete(`/friendships/${t}`)).data}catch(s){throw new Error(((a=(r=s.response)==null?void 0:r.data)==null?void 0:a.error)||"Failed to remove friend")}},blockUser:async t=>{var r,a;try{return(await Q.post(`/friendships/block/${t}`)).data}catch(s){throw new Error(((a=(r=s.response)==null?void 0:r.data)==null?void 0:a.error)||"Failed to block user")}},getFriendshipStatus:async t=>{try{return(await Q.get(`/friendships/status/${t}`)).data}catch{throw new Error("Failed to get friendship status")}},getMutualFriends:async t=>{try{return(await Q.get(`/friendships/mutual/${t}`)).data.mutualFriends||[]}catch{throw new Error("Failed to get mutual friends")}},searchFriends:async t=>{try{return(await Q.get(`/friendships/search?query=${encodeURIComponent(t)}`)).data.friends||[]}catch{throw new Error("Failed to search friends")}}},qa=({targetUser:t,className:r="",size:a="md"})=>{const{user:s}=pe(),l=we(),[o,i]=n.useState(!1),x=async()=>{var h;if(!(!t||t._id===s._id)){i(!0);try{const d=window.innerWidth<1024,p=[s._id,t._id].sort().join("-");let g=null;try{const w=(h=(await hs.getChats()).chats)==null?void 0:h.find(m=>m.participants.some(B=>B._id===t._id));w&&(g=w._id)}catch(f){console.log("No existing chats found or error fetching chats:",f)}if(g)if(d)l(`/chat/${g}`);else{const f=document.querySelector("[data-chat-toggle]");f?f.click():window.dispatchEvent(new CustomEvent("openChat",{detail:{chatId:g}})),setTimeout(()=>{window.dispatchEvent(new CustomEvent("selectChat",{detail:{chatId:g,targetUser:t}}))},100)}else if(d)l(`/chat/${p}`);else{const f=document.querySelector("[data-chat-toggle]");f?f.click():window.dispatchEvent(new CustomEvent("openChat",{detail:{chatId:p}})),setTimeout(()=>{window.dispatchEvent(new CustomEvent("selectChat",{detail:{chatId:p,targetUser:t}}))},100)}}catch(d){console.error("Error opening chat:",d),I.error("Failed to open chat. Please try again.")}finally{i(!1)}}},c={sm:"px-3 py-1.5 text-sm",md:"px-4 py-2 text-sm",lg:"px-6 py-3 text-base"},u={sm:"h-4 w-4",md:"h-5 w-5",lg:"h-6 w-6"};return!t||t._id===s._id?null:e.jsxs("button",{onClick:x,disabled:o,className:`
        inline-flex items-center justify-center
        bg-gradient-to-r from-purple-600 to-pink-600 
        hover:from-purple-700 hover:to-pink-700 
        text-white font-medium rounded-xl
        transition-all duration-200 transform hover:scale-105
        disabled:opacity-50 disabled:cursor-not-allowed disabled:transform-none
        shadow-lg hover:shadow-xl
        ${c[a]}
        ${r}
      `,children:[e.jsx(pa,{className:`${u[a]} mr-2`}),o?"Opening...":"Chat"]})},On=n.forwardRef(({gardenId:t},r)=>{const{isAuthenticated:a,user:s}=pe(),[l,o]=n.useState([]),[i,x]=n.useState({}),[c,u]=n.useState(!1);n.useEffect(()=>{h();const g=setInterval(h,3e4);return()=>clearInterval(g)},[t]);const h=async()=>{try{u(!0);const g=await Se.getCurrentVisitors(t);if(o(g.visitors),a&&s&&g.visitors.length>0){const f={};await Promise.all(g.visitors.map(async w=>{if(w.user._id!==s._id)try{const m=await tt.getFriendshipStatus(w.user._id);f[w.user._id]=m}catch(m){console.error("Error loading friendship status:",m),f[w.user._id]=null}})),x(f)}}catch(g){console.error("Error loading visitors:",g),o([])}finally{u(!1)}};n.useImperativeHandle(r,()=>({refresh:h}));const d=g=>{const f=Math.floor((Date.now()-new Date(g).getTime())/6e4);return f<60?`${f}m ago`:`${Math.floor(f/60)}h ${f%60}m ago`},p=g=>{if(!a||!s||g._id===s._id)return!1;const f=i[g._id];return(f==null?void 0:f.status)==="accepted"};return c?e.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-3xl shadow-lg border border-gray-100 dark:border-gray-700 overflow-hidden",children:e.jsxs("div",{className:"px-6 py-5",children:[e.jsx("div",{className:"flex items-center justify-between mb-6",children:e.jsxs("h3",{className:"text-lg font-bold text-gray-900 dark:text-white flex items-center",children:[e.jsx(Ne,{className:"h-5 w-5 mr-2 text-purple-500"}),"Currently in the Park"]})}),e.jsxs("div",{className:"text-center py-8",children:[e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-purple-500 mx-auto"}),e.jsx("p",{className:"text-gray-500 dark:text-gray-400 mt-2",children:"Loading visitors..."})]})]})}):e.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-3xl shadow-lg border border-gray-100 dark:border-gray-700 overflow-hidden",children:e.jsxs("div",{className:"px-6 py-5",children:[e.jsx("div",{className:"flex items-center justify-between mb-6",children:e.jsxs("h3",{className:"text-lg font-bold text-gray-900 dark:text-white flex items-center",children:[e.jsx(Ne,{className:"h-5 w-5 mr-2 text-purple-500"}),"Currently in the Park (",l.length,")"]})}),l.length===0?e.jsxs("div",{className:"text-center py-8",children:[e.jsx("div",{className:"text-6xl mb-4",children:"🏞️"}),e.jsx("p",{className:"text-gray-500 dark:text-gray-400 font-medium",children:"No one is currently in the park"}),e.jsx("p",{className:"text-sm text-gray-400 dark:text-gray-500 mt-1",children:"Be the first to check in!"})]}):e.jsx("div",{className:"space-y-4",children:l.map(g=>e.jsx("div",{className:"bg-gray-50 dark:bg-gray-700 rounded-2xl p-4 border border-gray-100 dark:border-gray-600",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex-shrink-0",children:g.user.profileImage?e.jsx("img",{className:"h-12 w-12 rounded-full object-cover border-2 border-white dark:border-gray-600 shadow-sm",src:g.user.profileImage,alt:""}):e.jsx("div",{className:"h-12 w-12 rounded-full bg-gradient-to-br from-purple-400 to-pink-400 flex items-center justify-center border-2 border-white dark:border-gray-600 shadow-sm",children:e.jsx("span",{className:"text-white font-bold text-lg",children:g.user.firstName[0]})})}),e.jsxs("div",{className:"ml-4",children:[e.jsxs("p",{className:"text-sm font-bold text-gray-900 dark:text-white",children:[g.user.firstName," ",g.user.lastName]}),e.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400 flex items-center",children:[e.jsx(Le,{className:"h-3 w-3 mr-1"}),"Arrived ",d(g.checkInTime)]})]})]}),g.dogs.length>0&&e.jsxs("div",{className:"mt-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-300 mb-3",children:"With dogs:"}),e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:g.dogs.map(f=>e.jsxs(ge,{to:`/dogs/profile/${f._id}`,className:"flex items-center space-x-3 bg-gradient-to-r from-blue-50 to-indigo-50 dark:from-blue-900/20 dark:to-indigo-900/20 hover:from-blue-100 hover:to-indigo-100 dark:hover:from-blue-900/30 dark:hover:to-indigo-900/30 border border-blue-200 dark:border-blue-700 rounded-xl p-3 transition-all duration-200 hover:shadow-md group",children:[e.jsxs("div",{className:"flex-shrink-0 relative",children:[f.image||f.gallery&&f.gallery.length>0?e.jsx("img",{className:"h-12 w-12 rounded-full object-cover border-2 border-white dark:border-gray-600 shadow-sm group-hover:scale-105 transition-transform duration-200",src:f.image||f.gallery[0],alt:f.name,onError:w=>{w.target.style.display="none",w.target.nextSibling.style.display="flex"}}):null,e.jsx("div",{className:`h-12 w-12 rounded-full bg-gradient-to-br from-orange-100 to-amber-100 dark:from-orange-900/50 dark:to-amber-900/50 border-2 border-white dark:border-gray-600 shadow-sm flex items-center justify-center group-hover:scale-105 transition-transform duration-200 ${f.image||f.gallery&&f.gallery.length>0?"hidden":"flex"}`,children:e.jsx("span",{className:"text-xl",children:"🐕"})}),e.jsx("div",{className:"absolute -bottom-0.5 -right-0.5 w-4 h-4 bg-green-400 border-2 border-white dark:border-gray-600 rounded-full flex items-center justify-center",children:e.jsx("div",{className:"w-2 h-2 bg-green-600 rounded-full animate-pulse"})})]}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-sm font-semibold text-gray-900 dark:text-white truncate group-hover:text-blue-700 dark:group-hover:text-blue-300 transition-colors",children:f.name}),e.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400 truncate",children:[f.breed," • ",f.size,f.age&&` • ${f.age} months`]})]}),e.jsx("div",{className:"flex-shrink-0",children:e.jsx("div",{className:"w-2 h-2 bg-green-400 rounded-full"})})]},f._id))})]})]}),p(g.user)&&e.jsx("div",{className:"ml-4 flex-shrink-0",children:e.jsx(qa,{targetUser:g.user,size:"sm",className:"mt-2"})})]})},g._id))})]})})});On.displayName="CurrentVisitors";const sa={async createReview(t){return(await Q.post("/reviews",t)).data},async getGardenReviews(t,r={}){return(await Q.get(`/reviews/garden/${t}`,{params:r})).data},async updateReview(t,r){return(await Q.put(`/reviews/${t}`,r)).data},async deleteReview(t){return(await Q.delete(`/reviews/${t}`)).data},async markHelpful(t){return(await Q.post(`/reviews/${t}/helpful`)).data}},lh=({gardenId:t,canReview:r=!1,visitId:a=null})=>{const{user:s,isAuthenticated:l}=pe(),[o,i]=n.useState([]),[x,c]=n.useState(!0),[u,h]=n.useState(!1),[d,p]=n.useState({rating:{overall:5,cleanliness:5,safety:5,amenities:5,accessibility:5},review:""});n.useEffect(()=>{g()},[t]);const g=async()=>{try{c(!0);const B=await sa.getGardenReviews(t);i(B.reviews)}catch(B){console.error("Error loading reviews:",B),i([])}finally{c(!1)}},f=async B=>{var E,N;if(B.preventDefault(),!l){I.info("Please log in to write a review");return}if(!a){I.error("You can only review after a visit");return}try{await sa.createReview({gardenId:t,visitId:a,...d}),I.success("Review submitted successfully!"),h(!1),g()}catch(v){console.error("Error submitting review:",v),I.error(((N=(E=v.response)==null?void 0:E.data)==null?void 0:N.error)||"Failed to submit review")}},w=async B=>{if(!l){I.info("Please log in to mark reviews as helpful");return}try{const E=await sa.markHelpful(B);I.success("Feedback recorded"),i(o.map(N=>N._id===B?{...N,helpful:E.helpfulCount}:N))}catch(E){console.error("Error marking helpful:",E)}},m=({value:B,onChange:E=null,size:N="sm"})=>e.jsxs("div",{className:"flex items-center",children:[[1,2,3,4,5].map(v=>e.jsx("button",{type:"button",onClick:()=>E&&E(v),className:`${E?"cursor-pointer":"cursor-default"} ${N==="sm"?"text-lg":"text-2xl"}`,disabled:!E,children:e.jsx(pr,{className:`${N==="sm"?"h-5 w-5":"h-6 w-6"} ${v<=B?"text-yellow-400":"text-gray-300"}`})},v)),e.jsxs("span",{className:"ml-2 text-sm text-gray-600",children:[B,"/5"]})]});return e.jsx("div",{className:"bg-white shadow rounded-lg overflow-hidden",children:e.jsxs("div",{className:"px-4 py-5 sm:p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Reviews"}),r&&!u&&e.jsx("button",{onClick:()=>h(!0),className:"inline-flex items-center px-3 py-2 border border-transparent text-sm leading-4 font-medium rounded-md text-white bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500",children:"Write a Review"})]}),l&&!r&&e.jsx("div",{className:"mb-6 p-4 bg-blue-50 border border-blue-200 rounded-lg",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("span",{className:"text-blue-400 text-xl",children:"ℹ️"})}),e.jsx("div",{className:"ml-3",children:e.jsxs("p",{className:"text-sm text-blue-800",children:[e.jsx("strong",{children:"Want to write a review?"})," You can review this garden after completing a visit. Check in with your dogs and complete your visit to share your experience!"]})})]})}),!l&&e.jsx("div",{className:"mb-6 p-4 bg-gray-50 border border-gray-200 rounded-lg",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("span",{className:"text-gray-400 text-xl",children:"👤"})}),e.jsx("div",{className:"ml-3",children:e.jsxs("p",{className:"text-sm text-gray-600",children:[e.jsx("strong",{children:"Want to write a review?"})," Please log in and complete a visit to this garden first."]})})]})}),u&&e.jsxs("form",{onSubmit:f,className:"mb-6 p-4 bg-gray-50 rounded-lg",children:[e.jsx("h4",{className:"text-md font-medium text-gray-900 mb-4",children:"Share Your Experience"}),e.jsxs("div",{className:"space-y-3 mb-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Overall Rating"}),e.jsx(m,{value:d.rating.overall,onChange:B=>p({...d,rating:{...d.rating,overall:B}}),size:"md"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs text-gray-600",children:"Cleanliness"}),e.jsx(m,{value:d.rating.cleanliness,onChange:B=>p({...d,rating:{...d.rating,cleanliness:B}})})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs text-gray-600",children:"Safety"}),e.jsx(m,{value:d.rating.safety,onChange:B=>p({...d,rating:{...d.rating,safety:B}})})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs text-gray-600",children:"Amenities"}),e.jsx(m,{value:d.rating.amenities,onChange:B=>p({...d,rating:{...d.rating,amenities:B}})})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs text-gray-600",children:"Accessibility"}),e.jsx(m,{value:d.rating.accessibility,onChange:B=>p({...d,rating:{...d.rating,accessibility:B}})})]})]})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{htmlFor:"review",className:"block text-sm font-medium text-gray-700 mb-1",children:"Your Review"}),e.jsx("textarea",{id:"review",rows:4,value:d.review,onChange:B=>p({...d,review:B.target.value}),className:"block w-full rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500 sm:text-sm",placeholder:"Share your experience...",required:!0})]}),e.jsxs("div",{className:"flex justify-end space-x-3",children:[e.jsx("button",{type:"button",onClick:()=>h(!1),className:"inline-flex items-center px-3 py-2 border border-gray-300 shadow-sm text-sm leading-4 font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500",children:"Cancel"}),e.jsx("button",{type:"submit",className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500",children:"Submit Review"})]})]}),x?e.jsx("div",{className:"text-center py-4",children:"Loading reviews..."}):o.length===0?e.jsx("p",{className:"text-center text-gray-500 py-8",children:"No reviews yet. Be the first to review!"}):e.jsx("div",{className:"space-y-6",children:o.map(B=>{var E;return e.jsxs("div",{className:"border-b pb-6 last:border-b-0",children:[e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex items-start",children:[B.user.profileImage?e.jsx("img",{className:"h-10 w-10 rounded-full",src:B.user.profileImage,alt:""}):e.jsx("div",{className:"h-10 w-10 rounded-full bg-gray-300 flex items-center justify-center",children:e.jsx("span",{className:"text-gray-600 text-sm",children:B.user.firstName[0]})}),e.jsxs("div",{className:"ml-3",children:[e.jsxs("p",{className:"text-sm font-medium text-gray-900",children:[B.user.firstName," ",B.user.lastName]}),e.jsx("p",{className:"text-xs text-gray-500",children:new Date(B.createdAt).toLocaleDateString()})]})]}),e.jsx(m,{value:B.rating.overall})]}),e.jsx("div",{className:"mt-3 text-sm text-gray-700",children:e.jsx("p",{children:B.review})}),B.rating.cleanliness&&e.jsxs("div",{className:"mt-3 grid grid-cols-2 gap-2 text-xs",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-500",children:"Cleanliness:"}),e.jsxs("span",{className:"font-medium",children:[B.rating.cleanliness,"/5"]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-500",children:"Safety:"}),e.jsxs("span",{className:"font-medium",children:[B.rating.safety,"/5"]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-500",children:"Amenities:"}),e.jsxs("span",{className:"font-medium",children:[B.rating.amenities,"/5"]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-500",children:"Accessibility:"}),e.jsxs("span",{className:"font-medium",children:[B.rating.accessibility,"/5"]})]})]}),e.jsx("div",{className:"mt-4 flex items-center",children:e.jsxs("button",{onClick:()=>w(B._id),className:"inline-flex items-center text-sm text-gray-500 hover:text-gray-700",children:[e.jsx(Ud,{className:"h-4 w-4 mr-1"}),"Helpful (",((E=B.helpful)==null?void 0:E.length)||0,")"]})})]},B._id)})})]})})},Vn=({garden:t,onQRGenerated:r})=>{const{user:a}=pe(),[s,l]=n.useState(null),[o,i]=n.useState(!1),[x,c]=n.useState(!1),[u,h]=n.useState(""),d=()=>!a||!t?!1:!!(a.role==="admin"||t.manager&&(t.manager._id===a._id||t.manager===a._id));if(!d())return null;n.useEffect(()=>{t&&d()&&p()},[t,a]);const p=async()=>{if(t){i(!0);try{const E=`${window.location.origin}/garden/${t._id}`;h(E);try{const N=`https://api.qrserver.com/v1/create-qr-code/?size=300x300&data=${encodeURIComponent(E)}&format=png&ecc=M&margin=1`,v=new Image;v.crossOrigin="anonymous",v.onload=()=>{const j=document.createElement("canvas"),k=j.getContext("2d"),b=300;j.width=b,j.height=b,k.fillStyle="#ffffff",k.fillRect(0,0,b,b),k.drawImage(v,10,10,b-20,b-20),k.strokeStyle="#e5e7eb",k.lineWidth=2,k.strokeRect(1,1,b-2,b-2);const C=j.toDataURL("image/png",1);l(C),r&&r({qrCodeDataUrl:C,qrUrl:E,qrId:t._id})},v.onerror=()=>{console.warn("QR API failed, using fallback QR generator."),g(E)},v.src=N}catch{console.log("API request failed, using fallback"),g(E)}}catch(E){console.error("Error generating QR code:",E),g(`${window.location.origin}/garden/${t._id}`)}finally{i(!1)}}},g=E=>{const N=document.createElement("canvas"),v=N.getContext("2d"),j=300;N.width=j,N.height=j,v.fillStyle="#ffffff",v.fillRect(0,0,j,j);const k=25,b=Math.floor((j-40)/k),C=(j-k*b)/2;v.fillStyle="#000000";const D=E.split("").reduce((R,M,_)=>R+M.charCodeAt(0)*(_+1),0),F=[];for(let R=0;R<k;R++){F[R]=[];for(let M=0;M<k;M++){const _=(D+R*37+M*23)%100;F[R][M]=_<40}}const T=(R,M)=>{for(let _=0;_<7;_++)for(let q=0;q<7;q++)R+_<k&&M+q<k&&(F[R+_][M+q]=!1);for(let _=0;_<7;_++)for(let q=0;q<7;q++)R+_<k&&M+q<k&&(_===0||_===6||q===0||q===6)&&(F[R+_][M+q]=!0);for(let _=2;_<5;_++)for(let q=2;q<5;q++)R+_<k&&M+q<k&&(F[R+_][M+q]=!0)};T(0,0),T(0,k-7),T(k-7,0);for(let R=8;R<k-8;R++)F[6][R]=R%2===0,F[R][6]=R%2===0;for(let R=0;R<k;R++)for(let M=0;M<k;M++)F[R][M]&&v.fillRect(C+M*b,C+R*b,b,b);v.strokeStyle="#e5e7eb",v.lineWidth=2,v.strokeRect(1,1,j-2,j-2);const A=N.toDataURL("image/png",1);l(A)},f=(E="png")=>{if(!s)return;const N=document.createElement("a"),v=`${t.name.replace(/[^a-zA-Z0-9]/g,"_")}-qr-code.${E}`;N.href=s,N.download=v,document.body.appendChild(N),N.click(),document.body.removeChild(N)},w=async()=>{try{await navigator.clipboard.writeText(u),c(!0),setTimeout(()=>c(!1),2e3)}catch(E){console.error("Failed to copy link:",E)}},m=async()=>{if(navigator.share)try{await navigator.share({title:`Dog Park - ${t.name}`,text:`Come visit the "${t.name}" dog park!`,url:u})}catch(E){console.error("Error sharing:",E),w()}else w()},B=()=>{if(!s)return;const E=window.open("","_blank");E.document.write(`
      <html>
        <head>
          <title>QR Code - ${t.name}</title>
          <style>
            body { 
              margin: 0; 
              padding: 20px; 
              text-align: center; 
              font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif;
            }
            .qr-container {
              max-width: 400px;
              margin: 20px auto;
              padding: 20px;
              border: 1px solid #ddd;
              border-radius: 12px;
            }
            .qr-image {
              width: 100%;
              max-width: 300px;
              height: auto;
              border-radius: 8px;
            }
            .garden-name {
              font-size: 24px;
              font-weight: bold;
              margin: 20px 0 10px 0;
            }
            .instruction {
              font-size: 16px;
              color: #555;
              margin-bottom: 20px;
            }
            .url {
              font-size: 12px;
              color: #999;
              word-break: break-all;
              margin-top: 10px;
            }
            @media print {
              body { margin: 0; padding: 0; }
              .qr-container { border: none; margin: 0; }
            }
          </style>
        </head>
        <body>
          <div class="qr-container">
            <div class="garden-name">${t.name}</div>
            <div class="instruction">Scan for more details</div>
            <img src="${s}" alt="QR Code for ${t.name}" class="qr-image" />
            <div class="url">${u}</div>
          </div>
        </body>
      </html>
    `),E.document.close(),setTimeout(()=>{E.print(),E.close()},250)};return t?e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-3xl shadow-lg border border-gray-100 dark:border-gray-700 overflow-hidden",children:[e.jsxs("div",{className:"px-6 py-4 border-b border-gray-100 dark:border-gray-700 bg-gradient-to-r from-gray-50 to-white dark:from-gray-800 dark:to-gray-800/50",children:[e.jsxs("h3",{className:"text-lg font-bold text-gray-900 dark:text-white flex items-center",children:[e.jsx(pt,{className:"h-5 w-5 mr-2 text-purple-600"}),"Garden QR Code"]}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mt-1",children:"Share this code for easy access to the garden's page."})]}),e.jsx("div",{className:"p-6",children:o?e.jsxs("div",{className:"text-center py-12",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-4 border-purple-600 border-t-transparent mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400 font-medium",children:"Generating QR Code..."})]}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-gradient-to-br from-gray-50 to-white dark:from-gray-700/30 dark:to-gray-700/60 p-6 rounded-2xl border border-gray-200 dark:border-gray-700 text-center",children:[e.jsxs("div",{className:"mb-4",children:[e.jsx("h4",{className:"font-bold text-lg text-gray-900 dark:text-white mb-1 line-clamp-2",children:t.name}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Scan for more details"})]}),e.jsx("div",{className:"inline-block p-2 bg-white rounded-lg shadow-md border border-gray-200 dark:border-gray-600",children:s?e.jsx("img",{src:s,alt:`QR Code for ${t.name}`,className:"mx-auto block w-40 h-40"}):e.jsx("div",{className:"w-40 h-40 bg-gray-100 dark:bg-gray-600 rounded-lg flex items-center justify-center",children:e.jsx(pt,{className:"h-16 w-16 text-gray-400 dark:text-gray-500"})})}),e.jsx("div",{className:"mt-4",children:e.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 break-all font-mono bg-gray-100 dark:bg-gray-800 p-2 rounded-lg leading-tight",children:u})})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs("button",{onClick:()=>f("png"),disabled:!s,className:"flex items-center justify-center px-4 py-3 bg-gradient-to-r from-green-500 to-emerald-600 text-white font-medium rounded-xl hover:from-green-600 hover:to-emerald-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500 transition-all duration-200 transform hover:scale-105 disabled:opacity-50 text-sm",children:[e.jsx(Ji,{className:"h-5 w-5 mr-2"}),"Download"]}),e.jsxs("button",{onClick:w,className:`flex items-center justify-center px-4 py-3 font-medium rounded-xl focus:outline-none focus:ring-2 focus:ring-offset-2 transition-all duration-200 transform hover:scale-105 text-sm ${x?"bg-gradient-to-r from-green-500 to-emerald-600 text-white focus:ring-green-500":"bg-gray-600 text-white hover:bg-gray-700 focus:ring-gray-500"}`,children:[x?e.jsx(mr,{className:"h-5 w-5 mr-2"}):e.jsx(us,{className:"h-5 w-5 mr-2"}),x?"Copied!":"Copy Link"]}),e.jsxs("button",{onClick:m,className:"flex items-center justify-center px-4 py-3 bg-gradient-to-r from-purple-500 to-pink-500 text-white font-medium rounded-xl hover:from-purple-600 hover:to-pink-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-purple-500 transition-all duration-200 transform hover:scale-105 text-sm",children:[e.jsx(pn,{className:"h-5 w-5 mr-2"}),"Share"]}),e.jsxs("button",{onClick:B,disabled:!s,className:"flex items-center justify-center px-4 py-3 bg-gradient-to-r from-indigo-500 to-purple-600 text-white font-medium rounded-xl hover:from-indigo-600 hover:to-purple-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 transition-all duration-200 transform hover:scale-105 disabled:opacity-50 text-sm",children:[e.jsx(Dc,{className:"h-5 w-5 mr-2"}),"Print"]})]}),e.jsx("div",{className:"text-center pt-2",children:e.jsxs("button",{onClick:p,className:"inline-flex items-center px-4 py-2 bg-gray-100 text-gray-700 dark:bg-gray-700 dark:text-gray-200 font-medium rounded-lg hover:bg-gray-200 dark:hover:bg-gray-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-purple-500 transition-all duration-200 text-xs",children:[e.jsx(Fr,{className:"h-4 w-4 mr-2"}),"Regenerate Code"]})})]})})]}):e.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-3xl shadow-lg border border-gray-100 dark:border-gray-700 p-6",children:e.jsxs("div",{className:"text-center text-gray-500 dark:text-gray-400",children:[e.jsx(pt,{className:"h-12 w-12 mx-auto mb-3 text-gray-300 dark:text-gray-600"}),e.jsx("p",{className:"font-medium",children:"No garden information available."})]})})},oh=()=>{var H,P,G;const{id:t}=Vt(),r=we(),{user:a,isAuthenticated:s}=pe(),[l,o]=n.useState(null),[i,x]=n.useState([]),[c,u]=n.useState(null),[h,d]=n.useState([]),[p,g]=n.useState(!0),[f,w]=n.useState(!1),[m,B]=n.useState([]),[E,N]=n.useState("details"),[v,j]=n.useState("garden"),[k,b]=n.useState(!1),C=n.useRef();n.useEffect(()=>{D()},[t,s]);const D=async()=>{try{g(!0);const z=await Se.getGardenById(t);if(o(z),s){const[O,Y,X]=await Promise.all([it.getMyDogs(),Et.getActiveVisit(),Et.getMyVisits()]);x(O.dogs||O||[]),u(Y.visit||Y),d(X.visits||X||[]),F()}}catch(z){console.error("Error loading garden data:",z),I.error("Failed to load garden details."),r("/gardens")}finally{g(!1)}},F=async()=>{try{const z=await Se.getNewsletterStatus(t);b(z.isSubscribed)}catch(z){console.warn("Newsletter status check failed:",z.message),b(!1)}},T=()=>{if(!s){I.info("Please log in to manage newsletter subscriptions.");return}j("newsletter")},A=()=>{j("garden")},R=z=>{b(z)},M=async()=>{var z,O,Y;if(!(!s||m.length===0)){w(!0);try{await Et.checkIn({gardenId:t,dogIds:m}),I.success("Checked in successfully!"),B([]),await D(),(z=C.current)==null||z.refresh()}catch(X){I.error(((Y=(O=X.response)==null?void 0:O.data)==null?void 0:Y.error)||"Failed to check in.")}finally{w(!1)}}},_=z=>{B(O=>O.includes(z)?O.filter(Y=>Y!==z):[...O,z])},q=()=>{if(!(l!=null&&l.openingHours))return!1;const z=new Date,O=z.toLocaleDateString("en-US",{weekday:"long"}).toLowerCase(),Y=l.openingHours[O];if(!Y||Y.closed)return!1;const X=z.toTimeString().slice(0,5);return X>=Y.open&&X<=Y.close};if(p)return e.jsx(Ju,{});if(!l)return e.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 flex justify-center items-center p-4",children:e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-3xl shadow-lg p-12 text-center border border-gray-100 dark:border-gray-700",children:[e.jsx("div",{className:"text-6xl mb-4",children:"🏞️"}),e.jsx("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-2",children:"Garden Not Found"}),e.jsx("p",{className:"text-gray-500 dark:text-gray-400 mb-6",children:"The garden you're looking for doesn't exist."}),e.jsxs("button",{onClick:()=>r("/gardens"),className:"inline-flex items-center px-6 py-3 bg-gradient-to-r from-purple-500 to-pink-500 text-white font-medium rounded-xl hover:from-purple-600 hover:to-pink-600 transition-all duration-200 transform hover:scale-105",children:[e.jsx(Ue,{className:"h-5 w-5 mr-2"}),"Back to Gardens"]})]})});const U=q(),L=[{id:"details",name:"Details",icon:ye},{id:"amenities",name:"Amenities",icon:$e},{id:"reviews",name:"Reviews",icon:cn}],S=()=>{switch(E){case"amenities":return e.jsx(xh,{amenities:l.amenities});case"reviews":const z=h.find(O=>O.garden===t&&O.status==="completed");return e.jsx(lh,{gardenId:t,canReview:s&&!!z,visitId:z==null?void 0:z._id});case"details":default:return e.jsx(ih,{garden:l})}};return e.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900",children:e.jsxs("div",{className:"max-w-lg mx-auto",children:[e.jsxs("div",{className:`bg-gradient-to-br ${l.type==="public"?"from-green-600 via-emerald-600 to-teal-700 dark:from-green-700 dark:via-emerald-700 dark:to-teal-800":"from-purple-600 via-pink-600 to-indigo-700 dark:from-purple-700 dark:via-pink-700 dark:to-indigo-800"} mx-4 mt-4 rounded-3xl p-6 text-white relative overflow-hidden`,children:[e.jsx("div",{className:"absolute -top-6 -right-6 opacity-20",children:e.jsx("div",{className:"text-8xl",children:l.type==="public"?"🌳":"🏢"})}),e.jsxs("div",{className:"relative z-10",children:[v==="newsletter"?e.jsxs("button",{onClick:A,className:"flex items-center text-white/80 hover:text-white transition-colors mb-4 p-2 rounded-xl bg-white/20 hover:bg-white/30",children:[e.jsx(Ue,{className:"h-4 w-4 mr-2"}),"Back to Garden"]}):e.jsxs("button",{onClick:()=>r("/gardens"),className:"flex items-center text-white/80 hover:text-white transition-colors mb-4 p-2 rounded-xl bg-white/20 hover:bg-white/30",children:[e.jsx(Ue,{className:"h-4 w-4 mr-2"}),"Back to Gardens"]}),e.jsxs("div",{className:"mb-4",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[e.jsx("span",{className:"bg-white/20 px-3 py-1 rounded-full text-sm",children:l.type==="public"?"🌍 Public":"🔒 Private"}),e.jsx("span",{className:`px-3 py-1 rounded-full text-sm ${U?"bg-green-500/20 text-green-100":"bg-red-500/20 text-red-100"}`,children:U?"🟢 Open":"🔴 Closed"})]}),e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("h1",{className:"text-2xl font-bold flex-1",children:v==="newsletter"?"Newsletter Subscription":l.name}),v==="garden"&&e.jsx("div",{className:"flex items-center space-x-2",children:e.jsx("button",{onClick:T,className:"p-2 bg-white/20 rounded-full hover:bg-white/30 transition-all",title:"Newsletter subscription",children:k?e.jsx(es,{className:"h-5 w-5 text-blue-400"}):e.jsx(dt,{className:"h-5 w-5 text-white/80"})})})]}),e.jsx("p",{className:"text-white/90 text-sm mb-4 line-clamp-2",children:v==="newsletter"?`Manage your email notifications for ${l.name}`:l.description}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(ye,{className:"h-4 w-4 mr-2"}),((H=l.location)==null?void 0:H.city)||"Location"]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx(Ne,{className:"h-4 w-4 mr-2"}),l.currentOccupancy||0," / ",((P=l.capacity)==null?void 0:P.maxDogs)||"No limit"]}),((G=l.statistics)==null?void 0:G.averageRating)>0&&e.jsxs("div",{className:"flex items-center",children:[e.jsx(pr,{className:"h-4 w-4 mr-2 text-yellow-400"}),l.statistics.averageRating.toFixed(1)," (",l.statistics.totalReviews,")"]})]})]})]})]}),v==="garden"?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"px-4 mt-6",children:e.jsx(dh,{isAuthenticated:s,myDogs:i,selectedDogs:m,toggleDogSelection:_,handleCheckIn:M,checkingIn:f,gardenIsOpen:U,navigate:r})}),e.jsx("div",{className:"px-4 mt-6",children:e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-3xl shadow-lg border border-gray-100 dark:border-gray-700 overflow-hidden",children:[e.jsx("div",{className:"px-6 py-4 border-b border-gray-100 dark:border-gray-700",children:e.jsxs("h3",{className:"text-lg font-bold text-gray-900 dark:text-white flex items-center",children:[e.jsx(st,{className:"h-5 w-5 mr-2 text-orange-500"}),"Who's Here Now"]})}),e.jsx("div",{className:"p-6",children:e.jsx(On,{gardenId:t,ref:C})})]})}),e.jsx("div",{className:"px-4 mt-6",children:e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-3xl shadow-lg border border-gray-100 dark:border-gray-700 overflow-hidden",children:[e.jsx("div",{className:"border-b border-gray-100 dark:border-gray-700",children:e.jsx("nav",{className:"flex",children:L.map(z=>e.jsxs("button",{onClick:()=>N(z.id),className:`flex-1 flex items-center justify-center py-4 px-1 border-b-2 font-medium text-sm transition-all ${E===z.id?"border-purple-500 text-purple-600 dark:text-purple-400 bg-purple-50 dark:bg-purple-900/20":"border-transparent text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-300"}`,children:[e.jsx(z.icon,{className:"h-4 w-4 mr-2"}),e.jsx("span",{children:z.name})]},z.id))})}),e.jsx("div",{className:"p-6",children:S()})]})}),e.jsx("div",{className:"px-4 mt-6 pb-6",children:e.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-3xl shadow-lg border border-gray-100 dark:border-gray-700 p-6",children:e.jsx(Vn,{garden:l})})})]}):e.jsx(ch,{garden:l,onSubscriptionChange:R,onBack:A})]})})},ih=({garden:t})=>{var r,a;return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4 flex items-center",children:[e.jsx(ye,{className:"h-5 w-5 mr-2 text-purple-500"}),"Location & Contact"]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-start p-3 bg-gray-50 dark:bg-gray-700/50 rounded-xl",children:[e.jsx(ye,{className:"h-5 w-5 text-gray-400 dark:text-gray-500 mt-0.5 mr-3 flex-shrink-0"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-900 dark:text-white",children:"Address"}),e.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-300",children:[t.location.address,", ",t.location.city]})]})]}),((r=t.contact)==null?void 0:r.phone)&&e.jsxs("div",{className:"flex items-start p-3 bg-gray-50 dark:bg-gray-700/50 rounded-xl",children:[e.jsx(Kr,{className:"h-5 w-5 text-gray-400 dark:text-gray-500 mt-0.5 mr-3 flex-shrink-0"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-900 dark:text-white",children:"Phone"}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300",children:t.contact.phone})]})]}),((a=t.contact)==null?void 0:a.email)&&e.jsxs("div",{className:"flex items-start p-3 bg-gray-50 dark:bg-gray-700/50 rounded-xl",children:[e.jsx(Xt,{className:"h-5 w-5 text-gray-400 dark:text-gray-500 mt-0.5 mr-3 flex-shrink-0"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-900 dark:text-white",children:"Email"}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300",children:t.contact.email})]})]})]})]}),t.openingHours&&e.jsxs("div",{children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4 flex items-center",children:[e.jsx(Le,{className:"h-5 w-5 mr-2 text-blue-500"}),"Opening Hours"]}),e.jsx("div",{className:"space-y-2",children:Object.entries(t.openingHours).map(([s,l])=>e.jsxs("div",{className:"flex justify-between items-center text-sm p-3 bg-gray-50 dark:bg-gray-700/50 rounded-xl",children:[e.jsx("span",{className:"capitalize font-medium text-gray-700 dark:text-gray-300",children:s}),e.jsx("span",{className:`font-medium ${l!=null&&l.closed?"text-red-600 dark:text-red-400":"text-green-600 dark:text-green-400"}`,children:l!=null&&l.closed?"Closed":`${(l==null?void 0:l.open)||""} - ${(l==null?void 0:l.close)||""}`})]},s))})]})]})},xh=({amenities:t})=>e.jsxs("div",{children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4 flex items-center",children:[e.jsx($e,{className:"h-5 w-5 mr-2 text-yellow-500"}),"What this park offers"]}),t&&t.length>0?e.jsx("div",{className:"grid grid-cols-1 gap-3",children:t.map(r=>e.jsxs("div",{className:"flex items-center p-3 bg-gray-50 dark:bg-gray-700/50 rounded-xl",children:[e.jsx(Me,{className:"h-5 w-5 text-green-500 mr-3 flex-shrink-0"}),e.jsx("span",{className:"text-sm text-gray-700 dark:text-gray-300 capitalize font-medium",children:r.replace(/_/g," ")})]},r))}):e.jsxs("div",{className:"text-center py-8",children:[e.jsx("div",{className:"text-4xl mb-3",children:"🏞️"}),e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"No amenities listed for this park."})]})]}),dh=({isAuthenticated:t,myDogs:r,selectedDogs:a,toggleDogSelection:s,handleCheckIn:l,checkingIn:o,gardenIsOpen:i,navigate:x})=>t?r.length===0?e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-3xl shadow-lg border border-gray-100 dark:border-gray-700 p-6 text-center",children:[e.jsx("div",{className:"text-5xl mb-4",children:"🐕"}),e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-2",children:"No Dogs Found"}),e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 mb-6",children:"You need to add a dog to your profile before you can check in to parks."}),e.jsxs("button",{onClick:()=>x("/my-dogs"),className:"w-full inline-flex items-center justify-center px-6 py-3 bg-gradient-to-r from-purple-500 to-pink-500 text-white font-medium rounded-xl hover:from-purple-600 hover:to-pink-600 transition-all duration-200 transform hover:scale-105",children:[e.jsx(Re,{className:"h-5 w-5 mr-2"}),"Add a Dog"]})]}):e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-3xl shadow-lg border border-gray-100 dark:border-gray-700 overflow-hidden",children:[e.jsxs("div",{className:"px-6 py-4 border-b border-gray-100 dark:border-gray-700 bg-gradient-to-r from-purple-50 to-pink-50 dark:from-purple-900/20 dark:to-pink-900/20",children:[e.jsxs("h3",{className:"text-lg font-bold text-gray-900 dark:text-white flex items-center",children:[e.jsx(o0,{className:"h-5 w-5 mr-2 text-purple-600"}),"Check In Your Dogs"]}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mt-1",children:"Select which dogs you want to bring:"})]}),e.jsxs("div",{className:"p-6",children:[e.jsx("div",{className:"space-y-3 mb-6 max-h-60 overflow-y-auto",children:r.map(c=>e.jsxs("label",{className:`flex items-center p-3 rounded-xl cursor-pointer border-2 transition-all duration-200 ${a.includes(c._id)?"bg-purple-50 dark:bg-purple-900/20 border-purple-500 shadow-md":"bg-gray-50 dark:bg-gray-700/50 border-transparent hover:border-purple-300 dark:hover:border-purple-600 hover:shadow-sm"}`,children:[e.jsx("input",{type:"checkbox",checked:a.includes(c._id),onChange:()=>s(c._id),className:"sr-only"}),e.jsx("div",{className:"h-10 w-10 bg-gradient-to-br from-orange-100 to-amber-100 dark:from-orange-900 dark:to-amber-900 rounded-full flex items-center justify-center text-lg mr-3 flex-shrink-0",children:"🐕"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"font-semibold text-sm text-gray-900 dark:text-white",children:c.name}),e.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:c.breed})]}),e.jsx("div",{className:"ml-auto",children:a.includes(c._id)&&e.jsx(La,{className:"h-6 w-6 text-purple-600"})})]},c._id))}),e.jsx("button",{onClick:l,disabled:o||a.length===0||!i,className:"w-full inline-flex items-center justify-center px-6 py-3 bg-gradient-to-r from-purple-500 to-pink-500 text-white font-medium rounded-xl hover:from-purple-600 hover:to-pink-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-purple-500 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200 transform hover:scale-105 active:scale-95",children:o?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Checking in..."]}):e.jsxs(e.Fragment,{children:[e.jsx(o0,{className:"h-5 w-5 mr-2"}),"Check In ",a.length," Dog",a.length>1?"s":""]})}),!i&&e.jsx("div",{className:"mt-4 p-3 bg-red-50 dark:bg-red-900/20 rounded-xl",children:e.jsx("p",{className:"text-xs text-center text-red-600 dark:text-red-400 font-medium",children:"⚠️ This garden is currently closed"})})]})]}):e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-3xl shadow-lg border border-gray-100 dark:border-gray-700 p-6 text-center",children:[e.jsx("div",{className:"text-5xl mb-4",children:"🐕"}),e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-2",children:"Join the Fun!"}),e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 mb-6",children:"Log in or create an account to check in your dogs and connect with other pet owners."}),e.jsxs("button",{onClick:()=>x("/login"),className:"w-full inline-flex items-center justify-center px-6 py-3 bg-gradient-to-r from-purple-500 to-pink-500 text-white font-medium rounded-xl hover:from-purple-600 hover:to-pink-600 transition-all duration-200 transform hover:scale-105",children:[e.jsx(hr,{className:"h-5 w-5 mr-2"}),"Log In or Sign Up"]})]}),ch=({garden:t,onSubscriptionChange:r,onBack:a})=>{const{user:s}=pe(),[l,o]=n.useState(!1),[i,x]=n.useState(!1),[c,u]=n.useState({events:!0,promotions:!0,announcements:!0,maintenance:!0}),[h,d]=n.useState({events:!0,promotions:!0,announcements:!0,maintenance:!0});n.useEffect(()=>{t&&p()},[t]);const p=async()=>{try{const m=await Se.getNewsletterStatus(t._id);x(m.isSubscribed),m.preferences&&(u(m.preferences),d(m.preferences))}catch(m){console.error("Error loading subscription status:",m)}},g=async()=>{var m,B;if(!s){I.error("Please log in to subscribe to newsletters");return}o(!0);try{await Se.subscribeToNewsletter(t._id,h),x(!0),u(h),I.success("Successfully subscribed to newsletter!"),r==null||r(!0),a()}catch(E){console.error("Error subscribing:",E),I.error(((B=(m=E.response)==null?void 0:m.data)==null?void 0:B.error)||"Failed to subscribe to newsletter")}finally{o(!1)}},f=async()=>{var m,B;o(!0);try{await Se.unsubscribeFromNewsletter(t._id),x(!1),I.success("Successfully unsubscribed from newsletter"),r==null||r(!1),a()}catch(E){console.error("Error unsubscribing:",E),I.error(((B=(m=E.response)==null?void 0:m.data)==null?void 0:B.error)||"Failed to unsubscribe from newsletter")}finally{o(!1)}},w=(m,B)=>{d(E=>({...E,[m]:B}))};return e.jsx("div",{className:"px-4 mt-6",children:e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-3xl shadow-lg border border-gray-100 dark:border-gray-700 p-6",children:[e.jsxs("div",{className:"mb-6 p-4 bg-gray-50 dark:bg-gray-700 rounded-2xl",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-3",children:[e.jsx(UserIcon,{className:"h-5 w-5 text-gray-500 dark:text-gray-400"}),e.jsx("span",{className:"text-sm font-medium text-gray-900 dark:text-white",children:"Subscription Details"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Xt,{className:"h-4 w-4 text-gray-400"}),e.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-300",children:s==null?void 0:s.email})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(UserIcon,{className:"h-4 w-4 text-gray-400"}),e.jsxs("span",{className:"text-sm text-gray-600 dark:text-gray-300",children:[s==null?void 0:s.firstName," ",s==null?void 0:s.lastName]})]}),(s==null?void 0:s.dogs)&&s.dogs.length>0&&e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Re,{className:"h-4 w-4 text-gray-400"}),e.jsxs("span",{className:"text-sm text-gray-600 dark:text-gray-300",children:["Dog: ",s.dogs[0].name]})]})]})]}),e.jsxs("div",{className:"mb-6",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-3",children:[e.jsx(InformationCircleIcon,{className:"h-5 w-5 text-blue-500"}),e.jsx("span",{className:"text-sm font-medium text-gray-900 dark:text-white",children:"Subscription Status"})]}),e.jsx("div",{className:`p-3 rounded-xl ${i?"bg-green-50 dark:bg-green-900/20 text-green-800 dark:text-green-400":"bg-gray-50 dark:bg-gray-700 text-gray-600 dark:text-gray-400"}`,children:e.jsxs("div",{className:"flex items-center space-x-2",children:[i?e.jsx(CheckIcon,{className:"h-4 w-4"}):e.jsx(dt,{className:"h-4 w-4"}),e.jsx("span",{className:"text-sm font-medium",children:i?"Subscribed":"Not Subscribed"})]})})]}),e.jsxs("div",{className:"mb-6",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-4",children:[e.jsx(dt,{className:"h-5 w-5 text-gray-500 dark:text-gray-400"}),e.jsx("span",{className:"text-sm font-medium text-gray-900 dark:text-white",children:"What would you like to receive?"})]}),e.jsx("div",{className:"space-y-3",children:[{key:"events",label:"Events & Activities",description:"Notifications about upcoming events and activities"},{key:"promotions",label:"Promotions & Offers",description:"Special offers and promotional content"},{key:"announcements",label:"General Announcements",description:"Important updates and news"},{key:"maintenance",label:"Maintenance Updates",description:"Information about closures and maintenance"}].map(m=>e.jsxs("label",{className:"flex items-start space-x-3 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:h[m.key],onChange:B=>w(m.key,B.target.checked),className:"mt-1 h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:m.label}),e.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:m.description})]})]},m.key))})]}),e.jsx("div",{className:"mb-6 p-4 bg-blue-50 dark:bg-blue-900/20 rounded-2xl",children:e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx(InformationCircleIcon,{className:"h-5 w-5 text-blue-500 mt-0.5"}),e.jsxs("div",{className:"text-sm text-blue-700 dark:text-blue-300",children:[e.jsx("p",{className:"font-medium mb-1",children:"Newsletter Information"}),e.jsx("p",{className:"text-xs",children:"You can unsubscribe at any time using the link in our emails or by clicking the bell icon again. We respect your privacy and will only send relevant updates."})]})]})}),e.jsx("div",{className:"flex space-x-3",children:i?e.jsxs(e.Fragment,{children:[e.jsx("button",{onClick:f,disabled:l,className:"flex-1 px-4 py-3 bg-red-500 text-white rounded-xl hover:bg-red-600 disabled:opacity-50 disabled:cursor-not-allowed transition-colors font-medium",children:l?"Unsubscribing...":"Unsubscribe"}),e.jsx("button",{onClick:g,disabled:l,className:"flex-1 px-4 py-3 bg-blue-500 text-white rounded-xl hover:bg-blue-600 disabled:opacity-50 disabled:cursor-not-allowed transition-colors font-medium",children:l?"Updating...":"Update Preferences"})]}):e.jsxs(e.Fragment,{children:[e.jsx("button",{onClick:a,className:"flex-1 px-4 py-3 bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-300 rounded-xl hover:bg-gray-300 dark:hover:bg-gray-600 transition-colors font-medium",children:"Cancel"}),e.jsx("button",{onClick:g,disabled:l,className:"flex-1 px-4 py-3 bg-blue-500 text-white rounded-xl hover:bg-blue-600 disabled:opacity-50 disabled:cursor-not-allowed transition-colors font-medium",children:l?"Subscribing...":"Subscribe"})]})})]})})},kt={async getAllEvents(t={}){return(await Q.get("/events",{params:t})).data},async getPublicEvents(t={}){try{return(await Q.get("/events",{params:t})).data}catch(r){throw console.error("Error fetching public events:",r),r}},async getEventById(t){return(await Q.get(`/events/${t}`)).data},async createEvent(t){return console.log("=== CREATE EVENT SERVICE ==="),console.log("Event data being sent:",t),(await Q.post("/events",t)).data},async updateEvent(t,r){return(await Q.put(`/events/${t}`,r)).data},async cancelEvent(t){return(await Q.delete(`/events/${t}`)).data},async registerForEvent(t,r){return(await Q.post(`/events/${t}/register`,{dogIds:r})).data},async cancelEventRegistration(t){return(await Q.delete(`/events/${t}/register`)).data},async getOrganizerEvents(){var t;console.log("=== GET ORGANIZER EVENTS SERVICE ==="),console.log("Making request to:","/events/organizer/my-events");try{const r=await Q.get("/events/organizer/my-events");return console.log("Response status:",r.status),console.log("Response data:",r.data),r.data}catch(r){throw console.error("Error in getOrganizerEvents service:",r),console.error("Error response:",(t=r.response)==null?void 0:t.data),r}},async updateParticipantStatus(t,r,a,s=""){return(await Q.patch(`/events/${t}/participants/${r}`,{status:a,notes:s})).data},async grantEventPermission(t,r){return(await Q.patch(`/events/permissions/${t}`,r)).data},async getGardenEvents(t,r={}){return(await Q.get("/events",{params:{gardenId:t,...r}})).data}},mh=Object.freeze(Object.defineProperty({__proto__:null,eventService:kt},Symbol.toStringTag,{value:"Module"})),zn=({onEventCreated:t,onCancel:r,preSelectedGarden:a=null})=>{const[s,l]=n.useState({title:"",description:"",gardenId:(a==null?void 0:a._id)||"",eventDate:"",startTime:"",endTime:"",eventType:"meetup",maxParticipants:"",requiresApproval:!1,allowWaitingList:!0,registrationDeadline:"",tags:"",organizerMessages:{welcomeMessage:"",registrationMessage:"",approvalMessage:"",rejectionMessage:"",reminderMessage:""}}),[o,i]=n.useState([]),[x,c]=n.useState(!1),[u,h]=n.useState({}),[d,p]=n.useState(!1);n.useEffect(()=>{a?i(a?[a]:[]):g()},[a]);const g=async()=>{p(!0);try{const E=await Se.getMyGardens();i(E.data||E||[])}catch(E){console.error("Error loading gardens:",E),I.error("Error loading dog parks"),i([])}finally{p(!1)}},f=()=>{const E={};if(s.title.trim()||(E.title="Event title is required"),s.description.trim()||(E.description="Event description is required"),s.gardenId||(E.gardenId="Please select a dog park"),s.eventDate||(E.eventDate="Event date is required"),s.startTime||(E.startTime="Start time is required"),s.endTime||(E.endTime="End time is required"),s.startTime&&s.endTime&&s.startTime>=s.endTime&&(E.endTime="End time must be after start time"),s.registrationDeadline){const N=new Date(s.registrationDeadline),v=new Date(`${s.eventDate}T${s.startTime}`);N>=v&&(E.registrationDeadline="Registration deadline must be before event start time")}return h(E),Object.keys(E).length===0},w=async E=>{var N,v;if(E.preventDefault(),!f()){I.error("Please fix the errors in the form");return}c(!0);try{const j={...s,tags:(s.tags||"").split(",").map(b=>b.trim()).filter(Boolean),maxParticipants:s.maxParticipants?parseInt(s.maxParticipants):null},k=await kt.createEvent(j);I.success("Event created successfully! 🎉"),t(k.data||k)}catch(j){console.error("Error creating event:",j),I.error(((v=(N=j.response)==null?void 0:N.data)==null?void 0:v.error)||"Error creating event")}finally{c(!1)}},m=E=>{const{name:N,value:v,type:j,checked:k}=E.target;l(b=>({...b,[N]:j==="checkbox"?k:v})),u[N]&&h(b=>({...b,[N]:""}))},B=[{value:"meetup",label:"👥 Community Meetup",color:"bg-blue-50 text-blue-700"},{value:"training",label:"🎓 Training Session",color:"bg-purple-50 text-purple-700"},{value:"competition",label:"🏆 Competition",color:"bg-red-50 text-red-700"},{value:"adoption",label:"💚 Adoption Event",color:"bg-green-50 text-green-700"},{value:"social",label:"🎉 Social Event",color:"bg-yellow-50 text-yellow-700"},{value:"educational",label:"📚 Educational",color:"bg-indigo-50 text-indigo-700"},{value:"other",label:"🌟 Other",color:"bg-gray-50 text-gray-700"}];return e.jsxs("div",{className:"max-w-4xl mx-auto bg-white dark:bg-slate-800 rounded-3xl shadow-2xl border border-gray-100 dark:border-slate-700 overflow-hidden backdrop-blur-sm",children:[e.jsx("div",{className:"bg-gradient-to-r from-purple-600 via-pink-600 to-red-600 px-8 py-6 text-white",children:e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:"bg-white/20 rounded-2xl p-3",children:e.jsx(bt,{className:"h-8 w-8"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold",children:"Create Event ✨"}),e.jsx("p",{className:"text-purple-100",children:"Organize something amazing for the dog community"})]})]})}),e.jsxs("form",{onSubmit:w,className:"p-8 space-y-10",children:[e.jsxs("div",{className:"space-y-6",children:[e.jsxs("h3",{className:"text-2xl font-bold text-gray-900 dark:text-white border-b-2 border-purple-200 dark:border-purple-700 pb-3 flex items-center",children:[e.jsx("div",{className:"bg-purple-100 dark:bg-purple-800 rounded-xl p-2 mr-3",children:e.jsx($e,{className:"h-6 w-6 text-purple-600 dark:text-purple-300"})}),"Basic Information"]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[e.jsxs("div",{className:"lg:col-span-2",children:[e.jsxs("label",{className:"block text-sm font-bold text-gray-700 dark:text-gray-300 mb-3 flex items-center",children:[e.jsx(st,{className:"h-4 w-4 mr-2 text-purple-500"}),"Event Title *"]}),e.jsx("input",{type:"text",name:"title",value:s.title,onChange:m,className:`w-full rounded-2xl border-2 px-6 py-4 text-base font-medium focus:outline-none focus:ring-4 focus:ring-purple-500/20 transition-all duration-300 dark:bg-slate-700 dark:text-white ${u.title?"border-red-300 bg-red-50 dark:border-red-600 dark:bg-red-900/20":"border-gray-200 dark:border-slate-600 bg-gray-50 dark:bg-slate-700 focus:bg-white dark:focus:bg-slate-600 hover:border-purple-300 dark:hover:border-purple-600"}`,placeholder:"e.g. Morning Meetup for Small Dogs 🐕",maxLength:100}),u.title&&e.jsx("p",{className:"mt-2 text-sm text-red-600 dark:text-red-400 font-medium",children:u.title})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-bold text-gray-700 dark:text-gray-300 mb-3 flex items-center",children:[e.jsx(ye,{className:"h-4 w-4 mr-2 text-purple-500"}),"Dog Park *"]}),e.jsxs("select",{name:"gardenId",value:s.gardenId,onChange:m,disabled:!!a||d,className:`w-full rounded-2xl border-2 px-6 py-4 text-base font-medium focus:outline-none focus:ring-4 focus:ring-purple-500/20 transition-all duration-300 dark:bg-slate-700 dark:text-white ${u.gardenId?"border-red-300 bg-red-50 dark:border-red-600 dark:bg-red-900/20":"border-gray-200 dark:border-slate-600 bg-gray-50 dark:bg-slate-700 focus:bg-white dark:focus:bg-slate-600 hover:border-purple-300 dark:hover:border-purple-600"} ${a||d?"opacity-60 cursor-not-allowed":""}`,children:[e.jsx("option",{value:"",children:d?"Loading parks...":"Select a dog park"}),o.map(E=>e.jsxs("option",{value:E._id,children:[E.name," - ",E.address]},E._id))]}),u.gardenId&&e.jsx("p",{className:"mt-2 text-sm text-red-600 dark:text-red-400 font-medium",children:u.gardenId}),a&&e.jsxs("p",{className:"mt-2 text-sm text-green-600 dark:text-green-400 font-medium",children:["✅ Pre-selected park: ",a.name]})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-bold text-gray-700 dark:text-gray-300 mb-3 flex items-center",children:[e.jsx(Zr,{className:"h-4 w-4 mr-2 text-purple-500"}),"Event Type"]}),e.jsx("select",{name:"eventType",value:s.eventType,onChange:m,className:"w-full rounded-2xl border-2 border-gray-200 dark:border-slate-600 bg-gray-50 dark:bg-slate-700 px-6 py-4 text-base font-medium focus:outline-none focus:ring-4 focus:ring-purple-500/20 focus:bg-white dark:focus:bg-slate-600 transition-all duration-300 dark:text-white hover:border-purple-300 dark:hover:border-purple-600",children:B.map(E=>e.jsx("option",{value:E.value,children:E.label},E.value))})]})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-bold text-gray-700 dark:text-gray-300 mb-3 flex items-center",children:[e.jsx(ut,{className:"h-4 w-4 mr-2 text-purple-500"}),"Event Description *"]}),e.jsx("textarea",{name:"description",value:s.description,onChange:m,rows:5,className:`w-full rounded-2xl border-2 px-6 py-4 text-base font-medium focus:outline-none focus:ring-4 focus:ring-purple-500/20 transition-all duration-300 dark:bg-slate-700 dark:text-white resize-none ${u.description?"border-red-300 bg-red-50 dark:border-red-600 dark:bg-red-900/20":"border-gray-200 dark:border-slate-600 bg-gray-50 dark:bg-slate-700 focus:bg-white dark:focus:bg-slate-600 hover:border-purple-300 dark:hover:border-purple-600"}`,placeholder:"Describe your amazing event, what will happen and what participants need to know... ✨",maxLength:1e3}),u.description&&e.jsx("p",{className:"mt-2 text-sm text-red-600 dark:text-red-400 font-medium",children:u.description}),e.jsxs("div",{className:"flex justify-between items-center mt-2",children:[e.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400 font-medium",children:[s.description.length,"/1000 characters"]}),e.jsx("div",{className:"bg-purple-100 dark:bg-purple-900/30 rounded-lg px-3 py-1",children:e.jsx("span",{className:"text-sm font-bold text-purple-700 dark:text-purple-300",children:s.description.length>800?"🔥":s.description.length>500?"✨":"💫"})})]})]})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("h3",{className:"text-2xl font-bold text-gray-900 dark:text-white border-b-2 border-purple-200 dark:border-purple-700 pb-3 flex items-center",children:[e.jsx("div",{className:"bg-purple-100 dark:bg-purple-800 rounded-xl p-2 mr-3",children:e.jsx(Le,{className:"h-6 w-6 text-purple-600 dark:text-purple-300"})}),"Date & Time ⏰"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-bold text-gray-700 dark:text-gray-300 mb-3",children:"Event Date *"}),e.jsx("input",{type:"date",name:"eventDate",value:s.eventDate,onChange:m,min:new Date().toISOString().split("T")[0],className:`w-full rounded-2xl border-2 px-6 py-4 text-base font-medium focus:outline-none focus:ring-4 focus:ring-purple-500/20 transition-all duration-300 dark:bg-slate-700 dark:text-white ${u.eventDate?"border-red-300 bg-red-50 dark:border-red-600 dark:bg-red-900/20":"border-gray-200 dark:border-slate-600 bg-gray-50 dark:bg-slate-700 focus:bg-white dark:focus:bg-slate-600 hover:border-purple-300 dark:hover:border-purple-600"}`}),u.eventDate&&e.jsx("p",{className:"mt-2 text-sm text-red-600 dark:text-red-400 font-medium",children:u.eventDate})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-bold text-gray-700 dark:text-gray-300 mb-3",children:"Start Time *"}),e.jsx("input",{type:"time",name:"startTime",value:s.startTime,onChange:m,className:`w-full rounded-2xl border-2 px-6 py-4 text-base font-medium focus:outline-none focus:ring-4 focus:ring-purple-500/20 transition-all duration-300 dark:bg-slate-700 dark:text-white ${u.startTime?"border-red-300 bg-red-50 dark:border-red-600 dark:bg-red-900/20":"border-gray-200 dark:border-slate-600 bg-gray-50 dark:bg-slate-700 focus:bg-white dark:focus:bg-slate-600 hover:border-purple-300 dark:hover:border-purple-600"}`}),u.startTime&&e.jsx("p",{className:"mt-2 text-sm text-red-600 dark:text-red-400 font-medium",children:u.startTime})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-bold text-gray-700 dark:text-gray-300 mb-3",children:"End Time *"}),e.jsx("input",{type:"time",name:"endTime",value:s.endTime,onChange:m,className:`w-full rounded-2xl border-2 px-6 py-4 text-base font-medium focus:outline-none focus:ring-4 focus:ring-purple-500/20 transition-all duration-300 dark:bg-slate-700 dark:text-white ${u.endTime?"border-red-300 bg-red-50 dark:border-red-600 dark:bg-red-900/20":"border-gray-200 dark:border-slate-600 bg-gray-50 dark:bg-slate-700 focus:bg-white dark:focus:bg-slate-600 hover:border-purple-300 dark:hover:border-purple-600"}`}),u.endTime&&e.jsx("p",{className:"mt-2 text-sm text-red-600 dark:text-red-400 font-medium",children:u.endTime})]})]})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("h3",{className:"text-2xl font-bold text-gray-900 dark:text-white border-b-2 border-purple-200 dark:border-purple-700 pb-3 flex items-center",children:[e.jsx("div",{className:"bg-purple-100 dark:bg-purple-800 rounded-xl p-2 mr-3",children:e.jsx(Ne,{className:"h-6 w-6 text-purple-600 dark:text-purple-300"})}),"Registration Settings 👥"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-bold text-gray-700 dark:text-gray-300 mb-3",children:"Maximum Participants"}),e.jsx("input",{type:"number",name:"maxParticipants",value:s.maxParticipants,onChange:m,min:"1",className:"w-full rounded-2xl border-2 border-gray-200 dark:border-slate-600 bg-gray-50 dark:bg-slate-700 px-6 py-4 text-base font-medium focus:outline-none focus:ring-4 focus:ring-purple-500/20 focus:bg-white dark:focus:bg-slate-600 transition-all duration-300 dark:text-white hover:border-purple-300 dark:hover:border-purple-600",placeholder:"Leave empty for unlimited"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-bold text-gray-700 dark:text-gray-300 mb-3",children:"Registration Deadline"}),e.jsx("input",{type:"datetime-local",name:"registrationDeadline",value:s.registrationDeadline,onChange:m,className:`w-full rounded-2xl border-2 px-6 py-4 text-base font-medium focus:outline-none focus:ring-4 focus:ring-purple-500/20 transition-all duration-300 dark:bg-slate-700 dark:text-white ${u.registrationDeadline?"border-red-300 bg-red-50 dark:border-red-600 dark:bg-red-900/20":"border-gray-200 dark:border-slate-600 bg-gray-50 dark:bg-slate-700 focus:bg-white dark:focus:bg-slate-600 hover:border-purple-300 dark:hover:border-purple-600"}`}),u.registrationDeadline&&e.jsx("p",{className:"mt-2 text-sm text-red-600 dark:text-red-400 font-medium",children:u.registrationDeadline})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"bg-gradient-to-r from-purple-50 to-pink-50 dark:from-purple-900/20 dark:to-pink-900/20 rounded-2xl p-6 border border-purple-200 dark:border-purple-700",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",name:"requiresApproval",checked:s.requiresApproval,onChange:m,className:"h-5 w-5 text-purple-600 focus:ring-purple-500 border-gray-300 dark:border-slate-600 rounded-lg"}),e.jsx("label",{className:"ml-4 text-sm font-bold text-gray-700 dark:text-gray-300",children:"Require approval for registration"})]}),e.jsx("p",{className:"mt-2 text-xs text-gray-600 dark:text-gray-400",children:"I will approve each registration manually 👑"})]}),e.jsxs("div",{className:"bg-gradient-to-r from-blue-50 to-cyan-50 dark:from-blue-900/20 dark:to-cyan-900/20 rounded-2xl p-6 border border-blue-200 dark:border-blue-700",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",name:"allowWaitingList",checked:s.allowWaitingList,onChange:m,className:"h-5 w-5 text-blue-600 focus:ring-blue-500 border-gray-300 dark:border-slate-600 rounded-lg"}),e.jsx("label",{className:"ml-4 text-sm font-bold text-gray-700 dark:text-gray-300",children:"Allow waiting list"})]}),e.jsx("p",{className:"mt-2 text-xs text-gray-600 dark:text-gray-400",children:"When event is full ⏰"})]})]})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("h3",{className:"text-2xl font-bold text-gray-900 dark:text-white border-b-2 border-purple-200 dark:border-purple-700 pb-3 flex items-center",children:[e.jsx("div",{className:"bg-purple-100 dark:bg-purple-800 rounded-xl p-2 mr-3",children:e.jsx(ut,{className:"h-6 w-6 text-purple-600 dark:text-purple-300"})}),"Personal Messages to Participants 💬"]}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300 mb-4 bg-gradient-to-r from-purple-50 to-pink-50 dark:from-purple-900/20 dark:to-pink-900/20 p-4 rounded-xl border border-purple-200 dark:border-purple-700",children:"✨ Write customized messages that will be shown to participants in emails and at the event (optional)"}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-bold text-gray-700 dark:text-gray-300 mb-3 flex items-center",children:"🎉 Welcome Message (shown at event)"}),e.jsx("textarea",{name:"organizerMessages.welcomeMessage",value:s.organizerMessages.welcomeMessage,onChange:E=>{l(N=>({...N,organizerMessages:{...N.organizerMessages,welcomeMessage:E.target.value}}))},rows:4,className:"w-full rounded-2xl border-2 border-gray-200 dark:border-slate-600 bg-gray-50 dark:bg-slate-700 px-6 py-4 text-base font-medium focus:outline-none focus:ring-4 focus:ring-purple-500/20 focus:bg-white dark:focus:bg-slate-600 transition-all duration-300 dark:text-white resize-none hover:border-purple-300 dark:hover:border-purple-600",placeholder:"Welcome to my amazing event! I'm so happy you'll be joining us... ✨",maxLength:500}),e.jsxs("p",{className:"mt-2 text-xs text-gray-500 dark:text-gray-400 font-medium",children:[s.organizerMessages.welcomeMessage.length,"/500"]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-bold text-gray-700 dark:text-gray-300 mb-3 flex items-center",children:"📧 Registration Message (in email)"}),e.jsx("textarea",{name:"organizerMessages.registrationMessage",value:s.organizerMessages.registrationMessage,onChange:E=>{l(N=>({...N,organizerMessages:{...N.organizerMessages,registrationMessage:E.target.value}}))},rows:4,className:"w-full rounded-2xl border-2 border-gray-200 dark:border-slate-600 bg-gray-50 dark:bg-slate-700 px-6 py-4 text-base font-medium focus:outline-none focus:ring-4 focus:ring-purple-500/20 focus:bg-white dark:focus:bg-slate-600 transition-all duration-300 dark:text-white resize-none hover:border-purple-300 dark:hover:border-purple-600",placeholder:"Thanks for registering! Please bring water and treats for your dogs... 🐕",maxLength:500}),e.jsxs("p",{className:"mt-2 text-xs text-gray-500 dark:text-gray-400 font-medium",children:[s.organizerMessages.registrationMessage.length,"/500"]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-bold text-gray-700 dark:text-gray-300 mb-3 flex items-center",children:"✅ Approval Message (if approval required)"}),e.jsx("textarea",{name:"organizerMessages.approvalMessage",value:s.organizerMessages.approvalMessage,onChange:E=>{l(N=>({...N,organizerMessages:{...N.organizerMessages,approvalMessage:E.target.value}}))},rows:4,className:`w-full rounded-2xl border-2 px-6 py-4 text-base font-medium focus:outline-none focus:ring-4 focus:ring-purple-500/20 transition-all duration-300 resize-none dark:text-white ${s.requiresApproval?"border-gray-200 dark:border-slate-600 bg-gray-50 dark:bg-slate-700 focus:bg-white dark:focus:bg-slate-600 hover:border-purple-300 dark:hover:border-purple-600":"border-gray-300 dark:border-slate-600 bg-gray-100 dark:bg-slate-800 text-gray-500 dark:text-gray-400 cursor-not-allowed"}`,placeholder:"Congratulations! Your registration has been approved. See you at the event... 🎊",maxLength:500,disabled:!s.requiresApproval}),e.jsxs("p",{className:"mt-2 text-xs text-gray-500 dark:text-gray-400 font-medium",children:[s.organizerMessages.approvalMessage.length,"/500",!s.requiresApproval&&" (available only when approval required)"]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-bold text-gray-700 dark:text-gray-300 mb-3 flex items-center",children:"❌ Rejection Message (if approval required)"}),e.jsx("textarea",{name:"organizerMessages.rejectionMessage",value:s.organizerMessages.rejectionMessage,onChange:E=>{l(N=>({...N,organizerMessages:{...N.organizerMessages,rejectionMessage:E.target.value}}))},rows:4,className:`w-full rounded-2xl border-2 px-6 py-4 text-base font-medium focus:outline-none focus:ring-4 focus:ring-purple-500/20 transition-all duration-300 resize-none dark:text-white ${s.requiresApproval?"border-gray-200 dark:border-slate-600 bg-gray-50 dark:bg-slate-700 focus:bg-white dark:focus:bg-slate-600 hover:border-purple-300 dark:hover:border-purple-600":"border-gray-300 dark:border-slate-600 bg-gray-100 dark:bg-slate-800 text-gray-500 dark:text-gray-400 cursor-not-allowed"}`,placeholder:"Sorry, we couldn't approve your registration this time. We hope to see you at future events... 💔",maxLength:500,disabled:!s.requiresApproval}),e.jsxs("p",{className:"mt-2 text-xs text-gray-500 dark:text-gray-400 font-medium",children:[s.organizerMessages.rejectionMessage.length,"/500",!s.requiresApproval&&" (available only when approval required)"]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-bold text-gray-700 dark:text-gray-300 mb-3 flex items-center",children:"🔔 Reminder Message (sent before event)"}),e.jsx("textarea",{name:"organizerMessages.reminderMessage",value:s.organizerMessages.reminderMessage,onChange:E=>{l(N=>({...N,organizerMessages:{...N.organizerMessages,reminderMessage:E.target.value}}))},rows:4,className:"w-full rounded-2xl border-2 border-gray-200 dark:border-slate-600 bg-gray-50 dark:bg-slate-700 px-6 py-4 text-base font-medium focus:outline-none focus:ring-4 focus:ring-purple-500/20 focus:bg-white dark:focus:bg-slate-600 transition-all duration-300 dark:text-white resize-none hover:border-purple-300 dark:hover:border-purple-600",placeholder:"Reminder: The amazing event starts tomorrow! Don't forget to bring... ⏰",maxLength:500}),e.jsxs("p",{className:"mt-2 text-xs text-gray-500 dark:text-gray-400 font-medium",children:[s.organizerMessages.reminderMessage.length,"/500"]})]})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-bold text-gray-700 dark:text-gray-300 mb-3 flex items-center",children:[e.jsx(Zr,{className:"h-4 w-4 mr-2 text-purple-500"}),"Tags (separated by commas) 🏷️"]}),e.jsx("input",{type:"text",name:"tags",value:s.tags,onChange:m,className:"w-full rounded-2xl border-2 border-gray-200 dark:border-slate-600 bg-gray-50 dark:bg-slate-700 px-6 py-4 text-base font-medium focus:outline-none focus:ring-4 focus:ring-purple-500/20 focus:bg-white dark:focus:bg-slate-600 transition-all duration-300 dark:text-white hover:border-purple-300 dark:hover:border-purple-600",placeholder:"small dogs, training, playtime, friends"}),e.jsx("p",{className:"mt-2 text-sm text-gray-500 dark:text-gray-400 font-medium bg-purple-50 dark:bg-purple-900/20 p-3 rounded-xl",children:"💡 Add tags to help people find your amazing event"})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 pt-8 border-t-2 border-purple-200 dark:border-purple-700",children:[e.jsx("button",{type:"submit",disabled:x,className:"flex-1 flex justify-center items-center px-8 py-6 bg-gradient-to-r from-purple-600 via-purple-700 to-pink-600 hover:from-purple-700 hover:via-purple-800 hover:to-pink-700 text-white text-xl font-bold rounded-2xl focus:outline-none focus:ring-4 focus:ring-purple-500/30 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-300 transform hover:scale-[1.02] active:scale-[0.98] shadow-xl hover:shadow-2xl",children:x?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-white mr-3"}),"Creating Magic..."]}):e.jsxs(e.Fragment,{children:[e.jsx(Me,{className:"h-6 w-6 mr-3"}),"Create Dream Event ✨"]})}),e.jsxs("button",{type:"button",onClick:r,className:"flex-1 flex justify-center items-center px-8 py-6 bg-gradient-to-r from-gray-600 to-gray-700 hover:from-gray-700 hover:to-gray-800 text-white text-xl font-bold rounded-2xl focus:outline-none focus:ring-4 focus:ring-gray-500/30 transition-all duration-300 transform hover:scale-[1.02] active:scale-[0.98] shadow-xl hover:shadow-2xl",children:[e.jsx(Br,{className:"h-6 w-6 mr-3"}),"Cancel"]})]})]})]})},gh=({event:t,onEventUpdated:r,onCancel:a})=>{var E;const[s,l]=n.useState({title:"",description:"",eventDate:"",startTime:"",endTime:"",eventType:"meetup",maxParticipants:"",requiresApproval:!1,allowWaitingList:!0,registrationDeadline:"",tags:"",organizerMessages:{welcomeMessage:"",registrationMessage:"",approvalMessage:"",rejectionMessage:"",reminderMessage:""}}),[o,i]=n.useState([]),[x,c]=n.useState(!1),[u,h]=n.useState({}),[d,p]=n.useState(!1);n.useEffect(()=>{var N,v,j,k,b;if(t){const C=new Date(t.eventDate).toISOString().split("T")[0];let D="";t.registrationDeadline&&(D=new Date(t.registrationDeadline).toISOString().slice(0,16)),l({title:t.title||"",description:t.description||"",eventDate:C,startTime:t.startTime||"",endTime:t.endTime||"",eventType:t.eventType||"meetup",maxParticipants:t.maxParticipants||"",requiresApproval:t.requiresApproval||!1,allowWaitingList:t.allowWaitingList!==!1,registrationDeadline:D,tags:t.tags?t.tags.join(", "):"",organizerMessages:{welcomeMessage:((N=t.organizerMessages)==null?void 0:N.welcomeMessage)||"",registrationMessage:((v=t.organizerMessages)==null?void 0:v.registrationMessage)||"",approvalMessage:((j=t.organizerMessages)==null?void 0:j.approvalMessage)||"",rejectionMessage:((k=t.organizerMessages)==null?void 0:k.rejectionMessage)||"",reminderMessage:((b=t.organizerMessages)==null?void 0:b.reminderMessage)||""}})}g()},[t]);const g=async()=>{p(!0);try{const N=await Se.getMyGardens();i(N.data||N||[])}catch(N){console.error("Error loading gardens:",N),I.error("שגיאה בטעינת הגינות"),i([])}finally{p(!1)}},f=()=>{const N={};s.title.trim()||(N.title="שם האירוע נדרש"),s.description.trim()||(N.description="תיאור האירוע נדרש"),s.eventDate||(N.eventDate="תאריך האירוע נדרש"),s.startTime||(N.startTime="שעת התחלה נדרשת"),s.endTime||(N.endTime="שעת סיום נדרשת");const v=new Date(t.eventDate),j=new Date(`${s.eventDate}T${s.startTime}`);if(s.eventDate!==v.toISOString().split("T")[0]&&j<=new Date&&(N.eventDate="האירוע חייב להיות בעתיד"),s.startTime&&s.endTime&&s.startTime>=s.endTime&&(N.endTime="שעת הסיום חייבת להיות אחרי שעת ההתחלה"),s.registrationDeadline){const k=new Date(s.registrationDeadline),b=new Date(`${s.eventDate}T${s.startTime}`);k>=b&&(N.registrationDeadline="מועד הרישום חייב להיות לפני האירוע")}return h(N),Object.keys(N).length===0},w=async N=>{var v,j;if(N.preventDefault(),!f()){I.error("יש לתקן את השגיאות בטופס");return}c(!0);try{const k={...s,tags:(s.tags||"").split(",").map(C=>C.trim()).filter(Boolean),maxParticipants:s.maxParticipants?parseInt(s.maxParticipants):null};delete k.gardenId;const b=await kt.updateEvent(t._id,k);I.success("האירוע עודכן בהצלחה! 🎉"),r(b.data||b)}catch(k){console.error("Error updating event:",k),I.error(((j=(v=k.response)==null?void 0:v.data)==null?void 0:j.error)||"שגיאה בעדכון האירוע")}finally{c(!1)}},m=N=>{const{name:v,value:j,type:k,checked:b}=N.target;if(v.startsWith("organizerMessages.")){const C=v.split(".")[1];l(D=>({...D,organizerMessages:{...D.organizerMessages,[C]:j}}))}else l(C=>({...C,[v]:k==="checkbox"?b:j}));u[v]&&h(C=>({...C,[v]:""}))},B=[{value:"meetup",label:"👥 מפגש קהילתי"},{value:"training",label:"🎓 אימון"},{value:"competition",label:"🏆 תחרות"},{value:"adoption",label:"💚 אימוץ"},{value:"social",label:"🎉 אירוע חברתי"},{value:"educational",label:"📚 חינוכי"},{value:"other",label:"🌟 אחר"}];return e.jsxs("div",{className:"max-w-6xl mx-auto bg-white dark:bg-slate-800 rounded-3xl shadow-2xl border border-gray-100 dark:border-slate-700 overflow-hidden max-h-[95vh] overflow-y-auto backdrop-blur-sm",children:[e.jsx("div",{className:"bg-gradient-to-r from-purple-600 via-purple-700 to-pink-600 px-8 py-8 text-white sticky top-0 z-20 backdrop-blur-sm",children:e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute -top-4 -right-4 opacity-20",children:e.jsx("div",{className:"text-6xl animate-pulse",children:"✨"})}),e.jsxs("div",{className:"relative z-10",children:[e.jsxs("h2",{className:"text-3xl lg:text-4xl font-bold flex items-center mb-3",children:[e.jsx("div",{className:"bg-white/20 rounded-2xl p-3 ml-4",children:e.jsx($e,{className:"h-8 w-8"})}),"עריכת אירוע מדהים ✨"]}),e.jsxs("p",{className:"text-purple-100 text-lg font-medium",children:['עדכן את פרטי האירוע "',t==null?void 0:t.title,'" ושפר את החוויה']})]})]})}),e.jsxs("form",{onSubmit:w,className:"p-8 space-y-10",children:[e.jsxs("div",{className:"space-y-6",children:[e.jsxs("h3",{className:"text-2xl font-bold text-gray-900 dark:text-white border-b-2 border-purple-200 dark:border-purple-700 pb-3 flex items-center",children:[e.jsx("div",{className:"bg-purple-100 dark:bg-purple-800 rounded-xl p-2 ml-3",children:e.jsx(bt,{className:"h-6 w-6 text-purple-600 dark:text-purple-300"})}),"מידע בסיסי"]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[e.jsxs("div",{className:"lg:col-span-2",children:[e.jsxs("label",{className:"block text-sm font-bold text-gray-700 dark:text-gray-300 mb-3 flex items-center",children:[e.jsx($e,{className:"h-4 w-4 ml-2 text-purple-500"}),"שם האירוע *"]}),e.jsx("input",{type:"text",name:"title",value:s.title,onChange:m,className:`w-full rounded-2xl border-2 px-6 py-4 text-base font-medium focus:outline-none focus:ring-4 focus:ring-purple-500/20 transition-all duration-300 dark:bg-slate-700 dark:text-white ${u.title?"border-red-300 bg-red-50 dark:border-red-600 dark:bg-red-900/20":"border-gray-200 dark:border-slate-600 bg-gray-50 dark:bg-slate-700 focus:bg-white dark:focus:bg-slate-600 hover:border-purple-300 dark:hover:border-purple-600"}`,placeholder:"לדוגמה: מפגש בוקר עם כלבים קטנים",maxLength:100}),u.title&&e.jsx("p",{className:"mt-2 text-sm text-red-600 dark:text-red-400 font-medium",children:u.title})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-bold text-gray-700 dark:text-gray-300 mb-3",children:"סוג האירוע"}),e.jsx("select",{name:"eventType",value:s.eventType,onChange:m,className:"w-full rounded-2xl border-2 border-gray-200 dark:border-slate-600 bg-gray-50 dark:bg-slate-700 px-6 py-4 text-base font-medium focus:outline-none focus:ring-4 focus:ring-purple-500/20 focus:bg-white dark:focus:bg-slate-600 transition-all duration-300 dark:text-white hover:border-purple-300 dark:hover:border-purple-600",children:B.map(N=>e.jsx("option",{value:N.value,children:N.label},N.value))})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-bold text-gray-700 dark:text-gray-300 mb-3 flex items-center",children:[e.jsx(ye,{className:"h-4 w-4 ml-2 text-purple-500"}),"גינה"]}),e.jsxs("div",{className:"w-full rounded-2xl border-2 border-gray-200 dark:border-slate-600 bg-gradient-to-r from-gray-100 to-gray-200 dark:from-slate-700 dark:to-slate-600 px-6 py-4 text-base font-medium text-gray-600 dark:text-gray-300",children:["📍 ",((E=t==null?void 0:t.garden)==null?void 0:E.name)||"לא צוין"]}),e.jsx("p",{className:"mt-2 text-sm text-gray-500 dark:text-gray-400 font-medium bg-yellow-50 dark:bg-yellow-900/20 p-3 rounded-xl border border-yellow-200 dark:border-yellow-700",children:"💡 לא ניתן לשנות את הגינה לאחר יצירת האירוע"})]})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-bold text-gray-700 dark:text-gray-300 mb-3 flex items-center",children:[e.jsx(ut,{className:"h-4 w-4 ml-2 text-purple-500"}),"תיאור האירוע *"]}),e.jsx("textarea",{name:"description",value:s.description,onChange:m,rows:5,className:`w-full rounded-2xl border-2 px-6 py-4 text-base font-medium focus:outline-none focus:ring-4 focus:ring-purple-500/20 transition-all duration-300 dark:bg-slate-700 dark:text-white resize-none ${u.description?"border-red-300 bg-red-50 dark:border-red-600 dark:bg-red-900/20":"border-gray-200 dark:border-slate-600 bg-gray-50 dark:bg-slate-700 focus:bg-white dark:focus:bg-slate-600 hover:border-purple-300 dark:hover:border-purple-600"}`,placeholder:"תאר את האירוע המדהים שלך, מה יקרה בו ומה משתתפים צריכים לדעת...",maxLength:1e3}),u.description&&e.jsx("p",{className:"mt-2 text-sm text-red-600 dark:text-red-400 font-medium",children:u.description}),e.jsxs("div",{className:"flex justify-between items-center mt-2",children:[e.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400 font-medium",children:[s.description.length,"/1000 תווים"]}),e.jsx("div",{className:"bg-purple-100 dark:bg-purple-900/30 rounded-lg px-3 py-1",children:e.jsx("span",{className:"text-sm font-bold text-purple-700 dark:text-purple-300",children:s.description.length>800?"🔥":s.description.length>500?"✨":"💫"})})]})]})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("h3",{className:"text-2xl font-bold text-gray-900 dark:text-white border-b-2 border-purple-200 dark:border-purple-700 pb-3 flex items-center",children:[e.jsx("div",{className:"bg-purple-100 dark:bg-purple-800 rounded-xl p-2 ml-3",children:e.jsx(Le,{className:"h-6 w-6 text-purple-600 dark:text-purple-300"})}),"תאריך ושעה ⏰"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-bold text-gray-700 dark:text-gray-300 mb-3",children:"תאריך האירוע *"}),e.jsx("input",{type:"date",name:"eventDate",value:s.eventDate,onChange:m,min:new Date().toISOString().split("T")[0],className:`w-full rounded-2xl border-2 px-6 py-4 text-base font-medium focus:outline-none focus:ring-4 focus:ring-purple-500/20 transition-all duration-300 dark:bg-slate-700 dark:text-white ${u.eventDate?"border-red-300 bg-red-50 dark:border-red-600 dark:bg-red-900/20":"border-gray-200 dark:border-slate-600 bg-gray-50 dark:bg-slate-700 focus:bg-white dark:focus:bg-slate-600 hover:border-purple-300 dark:hover:border-purple-600"}`}),u.eventDate&&e.jsx("p",{className:"mt-2 text-sm text-red-600 dark:text-red-400 font-medium",children:u.eventDate})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-bold text-gray-700 dark:text-gray-300 mb-3",children:"שעת התחלה *"}),e.jsx("input",{type:"time",name:"startTime",value:s.startTime,onChange:m,className:`w-full rounded-2xl border-2 px-6 py-4 text-base font-medium focus:outline-none focus:ring-4 focus:ring-purple-500/20 transition-all duration-300 dark:bg-slate-700 dark:text-white ${u.startTime?"border-red-300 bg-red-50 dark:border-red-600 dark:bg-red-900/20":"border-gray-200 dark:border-slate-600 bg-gray-50 dark:bg-slate-700 focus:bg-white dark:focus:bg-slate-600 hover:border-purple-300 dark:hover:border-purple-600"}`}),u.startTime&&e.jsx("p",{className:"mt-2 text-sm text-red-600 dark:text-red-400 font-medium",children:u.startTime})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-bold text-gray-700 dark:text-gray-300 mb-3",children:"שעת סיום *"}),e.jsx("input",{type:"time",name:"endTime",value:s.endTime,onChange:m,className:`w-full rounded-2xl border-2 px-6 py-4 text-base font-medium focus:outline-none focus:ring-4 focus:ring-purple-500/20 transition-all duration-300 dark:bg-slate-700 dark:text-white ${u.endTime?"border-red-300 bg-red-50 dark:border-red-600 dark:bg-red-900/20":"border-gray-200 dark:border-slate-600 bg-gray-50 dark:bg-slate-700 focus:bg-white dark:focus:bg-slate-600 hover:border-purple-300 dark:hover:border-purple-600"}`}),u.endTime&&e.jsx("p",{className:"mt-2 text-sm text-red-600 dark:text-red-400 font-medium",children:u.endTime})]})]})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("h3",{className:"text-2xl font-bold text-gray-900 dark:text-white border-b-2 border-purple-200 dark:border-purple-700 pb-3 flex items-center",children:[e.jsx("div",{className:"bg-purple-100 dark:bg-purple-800 rounded-xl p-2 ml-3",children:e.jsx(Ne,{className:"h-6 w-6 text-purple-600 dark:text-purple-300"})}),"הגדרות רישום 👥"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-bold text-gray-700 dark:text-gray-300 mb-3",children:"מספר משתתפים מקסימלי"}),e.jsx("input",{type:"number",name:"maxParticipants",value:s.maxParticipants,onChange:m,min:"1",className:"w-full rounded-2xl border-2 border-gray-200 dark:border-slate-600 bg-gray-50 dark:bg-slate-700 px-6 py-4 text-base font-medium focus:outline-none focus:ring-4 focus:ring-purple-500/20 focus:bg-white dark:focus:bg-slate-600 transition-all duration-300 dark:text-white hover:border-purple-300 dark:hover:border-purple-600",placeholder:"ללא הגבלה אם ריק"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-bold text-gray-700 dark:text-gray-300 mb-3",children:"מועד סגירת רישום"}),e.jsx("input",{type:"datetime-local",name:"registrationDeadline",value:s.registrationDeadline,onChange:m,className:`w-full rounded-2xl border-2 px-6 py-4 text-base font-medium focus:outline-none focus:ring-4 focus:ring-purple-500/20 transition-all duration-300 dark:bg-slate-700 dark:text-white ${u.registrationDeadline?"border-red-300 bg-red-50 dark:border-red-600 dark:bg-red-900/20":"border-gray-200 dark:border-slate-600 bg-gray-50 dark:bg-slate-700 focus:bg-white dark:focus:bg-slate-600 hover:border-purple-300 dark:hover:border-purple-600"}`}),u.registrationDeadline&&e.jsx("p",{className:"mt-2 text-sm text-red-600 dark:text-red-400 font-medium",children:u.registrationDeadline})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"bg-gradient-to-r from-purple-50 to-pink-50 dark:from-purple-900/20 dark:to-pink-900/20 rounded-2xl p-6 border border-purple-200 dark:border-purple-700",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",name:"requiresApproval",checked:s.requiresApproval,onChange:m,className:"h-5 w-5 text-purple-600 focus:ring-purple-500 border-gray-300 dark:border-slate-600 rounded-lg"}),e.jsx("label",{className:"mr-4 text-sm font-bold text-gray-700 dark:text-gray-300",children:"נדרש אישור מראש לרישום"})]}),e.jsx("p",{className:"mt-2 text-xs text-gray-600 dark:text-gray-400",children:"אני אאשר כל רישום ידנית 👑"})]}),e.jsxs("div",{className:"bg-gradient-to-r from-blue-50 to-cyan-50 dark:from-blue-900/20 dark:to-cyan-900/20 rounded-2xl p-6 border border-blue-200 dark:border-blue-700",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",name:"allowWaitingList",checked:s.allowWaitingList,onChange:m,className:"h-5 w-5 text-blue-600 focus:ring-blue-500 border-gray-300 dark:border-slate-600 rounded-lg"}),e.jsx("label",{className:"mr-4 text-sm font-bold text-gray-700 dark:text-gray-300",children:"אפשר רשימת המתנה"})]}),e.jsx("p",{className:"mt-2 text-xs text-gray-600 dark:text-gray-400",children:"כשהאירוע מתמלא ⏰"})]})]}),t&&t.participants&&t.participants.length>0&&e.jsxs("div",{className:"p-6 bg-gradient-to-r from-yellow-50 to-orange-50 dark:from-yellow-900/20 dark:to-orange-900/20 border-2 border-yellow-200 dark:border-yellow-700 rounded-2xl shadow-lg",children:[e.jsxs("div",{className:"flex items-center mb-2",children:[e.jsx("div",{className:"bg-yellow-200 dark:bg-yellow-700 rounded-full p-2 ml-3",children:e.jsx(Ne,{className:"h-5 w-5 text-yellow-800 dark:text-yellow-300"})}),e.jsx("strong",{className:"font-bold text-yellow-900 dark:text-yellow-300",children:"שים לב!"})]}),e.jsxs("p",{className:"text-sm text-yellow-800 dark:text-yellow-300 font-medium",children:["לאירוע זה יש כבר ",t.participants.length," משתתפים רשומים. שינויים בהגדרות הרישום ישפיעו רק על רישומים חדשים. ✨"]})]})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-bold text-gray-700 dark:text-gray-300 mb-3 flex items-center",children:[e.jsx(Zr,{className:"h-4 w-4 ml-2 text-purple-500"}),"תגיות (מופרדות בפסיקים) 🏷️"]}),e.jsx("input",{type:"text",name:"tags",value:s.tags,onChange:m,className:"w-full rounded-2xl border-2 border-gray-200 dark:border-slate-600 bg-gray-50 dark:bg-slate-700 px-6 py-4 text-base font-medium focus:outline-none focus:ring-4 focus:ring-purple-500/20 focus:bg-white dark:focus:bg-slate-600 transition-all duration-300 dark:text-white hover:border-purple-300 dark:hover:border-purple-600",placeholder:"כלבים קטנים, אימון, משחק, חברים"}),e.jsx("p",{className:"mt-2 text-sm text-gray-500 dark:text-gray-400 font-medium bg-purple-50 dark:bg-purple-900/20 p-3 rounded-xl",children:"💡 הוסף תגיות כדי לעזור לאנשים למצוא את האירוע המדהים שלך"})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("h3",{className:"text-2xl font-bold text-gray-900 dark:text-white border-b-2 border-purple-200 dark:border-purple-700 pb-3 flex items-center",children:[e.jsx("div",{className:"bg-purple-100 dark:bg-purple-800 rounded-xl p-2 ml-3",children:e.jsx(ut,{className:"h-6 w-6 text-purple-600 dark:text-purple-300"})}),"הודעות אישיות למשתתפים 💬"]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-bold text-gray-700 dark:text-gray-300 mb-3 flex items-center",children:"🎉 הודעת ברכה"}),e.jsx("textarea",{name:"organizerMessages.welcomeMessage",value:s.organizerMessages.welcomeMessage,onChange:m,rows:4,className:"w-full rounded-2xl border-2 border-gray-200 dark:border-slate-600 bg-gray-50 dark:bg-slate-700 px-6 py-4 text-base font-medium focus:outline-none focus:ring-4 focus:ring-purple-500/20 focus:bg-white dark:focus:bg-slate-600 transition-all duration-300 dark:text-white resize-none hover:border-purple-300 dark:hover:border-purple-600",placeholder:"ברוכים הבאים לאירוע המדהים שלי! אני מאוד שמח שתהיו איתנו...",maxLength:1e3}),e.jsxs("p",{className:"mt-2 text-xs text-gray-500 dark:text-gray-400 font-medium",children:[s.organizerMessages.welcomeMessage.length,"/1000"]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-bold text-gray-700 dark:text-gray-300 mb-3 flex items-center",children:"📧 הודעת רישום"}),e.jsx("textarea",{name:"organizerMessages.registrationMessage",value:s.organizerMessages.registrationMessage,onChange:m,rows:4,className:"w-full rounded-2xl border-2 border-gray-200 dark:border-slate-600 bg-gray-50 dark:bg-slate-700 px-6 py-4 text-base font-medium focus:outline-none focus:ring-4 focus:ring-purple-500/20 focus:bg-white dark:focus:bg-slate-600 transition-all duration-300 dark:text-white resize-none hover:border-purple-300 dark:hover:border-purple-600",placeholder:"תודה שנרשמת! הביאו מים וחטיפים לכלבכם...",maxLength:1e3}),e.jsxs("p",{className:"mt-2 text-xs text-gray-500 dark:text-gray-400 font-medium",children:[s.organizerMessages.registrationMessage.length,"/1000"]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-bold text-gray-700 dark:text-gray-300 mb-3 flex items-center",children:"✅ הודעת אישור"}),e.jsx("textarea",{name:"organizerMessages.approvalMessage",value:s.organizerMessages.approvalMessage,onChange:m,rows:4,className:`w-full rounded-2xl border-2 px-6 py-4 text-base font-medium focus:outline-none focus:ring-4 focus:ring-purple-500/20 transition-all duration-300 resize-none dark:text-white ${s.requiresApproval?"border-gray-200 dark:border-slate-600 bg-gray-50 dark:bg-slate-700 focus:bg-white dark:focus:bg-slate-600 hover:border-purple-300 dark:hover:border-purple-600":"border-gray-300 dark:border-slate-600 bg-gray-100 dark:bg-slate-800 text-gray-500 dark:text-gray-400 cursor-not-allowed"}`,placeholder:"מזל טוב! רישומך אושר. נתראה באירוע...",maxLength:1e3,disabled:!s.requiresApproval}),e.jsxs("p",{className:"mt-2 text-xs text-gray-500 dark:text-gray-400 font-medium",children:[s.organizerMessages.approvalMessage.length,"/1000",!s.requiresApproval&&" (זמין רק כשנדרש אישור)"]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-bold text-gray-700 dark:text-gray-300 mb-3 flex items-center",children:"❌ הודעת דחיה"}),e.jsx("textarea",{name:"organizerMessages.rejectionMessage",value:s.organizerMessages.rejectionMessage,onChange:m,rows:4,className:`w-full rounded-2xl border-2 px-6 py-4 text-base font-medium focus:outline-none focus:ring-4 focus:ring-purple-500/20 transition-all duration-300 resize-none dark:text-white ${s.requiresApproval?"border-gray-200 dark:border-slate-600 bg-gray-50 dark:bg-slate-700 focus:bg-white dark:focus:bg-slate-600 hover:border-purple-300 dark:hover:border-purple-600":"border-gray-300 dark:border-slate-600 bg-gray-100 dark:bg-slate-800 text-gray-500 dark:text-gray-400 cursor-not-allowed"}`,placeholder:"מצטער, הפעם לא ניתן לאשר את הרישום. נשמח לראותך באירועים הבאים...",maxLength:1e3,disabled:!s.requiresApproval}),e.jsxs("p",{className:"mt-2 text-xs text-gray-500 dark:text-gray-400 font-medium",children:[s.organizerMessages.rejectionMessage.length,"/1000",!s.requiresApproval&&" (זמין רק כשנדרש אישור)"]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-bold text-gray-700 dark:text-gray-300 mb-3 flex items-center",children:"🔔 הודעת תזכורת"}),e.jsx("textarea",{name:"organizerMessages.reminderMessage",value:s.organizerMessages.reminderMessage,onChange:m,rows:4,className:"w-full rounded-2xl border-2 border-gray-200 dark:border-slate-600 bg-gray-50 dark:bg-slate-700 px-6 py-4 text-base font-medium focus:outline-none focus:ring-4 focus:ring-purple-500/20 focus:bg-white dark:focus:bg-slate-600 transition-all duration-300 dark:text-white resize-none hover:border-purple-300 dark:hover:border-purple-600",placeholder:"הזכרה: האירוע המדהים מתחיל מחר! אל תשכחו להביא...",maxLength:1e3}),e.jsxs("p",{className:"mt-2 text-xs text-gray-500 dark:text-gray-400 font-medium",children:[s.organizerMessages.reminderMessage.length,"/1000"]})]})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 pt-8 border-t-2 border-purple-200 dark:border-purple-700",children:[e.jsx("button",{type:"submit",disabled:x,className:"flex-1 flex justify-center items-center px-8 py-6 bg-gradient-to-r from-purple-600 via-purple-700 to-pink-600 hover:from-purple-700 hover:via-purple-800 hover:to-pink-700 text-white text-xl font-bold rounded-2xl focus:outline-none focus:ring-4 focus:ring-purple-500/30 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-300 transform hover:scale-[1.02] active:scale-[0.98] shadow-xl hover:shadow-2xl",children:x?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-white ml-3"}),"מעדכן את הקסם..."]}):e.jsxs(e.Fragment,{children:[e.jsx(Me,{className:"h-6 w-6 ml-3"}),"עדכן אירוע מדהים ✨"]})}),e.jsxs("button",{type:"button",onClick:a,className:"flex-1 flex justify-center items-center px-8 py-6 bg-gradient-to-r from-gray-600 to-gray-700 hover:from-gray-700 hover:to-gray-800 text-white text-xl font-bold rounded-2xl focus:outline-none focus:ring-4 focus:ring-gray-500/30 transition-all duration-300 transform hover:scale-[1.02] active:scale-[0.98] shadow-xl hover:shadow-2xl",children:[e.jsx(Br,{className:"h-6 w-6 ml-3"}),"ביטול"]})]})]})]})},Un=({garden:t})=>{const[r,a]=n.useState([]),[s,l]=n.useState(null),[o,i]=n.useState(!0),[x,c]=n.useState(null),[u,h]=n.useState(!1),d=we();n.useEffect(()=>{p()},[]);const p=async()=>{var m,B,E;try{console.log("=== FETCHING ORGANIZER EVENTS ==="),c(null);const N=await kt.getOrganizerEvents();console.log("Response from API:",N);const v=N.data||N||[];console.log("Events data:",v),console.log("Number of events:",Array.isArray(v)?v.length:"Not an array"),a(Array.isArray(v)?v:[]),Array.isArray(v)&&v.length===0&&console.log("No events found for this user")}catch(N){console.error("Error fetching events:",N),console.error("Error details:",((m=N.response)==null?void 0:m.data)||N.message);const v=((E=(B=N.response)==null?void 0:B.data)==null?void 0:E.error)||N.message||"שגיאה לא ידועה";c(v),I.error(`שגיאה בטעינת האירועים: ${v}`),a([])}finally{i(!1)}},g=async(m,B,E,N="")=>{try{await kt.updateParticipantStatus(m,B,E,N),I.success("סטטוס המשתתף עודכן בהצלחה"),p()}catch(v){console.error("Error updating participant:",v),I.error("שגיאה בעדכון המשתתף")}},f=m=>{l(m),h(!0)},w=m=>{d(`/events/${m}`)};return o?e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-purple-50 via-white to-pink-50",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:e.jsxs("div",{className:"text-center py-16",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-purple-600 mx-auto"}),e.jsx("p",{className:"mt-4 text-lg text-gray-600",children:"טוען אירועים..."})]})})}):x?e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-purple-50 via-white to-pink-50",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:e.jsx("div",{className:"text-center py-16",children:e.jsxs("div",{className:"bg-red-50 rounded-2xl shadow-lg p-12 max-w-md mx-auto border border-red-200",children:[e.jsx("div",{className:"text-6xl mb-4",children:"❌"}),e.jsx("h3",{className:"text-xl font-semibold text-red-900 mb-2",children:"שגיאה בטעינת האירועים"}),e.jsx("p",{className:"text-red-700 mb-6",children:x}),e.jsx("button",{onClick:p,className:"bg-red-600 text-white px-6 py-2 rounded-lg hover:bg-red-700 transition-colors",children:"נסה שוב"})]})})})}):e.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900",children:e.jsxs("div",{className:"max-w-lg mx-auto",children:[e.jsxs("div",{className:"bg-gradient-to-br from-indigo-600 via-purple-600 to-pink-600 dark:from-indigo-700 dark:via-purple-700 dark:to-pink-700 mx-4 mt-4 rounded-3xl p-6 text-white relative overflow-hidden",children:[e.jsx("div",{className:"absolute -top-6 -right-6 opacity-20",children:e.jsx("div",{className:"text-8xl",children:"⚙️"})}),e.jsxs("div",{className:"relative z-10",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold mb-1",children:"Event Manager ✨"}),e.jsx("p",{className:"text-indigo-100 dark:text-indigo-200 text-sm",children:"Manage your events and participants"})]}),e.jsx("button",{onClick:p,className:"p-3 bg-white bg-opacity-20 rounded-2xl hover:bg-opacity-30 transition-all",children:e.jsx(Fr,{className:"h-5 w-5"})})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[e.jsxs("div",{className:"bg-white bg-opacity-20 rounded-2xl p-3 text-center",children:[e.jsx("div",{className:"text-lg font-bold",children:r.length}),e.jsx("div",{className:"text-xs text-indigo-100 dark:text-indigo-200",children:"Total Events"})]}),e.jsxs("div",{className:"bg-white bg-opacity-20 rounded-2xl p-3 text-center",children:[e.jsx("div",{className:"text-lg font-bold",children:r.filter(m=>m.status==="upcoming").length}),e.jsx("div",{className:"text-xs text-indigo-100 dark:text-indigo-200",children:"Upcoming"})]}),e.jsxs("div",{className:"bg-white bg-opacity-20 rounded-2xl p-3 text-center",children:[e.jsx("div",{className:"text-lg font-bold",children:r.reduce((m,B)=>{var E;return m+(((E=B.participants)==null?void 0:E.filter(N=>N.status==="pending").length)||0)},0)}),e.jsx("div",{className:"text-xs text-indigo-100 dark:text-indigo-200",children:"Pending"})]})]})]})]}),e.jsx("div",{className:"p-4",children:r.length===0?e.jsx("div",{className:"text-center py-16",children:e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-3xl p-12 border border-gray-100 dark:border-gray-700",children:[e.jsx("div",{className:"text-6xl mb-4",children:"📅"}),e.jsx("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-2",children:"No events yet"}),e.jsx("p",{className:"text-gray-500 dark:text-gray-400 mb-6",children:"Your created events will appear here for management"})]})}):e.jsx("div",{className:"space-y-4",children:r.map(m=>e.jsx(uh,{event:m,onParticipantAction:g,onEventEdit:f,onEventView:w},m._id))})}),u&&s&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:e.jsx("div",{className:"max-w-4xl w-full",children:e.jsx(gh,{event:s,onEventUpdated:m=>{h(!1),p(),I.success("Event updated successfully! 🎉")},onCancel:()=>h(!1)})})})]})})},uh=({event:t,onParticipantAction:r,onEventEdit:a,onEventView:s})=>{var g;const[l,o]=n.useState(!1),i=t.participants||[],x=t.waitingList||[],c=i.filter(f=>f.status==="approved").length,u=i.filter(f=>f.status==="pending").length,h=f=>{const w={upcoming:{bg:"bg-green-100 dark:bg-green-900/30",text:"text-green-600 dark:text-green-400",label:"Upcoming",icon:"🔜"},ongoing:{bg:"bg-blue-100 dark:bg-blue-900/30",text:"text-blue-600 dark:text-blue-400",label:"Live Now",icon:"🔴"},completed:{bg:"bg-gray-100 dark:bg-gray-700",text:"text-gray-600 dark:text-gray-400",label:"Completed",icon:"✅"},cancelled:{bg:"bg-red-100 dark:bg-red-900/30",text:"text-red-600 dark:text-red-400",label:"Cancelled",icon:"❌"}};return w[f]||w.upcoming},d=f=>new Date(f).toLocaleDateString("en-US",{weekday:"short",month:"short",day:"numeric"}),p=h(t.status);return e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-3xl border border-gray-100 dark:border-gray-700 overflow-hidden shadow-lg",children:[e.jsxs("div",{className:"bg-gradient-to-r from-purple-600 to-pink-600 dark:from-purple-700 dark:to-pink-700 p-4 text-white relative overflow-hidden",children:[e.jsx("div",{className:"absolute -top-4 -right-4 opacity-20",children:e.jsx("div",{className:"text-6xl",children:p.icon})}),e.jsxs("div",{className:"relative z-10",children:[e.jsxs("div",{className:"flex justify-between items-start mb-3",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"text-xl font-bold mb-1 line-clamp-1",children:t.title}),e.jsxs("div",{className:"flex items-center text-sm text-purple-100 dark:text-purple-200 mb-1",children:[e.jsx(bt,{className:"h-4 w-4 mr-2"}),d(t.eventDate)]}),e.jsxs("div",{className:"flex items-center text-sm text-purple-100 dark:text-purple-200",children:[e.jsx(Le,{className:"h-4 w-4 mr-2"}),t.startTime," - ",t.endTime]})]}),e.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-medium ${p.bg} ${p.text} border`,children:p.label})]}),((g=t.garden)==null?void 0:g.name)&&e.jsxs("p",{className:"text-sm text-purple-100 dark:text-purple-200 flex items-center",children:["📍 ",t.garden.name]})]})]}),e.jsxs("div",{className:"p-4 bg-gradient-to-r from-gray-50 to-purple-50 dark:from-gray-800 dark:to-purple-900/20",children:[e.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[e.jsxs("div",{className:"bg-white dark:bg-gray-700 rounded-2xl p-3 text-center shadow-sm",children:[e.jsx("div",{className:"text-2xl font-bold text-green-600 dark:text-green-400",children:c}),e.jsx("div",{className:"text-xs text-gray-600 dark:text-gray-400",children:"Approved"})]}),e.jsxs("div",{className:"bg-white dark:bg-gray-700 rounded-2xl p-3 text-center shadow-sm",children:[e.jsx("div",{className:"text-2xl font-bold text-yellow-600 dark:text-yellow-400",children:u}),e.jsx("div",{className:"text-xs text-gray-600 dark:text-gray-400",children:"Pending"})]}),e.jsxs("div",{className:"bg-white dark:bg-gray-700 rounded-2xl p-3 text-center shadow-sm",children:[e.jsx("div",{className:"text-2xl font-bold text-blue-600 dark:text-blue-400",children:x.length}),e.jsx("div",{className:"text-xs text-gray-600 dark:text-gray-400",children:"Waiting"})]})]}),t.requiresApproval&&u>0&&e.jsx("div",{className:"mt-3 p-3 bg-yellow-100 dark:bg-yellow-900/30 border border-yellow-200 dark:border-yellow-700 rounded-2xl",children:e.jsxs("p",{className:"text-sm text-yellow-800 dark:text-yellow-300 font-medium flex items-center",children:["⚠️ ",u," participants waiting for approval"]})})]}),t.description&&e.jsx("div",{className:"p-4 border-t border-gray-100 dark:border-gray-700",children:e.jsx("p",{className:"text-gray-700 dark:text-gray-300 text-sm line-clamp-2",children:t.description})}),e.jsx("div",{className:"p-4 border-t border-gray-100 dark:border-gray-700 bg-gray-50 dark:bg-gray-800/50",children:e.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[e.jsxs("button",{onClick:()=>o(!l),className:"flex items-center justify-center px-3 py-2 bg-white dark:bg-gray-700 border border-purple-200 dark:border-purple-600 text-purple-700 dark:text-purple-300 rounded-xl hover:bg-purple-50 dark:hover:bg-purple-900/30 transition-all duration-200 text-sm font-medium",children:[e.jsx(It,{className:"h-4 w-4 mr-1"}),l?"Hide":"Users"]}),e.jsxs("button",{onClick:()=>s(t._id),className:"flex items-center justify-center px-3 py-2 bg-white dark:bg-gray-700 border border-blue-200 dark:border-blue-600 text-blue-700 dark:text-blue-300 rounded-xl hover:bg-blue-50 dark:hover:bg-blue-900/30 transition-all duration-200 text-sm font-medium",children:[e.jsx(at,{className:"h-4 w-4 mr-1"}),"View"]}),e.jsxs("button",{onClick:()=>a(t),className:"flex items-center justify-center px-3 py-2 bg-gradient-to-r from-purple-600 to-pink-600 text-white rounded-xl hover:from-purple-700 hover:to-pink-700 transition-all duration-200 text-sm font-medium shadow-md",children:[e.jsx(Ma,{className:"h-4 w-4 mr-1"}),"Edit"]})]})}),l&&e.jsx(hh,{participants:i,waitingList:x,requiresApproval:t.requiresApproval,onParticipantAction:(f,w,m)=>r(t._id,f,w,m)})]})},hh=({participants:t,waitingList:r,requiresApproval:a,onParticipantAction:s})=>e.jsx("div",{className:"border-t border-gray-200 dark:border-gray-700 bg-gradient-to-br from-purple-50 to-pink-50 dark:from-purple-900/20 dark:to-pink-900/20",children:e.jsxs("div",{className:"p-4",children:[e.jsxs("h4",{className:"text-lg font-bold mb-4 flex items-center text-purple-800 dark:text-purple-300",children:[e.jsx(It,{className:"h-5 w-5 mr-2"}),"Participants (",t.length,")"]}),t.length===0?e.jsxs("div",{className:"text-center py-8",children:[e.jsx(It,{className:"h-12 w-12 text-gray-400 mx-auto mb-2"}),e.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"No participants registered yet"})]}):e.jsx("div",{className:"space-y-3 mb-6",children:t.map(l=>{var o,i;return e.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-2xl p-4 shadow-sm border border-gray-100 dark:border-gray-700",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"bg-gradient-to-r from-purple-500 to-pink-500 rounded-full p-2 mr-3",children:e.jsx(It,{className:"h-4 w-4 text-white"})}),e.jsxs("div",{children:[e.jsxs("span",{className:"font-semibold text-gray-900 dark:text-white",children:[(o=l.user)==null?void 0:o.firstName," ",(i=l.user)==null?void 0:i.lastName]}),e.jsxs("div",{className:"flex items-center mt-1 gap-2",children:[e.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${l.status==="approved"?"bg-green-100 dark:bg-green-900/30 text-green-800 dark:text-green-300":l.status==="pending"?"bg-yellow-100 dark:bg-yellow-900/30 text-yellow-800 dark:text-yellow-300":l.status==="rejected"?"bg-red-100 dark:bg-red-900/30 text-red-800 dark:text-red-300":"bg-gray-100 dark:bg-gray-700 text-gray-800 dark:text-gray-300"}`,children:l.status==="approved"?"✅ Approved":l.status==="pending"?"⏳ Pending":l.status==="rejected"?"❌ Rejected":l.status}),l.notes&&e.jsxs("span",{className:"text-xs text-gray-500 dark:text-gray-400 bg-gray-100 dark:bg-gray-700 px-2 py-1 rounded",children:["💬 ",l.notes]})]}),e.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:["Registered: ",new Date(l.registeredAt).toLocaleDateString("en-US")]})]})]}),a&&l.status==="pending"&&e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:()=>s(l._id,"approved"),className:"bg-green-500 text-white p-2 rounded-xl hover:bg-green-600 transition-all duration-200 shadow-md",title:"Approve participant",children:e.jsx(Me,{className:"h-4 w-4"})}),e.jsx("button",{onClick:()=>{const x=prompt("Notes (optional):");x!==null&&s(l._id,"rejected",x||"")},className:"bg-red-500 text-white p-2 rounded-xl hover:bg-red-600 transition-all duration-200 shadow-md",title:"Reject participant",children:e.jsx(Br,{className:"h-4 w-4"})})]})]})},l._id)})}),r.length>0&&e.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 rounded-2xl p-4 border border-blue-200 dark:border-blue-700",children:[e.jsxs("h5",{className:"text-lg font-bold mb-3 text-blue-800 dark:text-blue-300 flex items-center",children:["⏰ Waiting List (",r.length,")"]}),e.jsx("div",{className:"space-y-2",children:r.map((l,o)=>{var i,x;return e.jsxs("div",{className:"flex items-center justify-between bg-white dark:bg-gray-800 p-3 rounded-xl shadow-sm",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("span",{className:"bg-blue-100 dark:bg-blue-900/30 text-blue-800 dark:text-blue-300 rounded-full w-7 h-7 flex items-center justify-center text-sm font-bold mr-3",children:o+1}),e.jsxs("div",{children:[e.jsxs("span",{className:"font-medium text-gray-900 dark:text-white text-sm",children:[(i=l.user)==null?void 0:i.firstName," ",(x=l.user)==null?void 0:x.lastName]}),e.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:["Added: ",new Date(l.addedAt).toLocaleDateString("en-US")]})]})]}),e.jsx("span",{className:"text-xs text-blue-600 dark:text-blue-400 bg-blue-100 dark:bg-blue-900/30 px-2 py-1 rounded",children:"Waiting"})]},l._id)})})]}),t.length===0&&r.length===0&&e.jsxs("div",{className:"text-center py-8",children:[e.jsx("div",{className:"text-6xl mb-4",children:"👥"}),e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-2",children:"No participants yet"}),e.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"When people register for this event, they'll appear here"})]})]})}),qn=()=>{var k;const[t,r]=n.useState([]),[a,s]=n.useState(!0),[l,o]=n.useState({status:"upcoming",eventType:"all"}),[i,x]=n.useState(""),[c,u]=n.useState("browse"),{user:h}=pe();er();const[d]=L0(),p=h&&(h.role==="admin"||h.role==="garden_manager"||((k=h.eventPermissions)==null?void 0:k.canCreateEvents));n.useEffect(()=>{d.get("view")==="manage"&&p&&u("manage")},[d,p]),n.useEffect(()=>{g()},[l]);const g=async()=>{try{s(!0);const b={status:l.status};l.eventType!=="all"&&(b.eventType=l.eventType);const C=await kt.getAllEvents(b);let D=[];C&&Array.isArray(C.docs)?D=C.docs:Array.isArray(C)?D=C:C&&Array.isArray(C.events)?D=C.events:C&&Array.isArray(C.data)?D=C.data:console.warn("Unexpected events response format:",C),r(D)}catch(b){console.error("Error loading events:",b),I.error("Failed to load events")}finally{s(!1)}},f=b=>{const C={meetup:{color:"from-blue-500 to-cyan-600",bg:"bg-blue-50 dark:bg-blue-900/20",text:"text-blue-700 dark:text-blue-300",Icon:Ne,iconColor:"text-blue-500",label:"Community Meetup"},training:{color:"from-purple-500 to-pink-600",bg:"bg-purple-50 dark:bg-purple-900/20",text:"text-purple-700 dark:text-purple-300",Icon:ha,iconColor:"text-purple-500",label:"Training Session"},competition:{color:"from-red-500 to-orange-600",bg:"bg-red-50 dark:bg-red-900/20",text:"text-red-700 dark:text-red-300",Icon:ot,iconColor:"text-red-500",label:"Competition"},adoption:{color:"from-green-500 to-emerald-600",bg:"bg-green-50 dark:bg-green-900/20",text:"text-green-700 dark:text-green-300",Icon:Re,iconColor:"text-green-500",label:"Adoption Event"},social:{color:"from-yellow-500 to-amber-600",bg:"bg-yellow-50 dark:bg-yellow-900/20",text:"text-yellow-700 dark:text-yellow-300",Icon:$e,iconColor:"text-yellow-500",label:"Social Gathering"},educational:{color:"from-indigo-500 to-blue-600",bg:"bg-indigo-50 dark:bg-indigo-900/20",text:"text-indigo-700 dark:text-indigo-300",Icon:ha,iconColor:"text-indigo-500",label:"Educational"},other:{color:"from-gray-500 to-slate-600",bg:"bg-gray-50 dark:bg-gray-700",text:"text-gray-700 dark:text-gray-300",Icon:We,iconColor:"text-gray-500",label:"Special Event"}};return C[b]||C.other},w=b=>{const C={upcoming:{color:"text-green-600 dark:text-green-400",bg:"bg-green-100 dark:bg-green-900/30",label:"Upcoming"},ongoing:{color:"text-blue-600 dark:text-blue-400",bg:"bg-blue-100 dark:bg-blue-900/30",label:"Live Now"},completed:{color:"text-gray-600 dark:text-gray-400",bg:"bg-gray-100 dark:bg-gray-700",label:"Completed"},cancelled:{color:"text-red-600 dark:text-red-400",bg:"bg-red-100 dark:bg-red-900/30",label:"Cancelled"}};return C[b]||C.upcoming},m=b=>{if(!b)return"Invalid Date";const C=new Date(b);return isNaN(C.getTime())?"Invalid Date":C.toLocaleDateString("en-US",{weekday:"short",month:"short",day:"numeric"})},B=b=>b?new Date(`1970-01-01T${b}`).toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit",hour12:!0}):"TBA",E=b=>{if(!b)return!1;const C=new Date,F=(new Date(b)-C)/(1e3*60*60);return F<=24&&F>0},N=b=>{I.success("Event created successfully! 🎉"),u("browse"),g()},v=b=>{u(b);const C=new URL(window.location);b==="browse"?C.searchParams.delete("view"):C.searchParams.set("view",b),window.history.pushState({},"",C)},j=t.filter(b=>{var D;if(!i)return!0;const C=i.toLowerCase();return b.title.toLowerCase().includes(C)||b.description&&b.description.toLowerCase().includes(C)||((D=b.garden)==null?void 0:D.name)&&b.garden.name.toLowerCase().includes(C)});return a?e.jsx(Zu,{}):c==="create"?e.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 pb-6",children:e.jsxs("div",{className:"max-w-4xl mx-auto px-4 pt-6",children:[e.jsx("div",{className:"mb-6",children:e.jsxs("button",{onClick:()=>v("browse"),className:"inline-flex items-center space-x-2 text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white transition-colors",children:[e.jsx("span",{children:"←"}),e.jsx("span",{children:"Back to Events"})]})}),e.jsx(zn,{onEventCreated:N,onCancel:()=>v("browse")})]})}):c==="manage"?e.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900",children:e.jsxs("div",{className:"max-w-lg mx-auto",children:[e.jsx("div",{className:"bg-gradient-to-br from-indigo-600 via-purple-600 to-pink-600 dark:from-indigo-700 dark:via-purple-700 dark:to-pink-700 mx-4 mt-4 rounded-3xl p-6 text-white",children:e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold",children:"Manage Events ⚙️"}),e.jsx("p",{className:"text-indigo-100 dark:text-indigo-200",children:"Control your events"})]}),e.jsx("button",{onClick:()=>v("browse"),className:"p-2 bg-white bg-opacity-20 rounded-xl hover:bg-opacity-30 transition-colors",children:"← Back"})]})}),e.jsx("div",{className:"p-4",children:e.jsx(Un,{})})]})}):e.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900",children:e.jsxs("div",{className:"max-w-lg mx-auto lg:max-w-7xl",children:[e.jsxs("div",{className:"lg:hidden bg-gradient-to-br from-orange-600 via-red-600 to-pink-700 dark:from-orange-700 dark:via-red-700 dark:to-pink-800 mx-4 mt-4 rounded-3xl p-6 text-white",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold",children:"Events Hub 🎉"}),e.jsx("p",{className:"text-orange-100 dark:text-orange-200",children:"Discover amazing dog events"})]}),e.jsx("div",{className:"text-right",children:e.jsx("div",{className:"text-3xl",children:"📅"})})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[e.jsxs("div",{className:"bg-white bg-opacity-20 rounded-2xl p-3 text-center",children:[e.jsx("div",{className:"text-lg font-bold",children:j.length}),e.jsx("div",{className:"text-xs text-orange-100 dark:text-orange-200",children:"Total Events"})]}),e.jsxs("div",{className:"bg-white bg-opacity-20 rounded-2xl p-3 text-center",children:[e.jsx("div",{className:"text-lg font-bold",children:j.filter(b=>b.status==="upcoming").length}),e.jsx("div",{className:"text-xs text-orange-100 dark:text-orange-200",children:"Upcoming"})]}),e.jsxs("div",{className:"bg-white bg-opacity-20 rounded-2xl p-3 text-center",children:[e.jsx("div",{className:"text-lg font-bold",children:j.filter(b=>E(b.eventDate)).length}),e.jsx("div",{className:"text-xs text-orange-100 dark:text-orange-200",children:"Today"})]})]})]}),e.jsxs("div",{className:"px-4 py-6",children:[p&&e.jsxs("div",{className:"flex space-x-3 mb-6",children:[e.jsxs("button",{onClick:()=>v("create"),className:"flex-1 bg-gradient-to-r from-blue-600 to-purple-600 text-white py-3 rounded-2xl font-medium hover:from-blue-700 hover:to-purple-700 transition-all duration-200 flex items-center justify-center space-x-2",children:[e.jsx(Ft,{className:"w-5 h-5"}),e.jsx("span",{children:"Create Event"})]}),e.jsx("button",{onClick:()=>v("manage"),className:"px-4 py-3 bg-gray-100 dark:bg-gray-800 text-gray-900 dark:text-white rounded-2xl hover:bg-gray-200 dark:hover:bg-gray-700 transition-colors",children:e.jsx(Hr,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"relative mb-6",children:[e.jsx(_t,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),e.jsx("input",{type:"text",placeholder:"Search events...",value:i,onChange:b=>x(b.target.value),className:"w-full pl-12 pr-4 py-3 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-2xl text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),e.jsx("div",{className:"flex space-x-1 bg-gray-100 dark:bg-gray-800 rounded-2xl p-1 mb-6 overflow-x-auto",children:[{key:"upcoming",label:"Upcoming",icon:"🔜"},{key:"ongoing",label:"Live",icon:"🔴"},{key:"completed",label:"Past",icon:"✅"}].map(b=>e.jsxs("button",{onClick:()=>o({...l,status:b.key}),className:`flex items-center space-x-2 px-4 py-2 rounded-xl font-medium transition-all duration-200 whitespace-nowrap ${l.status===b.key?"bg-white dark:bg-gray-700 text-blue-600 dark:text-blue-400 shadow-sm":"text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-300"}`,children:[e.jsx("span",{children:b.icon}),e.jsx("span",{className:"text-sm",children:b.label})]},b.key))}),j.length===0?e.jsx("div",{className:"text-center py-16",children:e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-3xl p-12 border border-gray-100 dark:border-gray-700",children:[e.jsx("div",{className:"text-6xl mb-4",children:"📅"}),e.jsx("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-2",children:"No events found"}),e.jsx("p",{className:"text-gray-500 dark:text-gray-400 mb-6",children:p?"Create your first event to get started!":"Check back later for upcoming events."}),p&&e.jsx("button",{onClick:()=>v("create"),className:"bg-gradient-to-r from-blue-600 to-purple-600 text-white px-6 py-3 rounded-2xl font-medium hover:from-blue-700 hover:to-purple-700 transition-all duration-200",children:"Create First Event"})]})}):e.jsx("div",{className:"space-y-4",children:j.map(b=>{var A,R;const C=f(b.eventType),D=w(b.status),{Icon:F,iconColor:T}=C;return e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl overflow-hidden border border-gray-200 dark:border-gray-700 shadow-md hover:shadow-xl transition-shadow duration-300",children:[e.jsx("div",{className:`h-2 bg-gradient-to-r ${C.color}`}),e.jsxs("div",{className:"p-4 sm:p-6",children:[e.jsxs("div",{className:"flex items-start justify-between mb-3",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(F,{className:`h-8 w-8 ${T}`}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-base sm:text-lg font-bold text-gray-900 dark:text-white line-clamp-1",children:b.title}),e.jsx("span",{className:`text-xs px-2 py-0.5 rounded-full font-medium ${C.bg} ${C.text}`,children:C.label})]})]}),e.jsxs("div",{className:"flex flex-col items-end space-y-2",children:[e.jsx("span",{className:`text-xs px-2 py-1 rounded-full ${D.bg} ${D.color} font-medium`,children:D.label}),E(b.eventDate)&&e.jsx("span",{className:"bg-red-100 dark:bg-red-900/30 text-red-600 dark:text-red-400 text-xs px-2 py-1 rounded-full animate-pulse",children:"🔥 Starting Soon"})]})]}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400 text-sm mb-4 line-clamp-2 h-10",children:b.description}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm text-gray-500 dark:text-gray-400 mb-4",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(bt,{className:"w-4 h-4"}),e.jsx("span",{children:m(b.eventDate)})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Le,{className:"w-4 h-4"}),e.jsx("span",{children:B(b.startTime)})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ye,{className:"w-4 h-4"}),e.jsx("span",{className:"line-clamp-1",children:((A=b.garden)==null?void 0:A.name)||"TBA"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ne,{className:"w-4 h-4 text-gray-400"}),e.jsxs("span",{children:[((R=b.participants)==null?void 0:R.length)||0," attending"]})]})]}),e.jsxs("div",{className:"flex items-center justify-between border-t border-gray-100 dark:border-gray-700 pt-4",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsxs("button",{className:"flex items-center space-x-1 text-gray-500 hover:text-red-500 transition-colors",children:[e.jsx(Re,{className:"w-5 h-5"}),e.jsx("span",{className:"text-xs font-medium",children:"Like"})]}),e.jsxs("button",{className:"flex items-center space-x-1 text-gray-500 hover:text-yellow-500 transition-colors",children:[e.jsx(We,{className:"w-5 h-5"}),e.jsx("span",{className:"text-xs font-medium",children:"Save"})]})]}),e.jsx(ge,{to:`/events/${b._id}`,className:"bg-blue-500 hover:bg-blue-600 text-white px-4 py-2 rounded-lg text-sm font-semibold transition-colors shadow-sm hover:shadow-md",children:"View Details"})]})]})]},b._id)})})]}),e.jsx("div",{className:"hidden lg:block px-8 py-8",children:e.jsx("div",{className:"text-center text-gray-500 dark:text-gray-400",children:"Desktop Events layout coming soon..."})})]})})},Gn=Object.freeze(Object.defineProperty({__proto__:null,default:qn},Symbol.toStringTag,{value:"Module"}));let ph={data:""},fh=t=>typeof window=="object"?((t?t.querySelector("#_goober"):window._goober)||Object.assign((t||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:t||ph,bh=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,yh=/\/\*[^]*?\*\/|  +/g,F0=/\n+/g,Wt=(t,r)=>{let a="",s="",l="";for(let o in t){let i=t[o];o[0]=="@"?o[1]=="i"?a=o+" "+i+";":s+=o[1]=="f"?Wt(i,o):o+"{"+Wt(i,o[1]=="k"?"":r)+"}":typeof i=="object"?s+=Wt(i,r?r.replace(/([^,])+/g,x=>o.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,c=>/&/.test(c)?c.replace(/&/g,x):x?x+" "+c:c)):o):i!=null&&(o=/^--/.test(o)?o:o.replace(/[A-Z]/g,"-$&").toLowerCase(),l+=Wt.p?Wt.p(o,i):o+":"+i+";")}return a+(r&&l?r+"{"+l+"}":l)+s},Rt={},Hn=t=>{if(typeof t=="object"){let r="";for(let a in t)r+=a+Hn(t[a]);return r}return t},vh=(t,r,a,s,l)=>{let o=Hn(t),i=Rt[o]||(Rt[o]=(c=>{let u=0,h=11;for(;u<c.length;)h=101*h+c.charCodeAt(u++)>>>0;return"go"+h})(o));if(!Rt[i]){let c=o!==t?t:(u=>{let h,d,p=[{}];for(;h=bh.exec(u.replace(yh,""));)h[4]?p.shift():h[3]?(d=h[3].replace(F0," ").trim(),p.unshift(p[0][d]=p[0][d]||{})):p[0][h[1]]=h[2].replace(F0," ").trim();return p[0]})(t);Rt[i]=Wt(l?{["@keyframes "+i]:c}:c,a?"":"."+i)}let x=a&&Rt.g?Rt.g:null;return a&&(Rt.g=Rt[i]),((c,u,h,d)=>{d?u.data=u.data.replace(d,c):u.data.indexOf(c)===-1&&(u.data=h?c+u.data:u.data+c)})(Rt[i],r,s,x),i},wh=(t,r,a)=>t.reduce((s,l,o)=>{let i=r[o];if(i&&i.call){let x=i(a),c=x&&x.props&&x.props.className||/^go/.test(x)&&x;i=c?"."+c:x&&typeof x=="object"?x.props?"":Wt(x,""):x===!1?"":x}return s+l+(i??"")},"");function Vs(t){let r=this||{},a=t.call?t(r.p):t;return vh(a.unshift?a.raw?wh(a,[].slice.call(arguments,1),r.p):a.reduce((s,l)=>Object.assign(s,l&&l.call?l(r.p):l),{}):a,fh(r.target),r.g,r.o,r.k)}let Wn,ka,Na;Vs.bind({g:1});let Ot=Vs.bind({k:1});function jh(t,r,a,s){Wt.p=r,Wn=t,ka=a,Na=s}function tr(t,r){let a=this||{};return function(){let s=arguments;function l(o,i){let x=Object.assign({},o),c=x.className||l.className;a.p=Object.assign({theme:ka&&ka()},x),a.o=/ *go\d+/.test(c),x.className=Vs.apply(a,s)+(c?" "+c:""),r&&(x.ref=i);let u=t;return t[0]&&(u=x.as||t,delete x.as),Na&&u[0]&&Na(x),Wn(u,x)}return r?r(l):l}}var Eh=t=>typeof t=="function",Ca=(t,r)=>Eh(t)?t(r):t,kh=(()=>{let t=0;return()=>(++t).toString()})(),Nh=(()=>{let t;return()=>{if(t===void 0&&typeof window<"u"){let r=matchMedia("(prefers-reduced-motion: reduce)");t=!r||r.matches}return t}})(),Ch=20,Zn=(t,r)=>{switch(r.type){case 0:return{...t,toasts:[r.toast,...t.toasts].slice(0,Ch)};case 1:return{...t,toasts:t.toasts.map(o=>o.id===r.toast.id?{...o,...r.toast}:o)};case 2:let{toast:a}=r;return Zn(t,{type:t.toasts.find(o=>o.id===a.id)?1:0,toast:a});case 3:let{toastId:s}=r;return{...t,toasts:t.toasts.map(o=>o.id===s||s===void 0?{...o,dismissed:!0,visible:!1}:o)};case 4:return r.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(o=>o.id!==r.toastId)};case 5:return{...t,pausedAt:r.time};case 6:let l=r.time-(t.pausedAt||0);return{...t,pausedAt:void 0,toasts:t.toasts.map(o=>({...o,pauseDuration:o.pauseDuration+l}))}}},Bh=[],aa={toasts:[],pausedAt:void 0},Ga=t=>{aa=Zn(aa,t),Bh.forEach(r=>{r(aa)})},Ah=(t,r="blank",a)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:r,ariaProps:{role:"status","aria-live":"polite"},message:t,pauseDuration:0,...a,id:(a==null?void 0:a.id)||kh()}),rs=t=>(r,a)=>{let s=Ah(r,t,a);return Ga({type:2,toast:s}),s.id},Fe=(t,r)=>rs("blank")(t,r);Fe.error=rs("error");Fe.success=rs("success");Fe.loading=rs("loading");Fe.custom=rs("custom");Fe.dismiss=t=>{Ga({type:3,toastId:t})};Fe.remove=t=>Ga({type:4,toastId:t});Fe.promise=(t,r,a)=>{let s=Fe.loading(r.loading,{...a,...a==null?void 0:a.loading});return typeof t=="function"&&(t=t()),t.then(l=>{let o=r.success?Ca(r.success,l):void 0;return o?Fe.success(o,{id:s,...a,...a==null?void 0:a.success}):Fe.dismiss(s),l}).catch(l=>{let o=r.error?Ca(r.error,l):void 0;o?Fe.error(o,{id:s,...a,...a==null?void 0:a.error}):Fe.dismiss(s)}),t};var Dh=Ot`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,Fh=Ot`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,Sh=Ot`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,Ph=tr("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${Dh} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${Fh} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${t=>t.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${Sh} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,Rh=Ot`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,Mh=tr("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${t=>t.secondary||"#e0e0e0"};
  border-right-color: ${t=>t.primary||"#616161"};
  animation: ${Rh} 1s linear infinite;
`,Lh=Ot`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,$h=Ot`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,Th=tr("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${Lh} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${$h} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${t=>t.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,Ih=tr("div")`
  position: absolute;
`,_h=tr("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,Oh=Ot`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,Vh=tr("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${Oh} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,zh=({toast:t})=>{let{icon:r,type:a,iconTheme:s}=t;return r!==void 0?typeof r=="string"?n.createElement(Vh,null,r):r:a==="blank"?null:n.createElement(_h,null,n.createElement(Mh,{...s}),a!=="loading"&&n.createElement(Ih,null,a==="error"?n.createElement(Ph,{...s}):n.createElement(Th,{...s})))},Uh=t=>`
0% {transform: translate3d(0,${t*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,qh=t=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${t*-150}%,-1px) scale(.6); opacity:0;}
`,Gh="0%{opacity:0;} 100%{opacity:1;}",Hh="0%{opacity:1;} 100%{opacity:0;}",Wh=tr("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,Zh=tr("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,Qh=(t,r)=>{let a=t.includes("top")?1:-1,[s,l]=Nh()?[Gh,Hh]:[Uh(a),qh(a)];return{animation:r?`${Ot(s)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${Ot(l)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}};n.memo(({toast:t,position:r,style:a,children:s})=>{let l=t.height?Qh(t.position||r||"top-center",t.visible):{opacity:0},o=n.createElement(zh,{toast:t}),i=n.createElement(Zh,{...t.ariaProps},Ca(t.message,t));return n.createElement(Wh,{className:t.className,style:{...l,...a,...t.style}},typeof s=="function"?s({icon:o,message:i}):n.createElement(n.Fragment,null,o,i))});jh(n.createElement);Vs`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`;const Yh=()=>{var T,A,R,M,_,q,U;const{id:t}=Vt(),r=we(),{user:a}=pe(),[s,l]=n.useState(null),[o,i]=n.useState(!1),[x,c]=n.useState(!0);n.useEffect(()=>{u()},[t]);const u=async()=>{try{c(!0);const L=await kt.getEventById(t);l(L.data||L)}catch(L){console.error("Error loading event:",L),Fe.error("Failed to load event details"),r("/events")}finally{c(!1)}},h=async()=>{var L,S;if(!a){Fe.error("Please log in to register for events"),r("/login");return}i(!0);try{const H=await kt.registerForEvent(t);H.status==="pending"?Fe.success("Registered! Your registration is pending organizer approval"):Fe.success("Successfully registered for the event! 🎉"),l(P=>({...P,participants:[...P.participants,{user:a._id,status:H.status||"pending",registeredAt:new Date().toISOString()}]})),setTimeout(()=>u(),500)}catch(H){console.error("Error registering for event:",H),Fe.error(((S=(L=H.response)==null?void 0:L.data)==null?void 0:S.error)||"Failed to register for event")}finally{i(!1)}},d=async()=>{var L,S;i(!0);try{await kt.cancelEventRegistration(t),Fe.success("Registration cancelled successfully"),await u()}catch(H){console.error("Error cancelling registration:",H),Fe.error(((S=(L=H.response)==null?void 0:L.data)==null?void 0:S.error)||"Failed to cancel registration")}finally{i(!1)}},p=()=>{g()},g=()=>{var L,S,H,P,G,z;if(s)try{const O=new Date(`${s.eventDate}T${s.startTime}`),Y=new Date(`${s.eventDate}T${s.endTime}`);if(isNaN(O.getTime())||isNaN(Y.getTime())){Fe.error("Invalid date format");return}const X=ce=>ce.toISOString().replace(/[-:]/g,"").replace(/\.\d{3}/,""),ae=[s.description,"",`Location: ${((L=s.garden)==null?void 0:L.name)||"Not specified"}`,`Organizer: ${(S=s.organizer)==null?void 0:S.firstName} ${(H=s.organizer)==null?void 0:H.lastName}`,(P=s.organizer)!=null&&P.email?`Email: ${(G=s.organizer)==null?void 0:G.email}`:"",s.maxParticipants?`Spots: ${s.participantCount||0}/${s.maxParticipants}`:"","","Created via Pwaradise App 🐾"].filter(Boolean).join("\\n"),me=["BEGIN:VCALENDAR","VERSION:2.0","PRODID:-//PawConnect App//Event Calendar//EN","CALSCALE:GREGORIAN","METHOD:PUBLISH","BEGIN:VEVENT",`UID:${s._id}@pawconnect.app`,`DTSTAMP:${X(new Date)}`,`DTSTART:${X(O)}`,`DTEND:${X(Y)}`,`SUMMARY:${s.title}`,`DESCRIPTION:${ae}`,`LOCATION:${((z=s.garden)==null?void 0:z.name)||""}`,"STATUS:CONFIRMED","CATEGORIES:Dog Parks,Pet Events,Social",`URL:${window.location.origin}/events/${s._id}`,"BEGIN:VALARM","TRIGGER:-PT1H","ACTION:DISPLAY","DESCRIPTION:Reminder: Dog event starts in 1 hour! 🐕","END:VALARM","END:VEVENT","END:VCALENDAR"].join(`\r
`),de=navigator.userAgent,Ce=/iPad|iPhone|iPod/.test(de),xe=/Android/.test(de);if(Ce||xe)try{const ce=`data:text/calendar;charset=utf8,${encodeURIComponent(me)}`;if(Ce)window.location.href=ce,Fe.success('Redirected to Calendar! Choose "Add to All Events" or "Add to This Event Only"');else if(xe){const be=new Blob([me],{type:"text/calendar"}),Ae=URL.createObjectURL(be),Te=document.createElement("a");Te.href=Ae,Te.download=`${s.title.replace(/[^a-zA-Z0-9\u0590-\u05FF]/g,"_")}.ics`,document.body.appendChild(Te),Te.click(),document.body.removeChild(Te),URL.revokeObjectURL(Ae),Fe.success("File downloaded! Open it to add to your calendar")}}catch(ce){console.error("Error opening mobile calendar:",ce),f(me)}else f(me)}catch(O){console.error("Error creating calendar event:",O),Fe.error("Failed to create calendar event")}},f=L=>{try{const S=new Blob([L],{type:"text/calendar;charset=utf-8"}),H=URL.createObjectURL(S),P=document.createElement("a");P.href=H,P.download=`${s.title.replace(/[^a-zA-Z0-9\u0590-\u05FF\s]/g,"_")}.ics`,P.style.display="none",document.body.appendChild(P),P.click(),document.body.removeChild(P),URL.revokeObjectURL(H),Fe.success("Calendar file downloaded! Open it to add the event to your calendar",{duration:4e3})}catch(S){console.error("Error downloading ICS file:",S),Fe.error("Failed to download calendar file")}},w=()=>{var L;return!s||!a?!1:(L=s.participants)==null?void 0:L.some(S=>{var H;return((H=S.user)==null?void 0:H._id)===a._id||S.user===a._id})},m=()=>{var S;if(!s||!a)return null;const L=(S=s.participants)==null?void 0:S.find(H=>{var P;return((P=H.user)==null?void 0:P._id)===a._id||H.user===a._id});return(L==null?void 0:L.status)||null},B=L=>new Date(L).toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"}),E=L=>{const S={meetup:{icon:"👥",label:"Community Meetup",color:"from-blue-500 to-cyan-600"},training:{icon:"🎓",label:"Training Session",color:"from-purple-500 to-pink-600"},competition:{icon:"🏆",label:"Competition",color:"from-red-500 to-orange-600"},adoption:{icon:"💚",label:"Adoption Event",color:"from-green-500 to-emerald-600"},social:{icon:"🎉",label:"Social Event",color:"from-yellow-500 to-amber-600"},educational:{icon:"📚",label:"Educational",color:"from-indigo-500 to-blue-600"},other:{icon:"🌟",label:"Special Event",color:"from-gray-500 to-slate-600"}};return S[L]||S.other},N=L=>({pending:"bg-yellow-100 dark:bg-yellow-900/30 text-yellow-800 dark:text-yellow-300 border-yellow-200 dark:border-yellow-700",approved:"bg-green-100 dark:bg-green-900/30 text-green-800 dark:text-green-300 border-green-200 dark:border-green-700",rejected:"bg-red-100 dark:bg-red-900/30 text-red-800 dark:text-red-300 border-red-200 dark:border-red-700"})[L]||"bg-gray-100 dark:bg-gray-700 text-gray-800 dark:text-gray-300 border-gray-200 dark:border-gray-600",v=L=>({pending:"Pending Approval",approved:"Approved",rejected:"Rejected"})[L]||L,j=L=>{const S={upcoming:{bg:"bg-green-500",text:"Upcoming",icon:"🔜"},ongoing:{bg:"bg-blue-500",text:"Live Now",icon:"🔴"},completed:{bg:"bg-gray-500",text:"Completed",icon:"✅"},cancelled:{bg:"bg-red-500",text:"Cancelled",icon:"❌"}};return S[L]||S.upcoming};if(x)return e.jsx(th,{});if(!s)return e.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-4",children:"Event not found"}),e.jsx("button",{onClick:()=>r("/events"),className:"text-purple-600 hover:text-purple-800 dark:text-purple-400 dark:hover:text-purple-300",children:"Back to events"})]})});const k=m(),b=w(),C=!b&&s.status==="upcoming"&&new Date<new Date(s.registrationDeadline||s.eventDate),D=j(s.status),F=E(s.eventType);return e.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900",children:e.jsxs("div",{className:"max-w-lg mx-auto",children:[e.jsxs("div",{className:`bg-gradient-to-r ${F.color} dark:from-purple-700 dark:to-pink-700 mx-4 mt-4 rounded-3xl p-6 text-white relative overflow-hidden`,children:[e.jsx("div",{className:"absolute -top-6 -right-6 opacity-20",children:e.jsx("div",{className:"text-8xl",children:F.icon})}),e.jsxs("div",{className:"relative z-10",children:[e.jsxs("button",{onClick:()=>r("/events"),className:"flex items-center text-white/80 hover:text-white transition-colors mb-4 p-2 rounded-xl bg-white/20 hover:bg-white/30",children:[e.jsx(Ue,{className:"h-4 w-4 mr-2"}),"Back to Events"]}),e.jsxs("div",{className:"mb-4",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[e.jsxs("span",{className:`${D.bg} px-3 py-1 rounded-full text-white text-sm font-medium flex items-center gap-1`,children:[e.jsx("span",{children:D.icon}),D.text]}),e.jsx("span",{className:"bg-white/20 px-3 py-1 rounded-full text-sm",children:F.label})]}),e.jsx("h1",{className:"text-2xl font-bold mb-3 line-clamp-2",children:s.title}),e.jsxs("div",{className:"grid grid-cols-1 gap-2 text-sm text-white/90",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(bt,{className:"h-4 w-4 mr-2"}),B(s.eventDate)]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx(Le,{className:"h-4 w-4 mr-2"}),s.startTime," - ",s.endTime]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx(ye,{className:"h-4 w-4 mr-2"}),((T=s.garden)==null?void 0:T.name)||"Location TBA"]})]})]})]})]}),e.jsxs("div",{className:"p-4 space-y-4",children:[e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-3xl border border-gray-100 dark:border-gray-700 p-6",children:[e.jsxs("h3",{className:"text-lg font-bold text-gray-900 dark:text-white mb-4 flex items-center",children:[e.jsx($e,{className:"h-5 w-5 mr-2 text-purple-600"}),"Event Registration"]}),b?e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:`p-4 rounded-2xl border ${N(k)}`,children:[e.jsxs("div",{className:"flex items-center justify-center",children:[k==="approved"&&e.jsx(Me,{className:"h-5 w-5 mr-2"}),k==="pending"&&e.jsx(Le,{className:"h-5 w-5 mr-2"}),k==="rejected"&&e.jsx(Br,{className:"h-5 w-5 mr-2"}),e.jsx("span",{className:"font-bold",children:v(k)})]}),k==="approved"&&e.jsx("p",{className:"text-sm mt-2 text-center opacity-75",children:"You're registered for this event"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs("button",{onClick:p,className:"flex items-center justify-center px-4 py-3 bg-blue-100 dark:bg-blue-900/30 text-blue-700 dark:text-blue-300 border border-blue-200 dark:border-blue-600 rounded-2xl font-medium hover:bg-blue-200 dark:hover:bg-blue-900/50 transition-all",children:[e.jsx(Nt,{className:"h-4 w-4 mr-2"}),"Add to Calendar"]}),e.jsxs("button",{onClick:d,disabled:o,className:"flex items-center justify-center px-4 py-3 bg-red-100 dark:bg-red-900/30 text-red-700 dark:text-red-300 border border-red-200 dark:border-red-600 rounded-2xl font-medium hover:bg-red-200 dark:hover:bg-red-900/50 disabled:opacity-50 disabled:cursor-not-allowed transition-all",children:[o?e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-red-700 dark:border-red-300 mr-2"}):e.jsx(Br,{className:"h-4 w-4 mr-2"}),"Cancel"]})]})]}):C?e.jsx("button",{onClick:h,disabled:o,className:"w-full bg-gradient-to-r from-purple-600 to-pink-600 text-white py-4 px-6 rounded-2xl font-bold hover:from-purple-700 hover:to-pink-700 disabled:opacity-50 disabled:cursor-not-allowed transition-all transform hover:scale-105 shadow-lg",children:o?e.jsxs("div",{className:"flex items-center justify-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white mr-2"}),"Registering..."]}):e.jsxs("div",{className:"flex items-center justify-center",children:[e.jsx(st,{className:"h-5 w-5 mr-2"}),"Register for Event"]})}):e.jsxs("div",{className:"text-center py-4",children:[e.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:a?s.status!=="upcoming"?"Event is not active":new Date>=new Date(s.registrationDeadline||s.eventDate)?"Registration closed":"Registration not available":"Please log in to register"}),!a&&e.jsx("button",{onClick:()=>r("/login"),className:"mt-3 text-purple-600 hover:text-purple-800 dark:text-purple-400 dark:hover:text-purple-300 font-medium",children:"Log In Now"})]}),s.registrationDeadline&&e.jsx("div",{className:"mt-6 pt-6 border-t border-gray-100 dark:border-gray-700",children:e.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:[e.jsx("strong",{children:"Registration deadline:"}),e.jsx("br",{}),B(s.registrationDeadline)]})})]}),e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-3xl border border-gray-100 dark:border-gray-700 p-6",children:[e.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-white mb-4",children:"Event Description"}),e.jsx("p",{className:"text-gray-700 dark:text-gray-300 leading-relaxed whitespace-pre-wrap",children:s.description}),s.tags&&s.tags.length>0&&e.jsxs("div",{className:"mt-6 pt-6 border-t border-gray-100 dark:border-gray-700",children:[e.jsxs("div",{className:"flex items-center mb-3",children:[e.jsx(Zr,{className:"h-5 w-5 mr-2 text-purple-600"}),e.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white",children:"Tags"})]}),e.jsx("div",{className:"flex flex-wrap gap-2",children:s.tags.map((L,S)=>e.jsx("span",{className:"px-3 py-1 bg-purple-100 dark:bg-purple-900/30 text-purple-700 dark:text-purple-300 rounded-full text-sm font-medium",children:L},S))})]})]}),((A=s.organizerMessages)==null?void 0:A.welcomeMessage)&&e.jsxs("div",{className:"bg-gradient-to-br from-purple-50 to-pink-50 dark:from-purple-900/20 dark:to-pink-900/20 border-2 border-purple-200 dark:border-purple-700 rounded-3xl p-6",children:[e.jsxs("div",{className:"flex items-center mb-4",children:[e.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-purple-500 to-pink-500 rounded-full flex items-center justify-center mr-3",children:e.jsx("span",{className:"text-white text-lg",children:"💬"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-bold text-gray-900 dark:text-white",children:"Message from Organizer"}),e.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:[(R=s.organizer)==null?void 0:R.firstName," ",(M=s.organizer)==null?void 0:M.lastName]})]})]}),e.jsx("div",{className:"bg-white/60 dark:bg-gray-800/60 backdrop-blur rounded-2xl p-4 border border-purple-100 dark:border-purple-600",children:e.jsxs("p",{className:"text-gray-800 dark:text-gray-200 leading-relaxed whitespace-pre-wrap italic",children:['"',s.organizerMessages.welcomeMessage,'"']})})]}),e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-3xl border border-gray-100 dark:border-gray-700 p-6",children:[e.jsxs("h2",{className:"text-xl font-bold text-gray-900 dark:text-white mb-4 flex items-center",children:[e.jsx(Ne,{className:"h-6 w-6 mr-2 text-purple-600"}),"Participants"]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"bg-gradient-to-br from-green-50 to-green-100 dark:from-green-900/20 dark:to-green-800/20 rounded-2xl p-4 text-center border border-green-200 dark:border-green-700",children:[e.jsx("div",{className:"text-3xl font-bold text-green-700 dark:text-green-400",children:s.participantCount||0}),e.jsx("div",{className:"text-sm text-green-600 dark:text-green-400 mt-1",children:"Approved"})]}),e.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-blue-100 dark:from-blue-900/20 dark:to-blue-800/20 rounded-2xl p-4 text-center border border-blue-200 dark:border-blue-700",children:[e.jsx("div",{className:"text-3xl font-bold text-blue-700 dark:text-blue-400",children:s.maxParticipants||"∞"}),e.jsx("div",{className:"text-sm text-blue-600 dark:text-blue-400 mt-1",children:"Total Spots"})]})]}),s.isFull&&e.jsx("div",{className:"mt-4 p-3 bg-yellow-50 dark:bg-yellow-900/30 border border-yellow-200 dark:border-yellow-700 rounded-2xl",children:e.jsxs("p",{className:"text-sm text-yellow-800 dark:text-yellow-300 font-medium flex items-center",children:[e.jsx(Cr,{className:"h-4 w-4 mr-2"}),"Event is full - you can join the waiting list"]})})]}),e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-3xl border border-gray-100 dark:border-gray-700 p-6",children:[e.jsxs("h2",{className:"text-xl font-bold text-gray-900 dark:text-white mb-4 flex items-center",children:[e.jsx(Tt,{className:"h-6 w-6 mr-2 text-purple-600"}),"Event Organizer"]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-purple-500 to-pink-500 rounded-full flex items-center justify-center mr-4",children:e.jsx(Tt,{className:"h-8 w-8 text-white"})}),e.jsxs("div",{children:[e.jsxs("p",{className:"font-bold text-lg text-gray-900 dark:text-white",children:[(_=s.organizer)==null?void 0:_.firstName," ",(q=s.organizer)==null?void 0:q.lastName]}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:(U=s.organizer)==null?void 0:U.email})]})]})]}),s.requirements&&e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-3xl border border-gray-100 dark:border-gray-700 p-6",children:[e.jsx("h3",{className:"text-lg font-bold text-gray-900 dark:text-white mb-4",children:"Event Requirements"}),e.jsxs("div",{className:"space-y-3",children:[s.requirements.vaccinationRequired&&e.jsxs("div",{className:"flex items-center text-sm",children:[e.jsx(Me,{className:"h-5 w-5 mr-2 text-green-600"}),e.jsx("span",{className:"text-gray-700 dark:text-gray-300",children:"Current vaccination required"})]}),s.requirements.sizeRestrictions&&s.requirements.sizeRestrictions.length>0&&e.jsxs("div",{className:"text-sm",children:[e.jsx("span",{className:"font-medium text-gray-700 dark:text-gray-300",children:"Size restrictions:"}),e.jsx("ul",{className:"list-disc list-inside mt-1 text-gray-600 dark:text-gray-400 ml-5",children:s.requirements.sizeRestrictions.map((L,S)=>e.jsx("li",{children:L},S))})]}),s.requirements.ageRestrictions&&e.jsxs("div",{className:"text-sm",children:[e.jsx("span",{className:"font-medium text-gray-700 dark:text-gray-300",children:"Age restrictions:"}),e.jsxs("p",{className:"text-gray-600 dark:text-gray-400 ml-5",children:[s.requirements.ageRestrictions.min&&`Minimum: ${s.requirements.ageRestrictions.min} months`,s.requirements.ageRestrictions.min&&s.requirements.ageRestrictions.max&&" | ",s.requirements.ageRestrictions.max&&`Maximum: ${s.requirements.ageRestrictions.max} months`]})]})]})]})]})]})})},Jh=()=>{const[t,r]=n.useState([]),[a,s]=n.useState(!1),[l,o]=n.useState(null),[i,x]=n.useState(""),[c,u]=n.useState("all"),[h,d]=n.useState(1),[p,g]=n.useState(!0),f=9;n.useEffect(()=>{w(!0)},[i,c]);const w=async(j=!1)=>{j?(d(1),await m(1,!0)):(await m(h+1),d(k=>k+1))},m=async(j,k=!1)=>{try{if(k){const b=await kt.getPublicEvents({page:j,limit:f,search:i,type:c==="all"?void 0:c});B(b,k)}else{s(!0);const b=await kt.getPublicEvents({page:j,limit:f,search:i,type:c==="all"?void 0:c});B(b,k),s(!1)}}catch(b){console.error("Error fetching events:",b),o("Error loading events"),s(!1)}},B=(j,k)=>{let b=[];j&&j.events&&Array.isArray(j.events)?b=j.events:Array.isArray(j)?b=j:j&&j.data&&Array.isArray(j.data)&&(b=j.data);const C=b.filter(D=>new Date(D.eventDate)>new Date);r(D=>k?C:[...D,...C]),g(C.length===f)},E=j=>new Date(j).toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"}),N=j=>new Date(`2000-01-01T${j}`).toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit"}),v=({action:j})=>e.jsx("div",{className:"bg-gradient-to-r from-yellow-100 to-orange-100 dark:from-yellow-900 dark:to-orange-900 border border-yellow-200 dark:border-yellow-700 rounded-3xl p-4 mb-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(Gr,{className:"h-5 w-5 text-yellow-600 dark:text-yellow-400 mr-2"}),e.jsxs("p",{className:"text-sm text-yellow-800 dark:text-yellow-200",children:["To ",j,", please"," ",e.jsx(ge,{to:"/login",className:"font-semibold underline hover:text-yellow-900 dark:hover:text-yellow-100",children:"login"})," ","or"," ",e.jsx(ge,{to:"/register",className:"font-semibold underline hover:text-yellow-900 dark:hover:text-yellow-100",children:"create an account"})]})]})});return e.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900",children:e.jsxs("div",{className:"max-w-lg mx-auto lg:max-w-7xl",children:[e.jsxs("div",{className:"px-4 pt-6 pb-4",children:[e.jsx("h1",{className:"text-2xl sm:text-3xl font-bold bg-gradient-to-r from-purple-600 via-pink-600 to-red-600 bg-clip-text text-transparent mb-6 flex items-center justify-center",children:"🎉 Pawradise Events"}),e.jsxs("div",{className:"space-y-3 mb-4",children:[e.jsxs("div",{className:"relative",children:[e.jsx(_t,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),e.jsx("input",{type:"text",placeholder:"Search events...",value:i,onChange:j=>x(j.target.value),className:"w-full pl-10 pr-4 py-3 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-3xl text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-purple-500 transition-all"})]}),e.jsxs("div",{className:"relative",children:[e.jsx($d,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),e.jsxs("select",{value:c,onChange:j=>u(j.target.value),className:"w-full pl-10 pr-4 py-3 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-3xl text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-purple-500 transition-all",children:[e.jsx("option",{value:"all",children:"All Types"}),e.jsx("option",{value:"training",children:"Training"}),e.jsx("option",{value:"social",children:"Social Meetup"}),e.jsx("option",{value:"competition",children:"Competition"})]})]}),e.jsxs("div",{className:"text-center text-sm text-gray-600 dark:text-gray-400",children:[e.jsx("span",{className:"font-medium bg-gradient-to-r from-purple-600 to-pink-600 bg-clip-text text-transparent",children:t.length})," events found"]})]})]}),e.jsx(v,{action:"register for events, create events, or manage your participation"}),e.jsx("div",{className:"px-4 pb-6",children:t.length===0?e.jsx("div",{className:"text-center py-12",children:e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-3xl p-12 shadow-lg",children:[e.jsx(Nt,{className:"mx-auto h-16 w-16 text-gray-400 mb-4"}),e.jsx("h3",{className:"text-xl font-semibold bg-gradient-to-r from-purple-600 to-pink-600 bg-clip-text text-transparent mb-2",children:"No Events Available"}),e.jsx("p",{className:"text-gray-500 dark:text-gray-400 mb-6",children:"There are no upcoming events scheduled at the moment."}),e.jsx(ge,{to:"/login",className:"inline-flex items-center px-6 py-3 bg-gradient-to-r from-purple-600 to-pink-600 text-white rounded-2xl font-medium hover:from-purple-700 hover:to-pink-700 transition-all",children:"Join Pawradise to Create Events"})]})}):e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:t.map(j=>{var k;return e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-3xl shadow-lg overflow-hidden hover:shadow-xl transition-all duration-300 border border-gray-100 dark:border-gray-700",children:[e.jsxs("div",{className:"bg-gradient-to-r from-purple-600 via-pink-600 to-red-600 p-4 text-white",children:[e.jsx("h3",{className:"text-lg font-semibold mb-1",children:j.title}),e.jsx("p",{className:"text-purple-100 text-sm",children:j.type})]}),e.jsxs("div",{className:"p-4",children:[e.jsx("p",{className:"text-gray-600 dark:text-gray-400 text-sm mb-4 line-clamp-2",children:j.description}),e.jsxs("div",{className:"space-y-2 text-sm",children:[e.jsxs("div",{className:"flex items-center text-gray-600 dark:text-gray-400",children:[e.jsx(Nt,{className:"h-4 w-4 mr-2"}),e.jsx("span",{children:E(j.eventDate)})]}),e.jsxs("div",{className:"flex items-center text-gray-600 dark:text-gray-400",children:[e.jsx(Le,{className:"h-4 w-4 mr-2"}),e.jsx("span",{children:N(j.startTime)}),j.endTime&&e.jsxs("span",{children:[" - ",N(j.endTime)]})]}),e.jsxs("div",{className:"flex items-center text-gray-600 dark:text-gray-400",children:[e.jsx(ye,{className:"h-4 w-4 mr-2"}),e.jsx("span",{children:((k=j.garden)==null?void 0:k.name)||"Garden not specified"})]}),e.jsxs("div",{className:"flex items-center text-gray-600 dark:text-gray-400",children:[e.jsx(Ne,{className:"h-4 w-4 mr-2"}),e.jsxs("span",{children:[j.approvedParticipants||0," participants",j.maxParticipants&&` / ${j.maxParticipants} max`]})]})]}),j.tags&&j.tags.length>0&&e.jsxs("div",{className:"mt-3 flex flex-wrap gap-1",children:[j.tags.slice(0,3).map((b,C)=>e.jsx("span",{className:"inline-block bg-purple-100 dark:bg-purple-900 text-purple-800 dark:text-purple-300 text-xs px-2 py-1 rounded-full",children:b},C)),j.tags.length>3&&e.jsxs("span",{className:"inline-block bg-gray-100 dark:bg-gray-800 text-gray-600 dark:text-gray-400 text-xs px-2 py-1 rounded-full",children:["+",j.tags.length-3]})]}),e.jsx("div",{className:"mt-4 pt-4 border-t border-gray-200 dark:border-gray-700",children:j.registrationDeadline&&new Date(j.registrationDeadline)<new Date?e.jsx("div",{className:"text-red-600 dark:text-red-400 text-sm font-medium",children:"Registration Closed"}):j.maxParticipants&&j.approvedParticipants>=j.maxParticipants?e.jsx("div",{className:"text-orange-600 dark:text-orange-400 text-sm font-medium",children:"Event Full"}):e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("div",{className:"text-green-600 dark:text-green-400 text-sm font-medium",children:"Open for Registration"}),e.jsx(ge,{to:"/login",className:"text-xs bg-gradient-to-r from-purple-600 to-pink-600 text-white px-3 py-1 rounded-full hover:from-purple-700 hover:to-pink-700 transition-all",children:"Register"})]})})]})]},j._id)})}),p&&e.jsx("div",{className:"mt-8 text-center",children:e.jsx("button",{onClick:()=>w(),disabled:a,className:"inline-flex items-center px-6 py-3 bg-gradient-to-r from-purple-600 to-pink-600 text-white rounded-2xl font-medium hover:from-purple-700 hover:to-pink-700 transition-all disabled:opacity-50",children:a?e.jsxs(e.Fragment,{children:[e.jsxs("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Loading..."]}):"Load More Events"})})]})}),e.jsx("div",{className:"px-4 pb-8",children:e.jsxs("div",{className:"bg-gradient-to-r from-purple-600 via-pink-600 to-red-600 rounded-3xl p-8 text-center text-white shadow-xl",children:[e.jsx("h2",{className:"text-2xl sm:text-3xl font-bold mb-4",children:"Want to Join Events?"}),e.jsx("p",{className:"text-purple-100 mb-6 text-lg",children:"Join the Pawradise community and start participating in exciting dog park events"}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[e.jsx(ge,{to:"/register",className:"bg-white text-purple-600 px-8 py-3 rounded-2xl font-semibold hover:bg-gray-100 transition-colors inline-block shadow-lg",children:"Sign Up"}),e.jsx(ge,{to:"/login",className:"border-2 border-white text-white px-8 py-3 rounded-2xl font-semibold hover:bg-white hover:text-purple-600 transition-colors inline-block",children:"Login"})]})]})})]})})},Xh=({dog:t,onClose:r,onSave:a})=>{var P,G,z;const[s,l]=n.useState((t==null?void 0:t.image)||null),[o,i]=n.useState((t==null?void 0:t.gallery)||[]),[x,c]=n.useState({friendly:((P=t==null?void 0:t.personality)==null?void 0:P.friendly)||3,energetic:((G=t==null?void 0:t.personality)==null?void 0:G.energetic)||3,social:((z=t==null?void 0:t.personality)==null?void 0:z.social)||3}),[u,h]=n.useState(!1),[d,p]=n.useState(0),[g]=n.useState(3),[f,w]=n.useState("edit"),[m,B]=n.useState(1),[E,N]=n.useState(null),[v,j]=n.useState(""),[k,b]=n.useState(!1);re.useEffect(()=>{var O,Y,X;t?(l(t.image||null),i(t.gallery||[]),c({friendly:((O=t.personality)==null?void 0:O.friendly)||3,energetic:((Y=t.personality)==null?void 0:Y.energetic)||3,social:((X=t.personality)==null?void 0:X.social)||3})):(l(null),i([]),c({friendly:3,energetic:3,social:3}))},[t]),re.useEffect(()=>{const O=new Date().toDateString(),Y=localStorage.getItem("aiDailyUsage");if(Y){const X=JSON.parse(Y);X.date===O?p(X.count):(localStorage.setItem("aiDailyUsage",JSON.stringify({date:O,count:0})),p(0))}else localStorage.setItem("aiDailyUsage",JSON.stringify({date:O,count:0}))},[]),re.useEffect(()=>{const O=window.getComputedStyle(document.body).overflow;return document.body.style.overflow="hidden",()=>{document.body.style.overflow=O}},[]);const C=(O,Y=800,X=.8)=>new Promise((ae,me)=>{const de=document.createElement("canvas"),Ce=de.getContext("2d"),xe=new Image;xe.onload=()=>{try{let{width:fe,height:ce}=xe;fe>Y&&(ce=ce*Y/fe,fe=Y),de.width=fe,de.height=ce,Ce.drawImage(xe,0,0,fe,ce);const be=de.toDataURL("image/jpeg",X);URL.revokeObjectURL(xe.src),ae(be)}catch(fe){me(fe)}},xe.onerror=()=>{me(new Error("Failed to load image"))},xe.src=URL.createObjectURL(O)}),D=async(O,Y=!1)=>{const X=O.target.files[0];if(X){if(X.size>5*1024*1024){alert("Image is too large. Please select an image smaller than 5MB.");return}h(!0);try{const ae=await C(X,Y?400:800,.8);if(Y)l(ae);else{if(o.length>=6){alert("Maximum 6 gallery images allowed.");return}i(me=>[...me,ae])}}catch(ae){console.error("Error compressing image:",ae),alert("Error processing image. Please try again.")}finally{h(!1)}}},F=O=>{i(Y=>Y.filter((X,ae)=>ae!==O))},T=async()=>{if(d>=g){alert("You have reached your daily limit of 3 AI image generations.");return}const O=["different dog","another dog","change breed","make it a","turn into","different animal"],Y=v.toLowerCase();for(const X of O)if(Y.includes(X)){alert("Please only describe what to ADD or MODIFY to your dog. Do not ask to change the dog itself into something else.");return}b(!0);try{const X=E.split(",")[1],me={contents:[{role:"user",parts:[{inlineData:{mimeType:E.startsWith("data:image/png")?"image/png":"image/jpeg",data:X}},{text:`CRITICAL INSTRUCTIONS: Transform THIS EXACT DOG (keep it identical) with these additions/modifications: ${v}

                MANDATORY REQUIREMENTS:
                1. PRESERVE the EXACT SAME DOG - same breed, same size, same facial features, same markings
                2. ONLY ADD/MODIFY what is specifically requested: ${v}
                3. DO NOT change the dog's breed, species, or core physical characteristics
                4. DO NOT replace the dog with a different animal
                5. The result must be recognizably the SAME individual dog
                6. Keep all distinctive features of this specific dog (facial structure, ear shape, coat patterns, etc.)
                
                WHAT TO DO: Add/modify only: ${v}
                WHAT NOT TO DO: Change the dog's breed, replace with different dog, change fundamental dog characteristics
                
                Return only the transformed image with the same dog.`}]}],generationConfig:{responseModalities:["TEXT","IMAGE"]}},de=await fetch("https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash-preview-image-generation:generateContent?key=AIzaSyBApCOlYZGVoSA6R68JQ9BZ-dY4EEv-GK8",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(me)});if(!de.ok)throw new Error(`HTTP error! status: ${de.status}`);const Ce=await de.json();let xe=null;if(Ce.candidates&&Ce.candidates[0]&&Ce.candidates[0].content){const fe=Ce.candidates[0].content.parts;for(const ce of fe)if(ce.inlineData&&ce.inlineData.mimeType&&ce.inlineData.mimeType.startsWith("image/")){xe=`data:${ce.inlineData.mimeType};base64,${ce.inlineData.data}`;break}}if(xe){B(3),N(xe);const fe=d+1;p(fe);const ce=new Date().toDateString();localStorage.setItem("aiDailyUsage",JSON.stringify({date:ce,count:fe}))}else alert("Failed to generate image. Please try again.")}catch(X){console.error("Error generating image:",X),alert("Error generating image. Please try again.")}finally{b(!1)}},A=()=>{l(E),w("edit"),B(1),N(null),j("")},R=()=>{B(2)},M=()=>{if(d>=g){alert("You have reached your daily limit of 3 AI image generations.");return}w("ai-generator"),B(1),N(null),j("")},_=()=>{w("edit"),B(1),N(null),j("")},{register:q,handleSubmit:U,formState:{errors:L,isSubmitting:S}}=Jt({defaultValues:t||{name:"",breed:"",age:"",gender:"male",size:"medium",weight:"",description:"",medicalInfo:{vaccinated:!1}}}),H=async O=>{O.age=parseInt(O.age),O.weight&&(O.weight=parseFloat(O.weight)),O.image=s,O.gallery=o,O.personality=x,await a(O)};return e.jsx(qe.Root,{show:!0,as:n.Fragment,children:e.jsxs(ht,{as:"div",className:"relative z-50",onClose:r,children:[e.jsx(qe.Child,{as:n.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:e.jsx("div",{className:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity"})}),e.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:e.jsx("div",{className:"flex min-h-full items-end justify-center p-4 text-center sm:items-center sm:p-0 pb-safe",children:e.jsx(qe.Child,{as:n.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95",enterTo:"opacity-100 translate-y-0 sm:scale-100",leave:"ease-in duration-200",leaveFrom:"opacity-100 translate-y-0 sm:scale-100",leaveTo:"opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95",children:e.jsxs(ht.Panel,{className:"relative transform overflow-hidden rounded-3xl bg-white dark:bg-gray-900 text-left shadow-2xl transition-all sm:my-8 sm:w-full sm:max-w-3xl max-h-[90vh] overflow-y-auto border-0 ring-1 ring-gray-200 dark:ring-gray-700 touch-auto mb-20 sm:mb-0",children:[e.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200 dark:border-gray-700",children:[f==="ai-generator"&&e.jsxs("button",{onClick:_,className:"flex items-center space-x-2 text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white transition-colors",children:[e.jsx("svg",{className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})}),e.jsx("span",{className:"font-medium",children:"Back to Edit"})]}),e.jsx("div",{className:`${f==="ai-generator"?"flex-1 text-center":""}`,children:e.jsx("h3",{className:"text-xl font-bold text-gray-900 dark:text-white flex items-center justify-center",children:f==="edit"?e.jsxs(e.Fragment,{children:[e.jsx(or,{className:"h-6 w-6 text-blue-500 mr-2"}),t?"Edit Dog Profile":"Create Dog Profile"]}):e.jsxs(e.Fragment,{children:[e.jsx($e,{className:"h-6 w-6 text-purple-500 mr-2"}),"AI Dog Transformer"]})})}),e.jsxs("button",{type:"button",className:"rounded-full bg-gray-100 dark:bg-gray-800 text-gray-600 dark:text-gray-400 hover:text-gray-800 dark:hover:text-gray-200 hover:bg-gray-200 dark:hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-primary-500 focus:ring-offset-2 shadow-sm hover:shadow-md transition-all duration-200 p-2.5",onClick:r,children:[e.jsx("span",{className:"sr-only",children:"Close"}),e.jsx(he,{className:"h-5 w-5","aria-hidden":"true"})]})]}),f==="edit"?e.jsxs("form",{onSubmit:U(H),children:[e.jsxs("div",{className:"bg-gradient-to-br from-slate-50 via-white to-blue-50 dark:from-gray-900 dark:via-gray-800 dark:to-gray-900 px-8 pb-8 pt-6 sm:px-12 sm:pb-8",children:[e.jsx("div",{className:"text-center mb-8",children:e.jsx("p",{className:"text-base text-gray-600 dark:text-gray-400 max-w-md mx-auto leading-relaxed",children:t?"Update your dog's information, photos, and personality traits":"Create a comprehensive profile for your furry companion"})}),e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl p-8 shadow-sm border border-gray-100 dark:border-gray-700 hover:shadow-md transition-shadow duration-200",children:[e.jsxs("div",{className:"flex items-center mb-6",children:[e.jsx("div",{className:"flex items-center justify-center w-10 h-10 bg-blue-100 dark:bg-blue-900 rounded-xl mr-3",children:e.jsx(or,{className:"h-5 w-5 text-blue-600 dark:text-blue-400"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Profile Image"}),e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Main photo for your dog's profile"})]})]}),e.jsxs("div",{className:"flex items-center space-x-6",children:[s?e.jsxs("div",{className:"relative group",children:[e.jsx("img",{src:s,alt:"Profile",className:"w-24 h-24 rounded-full object-cover border-4 border-primary-200 dark:border-primary-800 shadow-lg"}),e.jsx("button",{type:"button",onClick:()=>l(null),className:"absolute -top-2 -right-2 bg-red-500 text-white rounded-full p-1.5 hover:bg-red-600 shadow-lg transform transition-transform group-hover:scale-110",children:e.jsx(he,{className:"h-3 w-3"})})]}):e.jsx("div",{className:"w-24 h-24 border-2 border-dashed border-gray-300 dark:border-gray-500 rounded-full flex items-center justify-center bg-gray-50 dark:bg-gray-600",children:e.jsx(or,{className:"h-8 w-8 text-gray-400 dark:text-gray-500"})}),e.jsxs("div",{className:"flex flex-col space-y-3",children:[e.jsxs("label",{className:`cursor-pointer bg-white dark:bg-gray-600 border border-gray-300 dark:border-gray-500 rounded-lg px-4 py-2.5 text-sm font-medium text-gray-700 dark:text-gray-200 hover:bg-gray-50 dark:hover:bg-gray-500 shadow-sm transition-all duration-200 ${u?"opacity-50 cursor-not-allowed":""}`,children:[e.jsx("span",{children:u?"Processing...":"Upload Image"}),e.jsx("input",{type:"file",accept:"image/*",onChange:O=>D(O,!0),className:"hidden",disabled:u})]}),e.jsxs("button",{type:"button",onClick:M,disabled:u||d>=g,className:`bg-gradient-to-r from-purple-500 to-blue-500 text-white border border-transparent rounded-lg px-4 py-2.5 text-sm font-medium hover:from-purple-600 hover:to-blue-600 flex items-center space-x-2 shadow-sm transition-all duration-200 ${u||d>=g?"opacity-50 cursor-not-allowed":"hover:shadow-md"}`,title:"Transform your dog's image (keeps same dog, only adds/modifies as requested)",children:[e.jsx($e,{className:"h-4 w-4"}),e.jsx("span",{children:"Transform Dog"}),e.jsxs("span",{className:"text-xs bg-black/20 rounded px-1.5 py-0.5",children:["(",d,"/",g,")"]})]})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"bg-white dark:bg-gray-700 rounded-xl p-5 shadow-sm border border-gray-200 dark:border-gray-600",children:[e.jsx("label",{htmlFor:"name",className:"block text-sm font-semibold text-gray-900 dark:text-white mb-2",children:"Dog's Name"}),e.jsx("input",{...q("name",{required:"Name is required"}),type:"text",className:"block w-full rounded-lg border-gray-300 dark:border-gray-500 bg-white dark:bg-gray-600 text-gray-900 dark:text-white shadow-sm focus:border-primary-500 focus:ring-primary-500 sm:text-sm placeholder-gray-400 dark:placeholder-gray-400",placeholder:"Enter dog's name"}),L.name&&e.jsxs("p",{className:"mt-2 text-sm text-red-600 dark:text-red-400 flex items-center",children:[e.jsx("span",{className:"mr-1",children:"⚠️"}),L.name.message]})]}),e.jsxs("div",{className:"bg-white dark:bg-gray-700 rounded-xl p-5 shadow-sm border border-gray-200 dark:border-gray-600",children:[e.jsx("label",{htmlFor:"breed",className:"block text-sm font-semibold text-gray-900 dark:text-white mb-2",children:"Breed"}),e.jsx("input",{...q("breed",{required:"Breed is required"}),type:"text",className:"block w-full rounded-lg border-gray-300 dark:border-gray-500 bg-white dark:bg-gray-600 text-gray-900 dark:text-white shadow-sm focus:border-primary-500 focus:ring-primary-500 sm:text-sm placeholder-gray-400 dark:placeholder-gray-400",placeholder:"e.g., Golden Retriever"}),L.breed&&e.jsxs("p",{className:"mt-2 text-sm text-red-600 dark:text-red-400 flex items-center",children:[e.jsx("span",{className:"mr-1",children:"⚠️"}),L.breed.message]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"bg-white dark:bg-gray-700 rounded-xl p-5 shadow-sm border border-gray-200 dark:border-gray-600",children:[e.jsx("label",{htmlFor:"age",className:"block text-sm font-semibold text-gray-900 dark:text-white mb-2",children:"Age (months)"}),e.jsx("input",{...q("age",{required:"Age is required",min:{value:0,message:"Age must be positive"}}),type:"number",className:"block w-full rounded-lg border-gray-300 dark:border-gray-500 bg-white dark:bg-gray-600 text-gray-900 dark:text-white shadow-sm focus:border-primary-500 focus:ring-primary-500 sm:text-sm placeholder-gray-400 dark:placeholder-gray-400",placeholder:"12"}),L.age&&e.jsxs("p",{className:"mt-2 text-sm text-red-600 dark:text-red-400 flex items-center",children:[e.jsx("span",{className:"mr-1",children:"⚠️"}),L.age.message]})]}),e.jsxs("div",{className:"bg-white dark:bg-gray-700 rounded-xl p-5 shadow-sm border border-gray-200 dark:border-gray-600",children:[e.jsx("label",{htmlFor:"weight",className:"block text-sm font-semibold text-gray-900 dark:text-white mb-2",children:"Weight (kg)"}),e.jsx("input",{...q("weight",{min:{value:0,message:"Weight must be positive"}}),type:"number",step:"0.1",className:"block w-full rounded-lg border-gray-300 dark:border-gray-500 bg-white dark:bg-gray-600 text-gray-900 dark:text-white shadow-sm focus:border-primary-500 focus:ring-primary-500 sm:text-sm placeholder-gray-400 dark:placeholder-gray-400",placeholder:"25.5"}),L.weight&&e.jsxs("p",{className:"mt-2 text-sm text-red-600 dark:text-red-400 flex items-center",children:[e.jsx("span",{className:"mr-1",children:"⚠️"}),L.weight.message]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"bg-white dark:bg-gray-700 rounded-xl p-5 shadow-sm border border-gray-200 dark:border-gray-600",children:[e.jsx("label",{htmlFor:"gender",className:"block text-sm font-semibold text-gray-900 dark:text-white mb-2",children:"Gender"}),e.jsxs("select",{...q("gender",{required:"Gender is required"}),className:"block w-full rounded-lg border-gray-300 dark:border-gray-500 bg-white dark:bg-gray-600 text-gray-900 dark:text-white shadow-sm focus:border-primary-500 focus:ring-primary-500 sm:text-sm",children:[e.jsx("option",{value:"male",children:"♂️ Male"}),e.jsx("option",{value:"female",children:"♀️ Female"})]})]}),e.jsxs("div",{className:"bg-white dark:bg-gray-700 rounded-xl p-5 shadow-sm border border-gray-200 dark:border-gray-600",children:[e.jsx("label",{htmlFor:"size",className:"block text-sm font-semibold text-gray-900 dark:text-white mb-2",children:"Size"}),e.jsxs("select",{...q("size",{required:"Size is required"}),className:"block w-full rounded-lg border-gray-300 dark:border-gray-500 bg-white dark:bg-gray-600 text-gray-900 dark:text-white shadow-sm focus:border-primary-500 focus:ring-primary-500 sm:text-sm",children:[e.jsx("option",{value:"small",children:"🐕 Small"}),e.jsx("option",{value:"medium",children:"🐶 Medium"}),e.jsx("option",{value:"large",children:"🐕‍🦺 Large"})]})]})]}),e.jsxs("div",{className:"bg-white dark:bg-gray-700 rounded-xl p-5 shadow-sm border border-gray-200 dark:border-gray-600",children:[e.jsx("label",{htmlFor:"description",className:"block text-sm font-semibold text-gray-900 dark:text-white mb-2",children:"Description"}),e.jsx("textarea",{...q("description"),rows:4,className:"block w-full rounded-lg border-gray-300 dark:border-gray-500 bg-white dark:bg-gray-600 text-gray-900 dark:text-white shadow-sm focus:border-primary-500 focus:ring-primary-500 sm:text-sm placeholder-gray-400 dark:placeholder-gray-400 resize-none",placeholder:"Tell us about your dog's personality, favorite activities, and special quirks..."})]}),e.jsxs("div",{className:"bg-white dark:bg-gray-700 rounded-xl p-6 shadow-sm border border-gray-200 dark:border-gray-600",children:[e.jsxs("label",{className:"block text-sm font-semibold text-gray-900 dark:text-white mb-4 flex items-center",children:[e.jsx("span",{className:"text-lg mr-2",children:"🎭"}),"Personality Traits"]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between items-center mb-3",children:[e.jsxs("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 flex items-center",children:[e.jsx("span",{className:"text-base mr-2",children:"🤝"}),"Friendly"]}),e.jsxs("span",{className:"text-sm font-bold text-primary-600 dark:text-primary-400 bg-primary-50 dark:bg-primary-900/20 px-2 py-1 rounded-full",children:[x.friendly,"/5"]})]}),e.jsx("input",{type:"range",min:"1",max:"5",value:x.friendly,onChange:O=>c(Y=>({...Y,friendly:parseInt(O.target.value)})),className:"w-full h-3 bg-gray-200 dark:bg-gray-600 rounded-lg appearance-none cursor-pointer slider"})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between items-center mb-3",children:[e.jsxs("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 flex items-center",children:[e.jsx("span",{className:"text-base mr-2",children:"⚡"}),"Energetic"]}),e.jsxs("span",{className:"text-sm font-bold text-primary-600 dark:text-primary-400 bg-primary-50 dark:bg-primary-900/20 px-2 py-1 rounded-full",children:[x.energetic,"/5"]})]}),e.jsx("input",{type:"range",min:"1",max:"5",value:x.energetic,onChange:O=>c(Y=>({...Y,energetic:parseInt(O.target.value)})),className:"w-full h-3 bg-gray-200 dark:bg-gray-600 rounded-lg appearance-none cursor-pointer slider"})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between items-center mb-3",children:[e.jsxs("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 flex items-center",children:[e.jsx("span",{className:"text-base mr-2",children:"👥"}),"Social"]}),e.jsxs("span",{className:"text-sm font-bold text-primary-600 dark:text-primary-400 bg-primary-50 dark:bg-primary-900/20 px-2 py-1 rounded-full",children:[x.social,"/5"]})]}),e.jsx("input",{type:"range",min:"1",max:"5",value:x.social,onChange:O=>c(Y=>({...Y,social:parseInt(O.target.value)})),className:"w-full h-3 bg-gray-200 dark:bg-gray-600 rounded-lg appearance-none cursor-pointer slider"})]})]})]}),e.jsxs("div",{className:"bg-white dark:bg-gray-700 rounded-xl p-6 shadow-sm border border-gray-200 dark:border-gray-600",children:[e.jsxs("label",{className:"block text-sm font-semibold text-gray-900 dark:text-white mb-4 flex items-center",children:[e.jsx("span",{className:"text-lg mr-2",children:"📸"}),"Photo Gallery",e.jsxs("span",{className:"text-xs text-gray-500 dark:text-gray-400 ml-2",children:["(",o.length,"/6)"]})]}),e.jsxs("div",{className:"space-y-4",children:[o.length>0&&e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3",children:o.map((O,Y)=>e.jsxs("div",{className:"relative group",children:[e.jsx("img",{src:O,alt:`Gallery ${Y+1}`,className:"w-full h-24 object-cover rounded-lg border-2 border-gray-200 dark:border-gray-600 shadow-sm group-hover:shadow-md transition-shadow"}),e.jsx("button",{type:"button",onClick:()=>F(Y),className:"absolute -top-2 -right-2 bg-red-500 text-white rounded-full p-1.5 hover:bg-red-600 shadow-lg transform transition-transform group-hover:scale-110",children:e.jsx(br,{className:"h-3 w-3"})})]},Y))}),o.length<6&&e.jsxs("label",{className:`cursor-pointer flex items-center justify-center w-full h-24 border-2 border-dashed border-gray-300 dark:border-gray-500 rounded-lg hover:border-primary-400 dark:hover:border-primary-500 bg-gray-50 dark:bg-gray-600 hover:bg-gray-100 dark:hover:bg-gray-500 transition-colors ${u?"opacity-50 cursor-not-allowed":""}`,children:[e.jsxs("div",{className:"text-center",children:[e.jsx(Ft,{className:"h-6 w-6 text-gray-400 dark:text-gray-500 mx-auto mb-1"}),e.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400 font-medium",children:u?"Processing...":"Add Photo"})]}),e.jsx("input",{type:"file",accept:"image/*",onChange:O=>D(O,!1),className:"hidden",disabled:u})]})]})]}),e.jsx("div",{className:"bg-white dark:bg-gray-700 rounded-xl p-5 shadow-sm border border-gray-200 dark:border-gray-600",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{...q("medicalInfo.vaccinated"),type:"checkbox",className:"h-5 w-5 rounded border-gray-300 dark:border-gray-500 text-primary-600 focus:ring-primary-500 focus:ring-2"}),e.jsxs("label",{htmlFor:"vaccinated",className:"ml-3 block text-sm font-medium text-gray-900 dark:text-white flex items-center",children:[e.jsx("span",{className:"text-base mr-2",children:"💉"}),"Fully vaccinated"]})]})})]})]}),e.jsxs("div",{className:"bg-gradient-to-r from-gray-50 to-gray-100 dark:from-gray-700 dark:to-gray-800 px-6 py-4 sm:flex sm:flex-row-reverse sm:px-8 border-t border-gray-200 dark:border-gray-600",children:[e.jsx("button",{type:"submit",disabled:S||u,className:"inline-flex w-full justify-center items-center rounded-xl bg-gradient-to-r from-primary-600 to-primary-700 px-6 py-3 text-sm font-semibold text-white shadow-lg hover:from-primary-500 hover:to-primary-600 sm:ml-3 sm:w-auto disabled:opacity-50 disabled:cursor-not-allowed transform transition-all duration-200 hover:scale-105 focus:ring-4 focus:ring-primary-200 dark:focus:ring-primary-800 touch-manipulation active:scale-95 min-h-[48px]",children:S?e.jsxs(e.Fragment,{children:[e.jsxs("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Saving..."]}):u?e.jsxs(e.Fragment,{children:[e.jsxs("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Processing Images..."]}):e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"mr-2",children:"💾"}),t?"Update Dog":"Add Dog"]})}),e.jsxs("button",{type:"button",className:"mt-3 inline-flex w-full justify-center items-center rounded-xl bg-white dark:bg-gray-600 px-6 py-3 text-sm font-semibold text-gray-900 dark:text-white shadow-sm ring-1 ring-inset ring-gray-300 dark:ring-gray-500 hover:bg-gray-50 dark:hover:bg-gray-500 sm:mt-0 sm:w-auto transform transition-all duration-200 hover:scale-105 touch-manipulation active:scale-95 min-h-[48px]",onClick:r,children:[e.jsx("span",{className:"mr-2",children:"❌"}),"Cancel"]})]})]}):e.jsxs("div",{className:"p-6",children:[m===1&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-16 h-16 bg-purple-100 dark:bg-purple-900 rounded-full flex items-center justify-center mx-auto mb-3",children:e.jsx("span",{className:"text-2xl",children:"📸"})}),e.jsx("h4",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-2",children:"Select a base image"}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300",children:"Choose a photo of your dog to transform"})]}),e.jsxs("div",{className:"space-y-3",children:[s&&e.jsxs("button",{onClick:()=>{N(s),B(2)},className:"flex items-center space-x-4 p-4 border border-gray-300 dark:border-gray-600 rounded-xl hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors w-full",children:[e.jsx("img",{src:s,alt:"Profile",className:"w-14 h-14 rounded-full object-cover border-2 border-primary-200 dark:border-primary-800"}),e.jsxs("div",{className:"text-left flex-1",children:[e.jsx("span",{className:"text-sm font-medium text-gray-900 dark:text-white block",children:"Use current profile image"}),e.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Main profile photo"})]})]}),o&&o.map((O,Y)=>e.jsxs("button",{onClick:()=>{N(O),B(2)},className:"flex items-center space-x-4 p-4 border border-gray-300 dark:border-gray-600 rounded-xl hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors w-full",children:[e.jsx("img",{src:O,alt:`Gallery ${Y+1}`,className:"w-14 h-14 rounded-lg object-cover border-2 border-gray-200 dark:border-gray-600"}),e.jsxs("div",{className:"text-left flex-1",children:[e.jsxs("span",{className:"text-sm font-medium text-gray-900 dark:text-white block",children:["Use gallery image ",Y+1]}),e.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"From photo gallery"})]})]},Y)),e.jsxs("label",{className:`cursor-pointer flex items-center space-x-4 p-4 border-2 border-dashed border-gray-300 dark:border-gray-600 rounded-xl hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors ${u?"opacity-50 cursor-not-allowed":""}`,children:[e.jsx("div",{className:"w-14 h-14 bg-gray-100 dark:bg-gray-600 rounded-lg flex items-center justify-center",children:u?e.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-gray-400"}):e.jsx(or,{className:"h-8 w-8 text-gray-400 dark:text-gray-500"})}),e.jsxs("div",{className:"text-left flex-1",children:[e.jsx("span",{className:"text-sm font-medium text-gray-900 dark:text-white block",children:u?"Processing image...":"Upload new image"}),e.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Choose from device"})]}),e.jsx("input",{type:"file",accept:"image/*",onChange:async O=>{const Y=O.target.files[0];if(Y&&!u){h(!0);try{if(Y.size>5*1024*1024){alert("Image file is too large. Please select an image smaller than 5MB.");return}const X=await C(Y,800,.8);N(X),B(2)}catch(X){console.error("Error processing image:",X),alert("Error processing image. Please try again.")}finally{h(!1),O.target.value=""}}},className:"hidden",disabled:u})]})]})]}),m===2&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-16 h-16 bg-blue-100 dark:bg-blue-900 rounded-full flex items-center justify-center mx-auto mb-3",children:e.jsx("span",{className:"text-2xl",children:"✏️"})}),e.jsx("h4",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-2",children:"Describe your transformation"}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300",children:"What would you like to add or change?"})]}),e.jsxs("div",{className:"flex items-center space-x-3 mb-3",children:[e.jsx("img",{src:E,alt:"Selected",className:"w-12 h-12 rounded-lg object-cover"}),e.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-300",children:"This dog will be kept the same"})]}),e.jsx("div",{className:"bg-yellow-50 dark:bg-yellow-900/20 border border-yellow-200 dark:border-yellow-800 rounded-lg p-3 mb-3",children:e.jsxs("p",{className:"text-xs text-yellow-800 dark:text-yellow-200",children:[e.jsx("strong",{children:"Important:"})," The AI will keep your dog's breed, size, and features exactly the same. Only describe what you want to ADD or CHANGE (like clothing, background, accessories)."]})}),e.jsx("textarea",{value:v,onChange:O=>j(O.target.value),placeholder:`Examples:
• wearing a red superhero cape
• sitting in a beautiful garden
• wearing sunglasses and a hat
• with colorful butterflies around
• in a winter snow scene`,className:"w-full p-3 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:text-white",rows:5}),e.jsxs("div",{className:"flex space-x-3",children:[e.jsxs("button",{onClick:()=>B(1),className:"flex items-center space-x-2 px-4 py-3 border border-gray-300 dark:border-gray-600 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700 text-gray-700 dark:text-gray-300",children:[e.jsx("svg",{className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})}),e.jsx("span",{children:"Back"})]}),e.jsx("button",{onClick:T,disabled:!v.trim()||k,className:"flex-1 px-4 py-3 bg-blue-500 text-white rounded-lg hover:bg-blue-600 disabled:opacity-50 disabled:cursor-not-allowed font-medium",children:k?e.jsxs(e.Fragment,{children:[e.jsxs("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white inline",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Generating..."]}):"Generate"})]})]}),m===3&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-16 h-16 bg-green-100 dark:bg-green-900 rounded-full flex items-center justify-center mx-auto mb-3",children:e.jsx("span",{className:"text-2xl",children:"🎉"})}),e.jsx("h4",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-2",children:"Transformation complete!"}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300",children:"Your AI-generated image is ready"})]}),e.jsx("img",{src:E,alt:"Generated",className:"w-full rounded-lg shadow-lg"}),e.jsxs("div",{className:"flex space-x-3",children:[e.jsxs("button",{onClick:R,className:"flex items-center space-x-2 px-4 py-3 border border-gray-300 dark:border-gray-600 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700 text-gray-700 dark:text-gray-300",children:[e.jsx("svg",{className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),e.jsx("span",{children:"Try Again"})]}),e.jsx("button",{onClick:A,className:"flex-1 px-4 py-3 bg-green-500 text-white rounded-lg hover:bg-green-600 font-medium",children:"Use This Image"})]})]}),e.jsx("div",{className:"mt-6 text-center",children:e.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:["Daily usage: ",d,"/",g]})})]})]})})})})]})})},Qn=()=>{const[t,r]=n.useState([]),[a,s]=n.useState(!0),[l,o]=n.useState(!1),[i,x]=n.useState(null);n.useEffect(()=>{c()},[]);const c=async()=>{try{s(!0);const g=await it.getMyDogs();r(g.dogs)}catch(g){console.error("Error loading dogs:",g),I.error("Failed to load dogs")}finally{s(!1)}},u=()=>{x(null),o(!0)},h=g=>{x(g),o(!0)},d=async g=>{if(window.confirm("Are you sure you want to remove this dog?"))try{await it.deleteDog(g),I.success("Dog removed successfully"),c()}catch(f){console.error("Error deleting dog:",f),I.error("Failed to remove dog")}},p=async g=>{var f,w;try{i?(await it.updateDog(i._id,g),I.success("Dog updated successfully")):(await it.createDog(g),I.success("Dog added successfully")),o(!1),c()}catch(m){console.error("Error saving dog:",m),I.error(((w=(f=m.response)==null?void 0:f.data)==null?void 0:w.error)||"Failed to save dog")}};return a?e.jsx(Xu,{}):e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-white to-blue-50 dark:from-gray-900 dark:via-gray-800 dark:to-slate-900",children:[e.jsxs("div",{className:"max-w-lg mx-auto lg:max-w-7xl",children:[e.jsx("div",{className:"bg-white dark:bg-gray-800 shadow-xl border-b border-gray-200 dark:border-gray-700",children:e.jsx("div",{className:"px-6 py-8",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-gradient-to-br from-blue-500 to-purple-600 rounded-2xl shadow-lg mb-4",children:e.jsx(Oe,{className:"h-8 w-8 text-white"})}),e.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-2 tracking-tight",children:"My Dogs"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400 text-lg",children:"Manage your furry family members"})]})})}),t.length===0?e.jsx("div",{className:"px-8 py-20",children:e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-3xl p-16 text-center shadow-xl border border-gray-100 dark:border-gray-700",children:[e.jsx("div",{className:"inline-flex items-center justify-center w-24 h-24 bg-gradient-to-br from-blue-100 to-purple-100 dark:from-blue-900 dark:to-purple-900 rounded-full mb-8",children:e.jsx("div",{className:"text-5xl",children:"🐕"})}),e.jsx("h3",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-4",children:"Start Your Pack"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400 text-lg mb-8 max-w-md mx-auto leading-relaxed",children:"Create profiles for your beloved dogs and keep track of their adventures, health, and precious moments."}),e.jsxs("button",{onClick:u,className:"inline-flex items-center px-8 py-4 bg-gradient-to-r from-blue-600 to-purple-600 text-white font-semibold rounded-2xl hover:from-blue-700 hover:to-purple-700 transition-all duration-200 shadow-lg hover:shadow-xl transform hover:scale-105 touch-manipulation active:scale-95 min-h-[48px]",children:[e.jsx(ya,{className:"h-6 w-6 mr-3"}),"Add Your First Dog"]})]})}):e.jsxs("div",{className:"px-8 py-12",children:[e.jsxs("div",{className:"flex items-center justify-between mb-10",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-2",children:"Your Pack"}),e.jsxs("p",{className:"text-gray-600 dark:text-gray-400",children:[t.length," ",t.length===1?"dog":"dogs"," registered"]})]}),e.jsxs("button",{onClick:u,className:"flex items-center space-x-2 bg-gradient-to-r from-blue-600 to-purple-600 text-white px-6 py-3 rounded-2xl font-semibold hover:from-blue-700 hover:to-purple-700 transition-all duration-200 shadow-lg hover:shadow-xl transform hover:scale-105 touch-manipulation active:scale-95 min-h-[48px]",children:[e.jsx(Ft,{className:"h-5 w-5"}),e.jsx("span",{children:"Add Dog"})]})]}),e.jsx("div",{className:"grid grid-cols-1 gap-8 sm:grid-cols-2 lg:grid-cols-3",children:t.map(g=>e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-3xl overflow-hidden shadow-xl border border-gray-100 dark:border-gray-700 hover:shadow-2xl transition-all duration-300 transform hover:scale-105 group",children:[e.jsxs("div",{className:"relative h-56 w-full overflow-hidden bg-gradient-to-br from-blue-100 to-purple-100 dark:from-blue-900 dark:to-purple-900",children:[g.image?e.jsx("img",{src:g.image,alt:g.name,className:"h-full w-full object-cover group-hover:scale-110 transition-transform duration-500",onError:f=>{f.target.style.display="none"}}):e.jsx("div",{className:"h-full w-full flex items-center justify-center",children:e.jsx("div",{className:"text-6xl opacity-60",children:"🐕"})}),e.jsxs("div",{className:"absolute top-4 right-4 flex space-x-2 opacity-0 group-hover:opacity-100 transition-opacity duration-300",children:[e.jsx("button",{onClick:()=>h(g),className:"p-2.5 bg-white/95 dark:bg-gray-900/95 backdrop-blur-sm rounded-xl hover:bg-white dark:hover:bg-gray-900 transition-all duration-200 shadow-lg touch-manipulation active:scale-95 min-h-[44px] min-w-[44px]",title:"Edit",children:e.jsx($s,{className:"h-4 w-4 text-blue-600 dark:text-blue-400"})}),e.jsx("button",{onClick:()=>d(g._id),className:"p-2.5 bg-white/95 dark:bg-gray-900/95 backdrop-blur-sm rounded-xl hover:bg-white dark:hover:bg-gray-900 transition-all duration-200 shadow-lg touch-manipulation active:scale-95 min-h-[44px] min-w-[44px]",title:"Delete",children:e.jsx(br,{className:"h-4 w-4 text-red-500"})})]}),g.breed&&e.jsx("div",{className:"absolute bottom-4 left-4",children:e.jsx("div",{className:"bg-black/70 backdrop-blur-sm rounded-xl px-3 py-1.5",children:e.jsx("span",{className:"text-white text-sm font-medium",children:g.breed})})})]}),e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"text-xl font-bold text-gray-900 dark:text-white",children:g.name}),e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(Oe,{className:"h-5 w-5 text-red-400"}),e.jsxs("span",{className:"text-sm text-gray-600 dark:text-gray-400 font-medium",children:[g.age||"N/A"," months"]})]})]}),e.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-600 dark:text-gray-400 mb-4",children:[e.jsx("span",{className:"font-medium",children:g.breed||"Mixed breed"}),e.jsx("span",{className:"capitalize font-medium",children:g.gender||"Unknown"})]}),g.description&&e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-4 line-clamp-2 leading-relaxed",children:g.description}),e.jsxs("div",{className:"flex space-x-3 mb-4",children:[e.jsx(ge,{to:`/dogs/profile/${g._id}`,className:"flex-1 bg-gradient-to-r from-blue-500 to-blue-600 text-white text-center py-3 rounded-xl font-semibold hover:from-blue-600 hover:to-blue-700 transition-all duration-200 shadow-md hover:shadow-lg transform hover:scale-105 touch-manipulation active:scale-95 min-h-[48px] flex items-center justify-center",children:"Public Profile"}),g.customProfile&&e.jsx(ge,{to:`/my-dogs/${g._id}/custom-profile`,className:"flex-1 bg-gray-100 dark:bg-gray-700 text-gray-900 dark:text-white text-center py-3 rounded-xl font-semibold hover:bg-gray-200 dark:hover:bg-gray-600 transition-all duration-200 shadow-md hover:shadow-lg transform hover:scale-105 touch-manipulation active:scale-95 min-h-[48px] flex items-center justify-center",children:"Custom"})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-3 text-center",children:[e.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-blue-100 dark:from-blue-900 dark:to-blue-800 rounded-xl p-3",children:[e.jsx("div",{className:"text-xs text-blue-600 dark:text-blue-400 font-medium mb-1",children:"Visits"}),e.jsx("div",{className:"text-lg font-bold text-blue-900 dark:text-blue-100",children:g.totalVisits||0})]}),e.jsxs("div",{className:"bg-gradient-to-br from-purple-50 to-purple-100 dark:from-purple-900 dark:to-purple-800 rounded-xl p-3",children:[e.jsx("div",{className:"text-xs text-purple-600 dark:text-purple-400 font-medium mb-1",children:"Friends"}),e.jsx("div",{className:"text-lg font-bold text-purple-900 dark:text-purple-100",children:g.friendsCount||0})]}),e.jsxs("div",{className:"bg-gradient-to-br from-green-50 to-green-100 dark:from-green-900 dark:to-green-800 rounded-xl p-3",children:[e.jsx("div",{className:"text-xs text-green-600 dark:text-green-400 font-medium mb-1",children:"Photos"}),e.jsx("div",{className:"text-lg font-bold text-green-900 dark:text-green-100",children:g.photosCount||0})]})]})]})]},g._id))}),t.length>0&&e.jsx("div",{className:"mt-12",children:e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-3xl p-8 shadow-xl border border-gray-100 dark:border-gray-700",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("div",{className:"inline-flex items-center justify-center w-12 h-12 bg-gradient-to-br from-blue-500 to-purple-600 rounded-2xl shadow-lg mb-4",children:e.jsx("span",{className:"text-white text-xl",children:"📊"})}),e.jsx("h3",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-2",children:"Pack Statistics"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Overview of your dogs' activities"})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-6 text-center",children:[e.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-blue-100 dark:from-blue-900 dark:to-blue-800 rounded-2xl p-6",children:[e.jsx("div",{className:"text-3xl font-bold text-blue-900 dark:text-blue-100 mb-2",children:t.length}),e.jsx("div",{className:"text-blue-600 dark:text-blue-400 text-sm font-medium",children:"Total Dogs"})]}),e.jsxs("div",{className:"bg-gradient-to-br from-purple-50 to-purple-100 dark:from-purple-900 dark:to-purple-800 rounded-2xl p-6",children:[e.jsx("div",{className:"text-3xl font-bold text-purple-900 dark:text-purple-100 mb-2",children:t.reduce((g,f)=>g+(f.totalVisits||0),0)}),e.jsx("div",{className:"text-purple-600 dark:text-purple-400 text-sm font-medium",children:"Park Visits"})]}),e.jsxs("div",{className:"bg-gradient-to-br from-green-50 to-green-100 dark:from-green-900 dark:to-green-800 rounded-2xl p-6",children:[e.jsx("div",{className:"text-3xl font-bold text-green-900 dark:text-green-100 mb-2",children:t.reduce((g,f)=>g+(f.friendsCount||0),0)}),e.jsx("div",{className:"text-green-600 dark:text-green-400 text-sm font-medium",children:"Total Friends"})]})]})]})})]}),e.jsx("div",{className:"hidden lg:block px-8 py-8",children:e.jsx("div",{className:"text-center text-gray-500 dark:text-gray-400",children:"Desktop My Dogs layout coming soon..."})})]}),l&&e.jsx(Xh,{dog:i,onSave:p,onClose:()=>o(!1)})]})},Yn=Object.freeze(Object.defineProperty({__proto__:null,default:Qn},Symbol.toStringTag,{value:"Module"})),Ur={async submitRequest(t){return(await Q.post("/requests",t)).data},async getMyRequests(){return(await Q.get("/requests/my-requests")).data},async getRequestById(t){return(await Q.get(`/requests/${t}`)).data},async getPendingRequests(){return(await Q.get("/requests/admin/pending")).data},async getRequestStats(){return(await Q.get("/requests/admin/stats")).data},async approveRequest(t,r=""){return(await Q.patch(`/requests/admin/${t}/approve`,{notes:r})).data},async rejectRequest(t,r=""){return(await Q.patch(`/requests/admin/${t}/reject`,{notes:r})).data}},Kh=({isOpen:t,onClose:r,type:a,user:s})=>{var k,b;const[l,o]=n.useState(!1),[i,x]=n.useState([]),[c,u]=n.useState(!1),h=a==="garden_manager",d=a==="event_organizer",{register:p,handleSubmit:g,reset:f,formState:{errors:w},watch:m,setValue:B}=Jt({defaultValues:{type:a,details:{reason:"",experience:"",contactPhone:(s==null?void 0:s.phone)||"",contactEmail:(s==null?void 0:s.email)||"",preferredGardens:[],managementExperience:"",availability:"",eventTypes:[],organizationExperience:"",plannedEvents:""}}});n.useEffect(()=>{h&&t&&E()},[h,t]),n.useEffect(()=>{a&&B("type",a)},[a,B]);const E=async()=>{u(!0);try{const C=await Se.getAllGardens();x(C.gardens||[])}catch(C){console.error("Error loading gardens:",C),I.error("Failed to load gardens")}finally{u(!1)}},N=async C=>{var D,F,T;o(!0);try{console.log("Submitting request data:",C);const A={...C,type:a};console.log("Final request data:",A),await Ur.submitRequest(A),I.success("Application submitted successfully! We will review it and get back to you within 3-5 business days."),f(),r()}catch(A){console.error("Error submitting request:",A),console.log("Error response:",(D=A.response)==null?void 0:D.data),I.error(((T=(F=A.response)==null?void 0:F.data)==null?void 0:T.error)||"Failed to submit application")}finally{o(!1)}},v=(C,D)=>{const F=m("details.eventTypes")||[];D?B("details.eventTypes",[...F,C]):B("details.eventTypes",F.filter(T=>T!==C))},j=["Training Sessions","Social Meetups","Dog Shows","Adoption Events","Educational Workshops","Charity Events","Puppy Socialization","Agility Training","Other"];return e.jsx(qe,{appear:!0,show:t,as:n.Fragment,children:e.jsxs(ht,{as:"div",className:"relative z-50",onClose:r,children:[e.jsx(qe.Child,{as:n.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-25 backdrop-blur-sm"})}),e.jsx("div",{className:"fixed inset-0 overflow-y-auto",children:e.jsx("div",{className:"flex min-h-full items-center justify-center p-4",children:e.jsx(qe.Child,{as:n.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0 scale-95",enterTo:"opacity-100 scale-100",leave:"ease-in duration-200",leaveFrom:"opacity-100 scale-100",leaveTo:"opacity-0 scale-95",children:e.jsxs(ht.Panel,{className:"w-full max-w-2xl transform overflow-hidden rounded-2xl bg-white shadow-xl transition-all",children:[e.jsx("div",{className:"bg-gradient-to-r from-purple-600 to-pink-600 px-6 py-4 text-white",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[h?e.jsx(Ne,{className:"h-6 w-6"}):e.jsx(Nt,{className:"h-6 w-6"}),e.jsxs("div",{children:[e.jsx(ht.Title,{className:"text-lg font-semibold",children:h?"Garden Manager Application":"Event Organizer Application"}),e.jsx("p",{className:"text-purple-100 text-sm",children:"Join our community leadership team"})]})]}),e.jsx("button",{type:"button",className:"text-white hover:text-purple-200 transition-colors",onClick:r,children:e.jsx(he,{className:"h-6 w-6"})})]})}),e.jsx("div",{className:"px-6 pt-4",children:e.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 flex items-start space-x-3",children:[e.jsx(Cr,{className:"h-5 w-5 text-blue-600 mt-0.5 flex-shrink-0"}),e.jsxs("div",{className:"text-sm text-blue-800",children:[e.jsx("p",{className:"font-medium mb-1",children:"Application Process"}),e.jsx("p",{children:"Your application will be reviewed by our admin team within 3-5 business days. You'll receive an email notification with the decision."})]})]})}),e.jsxs("form",{onSubmit:g(N),className:"px-6 py-4 space-y-6",children:[e.jsx("input",{type:"hidden",...p("type"),value:a}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Why do you want to become a ",h?"Garden Manager":"Event Organizer","? *"]}),e.jsx("textarea",{...p("details.reason",{required:"This field is required",maxLength:{value:1e3,message:"Maximum 1000 characters"}}),rows:4,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500 resize-none",placeholder:"Tell us about your motivation and what you hope to contribute to the community..."}),((k=w.details)==null?void 0:k.reason)&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:w.details.reason.message})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Relevant Experience"}),e.jsx("textarea",{...p("details.experience",{maxLength:{value:1e3,message:"Maximum 1000 characters"}}),rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500 resize-none",placeholder:"Describe any relevant experience with dogs, community management, or event planning..."}),((b=w.details)==null?void 0:b.experience)&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:w.details.experience.message})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Contact Phone"}),e.jsx("input",{...p("details.contactPhone"),type:"tel",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500",placeholder:"Your phone number"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Contact Email"}),e.jsx("input",{...p("details.contactEmail"),type:"email",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500",placeholder:"Your email address"})]})]}),h&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Preferred Gardens to Manage"}),c?e.jsxs("div",{className:"text-center py-4",children:[e.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-purple-600 mx-auto"}),e.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"Loading gardens..."})]}):e.jsx("div",{className:"space-y-2 max-h-40 overflow-y-auto border border-gray-300 rounded-lg p-3",children:i.map(C=>{var D;return e.jsxs("label",{className:"flex items-center space-x-3",children:[e.jsx("input",{type:"checkbox",value:C._id,...p("details.preferredGardens"),className:"rounded border-gray-300 text-purple-600 focus:ring-purple-500"}),e.jsx("span",{className:"text-sm text-gray-700",children:C.name}),e.jsxs("span",{className:"text-xs text-gray-500",children:["(",(D=C.location)==null?void 0:D.address,")"]})]},C._id)})}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Select the gardens you'd be interested in managing. You can select multiple gardens."})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Management Experience"}),e.jsx("textarea",{...p("details.managementExperience"),rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500 resize-none",placeholder:"Describe your experience managing teams, communities, or facilities..."})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Availability"}),e.jsx("input",{...p("details.availability"),type:"text",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500",placeholder:"e.g., Weekends, Evenings, Flexible hours..."})]})]}),d&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Types of Events You'd Like to Organize"}),e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3",children:j.map(C=>e.jsxs("label",{className:"flex items-center space-x-2",children:[e.jsx("input",{type:"checkbox",onChange:D=>v(C,D.target.checked),className:"rounded border-gray-300 text-purple-600 focus:ring-purple-500"}),e.jsx("span",{className:"text-sm text-gray-700",children:C})]},C))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Event Organization Experience"}),e.jsx("textarea",{...p("details.organizationExperience"),rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500 resize-none",placeholder:"Describe your experience organizing events, managing groups, or coordinating activities..."})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Planned Events Ideas"}),e.jsx("textarea",{...p("details.plannedEvents"),rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500 resize-none",placeholder:"Share some ideas for events you'd like to organize in our community..."})]})]}),e.jsxs("div",{className:"flex justify-end space-x-4 pt-6 border-t border-gray-200",children:[e.jsx("button",{type:"button",onClick:r,className:"px-6 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50 font-medium transition-colors",children:"Cancel"}),e.jsx("button",{type:"submit",disabled:l,className:"px-6 py-2 bg-gradient-to-r from-purple-600 to-pink-600 text-white rounded-lg font-medium hover:from-purple-700 hover:to-pink-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-purple-500 disabled:opacity-50 disabled:cursor-not-allowed transition-all",children:l?e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Submitting..."]}):"Submit Application"})]})]})]})})})})]})})},Jn=()=>{var vr,wr,ss,Sr,as,Pr,Wa,Za;const{user:t,updateUser:r}=pe();$a();const{language:a,isRTL:s,toggleLanguage:l}=Hl(),o=we(),[i,x]=n.useState(!1),[c,u]=n.useState(null),[h,d]=n.useState([]),[p,g]=n.useState({}),[f,w]=n.useState(!1),[m,B]=n.useState({}),[E,N]=n.useState(!1),[v,j]=n.useState(null),[k,b]=n.useState([]),[C,D]=n.useState(!0),[F,T]=n.useState({eventUpdates:!0,newFriends:!0,parkActivities:!1,checkInReminders:!0,gardenUpdates:!0}),[A,R]=n.useState(!1),[M,_]=n.useState({profileVisibility:"everyone",locationSharing:!0,dataAnalytics:!0,activityStatus:!0}),[q,U]=n.useState(!1),[L,S]=n.useState(!1),[H,P]=n.useState(!1),{register:G,handleSubmit:z,formState:{errors:O,isSubmitting:Y}}=Jt({defaultValues:{firstName:(t==null?void 0:t.firstName)||"",lastName:(t==null?void 0:t.lastName)||"",phone:(t==null?void 0:t.phone)||"",location:{address:((vr=t==null?void 0:t.location)==null?void 0:vr.address)||""}}}),{register:X,handleSubmit:ae,reset:me,formState:{errors:de,isSubmitting:Ce}}=Jt(),{register:xe,handleSubmit:fe,reset:ce,formState:{errors:be,isSubmitting:Ae}}=Jt();n.useEffect(()=>{Te(),Je(),K(),je()},[]),n.useEffect(()=>{const ie=setInterval(()=>{J()},3e4);return()=>clearInterval(ie)},[]);const Te=async()=>{var ie,ke;try{D(!0);const[Be,Ke]=await Promise.all([gt.getProfile(),it.getMyDogs()]);u(Be.user),d(Ke.dogs||[]);try{const zt=await xt.getStats();g({totalDogs:((ie=Ke.dogs)==null?void 0:ie.length)||0,totalVisits:Math.floor(zt.points/10)||0,weeklyStreak:zt.currentStreak||0,points:zt.points||0,level:zt.level||1,badges:zt.badges||[],levelProgress:zt.levelProgress||{current:0,needed:100,percentage:0}})}catch(zt){console.error("Error loading gamification stats:",zt),g({totalDogs:((ke=Ke.dogs)==null?void 0:ke.length)||0,totalVisits:0,weeklyStreak:0,totalPoints:0,points:0,level:1,badges:[],levelProgress:{current:0,needed:100,percentage:0}})}B(Be.user)}catch(Be){console.error("Error loading profile:",Be),I.error("Failed to load profile data")}finally{D(!1)}},Je=async()=>{try{const ie=await Ur.getMyRequests();b(ie.requests||[])}catch(ie){console.error("Error loading user requests:",ie)}},J=async()=>{try{const ie=await xt.getStats();g(ke=>({...ke,totalVisits:Math.floor(ie.points/10)||0,weeklyStreak:ie.currentStreak||0,points:ie.points||0,level:ie.level||1,badges:ie.badges||[],levelProgress:ie.levelProgress||{current:0,needed:100,percentage:0}}))}catch(ie){console.error("Error loading gamification stats:",ie)}},ee=async ie=>{var ke,Be;try{const Ke=await gt.updateProfile(ie);r(Ke.user),I.success("Profile updated successfully"),w(!1)}catch(Ke){console.error("Error updating profile:",Ke),I.error(((Be=(ke=Ke.response)==null?void 0:ke.data)==null?void 0:Be.error)||"Failed to update profile")}},$=async ie=>{var ke,Be;try{await gt.changePassword(ie),I.success("Password changed successfully"),x(!1),me()}catch(Ke){console.error("Error changing password:",Ke),I.error(((Be=(ke=Ke.response)==null?void 0:ke.data)==null?void 0:Be.error)||"Failed to change password")}},V=ie=>{j(ie),N(!0)},Z=()=>(t==null?void 0:t.role)!=="garden_manager"&&!k.some(ie=>ie.type==="garden_manager"&&ie.status==="pending"),se=()=>{var ie;return!((ie=t==null?void 0:t.eventPermissions)!=null&&ie.canCreateEvents)&&!k.some(ke=>ke.type==="event_organizer"&&ke.status==="pending")},te=ie=>{const ke=k.find(Be=>Be.type===ie);return ke?ke.status:null},K=async()=>{try{const ie=localStorage.getItem("notificationSettings");ie&&T(JSON.parse(ie))}catch(ie){console.error("Error loading notification settings:",ie)}},le=async(ie,ke)=>{R(!0);try{const Be={...F,[ie]:ke};T(Be),localStorage.setItem("notificationSettings",JSON.stringify(Be)),I.success("Notification settings updated")}catch(Be){console.error("Error updating notification settings:",Be),I.error("Failed to update notification settings"),T(F)}finally{R(!1)}},je=async()=>{try{const ie=localStorage.getItem("privacySettings");ie&&_(JSON.parse(ie))}catch(ie){console.error("Error loading privacy settings:",ie)}},Ee=async(ie,ke)=>{U(!0);try{const Be={...M,[ie]:ke};_(Be),localStorage.setItem("privacySettings",JSON.stringify(Be)),I.success("Privacy settings updated")}catch(Be){console.error("Error updating privacy settings:",Be),I.error("Failed to update privacy settings"),_(M)}finally{U(!1)}},Xe=async ie=>{var ke,Be;try{console.log("Email change requested:",ie),I.success("Email change verification sent! Check your new email to confirm."),S(!1),ce()}catch(Ke){console.error("Error changing email:",Ke),I.error(((Be=(ke=Ke.response)==null?void 0:ke.data)==null?void 0:Be.error)||"Failed to change email")}},yr=async()=>{var ie,ke;try{console.log("Account deletion requested"),I.success("Account deletion initiated. You will be logged out."),setTimeout(()=>{localStorage.clear(),window.location.href="/"},2e3)}catch(Be){console.error("Error deleting account:",Be),I.error(((ke=(ie=Be.response)==null?void 0:ie.data)==null?void 0:ke.error)||"Failed to delete account")}},ne={en:{personalInfo:"Personal Information",fullName:"Full Name",emailAddress:"Email Address",phoneNumber:"Phone Number",address:"Address",firstName:"First Name",lastName:"Last Name",save:"Save Changes",cancel:"Cancel",updating:"Updating...",security:"Security",password:"Password",currentPassword:"Current Password",newPassword:"New Password",changePassword:"Change Password",changing:"Changing...",myDogs:"My Dogs",dogs:"dogs",manageDogs:"Manage Dogs",manageDogsDesc:"Add, edit, or view your dogs",viewAll:"View All →",communityRoles:"Community Roles",gardenManager:"Garden Manager",gardenManagerDesc:"Manage dog parks in your area",eventOrganizer:"Event Organizer",eventOrganizerDesc:"Create and manage community events",apply:"Apply →",pending:"Pending",approved:"Approved",rejected:"Rejected",activeRoles:"Active Roles",notifications:"Notifications",eventUpdates:"Event Updates",eventUpdatesDesc:"Get notified about event changes",newFriends:"New Friends",newFriendsDesc:"Friend requests and connections",parkActivities:"Park Activities",parkActivitiesDesc:"Activities near your location",privacySafety:"Privacy & Safety",profileVisibility:"Profile Visibility",profileVisibilityDesc:"Who can see your profile",everyone:"Everyone",friendsOnly:"Friends Only",private:"Private",locationSharing:"Location Sharing",locationSharingDesc:"Share your location with friends",dataAnalytics:"Data Analytics",dataAnalyticsDesc:"Help improve our services",accountManagement:"Account Management",accountCreated:"Account Created",emailVerification:"Email Verification",verified:"Verified ✓",deleteAccount:"Delete Account",deleteAccountDesc:"Permanently delete your account and data",desktopLayout:"Desktop Profile layout coming soon...",language:"Language",languageDesc:"Switch between English and Hebrew",english:"English",hebrew:"עברית"},he:{personalInfo:"מידע אישי",fullName:"שם מלא",emailAddress:"כתובת אימייל",phoneNumber:"מספר טלפון",address:"כתובת",firstName:"שם פרטי",lastName:"שם משפחה",save:"שמור שינויים",cancel:"ביטול",updating:"מעדכן...",security:"אבטחה",password:"סיסמה",currentPassword:"סיסמה נוכחית",newPassword:"סיסמה חדשה",changePassword:"שנה סיסמה",changing:"משנה...",myDogs:"הכלבים שלי",dogs:"כלבים",manageDogs:"נהל כלבים",manageDogsDesc:"הוסף, ערוך או צפה בכלבים שלך",viewAll:"← צפה בכל",communityRoles:"תפקידי קהילה",gardenManager:"מנהל פארק",gardenManagerDesc:"נהל פארקים לכלבים באזור שלך",eventOrganizer:"מארגן אירועים",eventOrganizerDesc:"צור ונהל אירועי קהילה",apply:"← הגש בקשה",pending:"ממתין",approved:"אושר",rejected:"נדחה",activeRoles:"תפקידים פעילים",notifications:"התראות",eventUpdates:"עדכוני אירועים",eventUpdatesDesc:"קבל התראות על שינויים באירועים",newFriends:"חברים חדשים",newFriendsDesc:"בקשות חברות וחיבורים",parkActivities:"פעילויות פארק",parkActivitiesDesc:"פעילויות ליד המיקום שלך",privacySafety:"פרטיות ובטיחות",profileVisibility:"נראות פרופיל",profileVisibilityDesc:"מי יכול לראות את הפרופיל שלך",everyone:"כולם",friendsOnly:"חברים בלבד",private:"פרטי",locationSharing:"שיתוף מיקום",locationSharingDesc:"שתף את המיקום שלך עם חברים",dataAnalytics:"ניתוח נתונים",dataAnalyticsDesc:"עזור לשפר את השירותים שלנו",accountManagement:"ניהול חשבון",accountCreated:"חשבון נוצר",emailVerification:"אימות אימייל",verified:"✓ מאומת",deleteAccount:"מחק חשבון",deleteAccountDesc:"מחק לצמיתות את החשבון והנתונים שלך",desktopLayout:"פריסת פרופיל למחשב תגיע בקרוב...",language:"שפה",languageDesc:"עבור בין אנגלית לעברית",english:"English",hebrew:"עברית"}}[a];return C?e.jsx(Qu,{}):e.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 transition-all duration-300",children:[e.jsxs("div",{className:"max-w-lg mx-auto lg:max-w-7xl",children:[e.jsx("div",{className:"lg:hidden bg-gradient-to-br from-indigo-600 via-purple-600 to-pink-600 dark:from-indigo-700 dark:via-purple-700 dark:to-pink-700 mx-4 mt-4 rounded-3xl p-6 text-white shadow-2xl",children:e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"w-20 h-20 bg-white bg-opacity-20 rounded-3xl flex items-center justify-center backdrop-blur-sm",children:t!=null&&t.profileImage?e.jsx("img",{src:t.profileImage,alt:t==null?void 0:t.firstName,className:"w-full h-full object-cover rounded-3xl"}):e.jsx(ig,{className:"w-12 h-12 text-white"})}),e.jsx("div",{className:"absolute -bottom-1 -right-1 w-6 h-6 bg-green-400 rounded-full border-3 border-white flex items-center justify-center animate-pulse",children:e.jsx(Me,{className:"w-3 h-3 text-white"})})]}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("h1",{className:"text-2xl font-bold mb-1 text-white",children:[t==null?void 0:t.firstName," ",t==null?void 0:t.lastName]}),e.jsx("p",{className:"text-indigo-100 dark:text-indigo-200 text-sm mb-3",children:t==null?void 0:t.email}),e.jsxs("div",{className:"flex items-center space-x-2 flex-wrap gap-1",children:[e.jsxs("div",{className:"bg-white bg-opacity-20 backdrop-blur-sm rounded-full px-3 py-1 flex items-center space-x-1",children:[e.jsx(ot,{className:"w-3 h-3 text-yellow-300"}),e.jsxs("span",{className:"text-xs font-semibold",children:["Level ",p.level||1]})]}),e.jsxs("div",{className:"bg-white bg-opacity-20 backdrop-blur-sm rounded-full px-3 py-1 flex items-center space-x-1",children:[e.jsx(We,{className:"w-3 h-3 text-blue-300"}),e.jsxs("span",{className:"text-xs font-semibold",children:[p.points||0," pts"]})]}),p.weeklyStreak>0&&e.jsxs("div",{className:"bg-white bg-opacity-20 backdrop-blur-sm rounded-full px-3 py-1 flex items-center space-x-1",children:[e.jsx(st,{className:"w-3 h-3 text-orange-300"}),e.jsxs("span",{className:"text-xs font-semibold",children:[p.weeklyStreak," days"]})]})]}),p.levelProgress&&e.jsxs("div",{className:"mt-3",children:[e.jsxs("div",{className:"flex items-center justify-between mb-1",children:[e.jsx("span",{className:"text-xs text-indigo-100",children:"Level Progress"}),e.jsxs("span",{className:"text-xs text-indigo-100",children:[p.levelProgress.current,"/",p.levelProgress.needed]})]}),e.jsx("div",{className:"w-full bg-white bg-opacity-20 rounded-full h-2",children:e.jsx("div",{className:"bg-gradient-to-r from-yellow-300 to-orange-300 h-2 rounded-full transition-all duration-700 ease-out",style:{width:`${p.levelProgress.percentage||0}%`}})})]})]})]})}),e.jsxs("div",{className:"px-4 py-6",children:[e.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-4 mb-6",children:[e.jsxs("div",{className:"bg-gradient-to-br from-pink-50 to-rose-50 dark:from-pink-900/20 dark:to-rose-900/20 border border-pink-200 dark:border-pink-700 rounded-3xl p-4 text-center shadow-lg hover:shadow-xl transition-all duration-300 hover:scale-105",children:[e.jsx("div",{className:"bg-pink-100 dark:bg-pink-800 rounded-full w-12 h-12 flex items-center justify-center mx-auto mb-3",children:e.jsx(Re,{className:"w-6 h-6 text-pink-600 dark:text-pink-400"})}),e.jsx("div",{className:"text-2xl font-bold text-gray-900 dark:text-white animate-pulse",children:p.totalDogs}),e.jsx("div",{className:"text-xs text-pink-600 dark:text-pink-400 font-medium",children:"Dogs"})]}),e.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-cyan-50 dark:from-blue-900/20 dark:to-cyan-900/20 border border-blue-200 dark:border-blue-700 rounded-3xl p-4 text-center shadow-lg hover:shadow-xl transition-all duration-300 hover:scale-105",children:[e.jsx("div",{className:"bg-blue-100 dark:bg-blue-800 rounded-full w-12 h-12 flex items-center justify-center mx-auto mb-3",children:e.jsx(ye,{className:"w-6 h-6 text-blue-600 dark:text-blue-400"})}),e.jsx("div",{className:"text-2xl font-bold text-gray-900 dark:text-white animate-pulse",children:p.totalVisits}),e.jsx("div",{className:"text-xs text-blue-600 dark:text-blue-400 font-medium",children:"Park Visits"})]}),e.jsxs("div",{className:"bg-gradient-to-br from-orange-50 to-red-50 dark:from-orange-900/20 dark:to-red-900/20 border border-orange-200 dark:border-orange-700 rounded-3xl p-4 text-center shadow-lg hover:shadow-xl transition-all duration-300 hover:scale-105",children:[e.jsx("div",{className:"bg-orange-100 dark:bg-orange-800 rounded-full w-12 h-12 flex items-center justify-center mx-auto mb-3",children:e.jsx(st,{className:"w-6 h-6 text-orange-600 dark:text-orange-400"})}),e.jsx("div",{className:"text-2xl font-bold text-gray-900 dark:text-white animate-pulse",children:p.weeklyStreak}),e.jsx("div",{className:"text-xs text-orange-600 dark:text-orange-400 font-medium",children:"Day Streak"})]}),e.jsxs("div",{className:"bg-gradient-to-br from-yellow-50 to-amber-50 dark:from-yellow-900/20 dark:to-amber-900/20 border border-yellow-200 dark:border-yellow-700 rounded-3xl p-4 text-center shadow-lg hover:shadow-xl transition-all duration-300 hover:scale-105",children:[e.jsx("div",{className:"bg-yellow-100 dark:bg-yellow-800 rounded-full w-12 h-12 flex items-center justify-center mx-auto mb-3",children:e.jsx(ot,{className:"w-6 h-6 text-yellow-600 dark:text-yellow-400"})}),e.jsx("div",{className:"text-2xl font-bold text-gray-900 dark:text-white animate-pulse",children:p.points||0}),e.jsx("div",{className:"text-xs text-yellow-600 dark:text-yellow-400 font-medium",children:"Points"})]})]}),e.jsxs("div",{className:"space-y-4 mb-6",children:[e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-3xl p-6 border border-gray-100 dark:border-gray-700",children:[e.jsx("h3",{className:"text-lg font-bold text-gray-900 dark:text-white mb-4",children:"Level Progress"}),e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsxs("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:["Level ",p.level||1]}),e.jsxs("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:[((wr=p.levelProgress)==null?void 0:wr.current)||0,"/",((ss=p.levelProgress)==null?void 0:ss.needed)||100]})]}),e.jsx("div",{className:"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-2",children:e.jsx("div",{className:"bg-blue-500 h-2 rounded-full transition-all duration-300",style:{width:`${((Sr=p.levelProgress)==null?void 0:Sr.percentage)||0}%`}})})]}),e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-3xl p-6 border border-gray-100 dark:border-gray-700",children:[e.jsx("h3",{className:"text-lg font-bold text-gray-900 dark:text-white mb-4",children:"Badges"}),p.badges&&p.badges.length>0?e.jsx("div",{className:"grid grid-cols-3 gap-3",children:p.badges.slice(0,6).map((ie,ke)=>e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-2xl mb-1",children:ie.icon}),e.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:ie.name})]},ke))}):e.jsxs("div",{className:"text-center py-4",children:[e.jsx("div",{className:"text-gray-400 dark:text-gray-500 text-sm",children:"No badges yet"}),e.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Visit parks to earn badges!"})]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-3xl border border-gray-100 dark:border-gray-700",children:e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"text-lg font-bold text-gray-900 dark:text-white",children:ne.personalInfo}),f?e.jsx("button",{onClick:()=>w(!1),className:"p-2 text-gray-600 hover:bg-gray-50 dark:hover:bg-gray-700 rounded-xl transition-colors",children:e.jsx(he,{className:"w-5 h-5"})}):e.jsx("button",{onClick:()=>w(!0),className:"p-2 text-blue-600 hover:bg-blue-50 dark:hover:bg-blue-900/20 rounded-xl transition-colors",children:e.jsx($s,{className:"w-5 h-5"})})]}),f?e.jsxs("form",{onSubmit:z(ee),className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsx("input",{...G("firstName",{required:"First name is required"}),placeholder:ne.firstName,className:"w-full px-4 py-3 rounded-2xl border border-gray-200 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent"}),e.jsx("input",{...G("lastName",{required:"Last name is required"}),placeholder:ne.lastName,className:"w-full px-4 py-3 rounded-2xl border border-gray-200 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),e.jsx("input",{...G("phone"),placeholder:ne.phoneNumber,className:"w-full px-4 py-3 rounded-2xl border border-gray-200 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent"}),e.jsx("input",{...G("location.address"),placeholder:ne.address,className:"w-full px-4 py-3 rounded-2xl border border-gray-200 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent"}),e.jsxs("div",{className:"flex space-x-3",children:[e.jsx("button",{type:"submit",disabled:Y,className:"flex-1 bg-blue-500 text-white py-3 rounded-2xl font-medium hover:bg-blue-600 transition-colors disabled:opacity-50",children:Y?ne.updating:ne.save}),e.jsx("button",{type:"button",onClick:()=>w(!1),className:"flex-1 bg-gray-100 dark:bg-gray-700 text-gray-900 dark:text-white py-3 rounded-2xl font-medium hover:bg-gray-200 dark:hover:bg-gray-600 transition-colors",children:ne.cancel})]})]}):e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center space-x-3 p-3 bg-gray-50 dark:bg-gray-700 rounded-2xl",children:[e.jsx(Qr,{className:"w-5 h-5 text-gray-400"}),e.jsxs("div",{children:[e.jsxs("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:[t==null?void 0:t.firstName," ",t==null?void 0:t.lastName]}),e.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:ne.fullName})]})]}),e.jsxs("div",{className:"flex items-center space-x-3 p-3 bg-gray-50 dark:bg-gray-700 rounded-2xl",children:[e.jsx(Xt,{className:"w-5 h-5 text-gray-400"}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:t==null?void 0:t.email}),e.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:ne.emailAddress})]})]}),(t==null?void 0:t.phone)&&e.jsxs("div",{className:"flex items-center space-x-3 p-3 bg-gray-50 dark:bg-gray-700 rounded-2xl",children:[e.jsx(Kr,{className:"w-5 h-5 text-gray-400"}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:t.phone}),e.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:ne.phoneNumber})]})]}),((as=t==null?void 0:t.location)==null?void 0:as.address)&&e.jsxs("div",{className:"flex items-center space-x-3 p-3 bg-gray-50 dark:bg-gray-700 rounded-2xl",children:[e.jsx(ye,{className:"w-5 h-5 text-gray-400"}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:t.location.address}),e.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:ne.address})]})]})]})]})}),e.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-3xl border border-gray-100 dark:border-gray-700",children:e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"text-lg font-bold text-gray-900 dark:text-white",children:ne.security}),i?e.jsx("button",{onClick:()=>x(!1),className:"p-2 text-gray-600 hover:bg-gray-50 dark:hover:bg-gray-700 rounded-xl transition-colors",children:e.jsx(he,{className:"w-5 h-5"})}):e.jsx("button",{onClick:()=>x(!0),className:"p-2 text-blue-600 hover:bg-blue-50 dark:hover:bg-blue-900/20 rounded-xl transition-colors",children:e.jsx(Kt,{className:"w-5 h-5"})})]}),i?e.jsxs("form",{onSubmit:ae($),className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("input",{...X("currentPassword",{required:"Current password is required"}),type:"password",placeholder:ne.currentPassword,className:"w-full px-4 py-3 rounded-2xl border border-gray-200 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent"}),de.currentPassword&&e.jsx("p",{className:"text-red-500 text-xs mt-1 ml-2",children:de.currentPassword.message})]}),e.jsxs("div",{children:[e.jsx("input",{...X("newPassword",{required:"New password is required",minLength:{value:8,message:"Password must be at least 8 characters"},pattern:{value:/^(?=.*[A-Za-z])(?=.*\d)[A-Za-z\d@$!%*#?&]/,message:"Password must contain at least one letter and one number"}}),type:"password",placeholder:ne.newPassword,className:"w-full px-4 py-3 rounded-2xl border border-gray-200 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent"}),de.newPassword&&e.jsx("p",{className:"text-red-500 text-xs mt-1 ml-2",children:de.newPassword.message})]}),e.jsxs("div",{children:[e.jsx("input",{...X("confirmPassword",{required:"Please confirm your new password",validate:(ie,{newPassword:ke})=>ie===ke||"Passwords do not match"}),type:"password",placeholder:"Confirm New Password",className:"w-full px-4 py-3 rounded-2xl border border-gray-200 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent"}),de.confirmPassword&&e.jsx("p",{className:"text-red-500 text-xs mt-1 ml-2",children:de.confirmPassword.message})]}),e.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 rounded-2xl p-4",children:[e.jsx("h4",{className:"text-sm font-medium text-blue-800 dark:text-blue-200 mb-2",children:"Password Requirements:"}),e.jsxs("ul",{className:"text-xs text-blue-600 dark:text-blue-300 space-y-1",children:[e.jsx("li",{children:"• At least 8 characters long"}),e.jsx("li",{children:"• Contains at least one letter and one number"}),e.jsx("li",{children:"• Can include special characters (@$!%*#?&)"})]})]}),e.jsxs("div",{className:"flex space-x-3",children:[e.jsxs("button",{type:"submit",disabled:Ce,className:"flex-1 bg-blue-500 text-white py-3 rounded-2xl font-medium hover:bg-blue-600 transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center space-x-2",children:[Ce&&e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),e.jsx("span",{children:Ce?ne.changing:ne.changePassword})]}),e.jsx("button",{type:"button",onClick:()=>{x(!1),me()},className:"flex-1 bg-gray-100 dark:bg-gray-700 text-gray-900 dark:text-white py-3 rounded-2xl font-medium hover:bg-gray-200 dark:hover:bg-gray-600 transition-colors",children:ne.cancel})]})]}):e.jsxs("div",{className:"flex items-center space-x-3 p-3 bg-gray-50 dark:bg-gray-700 rounded-2xl",children:[e.jsx(Kt,{className:"w-5 h-5 text-gray-400"}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:ne.password}),e.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:"••••••••"})]})]})]})}),e.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-3xl border border-gray-100 dark:border-gray-700",children:e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"text-lg font-bold text-gray-900 dark:text-white",children:ne.myDogs}),e.jsx("div",{className:"flex items-center space-x-2",children:e.jsxs("span",{className:"bg-blue-100 dark:bg-blue-900/30 text-blue-600 dark:text-blue-400 text-xs font-medium px-2 py-1 rounded-full",children:[p.totalDogs," ",ne.dogs]})})]}),e.jsx("div",{className:"space-y-3",children:e.jsxs("div",{className:"flex items-center space-x-3 p-3 bg-gray-50 dark:bg-gray-700 rounded-2xl",children:[e.jsx(Re,{className:"w-5 h-5 text-pink-500"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:ne.manageDogs}),e.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:ne.manageDogsDesc})]}),e.jsx("button",{onClick:()=>o("/my-dogs"),className:"text-blue-600 dark:text-blue-400 hover:text-blue-700 dark:hover:text-blue-300 text-sm font-medium",children:ne.viewAll})]})})]})}),e.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-3xl border border-gray-100 dark:border-gray-700",children:e.jsxs("div",{className:"p-6",children:[e.jsx("h3",{className:"text-lg font-bold text-gray-900 dark:text-white mb-4",children:ne.communityRoles}),e.jsxs("div",{className:"space-y-3",children:[(t==null?void 0:t.role)!=="garden_manager"&&e.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 dark:bg-gray-700 rounded-2xl",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(Ne,{className:"w-5 h-5 text-green-500"}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:ne.gardenManager}),e.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:ne.gardenManagerDesc})]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[te("garden_manager")==="pending"&&e.jsx("span",{className:"bg-yellow-100 dark:bg-yellow-900/30 text-yellow-600 dark:text-yellow-400 text-xs font-medium px-2 py-1 rounded-full",children:ne.pending}),te("garden_manager")==="approved"&&e.jsx("span",{className:"bg-green-100 dark:bg-green-900/30 text-green-600 dark:text-green-400 text-xs font-medium px-2 py-1 rounded-full",children:ne.approved}),te("garden_manager")==="rejected"&&e.jsx("span",{className:"bg-red-100 dark:bg-red-900/30 text-red-600 dark:text-red-400 text-xs font-medium px-2 py-1 rounded-full",children:ne.rejected}),Z()&&e.jsx("button",{onClick:()=>V("garden_manager"),className:"text-blue-600 dark:text-blue-400 hover:text-blue-700 dark:hover:text-blue-300 text-sm font-medium",children:ne.apply})]})]}),!((Pr=t==null?void 0:t.eventPermissions)!=null&&Pr.canCreateEvents)&&e.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 dark:bg-gray-700 rounded-2xl",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(Nt,{className:"w-5 h-5 text-purple-500"}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:ne.eventOrganizer}),e.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:ne.eventOrganizerDesc})]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[te("event_organizer")==="pending"&&e.jsx("span",{className:"bg-yellow-100 dark:bg-yellow-900/30 text-yellow-600 dark:text-yellow-400 text-xs font-medium px-2 py-1 rounded-full",children:ne.pending}),te("event_organizer")==="approved"&&e.jsx("span",{className:"bg-green-100 dark:bg-green-900/30 text-green-600 dark:text-green-400 text-xs font-medium px-2 py-1 rounded-full",children:ne.approved}),te("event_organizer")==="rejected"&&e.jsx("span",{className:"bg-red-100 dark:bg-red-900/30 text-red-600 dark:text-red-400 text-xs font-medium px-2 py-1 rounded-full",children:ne.rejected}),se()&&e.jsx("button",{onClick:()=>V("event_organizer"),className:"text-blue-600 dark:text-blue-400 hover:text-blue-700 dark:hover:text-blue-300 text-sm font-medium",children:ne.apply})]})]}),((t==null?void 0:t.role)==="garden_manager"||((Wa=t==null?void 0:t.eventPermissions)==null?void 0:Wa.canCreateEvents))&&e.jsxs("div",{className:"p-3 bg-green-50 dark:bg-green-900/20 rounded-2xl border border-green-200 dark:border-green-800",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[e.jsx(Me,{className:"w-4 h-4 text-green-600 dark:text-green-400"}),e.jsx("span",{className:"text-sm font-medium text-green-800 dark:text-green-200",children:ne.activeRoles})]}),e.jsxs("div",{className:"space-y-1",children:[(t==null?void 0:t.role)==="garden_manager"&&e.jsx("div",{className:"text-xs text-green-700 dark:text-green-300",children:"• Garden Manager"}),((Za=t==null?void 0:t.eventPermissions)==null?void 0:Za.canCreateEvents)&&e.jsx("div",{className:"text-xs text-green-700 dark:text-green-300",children:"• Event Organizer"})]})]})]})]})}),e.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-3xl border border-gray-100 dark:border-gray-700",children:e.jsxs("div",{className:"p-6",children:[e.jsx("h3",{className:"text-lg font-bold text-gray-900 dark:text-white mb-4",children:ne.notifications}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 dark:bg-gray-700 rounded-2xl",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(bt,{className:"w-5 h-5 text-blue-500"}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:ne.eventUpdates}),e.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:ne.eventUpdatesDesc})]})]}),e.jsx("button",{onClick:()=>le("eventUpdates",!F.eventUpdates),disabled:A,className:`relative inline-flex h-4 w-7 items-center rounded-full transition-colors duration-200 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 disabled:opacity-50 ${F.eventUpdates?"bg-blue-600":"bg-gray-300 dark:bg-gray-600"}`,children:e.jsx("span",{className:`inline-block h-3 w-3 transform rounded-full bg-white shadow-sm transition-transform duration-200 ${F.eventUpdates?"translate-x-3.5":"translate-x-0.5"}`})})]}),e.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 dark:bg-gray-700 rounded-2xl",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(Ne,{className:"w-5 h-5 text-green-500"}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:ne.newFriends}),e.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:ne.newFriendsDesc})]})]}),e.jsx("button",{onClick:()=>le("newFriends",!F.newFriends),disabled:A,className:`relative inline-flex h-4 w-7 items-center rounded-full transition-colors duration-200 focus:outline-none focus:ring-2 focus:ring-green-500 focus:ring-offset-2 disabled:opacity-50 ${F.newFriends?"bg-green-600":"bg-gray-300 dark:bg-gray-600"}`,children:e.jsx("span",{className:`inline-block h-3 w-3 transform rounded-full bg-white shadow-sm transition-transform duration-200 ${F.newFriends?"translate-x-3.5":"translate-x-0.5"}`})})]}),e.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 dark:bg-gray-700 rounded-2xl",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(ye,{className:"w-5 h-5 text-purple-500"}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:ne.parkActivities}),e.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:ne.parkActivitiesDesc})]})]}),e.jsx("button",{onClick:()=>le("parkActivities",!F.parkActivities),disabled:A,className:`relative inline-flex h-4 w-7 items-center rounded-full transition-colors duration-200 focus:outline-none focus:ring-2 focus:ring-purple-500 focus:ring-offset-2 disabled:opacity-50 ${F.parkActivities?"bg-purple-600":"bg-gray-300 dark:bg-gray-600"}`,children:e.jsx("span",{className:`inline-block h-3 w-3 transform rounded-full bg-white shadow-sm transition-transform duration-200 ${F.parkActivities?"translate-x-3.5":"translate-x-0.5"}`})})]}),e.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 dark:bg-gray-700 rounded-2xl",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(Le,{className:"w-5 h-5 text-orange-500"}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:"Check-in Reminders"}),e.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Get reminded to check in to parks"})]})]}),e.jsx("button",{onClick:()=>le("checkInReminders",!F.checkInReminders),disabled:A,className:`relative inline-flex h-4 w-7 items-center rounded-full transition-colors duration-200 focus:outline-none focus:ring-2 focus:ring-orange-500 focus:ring-offset-2 disabled:opacity-50 ${F.checkInReminders?"bg-orange-600":"bg-gray-300 dark:bg-gray-600"}`,children:e.jsx("span",{className:`inline-block h-3 w-3 transform rounded-full bg-white shadow-sm transition-transform duration-200 ${F.checkInReminders?"translate-x-3.5":"translate-x-0.5"}`})})]}),e.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 dark:bg-gray-700 rounded-2xl",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(gr,{className:"w-5 h-5 text-indigo-500"}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:"Garden Updates"}),e.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Updates about your favorite gardens"})]})]}),e.jsx("button",{onClick:()=>le("gardenUpdates",!F.gardenUpdates),disabled:A,className:`relative inline-flex h-4 w-7 items-center rounded-full transition-colors duration-200 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2 disabled:opacity-50 ${F.gardenUpdates?"bg-indigo-600":"bg-gray-300 dark:bg-gray-600"}`,children:e.jsx("span",{className:`inline-block h-3 w-3 transform rounded-full bg-white shadow-sm transition-transform duration-200 ${F.gardenUpdates?"translate-x-3.5":"translate-x-0.5"}`})})]})]})]})}),e.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-3xl border border-gray-100 dark:border-gray-700",children:e.jsxs("div",{className:"p-6",children:[e.jsx("h3",{className:"text-lg font-bold text-gray-900 dark:text-white mb-4",children:ne.privacySafety}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 dark:bg-gray-700 rounded-2xl",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(Wr,{className:"w-5 h-5 text-indigo-500"}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:ne.language}),e.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:ne.languageDesc})]})]}),e.jsxs("button",{onClick:l,className:"flex items-center space-x-2 bg-indigo-100 dark:bg-indigo-900/30 text-indigo-600 dark:text-indigo-400 px-4 py-2 rounded-full text-sm font-medium hover:bg-indigo-200 dark:hover:bg-indigo-900/50 transition-all duration-200 transform hover:scale-105 active:scale-95 shadow-sm",children:[e.jsx(Wr,{className:"w-4 h-4"}),e.jsx("span",{className:"font-semibold",children:a==="en"?"עברית":"English"})]})]}),a==="he"&&e.jsx("div",{className:"mt-4 p-4 bg-blue-50 dark:bg-blue-900/20 rounded-2xl border border-blue-200 dark:border-blue-800",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("div",{className:"w-3 h-3 bg-blue-500 rounded-full animate-pulse"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm font-medium text-blue-800 dark:text-blue-200",children:"ניסוי תמיכה בעברית"}),e.jsx("p",{className:"text-xs text-blue-600 dark:text-blue-300 mt-1",children:"התמיכה בעברית פעילה כרגע רק בעמוד הפרופיל"})]})]})}),e.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 dark:bg-gray-700 rounded-2xl",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(at,{className:"w-5 h-5 text-blue-500"}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:ne.profileVisibility}),e.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:ne.profileVisibilityDesc})]})]}),e.jsxs("select",{value:M.profileVisibility,onChange:ie=>Ee("profileVisibility",ie.target.value),disabled:q,className:"text-sm bg-white dark:bg-gray-600 border border-gray-200 dark:border-gray-500 rounded-lg px-3 py-2 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 disabled:opacity-50",children:[e.jsx("option",{value:"everyone",children:ne.everyone}),e.jsx("option",{value:"friends",children:ne.friendsOnly}),e.jsx("option",{value:"private",children:ne.private})]})]}),e.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 dark:bg-gray-700 rounded-2xl",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(ye,{className:"w-5 h-5 text-red-500"}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:"Location Sharing"}),e.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Allow others to see your location when checking in"})]})]}),e.jsx("button",{onClick:()=>Ee("locationSharing",!M.locationSharing),disabled:q,className:`relative inline-flex h-4 w-7 items-center rounded-full transition-colors duration-200 focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-offset-2 disabled:opacity-50 ${M.locationSharing?"bg-red-600":"bg-gray-300 dark:bg-gray-600"}`,children:e.jsx("span",{className:`inline-block h-3 w-3 transform rounded-full bg-white shadow-sm transition-transform duration-200 ${M.locationSharing?"translate-x-3.5":"translate-x-0.5"}`})})]}),e.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 dark:bg-gray-700 rounded-2xl",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(gr,{className:"w-5 h-5 text-purple-500"}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:"Data Analytics"}),e.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Help improve the app by sharing usage data"})]})]}),e.jsx("button",{onClick:()=>Ee("dataAnalytics",!M.dataAnalytics),disabled:q,className:`relative inline-flex h-4 w-7 items-center rounded-full transition-colors duration-200 focus:outline-none focus:ring-2 focus:ring-purple-500 focus:ring-offset-2 disabled:opacity-50 ${M.dataAnalytics?"bg-purple-600":"bg-gray-300 dark:bg-gray-600"}`,children:e.jsx("span",{className:`inline-block h-3 w-3 transform rounded-full bg-white shadow-sm transition-transform duration-200 ${M.dataAnalytics?"translate-x-3.5":"translate-x-0.5"}`})})]}),e.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 dark:bg-gray-700 rounded-2xl",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(Qr,{className:"w-5 h-5 text-green-500"}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:"Activity Status"}),e.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Show when you're active to other users"})]})]}),e.jsx("button",{onClick:()=>Ee("activityStatus",!M.activityStatus),disabled:q,className:`relative inline-flex h-4 w-7 items-center rounded-full transition-colors duration-200 focus:outline-none focus:ring-2 focus:ring-green-500 focus:ring-offset-2 disabled:opacity-50 ${M.activityStatus?"bg-green-600":"bg-gray-300 dark:bg-gray-600"}`,children:e.jsx("span",{className:`inline-block h-3 w-3 transform rounded-full bg-white shadow-sm transition-transform duration-200 ${M.activityStatus?"translate-x-3.5":"translate-x-0.5"}`})})]}),e.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 dark:bg-gray-700 rounded-2xl",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(ye,{className:"w-5 h-5 text-red-500"}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:ne.locationSharing}),e.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:ne.locationSharingDesc})]})]}),e.jsx("div",{className:"relative inline-flex h-4 w-7 items-center rounded-full bg-red-600",children:e.jsx("span",{className:"inline-block h-3 w-3 transform rounded-full bg-white shadow-sm transition-transform translate-x-3.5"})})]}),e.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 dark:bg-gray-700 rounded-2xl",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(gr,{className:"w-5 h-5 text-green-500"}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:ne.dataAnalytics}),e.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:ne.dataAnalyticsDesc})]})]}),e.jsx("div",{className:"relative inline-flex h-4 w-7 items-center rounded-full bg-green-600",children:e.jsx("span",{className:"inline-block h-3 w-3 transform rounded-full bg-white shadow-sm transition-transform translate-x-3.5"})})]})]})]})}),e.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-3xl border border-gray-100 dark:border-gray-700",children:e.jsxs("div",{className:"p-6",children:[e.jsx("h3",{className:"text-lg font-bold text-gray-900 dark:text-white mb-4",children:ne.accountManagement}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center space-x-3 p-3 bg-gray-50 dark:bg-gray-700 rounded-2xl",children:[e.jsx(Le,{className:"w-5 h-5 text-blue-500"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:ne.accountCreated}),e.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:t!=null&&t.createdAt?new Date(t.createdAt).toLocaleDateString():"Unknown"})]})]}),e.jsxs("div",{className:"p-3 bg-gray-50 dark:bg-gray-700 rounded-2xl",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(Xt,{className:"w-5 h-5 text-green-500"}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:"Email Address"}),e.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:t==null?void 0:t.email})]})]}),L?e.jsx("button",{onClick:()=>{S(!1),ce()},className:"text-gray-600 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-300 text-sm font-medium",children:"Cancel"}):e.jsx("button",{onClick:()=>S(!0),className:"text-blue-600 dark:text-blue-400 hover:text-blue-700 dark:hover:text-blue-300 text-sm font-medium",children:"Change"})]}),L&&e.jsxs("form",{onSubmit:fe(Xe),className:"space-y-3 mt-3",children:[e.jsxs("div",{children:[e.jsx("input",{...xe("newEmail",{required:"New email is required",pattern:{value:/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,}$/i,message:"Invalid email address"}}),type:"email",placeholder:"New Email Address",className:"w-full px-3 py-2 rounded-lg border border-gray-200 dark:border-gray-600 bg-white dark:bg-gray-600 text-gray-900 dark:text-white text-sm focus:ring-2 focus:ring-blue-500 focus:border-transparent"}),be.newEmail&&e.jsx("p",{className:"text-red-500 text-xs mt-1 ml-2",children:be.newEmail.message})]}),e.jsxs("div",{children:[e.jsx("input",{...xe("currentPassword",{required:"Current password is required"}),type:"password",placeholder:"Current Password",className:"w-full px-3 py-2 rounded-lg border border-gray-200 dark:border-gray-600 bg-white dark:bg-gray-600 text-gray-900 dark:text-white text-sm focus:ring-2 focus:ring-blue-500 focus:border-transparent"}),be.currentPassword&&e.jsx("p",{className:"text-red-500 text-xs mt-1 ml-2",children:be.currentPassword.message})]}),e.jsx("div",{className:"flex space-x-2",children:e.jsxs("button",{type:"submit",disabled:Ae,className:"flex-1 bg-blue-500 text-white py-2 rounded-lg text-sm font-medium hover:bg-blue-600 transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center space-x-2",children:[Ae&&e.jsx("div",{className:"animate-spin rounded-full h-3 w-3 border-b-2 border-white"}),e.jsx("span",{children:Ae?"Updating...":"Update Email"})]})})]})]}),e.jsxs("div",{className:"flex items-center space-x-3 p-3 bg-green-50 dark:bg-green-900/20 rounded-2xl border border-green-200 dark:border-green-800",children:[e.jsx(Me,{className:"w-5 h-5 text-green-500"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"text-sm font-medium text-green-700 dark:text-green-300",children:ne.emailVerification}),e.jsx("div",{className:"text-xs text-green-600 dark:text-green-400",children:ne.verified})]})]}),e.jsx("div",{className:"border-t border-gray-200 dark:border-gray-600 pt-4 mt-4",children:e.jsxs("button",{onClick:()=>P(!0),className:"w-full flex items-center space-x-3 p-3 bg-red-50 dark:bg-red-900/20 rounded-2xl text-left hover:bg-red-100 dark:hover:bg-red-900/30 transition-colors border border-red-200 dark:border-red-800",children:[e.jsx(Es,{className:"w-5 h-5 text-red-500"}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-medium text-red-700 dark:text-red-300",children:ne.deleteAccount}),e.jsx("div",{className:"text-xs text-red-600 dark:text-red-400",children:ne.deleteAccountDesc})]})]})})]})]})})]})]}),e.jsx("div",{className:"hidden lg:block px-8 py-8",children:e.jsx("div",{className:"text-center text-gray-500 dark:text-gray-400",children:ne.desktopLayout})})]}),E&&e.jsx(Kh,{type:v,onClose:()=>N(!1),onSuccess:()=>{N(!1),Je()}}),H&&e.jsxs("div",{className:"fixed inset-0 z-[9999] flex items-center justify-center p-4",children:[e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50",onClick:()=>P(!1)}),e.jsx("div",{className:"relative bg-white dark:bg-gray-800 rounded-3xl shadow-2xl max-w-md w-full p-6",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"mx-auto flex items-center justify-center h-12 w-12 rounded-full bg-red-100 dark:bg-red-900/30 mb-4",children:e.jsx(Es,{className:"h-6 w-6 text-red-600 dark:text-red-400"})}),e.jsx("h3",{className:"text-lg font-bold text-gray-900 dark:text-white mb-2",children:"Delete Account"}),e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 mb-6",children:"Are you sure you want to delete your account? This action cannot be undone. All your data, including your dogs, check-ins, and preferences will be permanently removed."}),e.jsxs("div",{className:"flex space-x-3",children:[e.jsx("button",{onClick:()=>P(!1),className:"flex-1 px-4 py-2 text-gray-700 dark:text-gray-300 bg-gray-100 dark:bg-gray-700 rounded-xl hover:bg-gray-200 dark:hover:bg-gray-600 transition-colors font-medium",children:"Cancel"}),e.jsx("button",{onClick:()=>{P(!1),yr()},className:"flex-1 px-4 py-2 text-white bg-red-600 rounded-xl hover:bg-red-700 transition-colors font-medium",children:"Delete Account"})]})]})})]})]})},ep=Object.freeze(Object.defineProperty({__proto__:null,default:Jn},Symbol.toStringTag,{value:"Module"})),Xn=()=>{var g,f,w;const t=we(),[r,a]=n.useState(null),[s,l]=n.useState([]),[o,i]=n.useState(!0),[x,c]=n.useState(!1);n.useEffect(()=>{u()},[]);const u=async()=>{try{i(!0);const[m,B]=await Promise.all([Et.getActiveVisit(),Et.getMyVisits({limit:10})]);a(m.visit),l(B.visits)}catch(m){console.error("Error loading visit data:",m),I.error("Failed to load visit data")}finally{i(!1)}},h=async()=>{var m,B;if(r)try{c(!0),await Et.checkOut({visitId:r._id}),I.success("Checked out successfully!"),a(null),u()}catch(E){console.error("Check-out error:",E),I.error(((B=(m=E.response)==null?void 0:m.data)==null?void 0:B.error)||"Failed to check out")}finally{c(!1)}},d=m=>{if(!m)return"N/A";const B=Math.floor(m/60),E=m%60;return B>0?`${B}h ${E}m`:`${E}m`},p=m=>{const B=Date.now()-new Date(m).getTime(),E=Math.floor(B/6e4);return d(E)};return o?e.jsx(Yu,{}):e.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900",children:e.jsxs("div",{className:"max-w-lg mx-auto",children:[e.jsxs("div",{className:"bg-gradient-to-br from-green-600 via-emerald-600 to-teal-700 dark:from-green-700 dark:via-emerald-700 dark:to-teal-800 mx-4 mt-4 rounded-3xl p-6 text-white relative overflow-hidden",children:[e.jsx("div",{className:"absolute -top-6 -right-6 opacity-20",children:e.jsx("div",{className:"text-8xl",children:"⏰"})}),e.jsxs("div",{className:"relative z-10",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold flex items-center",children:"Visit Management 🐾"}),e.jsx("p",{className:"text-green-100 dark:text-green-200",children:"Track your dog park visits"})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("div",{className:"text-sm text-green-200",children:r?"🟢 Active":"⚪ Available"}),e.jsxs("div",{className:"text-xs text-green-300",children:[s.length," Total Visits"]})]})]}),e.jsxs("div",{className:"flex items-center space-x-6 text-green-100",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(La,{className:"h-5 w-5 mr-2"}),e.jsx("span",{children:r?"Currently Checked In":"Ready to Visit"})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx(Oe,{className:"h-5 w-5 mr-2"}),e.jsxs("span",{children:[s.length," Visits"]})]})]})]})]}),r?e.jsxs("div",{className:"px-4 mt-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("h2",{className:"text-lg font-bold text-gray-900 dark:text-white flex items-center",children:[e.jsx(st,{className:"h-5 w-5 mr-2 text-red-500"}),"Active Visit"]}),e.jsx("span",{className:"bg-red-100 dark:bg-red-900/30 text-red-600 dark:text-red-400 text-xs px-2 py-1 rounded-full animate-pulse",children:"🔴 Live"})]}),e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-3xl shadow-lg border border-gray-100 dark:border-gray-700 overflow-hidden",children:[e.jsxs("div",{className:"bg-gradient-to-r from-green-500 to-emerald-600 p-4 text-white relative overflow-hidden",children:[e.jsx("div",{className:"absolute -top-4 -right-4 opacity-20",children:e.jsx("div",{className:"text-6xl",children:"🏞️"})}),e.jsx("div",{className:"relative z-10",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-green-100 text-sm",children:"Currently at"}),e.jsx("h3",{className:"text-xl font-bold",children:((g=r.garden)==null?void 0:g.name)||"Unknown Garden"})]}),e.jsx("div",{className:"bg-white bg-opacity-20 rounded-xl p-2",children:e.jsx(ye,{className:"h-5 w-5"})})]})})]}),e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-6",children:[e.jsxs("div",{className:"bg-green-50 dark:bg-green-900/20 rounded-xl p-4 text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-green-600 dark:text-green-400 mb-1",children:p(r.checkInTime)}),e.jsx("div",{className:"text-xs text-green-700 dark:text-green-300",children:"Time Elapsed"})]}),e.jsxs("div",{className:"bg-emerald-50 dark:bg-emerald-900/20 rounded-xl p-4 text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-emerald-600 dark:text-emerald-400 mb-1",children:((f=r.dogs)==null?void 0:f.length)||0}),e.jsx("div",{className:"text-xs text-emerald-700 dark:text-emerald-300",children:"Dogs Playing"})]})]}),e.jsxs("div",{className:"mb-6",children:[e.jsxs("h4",{className:"text-sm font-semibold text-gray-900 dark:text-white mb-3 flex items-center",children:[e.jsx(Re,{className:"h-4 w-4 mr-2 text-pink-500"}),"Dogs Currently Playing"]}),e.jsx("div",{className:"grid grid-cols-1 gap-3",children:(w=r.dogs)==null?void 0:w.map(m=>e.jsxs("div",{className:"flex items-center p-3 bg-gray-50 dark:bg-gray-700/50 rounded-xl",children:[e.jsx("div",{className:"h-10 w-10 bg-gradient-to-br from-orange-100 to-amber-100 dark:from-orange-900 dark:to-amber-900 rounded-full flex items-center justify-center text-lg mr-3",children:"🐕"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-900 dark:text-white",children:(m==null?void 0:m.name)||"Unknown Dog"}),e.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:(m==null?void 0:m.breed)||"Unknown breed"})]})]},m._id))})]}),r.notes&&e.jsxs("div",{className:"mb-6",children:[e.jsxs("h4",{className:"text-sm font-semibold text-gray-900 dark:text-white mb-2 flex items-center",children:[e.jsx(We,{className:"h-4 w-4 mr-2 text-purple-500"}),"Visit Notes"]}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300 bg-purple-50 dark:bg-purple-900/20 p-3 rounded-xl",children:r.notes})]}),e.jsx("button",{onClick:h,disabled:x,className:"w-full inline-flex items-center justify-center px-6 py-3 bg-gradient-to-r from-red-500 to-pink-500 text-white font-medium rounded-xl hover:from-red-600 hover:to-pink-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200 transform hover:scale-105 active:scale-95",children:x?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Checking out..."]}):e.jsxs(e.Fragment,{children:[e.jsx(fn,{className:"h-5 w-5 mr-2"}),"Check Out Now"]})})]})]})]}):e.jsxs("div",{className:"px-4 mt-6",children:[e.jsx("div",{className:"flex items-center justify-between mb-4",children:e.jsxs("h2",{className:"text-lg font-bold text-gray-900 dark:text-white flex items-center",children:[e.jsx(ye,{className:"h-5 w-5 mr-2 text-gray-500"}),"No Active Visit"]})}),e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-3xl shadow-lg border border-gray-100 dark:border-gray-700 p-8 text-center",children:[e.jsx("div",{className:"text-6xl mb-4",children:"🏞️"}),e.jsx("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-2",children:"Ready for Adventure?"}),e.jsx("p",{className:"text-gray-500 dark:text-gray-400 mb-6",children:"You're not currently checked in to any dog park. Find a great spot for your furry friends!"}),e.jsxs("button",{onClick:()=>t("/gardens"),className:"inline-flex items-center px-6 py-3 bg-gradient-to-r from-green-500 to-emerald-600 text-white font-medium rounded-xl hover:from-green-600 hover:to-emerald-700 transition-all duration-200 transform hover:scale-105",children:[e.jsx(at,{className:"h-5 w-5 mr-2"}),"Find a Dog Park"]})]})]}),e.jsxs("div",{className:"px-4 mt-6 pb-6",children:[e.jsx("div",{className:"flex items-center justify-between mb-4",children:e.jsxs("h2",{className:"text-lg font-bold text-gray-900 dark:text-white flex items-center",children:[e.jsx(bt,{className:"h-5 w-5 mr-2 text-indigo-600"}),"Recent Visits"]})}),e.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-3xl shadow-lg border border-gray-100 dark:border-gray-700 overflow-hidden",children:s.length===0?e.jsxs("div",{className:"text-center py-8 px-6",children:[e.jsx("div",{className:"text-4xl mb-3",children:"📝"}),e.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"No visit history yet."}),e.jsx("p",{className:"text-sm text-gray-400 dark:text-gray-500 mt-1",children:"Start visiting parks to build your history!"})]}):e.jsx("div",{className:"divide-y divide-gray-100 dark:divide-gray-700",children:s.map(m=>{var B,E;return e.jsx("div",{className:"p-4 hover:bg-gray-50 dark:hover:bg-gray-700/50 transition-colors",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center mb-2",children:[e.jsx("div",{className:"h-10 w-10 bg-gradient-to-br from-indigo-100 to-purple-100 dark:from-indigo-900 dark:to-purple-900 rounded-full flex items-center justify-center text-lg mr-3",children:"🏞️"}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-bold text-gray-900 dark:text-white",children:((B=m.garden)==null?void 0:B.name)||"Unknown Garden"}),e.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:new Date(m.checkInTime).toLocaleDateString()})]})]}),e.jsxs("div",{className:"grid grid-cols-1 gap-2 text-xs mb-3",children:[e.jsxs("div",{className:"flex items-center text-gray-600 dark:text-gray-400",children:[e.jsx(Le,{className:"flex-shrink-0 mr-1 h-3 w-3 text-gray-400"}),e.jsxs("span",{children:[new Date(m.checkInTime).toLocaleTimeString()," -",m.checkOutTime?new Date(m.checkOutTime).toLocaleTimeString():"Active"]})]}),m.duration&&e.jsx("div",{className:"flex items-center text-gray-600 dark:text-gray-400",children:e.jsxs("span",{className:"font-medium",children:["Duration: ",d(m.duration)]})})]}),e.jsxs("div",{className:"flex items-center text-xs text-gray-600 dark:text-gray-400",children:[e.jsx(Re,{className:"flex-shrink-0 mr-1 h-3 w-3 text-pink-400"}),e.jsxs("span",{children:["Dogs: ",((E=m.dogs)==null?void 0:E.map(N=>N.name).join(", "))||"None"]})]})]}),e.jsx("div",{className:"ml-4",children:e.jsxs("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ${m.status==="active"?"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-400":m.status==="completed"?"bg-blue-100 text-blue-800 dark:bg-blue-900/30 dark:text-blue-400":"bg-red-100 text-red-800 dark:bg-red-900/30 dark:text-red-400"}`,children:[m.status==="active"&&"🟢 ",m.status==="completed"&&"✅ ",m.status==="cancelled"&&"❌ ",m.status.charAt(0).toUpperCase()+m.status.slice(1)]})})]})},m._id)})})})]}),e.jsx("div",{className:"px-4 pb-6",children:e.jsxs("div",{className:"bg-gradient-to-r from-indigo-500 to-purple-600 rounded-3xl p-6 text-white",children:[e.jsxs("h3",{className:"text-lg font-bold mb-4 flex items-center",children:[e.jsx($e,{className:"h-5 w-5 mr-2"}),"Quick Actions"]}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs("button",{onClick:()=>t("/gardens"),className:"flex items-center justify-center px-4 py-3 bg-white bg-opacity-20 rounded-xl hover:bg-opacity-30 transition-all duration-200",children:[e.jsx(at,{className:"h-5 w-5 mr-2"}),"Browse Gardens"]}),e.jsxs("button",{onClick:()=>t("/my-dogs"),className:"flex items-center justify-center px-4 py-3 bg-white bg-opacity-20 rounded-xl hover:bg-opacity-30 transition-all duration-200",children:[e.jsx(Re,{className:"h-5 w-5 mr-2"}),"My Dogs"]})]})]})})]})})},tp=Object.freeze(Object.defineProperty({__proto__:null,default:Xn},Symbol.toStringTag,{value:"Module"})),Bt=({variant:t="primary",size:r="md",children:a,className:s="",icon:l,iconPosition:o="left",loading:i=!1,fullWidth:x=!1,...c})=>{const u="inline-flex items-center justify-center font-medium transition-all duration-300 focus:outline-none focus:ring-2 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed relative overflow-hidden",h={primary:"bg-primary-500 text-white hover:bg-primary-600 focus:ring-primary-500 hover:shadow-primary",secondary:"bg-gray-100 text-gray-700 border border-gray-300 hover:bg-gray-200 focus:ring-gray-500",accent:"bg-accent-500 text-white hover:bg-accent-600 focus:ring-accent-500 hover:shadow-lg",danger:"bg-red-500 text-white hover:bg-red-600 focus:ring-red-500 hover:shadow-error",success:"bg-green-500 text-white hover:bg-green-600 focus:ring-green-500 hover:shadow-success",ghost:"bg-transparent text-gray-700 hover:bg-gray-100 focus:ring-gray-500",outline:"bg-transparent text-primary-600 border-2 border-primary-600 hover:bg-primary-600 hover:text-white focus:ring-primary-500",link:"bg-transparent text-primary-600 hover:text-primary-700 underline-offset-4 hover:underline p-0"},d={xs:"px-2.5 py-1.5 text-xs rounded",sm:"px-3 py-2 text-sm rounded-md gap-1.5",md:"px-4 py-2.5 text-sm rounded-md gap-2",lg:"px-6 py-3 text-base rounded-lg gap-2",xl:"px-8 py-4 text-lg rounded-lg gap-3"},p=x?"w-full":"";return e.jsx("button",{className:`${u} ${h[t]} ${d[r]} ${p} ${s}`,disabled:i||c.disabled,...c,children:i?e.jsxs(e.Fragment,{children:[e.jsxs("svg",{className:"animate-spin h-4 w-4",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",fill:"none"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),e.jsx("span",{children:"Loading..."})]}):e.jsxs(e.Fragment,{children:[l&&o==="left"&&e.jsx("span",{children:l}),a,l&&o==="right"&&e.jsx("span",{children:l})]})})},Mt=({variant:t="default",padding:r=!0,hover:a=!1,className:s="",children:l,onClick:o,...i})=>{const x={default:"bg-white shadow-sm",elevated:"bg-white shadow-lg",bordered:"bg-white border border-gray-200",filled:"bg-gray-50",gradient:"bg-gradient-to-br from-white to-gray-50 shadow-md",glass:"bg-white bg-opacity-80 backdrop-blur-lg shadow-xl border border-white border-opacity-20"},c=a?"transition-all duration-300 hover:-translate-y-1 hover:shadow-xl cursor-pointer":"",u=r?"p-6":"",h=o?"cursor-pointer":"";return e.jsx("div",{className:`rounded-xl overflow-hidden ${x[t]} ${c} ${u} ${h} ${s}`,onClick:o,...i,children:l})},qt=({variant:t="default",size:r="md",label:a,error:s,helperText:l,icon:o,className:i="",inputClassName:x="",...c})=>{const u={default:"border-gray-300 focus:border-primary-500 focus:ring-primary-500",error:"border-red-300 focus:border-red-500 focus:ring-red-500",success:"border-green-300 focus:border-green-500 focus:ring-green-500",filled:"bg-gray-50 border-transparent focus:bg-white focus:border-primary-500"},h={sm:"px-3 py-2 text-sm",md:"px-4 py-2.5 text-base",lg:"px-5 py-3 text-lg"},d=s?"error":t;return e.jsxs("div",{className:i,children:[a&&e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1.5",children:a}),e.jsxs("div",{className:"relative",children:[o&&e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:o}),e.jsx("input",{className:`block w-full rounded-lg border-2 shadow-sm ${u[d]} ${h[r]} ${o?"pl-10":""} transition-all duration-200 ${x}`,...c})]}),(s||l)&&e.jsx("p",{className:`mt-1.5 text-sm ${s?"text-red-600":"text-gray-500"}`,children:s||l})]})},Bs=({variant:t="default",size:r="md",label:a,error:s,helperText:l,className:o="",children:i,...x})=>{const c={default:"border-gray-300 focus:border-primary-500 focus:ring-primary-500",error:"border-red-300 focus:border-red-500 focus:ring-red-500",success:"border-green-300 focus:border-green-500 focus:ring-green-500",filled:"bg-gray-50 border-transparent focus:bg-white focus:border-primary-500"},u={sm:"px-3 py-2 text-sm",md:"px-4 py-2.5 text-base",lg:"px-5 py-3 text-lg"},h=s?"error":t;return e.jsxs("div",{className:o,children:[a&&e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1.5",children:a}),e.jsx("select",{className:`block w-full rounded-lg border-2 shadow-sm ${c[h]} ${u[r]} transition-all duration-200 cursor-pointer`,...x,children:i}),(s||l)&&e.jsx("p",{className:`mt-1.5 text-sm ${s?"text-red-600":"text-gray-500"}`,children:s||l})]})},vt=({variant:t="default",size:r="md",rounded:a="full",children:s,icon:l,onRemove:o,className:i=""})=>{const x={default:"bg-gray-100 text-gray-800",primary:"bg-primary-100 text-primary-800",secondary:"bg-secondary-100 text-secondary-800",success:"bg-green-100 text-green-800",warning:"bg-yellow-100 text-yellow-800",danger:"bg-red-100 text-red-800",info:"bg-blue-100 text-blue-800",dark:"bg-gray-800 text-white"},c={sm:"px-2 py-0.5 text-xs gap-1",md:"px-2.5 py-1 text-sm gap-1.5",lg:"px-3 py-1.5 text-base gap-2"},u={none:"rounded-none",sm:"rounded",md:"rounded-md",lg:"rounded-lg",full:"rounded-full"};return e.jsxs("span",{className:`inline-flex items-center font-medium ${x[t]} ${c[r]} ${u[a]} ${i}`,children:[l&&e.jsx("span",{className:"flex-shrink-0",children:l}),s,o&&e.jsx("button",{onClick:o,className:"ml-1 -mr-1 flex-shrink-0 hover:bg-black hover:bg-opacity-10 rounded-full p-0.5 transition-colors",children:e.jsx("svg",{className:"h-3 w-3",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})})})]})},ar=({variant:t="info",title:r,children:a,onClose:s,icon:l=!0,className:o=""})=>{const i={info:"bg-blue-50 border-blue-200 text-blue-800",success:"bg-green-50 border-green-200 text-green-800",warning:"bg-yellow-50 border-yellow-200 text-yellow-800",error:"bg-red-50 border-red-200 text-red-800"},x={info:"text-blue-400",success:"text-green-400",warning:"text-yellow-400",error:"text-red-400"},c={info:e.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z",clipRule:"evenodd"}),success:e.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"}),warning:e.jsx("path",{fillRule:"evenodd",d:"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z",clipRule:"evenodd"}),error:e.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})};return e.jsx("div",{className:`p-4 border rounded-lg ${i[t]} ${o}`,children:e.jsxs("div",{className:"flex",children:[l&&e.jsx("div",{className:"flex-shrink-0",children:e.jsx("svg",{className:`h-5 w-5 ${x[t]}`,viewBox:"0 0 20 20",fill:"currentColor",children:c[t]})}),e.jsxs("div",{className:`${l?"ml-3":""} flex-1`,children:[r&&e.jsx("h3",{className:"text-sm font-medium mb-1",children:r}),e.jsx("div",{className:"text-sm",children:a})]}),s&&e.jsxs("button",{onClick:s,className:"ml-auto -mx-1.5 -my-1.5 rounded-lg p-1.5 inline-flex hover:bg-black hover:bg-opacity-10 focus:outline-none focus:ring-2 focus:ring-offset-2 transition-colors",children:[e.jsx("span",{className:"sr-only",children:"Dismiss"}),e.jsx("svg",{className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})})]})]})})},Ha=({maxWidth:t="xl",padding:r=!0,className:a="",children:s})=>{const l={sm:"max-w-screen-sm",md:"max-w-screen-md",lg:"max-w-screen-lg",xl:"max-w-screen-xl","2xl":"max-w-screen-2xl",full:"max-w-full"},o=r?"px-4 sm:px-6 lg:px-8":"";return e.jsx("div",{className:`mx-auto ${l[t]} ${o} ${a}`,children:s})},nr=({level:t=1,size:r,weight:a="bold",color:s="text-gray-900",className:l="",children:o})=>{const i=`h${t}`,x={xs:"text-xs",sm:"text-sm",base:"text-base",lg:"text-lg",xl:"text-xl","2xl":"text-2xl","3xl":"text-3xl","4xl":"text-4xl","5xl":"text-5xl","6xl":"text-6xl","7xl":"text-7xl"},c={1:"4xl",2:"3xl",3:"2xl",4:"xl",5:"lg",6:"base"},u={thin:"font-thin",light:"font-light",normal:"font-normal",medium:"font-medium",semibold:"font-semibold",bold:"font-bold",extrabold:"font-extrabold",black:"font-black"},h=r||c[t];return e.jsx(i,{className:`${x[h]} ${u[a]} ${s} ${l}`,children:o})},Kn=({src:t,alt:r="",size:a="md",name:s,status:l,className:o=""})=>{const i={xs:"h-6 w-6 text-xs",sm:"h-8 w-8 text-sm",md:"h-10 w-10 text-base",lg:"h-12 w-12 text-lg",xl:"h-16 w-16 text-xl"},x={xs:"h-1.5 w-1.5",sm:"h-2 w-2",md:"h-2.5 w-2.5",lg:"h-3 w-3",xl:"h-4 w-4"},c={online:"bg-green-400",offline:"bg-gray-400",busy:"bg-red-400",away:"bg-yellow-400"},u=h=>h?h.split(" ").map(p=>p[0]).join("").toUpperCase().slice(0,2):"";return e.jsxs("div",{className:`relative inline-block ${o}`,children:[t?e.jsx("img",{className:`${i[a]} rounded-full object-cover`,src:t,alt:r||s}):e.jsx("div",{className:`${i[a]} rounded-full bg-primary-500 text-white flex items-center justify-center font-medium`,children:u(s)}),l&&e.jsx("span",{className:`absolute bottom-0 right-0 block ${x[a]} rounded-full ${c[l]} ring-2 ring-white`})]})},el=({variant:t="horizontal",className:r=""})=>t==="vertical"?e.jsx("div",{className:`inline-block h-full w-px bg-gray-200 ${r}`}):e.jsx("hr",{className:`border-gray-200 ${r}`}),tl=({value:t=0,max:r=100,size:a="md",color:s="primary",showLabel:l=!1,className:o=""})=>{const i=Math.min(Math.max(t/r*100,0),100),x={sm:"h-1",md:"h-2",lg:"h-3",xl:"h-4"},c={primary:"bg-primary-500",secondary:"bg-secondary-500",success:"bg-green-500",warning:"bg-yellow-500",danger:"bg-red-500"};return e.jsxs("div",{className:o,children:[e.jsx("div",{className:`w-full bg-gray-200 rounded-full overflow-hidden ${x[a]}`,children:e.jsx("div",{className:`h-full ${c[s]} transition-all duration-300 ease-out`,style:{width:`${i}%`}})}),l&&e.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:[Math.round(i),"%"]})]})},rl=({variant:t="text",width:r,height:a,className:s=""})=>{const l={text:"h-4 rounded",circular:"rounded-full",rectangular:"rounded-lg"},o={width:r||(t==="circular"?"40px":"100%"),height:a||(t==="circular"?"40px":t==="rectangular"?"100px":"16px")};return e.jsx("div",{className:`animate-pulse bg-gray-200 ${l[t]} ${s}`,style:o})},sl=({tabs:t,activeTab:r,onChange:a,variant:s="line",className:l=""})=>{const o={line:"border-b border-gray-200",pills:"bg-gray-100 p-1 rounded-lg",enclosed:"border-b-0"},i={line:{base:"px-4 py-2 -mb-px border-b-2 font-medium text-sm transition-colors",active:"border-primary-500 text-primary-600",inactive:"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"},pills:{base:"px-4 py-2 rounded-md font-medium text-sm transition-all",active:"bg-white text-primary-600 shadow-sm",inactive:"text-gray-500 hover:text-gray-700"}};return e.jsx("div",{className:`${o[s]} ${l}`,children:e.jsx("nav",{className:"-mb-px flex space-x-4","aria-label":"Tabs",children:t.map(x=>e.jsxs("button",{onClick:()=>a(x.id),className:`
              ${i[s].base}
              ${r===x.id?i[s].active:i[s].inactive}
            `,children:[x.icon&&e.jsx("span",{className:"mr-2",children:x.icon}),x.label,x.count!==void 0&&e.jsx(vt,{size:"sm",variant:"default",className:"ml-2",children:x.count})]},x.id))})})},al=({icon:t,title:r,description:a,action:s,className:l=""})=>e.jsxs("div",{className:`text-center py-12 ${l}`,children:[t&&e.jsx("div",{className:"mx-auto h-12 w-12 text-gray-400 mb-4",children:t}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:r}),a&&e.jsx("p",{className:"text-sm text-gray-500 mb-6 max-w-md mx-auto",children:a}),s]}),rp={Button:Bt,Card:Mt,Input:qt,Select:Bs,Badge:vt,Alert:ar,Container:Ha,Heading:nr,Avatar:Kn,Divider:el,Progress:tl,Skeleton:rl,Tabs:sl,EmptyState:al},sp=Object.freeze(Object.defineProperty({__proto__:null,Alert:ar,Avatar:Kn,Badge:vt,Button:Bt,Card:Mt,Container:Ha,Divider:el,EmptyState:al,Heading:nr,Input:qt,Progress:tl,Select:Bs,Skeleton:rl,Tabs:sl,default:rp},Symbol.toStringTag,{value:"Module"})),nl=()=>{const[t,r]=n.useState("friends"),[a,s]=n.useState([]),[l,o]=n.useState([]),[i,x]=n.useState([]),[c,u]=n.useState(""),[h,d]=n.useState([]);n.useState(""),n.useState("");const[p,g]=n.useState(!0);n.useEffect(()=>{f()},[]),n.useEffect(()=>{c?w():d(a)},[c,a]);const f=async()=>{try{g(!0);const[D,F,T]=await Promise.all([tt.getFriends(),tt.getPendingRequests(),tt.getSentRequests()]);s(D||[]),d(D||[]),o(F||[]),x(T||[])}catch(D){console.error("Error loading data:",D),I.error("Failed to load friends data")}finally{g(!1)}},w=async()=>{try{const D=await tt.searchFriends(c);d(D)}catch(D){console.error("Search error:",D)}},m=async D=>{try{await tt.acceptFriendRequest(D),I.success("Friend request accepted! 🎉"),f()}catch{I.error("Failed to accept friend request")}},B=async D=>{try{await tt.declineFriendRequest(D),I.success("Friend request declined"),f()}catch{I.error("Failed to decline friend request")}},E=async D=>{if(window.confirm("Are you sure you want to remove this friend?"))try{await tt.removeFriend(D),I.success("Friend removed"),f()}catch{I.error("Failed to remove friend")}},N=async D=>{if(window.confirm("Are you sure you want to cancel this friend request?"))try{await tt.declineFriendRequest(D),I.success("Friend request cancelled"),f()}catch{I.error("Failed to cancel friend request")}};if(p)return e.jsx(Ku,{});const v=[{id:"friends",label:"Friends",icon:It,count:a.length},{id:"pending",label:"Requests",icon:hr,count:l.length},{id:"sent",label:"Sent",icon:ut,count:i.length}],j=()=>h.length===0?e.jsx("div",{className:"text-center py-16",children:e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-3xl p-12 mx-4 border border-gray-100 dark:border-gray-700",children:[e.jsx("div",{className:"text-6xl mb-4",children:"👥"}),e.jsx("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-2",children:"No friends yet"}),e.jsx("p",{className:"text-gray-500 dark:text-gray-400 mb-6",children:"Start connecting with other dog owners in your area!"}),e.jsx("button",{className:"bg-gradient-to-r from-blue-600 to-purple-600 text-white px-6 py-3 rounded-2xl font-medium hover:from-blue-700 hover:to-purple-700 transition-all duration-200",children:"Find Friends"})]})}):e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:h.map(D=>{var F,T;return e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-3xl p-6 border border-gray-100 dark:border-gray-700",children:[e.jsxs("div",{className:"flex items-center space-x-4 mb-4",children:[e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"w-14 h-14 bg-gradient-to-br from-blue-100 to-purple-100 dark:from-blue-900 dark:to-purple-900 rounded-2xl flex items-center justify-center overflow-hidden",children:D.profileImage?e.jsx("img",{src:D.profileImage,alt:D.firstName,className:"w-full h-full object-cover"}):e.jsxs("div",{className:"w-full h-full bg-gradient-to-br from-blue-400 to-purple-400 rounded-2xl flex items-center justify-center text-white font-bold text-lg",children:[(F=D.firstName)==null?void 0:F[0],(T=D.lastName)==null?void 0:T[0]]})}),e.jsx("div",{className:"absolute -bottom-1 -right-1 w-4 h-4 bg-green-400 rounded-full border-2 border-white dark:border-gray-800"})]}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("h3",{className:"font-bold text-gray-900 dark:text-white",children:[D.firstName," ",D.lastName]}),e.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:["@",D.username||"user"]})]})]}),e.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-500 dark:text-gray-400 mb-4",children:[e.jsx("span",{children:"Dog owner"}),e.jsx("span",{children:"•"}),e.jsx("span",{children:"Connected"})]}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsx(qa,{targetUser:D,className:"flex-1 justify-center",size:"sm"}),e.jsx("button",{onClick:()=>E(D._id),className:"p-2 text-gray-400 hover:text-red-500 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-xl transition-colors",title:"Remove Friend",children:e.jsx(bn,{className:"w-5 h-5"})})]})]},D._id)})}),k=()=>l.length===0?e.jsx("div",{className:"text-center py-16",children:e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-3xl p-12 mx-4 border border-gray-100 dark:border-gray-700",children:[e.jsx("div",{className:"text-6xl mb-4",children:"📩"}),e.jsx("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-2",children:"No pending requests"}),e.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"You don't have any pending friend requests"})]})}):e.jsx("div",{className:"space-y-4",children:l.map(D=>{var F,T;return e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-3xl p-6 border border-gray-100 dark:border-gray-700",children:[e.jsxs("div",{className:"flex items-center space-x-4 mb-4",children:[e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"w-14 h-14 bg-gradient-to-br from-green-100 to-blue-100 dark:from-green-900 dark:to-blue-900 rounded-2xl flex items-center justify-center overflow-hidden",children:D.requester.profileImage?e.jsx("img",{src:D.requester.profileImage,alt:D.requester.firstName,className:"w-full h-full object-cover"}):e.jsxs("div",{className:"w-full h-full bg-gradient-to-br from-green-400 to-blue-400 rounded-2xl flex items-center justify-center text-white font-bold text-lg",children:[(F=D.requester.firstName)==null?void 0:F[0],(T=D.requester.lastName)==null?void 0:T[0]]})}),e.jsx("div",{className:"absolute -top-1 -right-1 w-4 h-4 bg-green-400 rounded-full border-2 border-white dark:border-gray-800"})]}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("h3",{className:"font-bold text-gray-900 dark:text-white",children:[D.requester.firstName," ",D.requester.lastName]}),e.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:["@",D.requester.username||"user"]}),D.message&&e.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-300 mt-1 bg-gray-50 dark:bg-gray-700 rounded-lg p-2",children:['"',D.message,'"']})]})]}),e.jsxs("div",{className:"flex space-x-3",children:[e.jsxs("button",{onClick:()=>m(D._id),className:"flex-1 bg-green-500 text-white py-3 rounded-2xl font-medium hover:bg-green-600 transition-colors flex items-center justify-center space-x-2",children:[e.jsx(mr,{className:"w-4 h-4"}),e.jsx("span",{children:"Accept"})]}),e.jsxs("button",{onClick:()=>B(D._id),className:"flex-1 bg-gray-100 dark:bg-gray-700 text-gray-900 dark:text-white py-3 rounded-2xl font-medium hover:bg-gray-200 dark:hover:bg-gray-600 transition-colors flex items-center justify-center space-x-2",children:[e.jsx(he,{className:"w-4 h-4"}),e.jsx("span",{children:"Decline"})]})]})]},D._id)})}),b=()=>i.length===0?e.jsx("div",{className:"text-center py-16",children:e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-3xl p-12 mx-4 border border-gray-100 dark:border-gray-700",children:[e.jsx("div",{className:"text-6xl mb-4",children:"📤"}),e.jsx("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-2",children:"No sent requests"}),e.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"You haven't sent any friend requests yet"})]})}):e.jsx("div",{className:"space-y-4",children:i.map(D=>{var F,T;return e.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-3xl p-6 border border-gray-100 dark:border-gray-700",children:e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"w-14 h-14 bg-gradient-to-br from-yellow-100 to-orange-100 dark:from-yellow-900 dark:to-orange-900 rounded-2xl flex items-center justify-center overflow-hidden",children:D.recipient.profileImage?e.jsx("img",{src:D.recipient.profileImage,alt:D.recipient.firstName,className:"w-full h-full object-cover"}):e.jsxs("div",{className:"w-full h-full bg-gradient-to-br from-yellow-400 to-orange-400 rounded-2xl flex items-center justify-center text-white font-bold text-lg",children:[(F=D.recipient.firstName)==null?void 0:F[0],(T=D.recipient.lastName)==null?void 0:T[0]]})}),e.jsx("div",{className:"absolute -top-1 -right-1 w-4 h-4 bg-yellow-400 rounded-full border-2 border-white dark:border-gray-800"})]}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("h3",{className:"font-bold text-gray-900 dark:text-white",children:[D.recipient.firstName," ",D.recipient.lastName]}),e.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:["@",D.recipient.username||"user"]}),e.jsx("p",{className:"text-xs text-yellow-600 dark:text-yellow-400 mt-1",children:"Request pending..."})]}),e.jsx("button",{onClick:()=>N(D._id),className:"p-2 text-gray-400 hover:text-red-500 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-xl transition-colors",title:"Cancel Request",children:e.jsx(he,{className:"w-5 h-5"})})]})},D._id)})}),C=()=>{switch(t){case"friends":return j();case"pending":return k();case"sent":return b();default:return j()}};return e.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900",children:e.jsxs("div",{className:"max-w-lg mx-auto lg:max-w-7xl",children:[e.jsxs("div",{className:"lg:hidden bg-gradient-to-br from-cyan-600 via-blue-600 to-indigo-700 dark:from-cyan-700 dark:via-blue-700 dark:to-indigo-800 mx-4 mt-4 rounded-3xl p-6 text-white",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold",children:"Social Hub 🤝"}),e.jsx("p",{className:"text-cyan-100 dark:text-cyan-200",children:"Connect with fellow dog lovers"})]}),e.jsx("div",{className:"text-right",children:e.jsx("div",{className:"text-3xl",children:"👥"})})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[e.jsxs("div",{className:"bg-white bg-opacity-20 rounded-2xl p-3 text-center",children:[e.jsx("div",{className:"text-lg font-bold",children:a.length}),e.jsx("div",{className:"text-xs text-cyan-100 dark:text-cyan-200",children:"Friends"})]}),e.jsxs("div",{className:"bg-white bg-opacity-20 rounded-2xl p-3 text-center",children:[e.jsx("div",{className:"text-lg font-bold",children:l.length}),e.jsx("div",{className:"text-xs text-cyan-100 dark:text-cyan-200",children:"Requests"})]}),e.jsxs("div",{className:"bg-white bg-opacity-20 rounded-2xl p-3 text-center",children:[e.jsx("div",{className:"text-lg font-bold",children:i.length}),e.jsx("div",{className:"text-xs text-cyan-100 dark:text-cyan-200",children:"Sent"})]})]})]}),e.jsxs("div",{className:"px-4 py-6",children:[t==="friends"&&e.jsxs("div",{className:"relative mb-6",children:[e.jsx(_t,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),e.jsx("input",{type:"text",placeholder:"Search friends...",value:c,onChange:D=>u(D.target.value),className:"w-full pl-12 pr-4 py-3 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-2xl text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),e.jsx("div",{className:"flex space-x-1 bg-gray-100 dark:bg-gray-800 rounded-2xl p-1 mb-6",children:v.map(D=>{const F=D.icon;return e.jsxs("button",{onClick:()=>r(D.id),className:`flex-1 flex items-center justify-center space-x-2 py-3 px-4 rounded-xl font-medium transition-all duration-200 ${t===D.id?"bg-white dark:bg-gray-700 text-blue-600 dark:text-blue-400 shadow-sm":"text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-300"}`,children:[e.jsx(F,{className:"w-4 h-4"}),e.jsx("span",{className:"text-sm",children:D.label}),D.count>0&&e.jsx("span",{className:`text-xs px-2 py-0.5 rounded-full ${t===D.id?"bg-blue-100 dark:bg-blue-900 text-blue-600 dark:text-blue-400":"bg-gray-200 dark:bg-gray-600 text-gray-600 dark:text-gray-300"}`,children:D.count})]},D.id)})}),C()]}),e.jsx("div",{className:"hidden lg:block px-8 py-8",children:e.jsx("div",{className:"text-center text-gray-500 dark:text-gray-400",children:"Desktop Friends layout coming soon..."})})]})})},ll=Object.freeze(Object.defineProperty({__proto__:null,default:nl},Symbol.toStringTag,{value:"Module"})),ds={async rateDog(t,r,a){try{return(await Q.post("/dog-ratings",{dogId:t,ratings:r,comment:a})).data}catch(s){throw console.error("Error rating dog:",s),s}},async getDogRatings(t,r=1,a=10){try{return(await Q.get(`/dog-ratings/dog/${t}?page=${r}&limit=${a}`)).data}catch(s){throw console.error("Error fetching dog ratings:",s),s}},async getUserRating(t){try{return(await Q.get(`/dog-ratings/dog/${t}/user`)).data}catch(r){throw console.error("Error fetching user rating:",r),r}},async getUserRatings(t=1,r=10){try{return(await Q.get(`/dog-ratings/user?page=${t}&limit=${r}`)).data}catch(a){throw console.error("Error fetching user ratings:",a),a}},async deleteRating(t){try{return(await Q.delete(`/dog-ratings/${t}`)).data}catch(r){throw console.error("Error deleting rating:",r),r}},async getTopRatedDogs(t=10,r="overall"){try{return(await Q.get(`/dog-ratings/top-rated?limit=${t}&category=${r}`)).data}catch(a){throw console.error("Error fetching top-rated dogs:",a),a}},async getMostPopularDogs(t=10){try{return(await Q.get(`/dog-ratings/most-popular?limit=${t}`)).data}catch(r){throw console.error("Error fetching most popular dogs:",r),r}},async getRatingStats(t){try{return(await Q.get(`/dog-ratings/dog/${t}/stats`)).data}catch(r){throw console.error("Error fetching rating stats:",r),r}}},ap=({dog:t})=>{if(!t.customProfile||!t.customProfile.enabled)return null;const r=(l,o)=>{var u,h,d;let i=l;i=i.replace(/{name}/g,o.name||""),i=i.replace(/{breed}/g,o.breed||""),i=i.replace(/{age}/g,o.age||""),i=i.replace(/{size}/g,o.size||""),i=i.replace(/{description}/g,o.description||"No description available");const x=o.image||o.images&&o.images[0]||o.gallery&&o.gallery[0]||"https://via.placeholder.com/200x200?text=🐕";i=i.replace(/{image}/g,x);const c=o.gallery||[];for(let p=0;p<=10;p++){const g=new RegExp(`\\{gallery\\[${p}\\]\\}`,"g"),f=c[p]||"";i=i.replace(g,f)}for(let p=0;p<=10;p++){const g=new RegExp(`\\{gallery\\.${p}\\}`,"g");i=i.replace(g,c[p]||"")}return i=i.replace(/{gallery}/g,c[0]||""),(!c||c.length===0)&&(i=i.replace(/<div class="[^"]*gallery-section[^"]*">.*?<\/div>/gs,""),i=i.replace(/<div class="[^"]*gallery-card[^"]*">.*?<\/div>/gs,""),i=i.replace(/<section class="[^"]*gallery-section[^"]*">.*?<\/section>/gs,""),i=i.replace(/<div class="[^"]*fun-section[^"]*">\s*<h2[^>]*>📸[^<]*<\/h2>.*?<\/div>/gs,"")),o.personality&&(i=i.replace(/{personality\.friendly}/g,o.personality.friendly||3),i=i.replace(/{personality\.energetic}/g,o.personality.energetic||3),i=i.replace(/{personality\.social}/g,o.personality.social||3)),o.medicalInfo&&(i=i.replace(/{medicalInfo\.vaccinated}/g,o.medicalInfo.vaccinated||!1)),i=i.replace(/{medicalInfo\.vaccinated \? '([^']+)' : '([^']+)'}/g,(p,g,f)=>{var w;return(w=o.medicalInfo)!=null&&w.vaccinated?g:f}),i=i.replace(/{medicalInfo\.vaccinated \? '([^']+)' : '([^']+)'}/g,(p,g,f)=>{var w;return(w=o.medicalInfo)!=null&&w.vaccinated?g:f}),i=i.replace(/{personality\.friendly >= (\d+) \? '([^']+)' : '([^']*)'}/g,(p,g,f,w)=>{var m;return(((m=o.personality)==null?void 0:m.friendly)||0)>=parseInt(g)?f:w}),i=i.replace(/{personality\.energetic >= (\d+) \? '([^']+)' : '([^']*)'}/g,(p,g,f,w)=>{var m;return(((m=o.personality)==null?void 0:m.energetic)||0)>=parseInt(g)?f:w}),i=i.replace(/{personality\.social >= (\d+) \? '([^']+)' : '([^']*)'}/g,(p,g,f,w)=>{var m;return(((m=o.personality)==null?void 0:m.social)||0)>=parseInt(g)?f:w}),i=i.replace(/calc\(\{personality\.friendly\} \* 20%\)/g,`${(((u=o.personality)==null?void 0:u.friendly)||0)*20}%`),i=i.replace(/calc\(\{personality\.energetic\} \* 20%\)/g,`${(((h=o.personality)==null?void 0:h.energetic)||0)*20}%`),i=i.replace(/calc\(\{personality\.social\} \* 20%\)/g,`${(((d=o.personality)==null?void 0:d.social)||0)*20}%`),i},a=r(t.customProfile.html,t),s=r(t.customProfile.css,t);return e.jsxs("div",{className:"custom-dog-profile",children:[e.jsx("style",{dangerouslySetInnerHTML:{__html:s}}),e.jsx("div",{dangerouslySetInnerHTML:{__html:a}})]})},np=()=>{var H;const{id:t}=Vt(),r=we(),{user:a}=pe(),[s,l]=n.useState(null),[o,i]=n.useState(null),[x,c]=n.useState(!1),[u,h]=n.useState([]),[d,p]=n.useState(null),[g,f]=n.useState(null),[w,m]=n.useState(!1),[B,E]=n.useState({playfulness:5,friendliness:5,energy:5,obedience:5,cuteness:5,comment:""}),[N,v]=n.useState(!1);n.useEffect(()=>{j()},[t]),n.useEffect(()=>{s&&s.owner&&a&&s.owner._id!==a._id&&D()},[s,a]),n.useEffect(()=>{s&&t&&(k(),b(),a&&s.owner._id!==a._id&&C())},[s,t,a]);const j=async()=>{var P;try{const G=await it.getDogPublicProfile(t);l(G)}catch(G){console.error("Error loading dog profile:",G),((P=G.response)==null?void 0:P.status)===403?I.error("This profile is private"):I.error("Failed to load dog profile"),r(-1)}},k=async()=>{try{const P=await ds.getDogRatings(t);h(P.ratings||[])}catch(P){console.error("Error loading ratings:",P)}},b=async()=>{try{const P=await ds.getRatingStats(t);f(P)}catch(P){console.error("Error loading rating stats:",P)}},C=async()=>{try{const P=await ds.getUserRating(t);p(P)}catch(P){console.error("Error loading user rating:",P)}},D=async()=>{try{const P=await tt.getFriendshipStatus(s.owner._id);i(P)}catch(P){console.error("Error loading friendship status:",P)}},F=async()=>{c(!0);try{await tt.sendFriendRequest(s.owner._id,`Hi! I'd love to connect through our dogs ${s.name} and meet up for playdates! 🐕`),I.success("Friend request sent! 🎉"),await D()}catch(P){I.error(P.message||"Failed to send friend request")}finally{c(!1)}},T=async()=>{c(!0);try{await tt.acceptFriendRequest(o.friendship._id),I.success("Friend request accepted! 🎉"),await D()}catch(P){I.error(P.message||"Failed to accept friend request")}finally{c(!1)}},A=async()=>{c(!0);try{await tt.declineFriendRequest(o.friendship._id),I.success("Friend request declined"),await D()}catch(P){I.error(P.message||"Failed to decline friend request")}finally{c(!1)}},R=async()=>{if(window.confirm("Are you sure you want to remove this friend?")){c(!0);try{await tt.removeFriend(s.owner._id),I.success("Friend removed"),await D()}catch(P){I.error(P.message||"Failed to remove friend")}finally{c(!1)}}},M=async()=>{if(!(!a||s.owner._id===a._id)){v(!0);try{const{comment:P,...G}=B;await ds.rateDog(t,G,P),I.success("Rating submitted successfully!"),m(!1),await k(),await b(),await C()}catch(P){I.error(P.message||"Failed to submit rating")}finally{v(!1)}}},_=P=>[...Array(5)].map((G,z)=>e.jsx(pr,{className:`h-4 w-4 ${z<P?"text-yellow-400":"text-gray-300"}`},z)),q=()=>!a||s.owner._id===a._id||!w||(o==null?void 0:o.status)!=="accepted"?null:e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl md:rounded-3xl shadow-lg border border-gray-100 dark:border-gray-700 p-4 md:p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("h3",{className:"text-lg font-bold text-gray-900 dark:text-white",children:["Rate ",s.name]}),e.jsx("button",{onClick:()=>m(!1),className:"text-gray-400 hover:text-gray-600",children:e.jsx(he,{className:"h-5 w-5"})})]}),e.jsxs("div",{className:"space-y-4",children:[Object.entries(B).filter(([P])=>P!=="comment").map(([P,G])=>e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 capitalize",children:P}),e.jsx("div",{className:"flex items-center space-x-2",children:[1,2,3,4,5].map(z=>e.jsx("button",{onClick:()=>E(O=>({...O,[P]:z})),className:"focus:outline-none",children:e.jsx(pr,{className:`h-6 w-6 ${z<=G?"text-yellow-400":"text-gray-300"} hover:text-yellow-400 transition-colors`})},z))})]},P)),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Comment (optional)"}),e.jsx("textarea",{value:B.comment,onChange:P=>E(G=>({...G,comment:P.target.value})),rows:3,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500 dark:bg-gray-700 dark:text-white",placeholder:"Tell us about your experience with this dog..."})]}),e.jsxs("div",{className:"flex space-x-3",children:[e.jsx("button",{onClick:M,disabled:N,className:"flex-1 bg-purple-600 text-white py-2 px-4 rounded-lg hover:bg-purple-700 disabled:opacity-50 transition-colors",children:N?"Submitting...":"Submit Rating"}),e.jsx("button",{onClick:()=>m(!1),className:"px-4 py-2 text-gray-600 hover:text-gray-800 transition-colors",children:"Cancel"})]})]})]}),U=()=>{if(!a||!s.owner||s.owner._id===a._id)return null;if(!o)return e.jsxs("button",{onClick:F,disabled:x,className:"flex items-center px-4 py-2 bg-gradient-to-r from-purple-600 to-pink-600 text-white font-medium rounded-xl hover:from-purple-700 hover:to-pink-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-purple-500 transition-all duration-200 transform hover:scale-105 disabled:opacity-50",children:[e.jsx(hr,{className:"h-5 w-5 mr-2"}),x?"Sending...":"Add Friend"]});switch(o.status){case"pending":return o.isRequester?e.jsxs("div",{className:"flex items-center px-4 py-2 bg-yellow-100 dark:bg-yellow-900/30 text-yellow-800 dark:text-yellow-200 rounded-xl",children:[e.jsx(Le,{className:"h-5 w-5 mr-2"}),"Waiting for approval"]}):e.jsxs("div",{className:"flex space-x-2",children:[e.jsxs("button",{onClick:T,disabled:x,className:"flex items-center px-4 py-2 bg-green-600 text-white font-medium rounded-xl hover:bg-green-700 transition-colors disabled:opacity-50",children:[e.jsx(mr,{className:"h-5 w-5 mr-2"}),"Accept"]}),e.jsxs("button",{onClick:A,disabled:x,className:"flex items-center px-4 py-2 bg-gray-600 text-white font-medium rounded-xl hover:bg-gray-700 transition-colors disabled:opacity-50",children:[e.jsx(he,{className:"h-5 w-5 mr-2"}),"Decline"]})]});case"accepted":return e.jsxs("div",{className:"flex space-x-2",children:[e.jsxs("div",{className:"flex items-center px-4 py-2 bg-green-100 text-green-800 rounded-xl",children:[e.jsx(Oe,{className:"h-5 w-5 mr-2"}),"Friends"]}),e.jsx("button",{onClick:R,disabled:x,className:"flex items-center px-3 py-2 text-gray-600 hover:text-red-600 hover:bg-red-50 rounded-xl transition-colors disabled:opacity-50",title:"Remove Friend",children:e.jsx(bn,{className:"h-5 w-5"})})]});default:return e.jsxs("button",{onClick:F,disabled:x,className:"flex items-center px-4 py-2 bg-gradient-to-r from-purple-600 to-pink-600 text-white font-medium rounded-xl hover:from-purple-700 hover:to-pink-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-purple-500 transition-all duration-200 transform hover:scale-105 disabled:opacity-50",children:[e.jsx(hr,{className:"h-5 w-5 mr-2"}),x?"Sending...":"Add Friend"]})}},L=()=>e.jsx(ap,{dog:s}),S=()=>{var P,G,z;return e.jsxs("div",{className:"w-full",children:[e.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-2xl md:rounded-3xl shadow-lg border border-gray-100 dark:border-gray-700 overflow-hidden mb-4 md:mb-6",children:e.jsxs("div",{className:"relative h-48 md:h-64 bg-gradient-to-br from-purple-400 via-pink-400 to-indigo-400",children:[e.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-20"}),e.jsx("div",{className:"absolute bottom-4 md:bottom-6 left-4 md:left-6 right-4 md:right-6",children:e.jsxs("div",{className:"flex items-end space-x-4 md:space-x-6",children:[e.jsxs("div",{className:"relative",children:[s.image||(P=s.images)!=null&&P[0]?e.jsx("img",{src:s.image||s.images[0],alt:s.name,className:"w-20 h-20 md:w-32 md:h-32 rounded-xl md:rounded-2xl object-cover border-4 border-white shadow-lg"}):e.jsx("div",{className:"w-20 h-20 md:w-32 md:h-32 rounded-xl md:rounded-2xl bg-white bg-opacity-20 flex items-center justify-center border-4 border-white shadow-lg",children:e.jsx("span",{className:"text-4xl md:text-6xl",children:"🐕"})}),e.jsx("div",{className:"absolute -top-1 -right-1 md:-top-2 md:-right-2 bg-green-400 w-4 h-4 md:w-6 md:h-6 rounded-full border-2 border-white"})]}),e.jsxs("div",{className:"flex-1 text-white",children:[e.jsx("h1",{className:"text-2xl md:text-4xl font-bold mb-2",children:s.name}),e.jsxs("div",{className:"flex flex-wrap items-center gap-2 md:gap-4 text-sm md:text-lg",children:[e.jsx("span",{className:"bg-white bg-opacity-20 px-2 py-1 md:px-3 md:py-1 rounded-full",children:s.breed}),e.jsxs("span",{className:"bg-white bg-opacity-20 px-2 py-1 md:px-3 md:py-1 rounded-full",children:[s.age," months old"]}),e.jsxs("span",{className:"bg-white bg-opacity-20 px-2 py-1 md:px-3 md:py-1 rounded-full capitalize",children:[s.size," size"]})]}),s.weight&&e.jsxs("p",{className:"text-white text-opacity-90 mt-2 text-sm md:text-base",children:[s.weight," kg"]})]})]})})]})}),g&&g.averageRatings&&e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-3xl shadow-lg border border-gray-100 dark:border-gray-700 p-4 md:p-6 mb-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("h2",{className:"text-lg md:text-xl font-bold text-gray-900 dark:text-white flex items-center",children:[e.jsx(ot,{className:"h-5 w-5 md:h-6 md:w-6 mr-2 text-yellow-500"}),"Dog Rating"]}),a&&s.owner._id!==a._id&&(o==null?void 0:o.status)==="accepted"&&e.jsxs("button",{onClick:()=>m(!0),className:"flex items-center px-3 md:px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition-colors text-sm",children:[e.jsx(We,{className:"h-4 w-4 mr-1"}),e.jsx("span",{className:"hidden sm:inline",children:"Rate Dog"}),e.jsx("span",{className:"sm:hidden",children:"Rate"})]})]}),e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-3 md:gap-4 mb-4",children:Object.entries(g.averageRatings).filter(([O])=>O!=="overall").map(([O,Y])=>e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-xs md:text-sm text-gray-600 dark:text-gray-400 capitalize mb-1",children:O}),e.jsx("div",{className:"flex justify-center mb-1",children:_(Math.round(Y))}),e.jsxs("div",{className:"text-xs text-gray-500",children:[Y.toFixed(1),"/5"]})]},O))}),e.jsxs("div",{className:"text-center text-sm text-gray-500",children:["Based on ",g.totalRatings||0," ratings"]}),a&&s.owner._id!==a._id&&(o==null?void 0:o.status)!=="accepted"&&e.jsx("div",{className:"mt-4 p-3 bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg",children:e.jsx("p",{className:"text-sm text-blue-800 dark:text-blue-200 text-center",children:"👥 Only friends can rate this dog. Send a friend request to rate!"})})]}),q(),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4 md:gap-6 lg:gap-8",children:[e.jsxs("div",{className:"lg:col-span-2 space-y-4 md:space-y-6 lg:space-y-8",children:[s.description&&e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl md:rounded-3xl shadow-lg border border-gray-100 dark:border-gray-700 p-4 md:p-6",children:[e.jsxs("h2",{className:"text-lg md:text-xl font-bold text-gray-900 dark:text-white mb-4 flex items-center",children:[e.jsx(Re,{className:"h-5 w-5 md:h-6 md:w-6 mr-2 text-pink-500"}),"About ",s.name]}),e.jsx("p",{className:"text-gray-700 dark:text-gray-300 leading-relaxed text-sm md:text-base",children:s.description})]}),s.personality&&e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl md:rounded-3xl shadow-lg border border-gray-100 dark:border-gray-700 p-4 md:p-6",children:[e.jsxs("h2",{className:"text-lg md:text-xl font-bold text-gray-900 dark:text-white mb-4 md:mb-6 flex items-center",children:[e.jsx(We,{className:"h-5 w-5 md:h-6 md:w-6 mr-2 text-yellow-500"}),"Personality Traits"]}),e.jsx("div",{className:"space-y-4",children:Object.entries(s.personality).filter(([O])=>O!=="aggressive").map(([O,Y])=>e.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700 rounded-xl md:rounded-2xl p-3 md:p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:"font-medium text-gray-900 dark:text-white capitalize text-sm md:text-base",children:O}),e.jsxs("span",{className:"text-xs md:text-sm font-bold text-gray-600 dark:text-gray-400",children:[Y,"/5"]})]}),e.jsx("div",{className:"w-full bg-gray-200 dark:bg-gray-600 rounded-full h-2 md:h-3",children:e.jsx("div",{className:"bg-gradient-to-r from-purple-500 to-pink-500 h-2 md:h-3 rounded-full transition-all duration-500",style:{width:`${Y/5*100}%`}})})]},O))})]}),s.gallery&&s.gallery.length>0&&e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-3xl shadow-lg border border-gray-100 dark:border-gray-700 p-6",children:[e.jsxs("h2",{className:"text-xl font-bold text-gray-900 dark:text-white mb-6 flex items-center",children:[e.jsx(Ls,{className:"h-6 w-6 mr-2 text-indigo-500"}),"Photo Gallery"]}),e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:s.gallery.map((O,Y)=>e.jsx("img",{src:O,alt:`${s.name} gallery ${Y+1}`,className:"w-full h-32 object-cover rounded-2xl border border-gray-200 dark:border-gray-600 hover:scale-105 transition-transform duration-200",onError:X=>{X.target.style.display="none"}},Y))})]}),u&&u.length>0&&e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-3xl shadow-lg border border-gray-100 dark:border-gray-700 p-4 md:p-6",children:[e.jsxs("h2",{className:"text-lg md:text-xl font-bold text-gray-900 dark:text-white mb-4 flex items-center",children:[e.jsx(cn,{className:"h-5 w-5 md:h-6 md:w-6 mr-2 text-blue-500"}),"What Others Say"]}),e.jsx("div",{className:"space-y-4",children:u.slice(0,5).map((O,Y)=>{var X,ae,me;return e.jsx("div",{className:"border-b border-gray-200 dark:border-gray-700 last:border-b-0 pb-4 last:pb-0",children:e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx("div",{className:"w-8 h-8 bg-gradient-to-br from-purple-400 to-pink-400 rounded-full flex items-center justify-center text-white font-bold text-sm",children:((ae=(X=O.ratedBy)==null?void 0:X.firstName)==null?void 0:ae[0])||"A"}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[e.jsx("span",{className:"font-medium text-gray-900 dark:text-white text-sm",children:((me=O.ratedBy)==null?void 0:me.firstName)||"Anonymous"}),e.jsx("div",{className:"flex",children:_(O.averageRating)})]}),O.comment&&e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-2",children:O.comment}),e.jsx("div",{className:"flex flex-wrap gap-2 text-xs",children:Object.entries(O.ratings).map(([de,Ce])=>e.jsxs("span",{className:"px-2 py-1 bg-gray-100 dark:bg-gray-700 rounded-full text-gray-700 dark:text-gray-300",children:[de,": ",Ce,"/5"]},de))})]})]})},Y)})}),u.length>5&&e.jsx("div",{className:"text-center mt-4",children:e.jsxs("button",{className:"text-purple-600 hover:text-purple-800 text-sm font-medium",children:["Show all ",u.length," ratings"]})})]})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-3xl shadow-lg border border-gray-100 dark:border-gray-700 p-6",children:[e.jsx("h3",{className:"text-lg font-bold text-gray-900 dark:text-white mb-4",children:"Dog Owner"}),e.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[e.jsxs("div",{className:"w-12 h-12 bg-gradient-to-br from-purple-400 to-pink-400 rounded-full flex items-center justify-center text-white font-bold text-lg",children:[(G=s.owner.firstName)==null?void 0:G[0],(z=s.owner.lastName)==null?void 0:z[0]]}),e.jsxs("div",{children:[e.jsxs("p",{className:"font-medium text-gray-900 dark:text-white",children:[s.owner.firstName," ",s.owner.lastName]}),e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Dog Parent"})]})]}),e.jsxs("div",{className:"space-y-3",children:[U(),a&&s.owner._id!==a._id&&(o==null?void 0:o.status)==="accepted"&&e.jsx(qa,{targetUser:s.owner,className:"w-full justify-center"})]})]}),s.medicalInfo&&e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-3xl shadow-lg border border-gray-100 dark:border-gray-700 p-6",children:[e.jsxs("h3",{className:"text-lg font-bold text-gray-900 dark:text-white mb-4 flex items-center",children:[e.jsx(gr,{className:"h-5 w-5 mr-2 text-green-500"}),"Health Status"]}),e.jsxs("div",{className:`flex items-center space-x-3 p-4 rounded-2xl ${s.medicalInfo.vaccinated?"bg-green-50 dark:bg-green-900/20":"bg-yellow-50 dark:bg-yellow-900/20"}`,children:[e.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center ${s.medicalInfo.vaccinated?"bg-green-100 dark:bg-green-800":"bg-yellow-100 dark:bg-yellow-800"}`,children:e.jsx("span",{className:"text-xl",children:s.medicalInfo.vaccinated?"✅":"⏰"})}),e.jsxs("div",{children:[e.jsx("p",{className:`font-medium ${s.medicalInfo.vaccinated?"text-green-800 dark:text-green-200":"text-yellow-800 dark:text-yellow-200"}`,children:s.medicalInfo.vaccinated?"Fully Vaccinated":"Vaccination Pending"}),e.jsx("p",{className:`text-sm ${s.medicalInfo.vaccinated?"text-green-600 dark:text-green-400":"text-yellow-600 dark:text-yellow-400"}`,children:s.medicalInfo.vaccinated?"Safe for playdates":"Check with owner"})]})]})]}),e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-3xl shadow-lg border border-gray-100 dark:border-gray-700 p-6",children:[e.jsx("h3",{className:"text-lg font-bold text-gray-900 dark:text-white mb-4",children:"Quick Stats"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Age"}),e.jsxs("span",{className:"font-medium text-gray-900 dark:text-white",children:[s.age," months"]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Size"}),e.jsx("span",{className:"font-medium text-gray-900 dark:text-white capitalize",children:s.size})]}),s.weight&&e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Weight"}),e.jsxs("span",{className:"font-medium text-gray-900 dark:text-white",children:[s.weight," kg"]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Gender"}),e.jsx("span",{className:"font-medium text-gray-900 dark:text-white capitalize",children:s.gender||"Not specified"})]})]})]})]})]})]})};return s?e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-purple-50 via-white to-pink-50 dark:from-gray-900 dark:via-gray-800 dark:to-gray-900",children:e.jsx("div",{className:"px-4 py-4 md:py-6 lg:py-8",children:e.jsxs("div",{className:"max-w-6xl mx-auto",children:[e.jsxs("button",{onClick:()=>r(-1),className:"mb-4 md:mb-6 inline-flex items-center text-sm text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white transition-colors",children:[e.jsx(Ue,{className:"h-4 w-4 mr-2"}),"Go back"]}),(H=s.customProfile)!=null&&H.enabled?L():S()]})})}):null},lp=async()=>{try{const[t,r,a,s]=await Promise.all([ve(()=>import("./default-2043f5ca.js"),[]),ve(()=>import("./modern-ad3a2ca6.js"),[]),ve(()=>import("./playful-1ed0ba34.js"),[]),ve(()=>import("./elegant-195ff9bd.js"),[])]);return[t.default,r.default,a.default,s.default]}catch(t){return console.error("Error loading templates:",t),op()}},op=()=>[{id:"default",name:"Default App Design",description:"Clean and consistent with the main app design",isDefault:!0,category:"minimal",tags:["clean","modern","app-style"],html:`<div class="default-profile">
        <div class="profile-header">
          <div class="profile-image-wrapper">
            <img src="{image}" alt="{name}" class="profile-image" onerror="this.src='https://via.placeholder.com/200x200?text=🐕'">
          </div>
          <div class="profile-info">
            <h1 class="profile-name">{name}</h1>
            <div class="profile-details">
              <span class="detail-item">{breed}</span>
              <span class="detail-separator">•</span>
              <span class="detail-item">{age} months old</span>
              <span class="detail-separator">•</span>
              <span class="detail-item">{size} size</span>
            </div>
          </div>
        </div>
        <div class="profile-content">
          <div class="content-section">
            <h2 class="section-title">About {name}</h2>
            <p class="section-text">{description}</p>
          </div>
          <div class="content-section">
            <h2 class="section-title">Personality Traits</h2>
            <div class="traits-grid">
              <div class="trait-item">
                <div class="trait-header">
                  <span class="trait-label">Friendly</span>
                  <span class="trait-score">{personality.friendly}/5</span>
                </div>
                <div class="trait-bar">
                  <div class="trait-fill" style="width: calc({personality.friendly} * 20%)"></div>
                </div>
              </div>
              <div class="trait-item">
                <div class="trait-header">
                  <span class="trait-label">Energetic</span>
                  <span class="trait-score">{personality.energetic}/5</span>
                </div>
                <div class="trait-bar">
                  <div class="trait-fill" style="width: calc({personality.energetic} * 20%)"></div>
                </div>
              </div>
              <div class="trait-item">
                <div class="trait-header">
                  <span class="trait-label">Social</span>
                  <span class="trait-score">{personality.social}/5</span>
                </div>
                <div class="trait-bar">
                  <div class="trait-fill" style="width: calc({personality.social} * 20%)"></div>
                </div>
              </div>
            </div>
          </div>
          <div class="content-section">
            <h2 class="section-title">Health Information</h2>
            <div class="health-status {medicalInfo.vaccinated ? 'healthy' : 'pending'}">
              <div class="health-icon">
                {medicalInfo.vaccinated ? '✅' : '⏳'}
              </div>
              <div class="health-text">
                {medicalInfo.vaccinated ? 'Fully Vaccinated' : 'Vaccination Pending'}
              </div>
            </div>
          </div>
        </div>
      </div>`,css:`.default-profile {
        max-width: 800px;
        margin: 0 auto;
        padding: 2rem;
        font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
        background: #f9fafb;
        min-height: 100vh;
        color: #111827;
      }
      
      .profile-header {
        background: white;
        border-radius: 12px;
        padding: 2rem;
        margin-bottom: 2rem;
        box-shadow: 0 1px 3px 0 rgba(0, 0, 0, 0.1), 0 1px 2px 0 rgba(0, 0, 0, 0.06);
        display: flex;
        align-items: center;
        gap: 2rem;
      }
      
      .profile-image-wrapper {
        flex-shrink: 0;
      }
      
      .profile-image {
        width: 160px;
        height: 160px;
        border-radius: 50%;
        object-fit: cover;
        border: 4px solid #e5e7eb;
      }
      
      .profile-info {
        flex: 1;
      }
      
      .profile-name {
        font-size: 2.25rem;
        font-weight: 700;
        color: #111827;
        margin: 0 0 1rem 0;
        line-height: 1.2;
      }
      
      .profile-details {
        display: flex;
        align-items: center;
        gap: 0.5rem;
        font-size: 1.125rem;
        color: #6b7280;
      }
      
      .detail-item {
        font-weight: 500;
      }
      
      .detail-separator {
        color: #d1d5db;
      }
      
      .profile-content {
        display: grid;
        gap: 2rem;
      }
      
      .content-section {
        background: white;
        border-radius: 12px;
        padding: 2rem;
        box-shadow: 0 1px 3px 0 rgba(0, 0, 0, 0.1), 0 1px 2px 0 rgba(0, 0, 0, 0.06);
      }
      
      .section-title {
        font-size: 1.5rem;
        font-weight: 600;
        color: #111827;
        margin: 0 0 1.5rem 0;
        border-bottom: 2px solid #f3f4f6;
        padding-bottom: 0.5rem;
      }
      
      .section-text {
        font-size: 1rem;
        line-height: 1.6;
        color: #4b5563;
        margin: 0;
      }
      
      .traits-grid {
        display: grid;
        gap: 1.5rem;
      }
      
      .trait-item {
        display: grid;
        gap: 0.75rem;
      }
      
      .trait-header {
        display: flex;
        justify-content: space-between;
        align-items: center;
      }
      
      .trait-label {
        font-weight: 500;
        color: #374151;
        font-size: 1rem;
      }
      
      .trait-score {
        font-weight: 600;
        color: #3b82f6;
        font-size: 0.875rem;
      }
      
      .trait-bar {
        height: 8px;
        background: #f3f4f6;
        border-radius: 4px;
        overflow: hidden;
      }
      
      .trait-fill {
        height: 100%;
        background: linear-gradient(90deg, #3b82f6, #1d4ed8);
        border-radius: 4px;
        transition: width 0.5s ease;
      }
      
      .health-status {
        display: flex;
        align-items: center;
        gap: 1rem;
        padding: 1.5rem;
        border-radius: 8px;
        border: 2px solid;
      }
      
      .health-status.healthy {
        background: #f0fdf4;
        border-color: #22c55e;
        color: #166534;
      }
      
      .health-status.pending {
        background: #fefce8;
        border-color: #eab308;
        color: #a16207;
      }
      
      .health-icon {
        font-size: 1.5rem;
      }
      
      .health-text {
        font-weight: 500;
        font-size: 1rem;
      }
      
      @media (max-width: 768px) {
        .default-profile {
          padding: 1rem;
        }
        
        .profile-header {
          flex-direction: column;
          text-align: center;
          gap: 1.5rem;
        }
        
        .profile-name {
          font-size: 1.875rem;
        }
        
        .profile-details {
          justify-content: center;
          flex-wrap: wrap;
        }
      }`}],ol=({initialHtml:t="",initialCss:r="",onSave:a,requiredFields:s=[],type:l="dog"})=>{const[o,i]=n.useState(t),[x,c]=n.useState(r),[u,h]=n.useState(!1),[d,p]=n.useState(!1),[g,f]=n.useState(!1),[w,m]=n.useState([]),[B,E]=n.useState(!0),N=re.useMemo(()=>{const T=localStorage.getItem("currentDogData");if(T)try{const A=JSON.parse(T);return{name:A.name||"Buddy",breed:A.breed||"Golden Retriever",age:A.age||24,size:A.size||"large",description:A.description||"A friendly and energetic dog who loves to play fetch and swim.",image:A.image||(A.gallery&&A.gallery.length>0?A.gallery[0]:"https://images.unsplash.com/photo-1552053831-71594a27632d?w=400&h=400&fit=crop&crop=face"),gallery:A.gallery||[],personality:A.personality||{friendly:5,energetic:4,social:5},medicalInfo:A.medicalInfo||{vaccinated:!0}}}catch(A){console.error("Error parsing dog data:",A)}return{name:"Buddy",breed:"Golden Retriever",age:24,size:"large",description:"A friendly and energetic dog who loves to play fetch and swim. Great with kids and other dogs.",image:"https://images.unsplash.com/photo-1552053831-71594a27632d?w=400&h=400&fit=crop&crop=face",gallery:["https://images.unsplash.com/photo-1552053831-71594a27632d?w=400&h=400&fit=crop&crop=face","https://images.unsplash.com/photo-1543466835-00a7907e9de1?w=400&h=400&fit=crop&crop=face"],personality:{friendly:5,energetic:4,social:5},medicalInfo:{vaccinated:!0}}},[]),v=(T,A=N)=>{var _,q,U;let R=T;R=R.replace(/{name}/g,A.name||""),R=R.replace(/{breed}/g,A.breed||""),R=R.replace(/{age}/g,A.age||""),R=R.replace(/{size}/g,A.size||""),R=R.replace(/{description}/g,A.description||"No description available"),R=R.replace(/{image}/g,A.image||y);const M=A.gallery||[];for(let L=0;L<=10;L++){const S=new RegExp(`\\{gallery\\[${L}\\]\\}`,"g");R=R.replace(S,M[L]||"")}for(let L=0;L<=10;L++){const S=new RegExp(`\\{gallery\\.${L}\\}`,"g");R=R.replace(S,M[L]||"")}return R=R.replace(/{gallery}/g,M[0]||""),A.personality&&(R=R.replace(/{personality\.friendly}/g,A.personality.friendly||3),R=R.replace(/{personality\.energetic}/g,A.personality.energetic||3),R=R.replace(/{personality\.social}/g,A.personality.social||3)),A.medicalInfo&&(R=R.replace(/{medicalInfo\.vaccinated}/g,A.medicalInfo.vaccinated||!1)),R=R.replace(/{medicalInfo\.vaccinated \? '([^']+)' : '([^']+)'}/g,(L,S,H)=>{var P;return(P=A.medicalInfo)!=null&&P.vaccinated?S:H}),R=R.replace(/{personality\.friendly >= (\d+) \? '([^']+)' : '([^']*)'}/g,(L,S,H,P)=>{var G;return(((G=A.personality)==null?void 0:G.friendly)||0)>=parseInt(S)?H:P}),R=R.replace(/{personality\.energetic >= (\d+) \? '([^']+)' : '([^']*)'}/g,(L,S,H,P)=>{var G;return(((G=A.personality)==null?void 0:G.energetic)||0)>=parseInt(S)?H:P}),R=R.replace(/{personality\.social >= (\d+) \? '([^']+)' : '([^']*)'}/g,(L,S,H,P)=>{var G;return(((G=A.personality)==null?void 0:G.social)||0)>=parseInt(S)?H:P}),R=R.replace(/calc\(\{personality\.friendly\} \* 20%\)/g,`${(((_=A.personality)==null?void 0:_.friendly)||0)*20}%`),R=R.replace(/calc\(\{personality\.energetic\} \* 20%\)/g,`${(((q=A.personality)==null?void 0:q.energetic)||0)*20}%`),R=R.replace(/calc\(\{personality\.social\} \* 20%\)/g,`${(((U=A.personality)==null?void 0:U.social)||0)*20}%`),R};n.useEffect(()=>{(async()=>{try{E(!0);const A=await lp();m(A)}catch(A){console.error("Error loading templates:",A),m([])}finally{E(!1)}})()},[]);const j=T=>{i(T.html),c(T.css),f(!1)},k=()=>{window.history.back()},b=()=>{const T=w.find(A=>A.isDefault);T&&(i(T.html),c(T.css))},C=async()=>{p(!0);try{await a({html:o,css:x,enabled:!0})}catch(T){console.error("Error saving:",T)}finally{p(!1)}},F=(()=>s.filter(A=>{if(A.startsWith("gallery")){if(!N.gallery||!Array.isArray(N.gallery)||N.gallery.length===0)return!1;if(A.includes("[")&&A.includes("]")){const O=A.match(/\[(\d+)\]/);if(O&&parseInt(O[1])>=N.gallery.length)return!1}}const R=A.replace(/\./g,"\\.").replace(/\[/g,"\\[").replace(/\]/g,"\\]");if(o.includes(`{${A}}`))return!1;const M=`\\{[^}]*${R}[^}]*\\?[^}]*\\}`;if(new RegExp(M,"g").test(o))return!1;const q=`calc\\(\\s*\\{\\s*${R}\\s*\\}`,U=new RegExp(q,"g");if(U.test(x)||U.test(o))return!1;const L=`width:\\s*calc\\(\\s*\\{\\s*${R}\\s*\\}`;if(new RegExp(L,"g").test(o))return!1;const H=`class="[^"]*\\{[^}]*${R}[^}]*\\?[^}]*\\}[^"]*"`;if(new RegExp(H,"g").test(o))return!1;const G=R,z=new RegExp(G,"g");return!(z.test(o)||z.test(x))}))();return g?e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-blue-50 py-8",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4",children:[e.jsxs("div",{className:"text-center mb-12",children:[e.jsxs("button",{onClick:()=>f(!1),className:"inline-flex items-center mb-6 px-4 py-2 text-sm text-gray-600 hover:text-gray-900 bg-white rounded-lg shadow-sm hover:shadow-md transition-all",children:[e.jsx(Ue,{className:"h-4 w-4 mr-2"}),"Back to Editor"]}),e.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-4",children:"Choose Your Profile Template"}),e.jsx("p",{className:"text-xl text-gray-600 max-w-2xl mx-auto",children:"Select a design template that best represents your dog's personality and style"})]}),B?e.jsxs("div",{className:"text-center py-12",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600",children:"Loading templates..."})]}):e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8 mb-12",children:w.map(T=>{var M;const A=v(T.html),R=v(T.css);return e.jsxs("div",{className:`bg-white rounded-2xl overflow-hidden shadow-lg hover:shadow-2xl transition-all duration-300 transform hover:-translate-y-2 ${T.isDefault?"ring-4 ring-blue-500 ring-opacity-50":""}`,children:[T.isDefault&&e.jsx("div",{className:"bg-gradient-to-r from-blue-500 to-blue-600 text-white px-4 py-2 text-center",children:e.jsxs("div",{className:"flex items-center justify-center gap-2",children:[e.jsx(Nr,{className:"h-4 w-4"}),e.jsx("span",{className:"text-sm font-semibold",children:"Default App Design"})]})}),e.jsxs("div",{className:"h-72 overflow-hidden bg-gray-100 relative",children:[e.jsx("iframe",{srcDoc:`
                          <html>
                            <head>
                              <style>${R}</style>
                            </head>
                            <body style="margin:0;transform:scale(0.25);transform-origin:top left;width:400%;">${A}</body>
                          </html>
                        `,className:"w-full h-full border-none pointer-events-none",title:T.name}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/20 to-transparent opacity-0 hover:opacity-100 transition-opacity duration-300"})]}),e.jsxs("div",{className:"p-6",children:[e.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:T.name}),e.jsx("p",{className:"text-gray-600 mb-4",children:T.description}),e.jsx("div",{className:"flex flex-wrap gap-2 mb-4",children:(M=T.tags)==null?void 0:M.map(_=>e.jsx("span",{className:"px-3 py-1 bg-blue-100 text-blue-800 text-xs rounded-full font-medium",children:_},_))}),e.jsxs("button",{onClick:()=>j(T),className:"w-full bg-gradient-to-r from-blue-500 to-blue-600 text-white py-3 px-4 rounded-xl font-semibold hover:from-blue-600 hover:to-blue-700 transition-all duration-200 transform hover:scale-105",children:[e.jsx($e,{className:"h-5 w-5 inline mr-2"}),"Use This Template"]})]})]},T.id)})}),e.jsxs("div",{className:"bg-white rounded-2xl p-8 shadow-xl border border-gray-100",children:[e.jsxs("div",{className:"text-center mb-6",children:[e.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-2",children:"📝 Required Variables"}),e.jsx("p",{className:"text-gray-600 text-lg",children:"Your custom profile must include these placeholders to work properly"})]}),e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-3",children:s.map(T=>e.jsx("code",{className:"px-4 py-3 bg-gradient-to-r from-blue-50 to-blue-100 text-blue-800 rounded-xl text-sm font-mono font-semibold text-center border border-blue-200 hover:from-blue-100 hover:to-blue-200 transition-all duration-200",children:`{${T}}`},T))})]})]})}):e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-blue-50",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-8",children:[e.jsx("div",{className:"bg-white rounded-2xl shadow-lg p-6 mb-8",children:e.jsxs("div",{className:"flex flex-col lg:flex-row lg:justify-between lg:items-center gap-4",children:[e.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center gap-4",children:[e.jsxs("button",{onClick:k,className:"inline-flex items-center px-4 py-2 text-sm text-gray-600 hover:text-gray-900 bg-gray-100 rounded-lg hover:bg-gray-200 transition-all",children:[e.jsx(Ue,{className:"h-4 w-4 mr-2"}),"Back to App Design"]}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Custom Profile Editor"}),e.jsx("p",{className:"text-gray-600 mt-1",children:"Design a unique profile for your dog"})]})]}),e.jsxs("div",{className:"flex flex-col lg:flex-row gap-3",children:[e.jsxs("button",{onClick:()=>f(!0),className:"inline-flex items-center px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition-all",children:[e.jsx($e,{className:"h-4 w-4 mr-2"}),"Choose Template"]}),e.jsxs("button",{onClick:b,className:"inline-flex items-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-all",children:[e.jsx(Nr,{className:"h-4 w-4 mr-2"}),"Reset to Default"]}),e.jsxs("button",{onClick:()=>h(!u),className:"inline-flex items-center px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-all",children:[u?e.jsx(gn,{className:"h-4 w-4 mr-2"}):e.jsx(at,{className:"h-4 w-4 mr-2"}),u?"Edit":"Preview"]}),e.jsx("button",{onClick:C,disabled:d||F.length>0,className:"inline-flex items-center px-6 py-2 bg-gradient-to-r from-blue-600 to-blue-700 text-white rounded-lg hover:from-blue-700 hover:to-blue-800 disabled:opacity-50 disabled:cursor-not-allowed transition-all",children:d?"Saving...":"Save Profile"})]})]})}),F.length>0&&e.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 mb-6",children:[e.jsx("h4",{className:"text-red-800 font-medium mb-2",children:"⚠️ Missing Required Fields"}),e.jsx("p",{className:"text-red-700 mb-3",children:"Your template must include these variables to work properly:"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:F.map(T=>e.jsx("code",{className:"px-2 py-1 bg-red-100 text-red-800 rounded text-sm font-mono",children:`{${T}}`},T))})]}),e.jsx("div",{className:"bg-white rounded-xl shadow-lg overflow-hidden mb-6",children:u?e.jsx("div",{className:"h-96",children:e.jsx("iframe",{srcDoc:`
                  <html>
                    <head>
                      <style>${v(x)}</style>
                    </head>
                    <body style="margin:0;">${v(o)}</body>
                  </html>
                `,className:"w-full h-full border-none",title:"Profile Preview"})}):e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 h-96",children:[e.jsxs("div",{className:"border-r border-gray-200",children:[e.jsx("div",{className:"p-4 border-b border-gray-200 bg-gray-50",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(xd,{className:"h-5 w-5 text-gray-600"}),e.jsx("h3",{className:"font-semibold text-gray-900",children:"HTML Template"})]})}),e.jsx("textarea",{value:o,onChange:T=>i(T.target.value),className:"w-full h-full p-4 font-mono text-sm resize-none border-none focus:outline-none",placeholder:"Enter your HTML template here..."})]}),e.jsxs("div",{children:[e.jsx("div",{className:"p-4 border-b border-gray-200 bg-gray-50",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-purple-600 font-bold",children:"CSS"}),e.jsx("h3",{className:"font-semibold text-gray-900",children:"Styles"})]})}),e.jsx("textarea",{value:x,onChange:T=>c(T.target.value),className:"w-full h-full p-4 font-mono text-sm resize-none border-none focus:outline-none",placeholder:"Enter your CSS styles here..."})]})]})})]})})},ip=()=>{var c,u;const{id:t}=Vt(),r=we(),[a,s]=n.useState(null);n.useEffect(()=>(o(),()=>{localStorage.removeItem("currentDogData")}),[t]);const l=re.useMemo(()=>{const h=["name","breed","age","size","description","image","personality.friendly","personality.energetic","personality.social","medicalInfo.vaccinated"];if(a&&a.gallery&&Array.isArray(a.gallery)&&a.gallery.length>0){h.push("gallery");for(let d=0;d<Math.min(a.gallery.length,5);d++)h.push(`gallery[${d}]`)}return h},[a]),o=async()=>{try{const h=await it.getDogById(t);s(h.dog),localStorage.setItem("currentDogData",JSON.stringify(h.dog))}catch(h){console.error("Error loading dog:",h),I.error("Failed to load dog"),r("/my-dogs")}},i=async h=>{try{await it.updateCustomProfile(t,h),I.success("Custom profile updated successfully!"),r("/my-dogs")}catch(d){console.error("Error updating custom profile:",d),I.error("Failed to update custom profile")}},x=async h=>{try{await it.updateCustomProfile(t,{profileVisibility:h}),I.success("Profile visibility updated!"),s({...a,profileVisibility:h})}catch(d){console.error("Error updating visibility:",d),I.error("Failed to update visibility")}};return a?e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center space-x-4 mb-4",children:[e.jsxs("button",{onClick:()=>r("/my-dogs"),className:"inline-flex items-center text-sm text-gray-600 hover:text-gray-900",children:[e.jsx(Ue,{className:"h-4 w-4 mr-2"}),"Back to My Dogs"]}),e.jsxs("button",{onClick:()=>r("/"),className:"inline-flex items-center px-3 py-2 text-sm font-medium text-white bg-blue-600 rounded-md hover:bg-blue-700 transition-colors",children:[e.jsx(Ue,{className:"h-4 w-4 mr-2"}),"Back to App Design"]})]}),e.jsxs("h1",{className:"text-2xl font-bold text-gray-900",children:["Custom Profile for ",a.name]}),e.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Create a unique profile page for your dog"})]})}),e.jsxs("div",{className:"bg-white shadow rounded-lg p-6",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Profile Visibility"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"radio",name:"visibility",value:"public",checked:a.profileVisibility==="public",onChange:h=>x(h.target.value),className:"h-4 w-4 text-primary-600 focus:ring-primary-500 border-gray-300"}),e.jsxs("div",{className:"ml-3",children:[e.jsx("span",{className:"block text-sm font-medium text-gray-700",children:"Public"}),e.jsx("span",{className:"block text-sm text-gray-500",children:"Anyone can view your dog's profile"})]})]}),e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"radio",name:"visibility",value:"friends",checked:a.profileVisibility==="friends",onChange:h=>x(h.target.value),className:"h-4 w-4 text-primary-600 focus:ring-primary-500 border-gray-300"}),e.jsxs("div",{className:"ml-3",children:[e.jsx("span",{className:"block text-sm font-medium text-gray-700",children:"Friends Only"}),e.jsx("span",{className:"block text-sm text-gray-500",children:"Only your friends can view the profile"})]})]}),e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"radio",name:"visibility",value:"private",checked:a.profileVisibility==="private",onChange:h=>x(h.target.value),className:"h-4 w-4 text-primary-600 focus:ring-primary-500 border-gray-300"}),e.jsxs("div",{className:"ml-3",children:[e.jsx("span",{className:"block text-sm font-medium text-gray-700",children:"Private"}),e.jsx("span",{className:"block text-sm text-gray-500",children:"Only you can view the profile"})]})]})]}),a.profileVisibility==="public"&&e.jsx("div",{className:"mt-4 p-3 bg-blue-50 rounded-lg",children:e.jsxs("p",{className:"text-sm text-blue-800",children:[e.jsx("strong",{children:"Public Profile URL:"})," ",e.jsxs("a",{href:`${window.location.origin}/dogs/profile/${a._id}`,target:"_blank",rel:"noopener noreferrer",className:"underline",children:[window.location.origin,"/dogs/profile/",a._id]})]})})]}),e.jsx("div",{className:"bg-white shadow rounded-lg p-6",children:e.jsx(ol,{initialHtml:((c=a.customProfile)==null?void 0:c.html)||"",initialCss:((u=a.customProfile)==null?void 0:u.css)||"",onSave:i,requiredFields:l,type:"dog"})})]}):null},xp=()=>{var c,u;const{id:t}=Vt(),r=we(),{user:a}=pe(),[s,l]=n.useState(null);n.useEffect(()=>{o()},[t]);const o=async()=>{try{const h=await Se.getGardenById(t);if(a.role!=="admin"&&h.manager._id!==a._id){I.error("You are not authorized to edit this garden"),r("/manage-gardens");return}l(h)}catch(h){console.error("Error loading garden:",h),I.error("Failed to load garden"),r("/manage-gardens")}},i=async h=>{try{await Se.updateCustomProfile(t,h),I.success("Custom profile updated successfully!"),r("/manage-gardens")}catch(d){console.error("Error updating custom profile:",d),I.error("Failed to update custom profile")}};if(!s)return null;const x=["name","description","location.address","location.city","type","capacity.maxDogs","statistics.averageRating","statistics.totalReviews"];return e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("div",{children:[e.jsxs("button",{onClick:()=>r("/manage-gardens"),className:"mb-4 inline-flex items-center text-sm text-gray-600 hover:text-gray-900",children:[e.jsx(Ue,{className:"h-4 w-4 mr-2"}),"Back to Garden Management"]}),e.jsxs("h1",{className:"text-2xl font-bold text-gray-900",children:["Custom Profile for ",s.name]}),e.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Create a unique profile page for your dog park"})]})}),e.jsxs("div",{className:"bg-white shadow rounded-lg p-6",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Public Profile"}),e.jsx("div",{className:"p-3 bg-blue-50 rounded-lg",children:e.jsxs("p",{className:"text-sm text-blue-800",children:[e.jsx("strong",{children:"Public Profile URL:"})," ",e.jsxs("a",{href:`${window.location.origin}/garden/${s._id}`,target:"_blank",rel:"noopener noreferrer",className:"underline",children:[window.location.origin,"/garden/",s._id]})]})})]}),e.jsx("div",{className:"bg-white shadow rounded-lg p-6",children:e.jsx(ol,{initialHtml:((c=s.customProfile)==null?void 0:c.html)||"",initialCss:((u=s.customProfile)==null?void 0:u.css)||"",onSave:i,requiredFields:x,type:"garden"})})]})},il=()=>{const{user:t}=pe(),r=we(),[a,s]=n.useState([]),[l,o]=n.useState([]),[i,x]=n.useState({totalUsers:0,totalGardens:0,activeVisits:0,totalDogs:0}),[c,u]=n.useState({totalRequests:0,totalCost:0,successRate:0}),[h,d]=n.useState(""),[p,g]=n.useState("");n.useState(!1),n.useState(!1);const[f,w]=n.useState(!0);n.useEffect(()=>{console.log("🔍 AdminDashboard - Current user:",t),console.log("🔍 AdminDashboard - User role:",t==null?void 0:t.role),console.log("🔍 AdminDashboard - Token exists:",!!localStorage.getItem("token")),m()},[]);const m=async()=>{var j,k;try{w(!0),console.log("🔍 Starting loadAdminData..."),console.log("🔍 User role before API calls:",t==null?void 0:t.role);const[b,C,D,F]=await Promise.all([Q.get("/admin/users"),Q.get("/admin/gardens"),Q.get("/admin/stats"),Q.get("/admin/api-usage?days=7").catch(()=>({data:{total:{totalRequests:0,totalCost:0,successfulRequests:0}}}))]);s(b.data||[]),o(C.data||[]),x(D.data||{totalUsers:0,totalGardens:0,activeVisits:0,totalDogs:0});const T=F.data.total||{totalRequests:0,totalCost:0,successfulRequests:0};u({totalRequests:T.totalRequests,totalCost:T.totalCost,successRate:T.totalRequests>0?(T.successfulRequests/T.totalRequests*100).toFixed(1):0})}catch(b){console.error("🔍 Error loading admin data:",b),console.error("🔍 Error response:",b.response),console.error("🔍 Error status:",(j=b.response)==null?void 0:j.status),console.error("🔍 Error data:",(k=b.response)==null?void 0:k.data),I.error("Failed to load admin data")}finally{w(!1)}},B=async(j,k)=>{try{await Q.put(`/users/${j}/role`,{role:k}),I.success("User role updated successfully"),m()}catch{I.error("Failed to update user role")}},E=async()=>{var j,k;try{console.log("🔍 Attempting to upgrade to admin...");const b=await Q.post("/auth/make-admin");console.log("🔍 Upgrade response:",b.data);const C=b.data.user;localStorage.setItem("user",JSON.stringify(C)),I.success("Upgraded to admin successfully! Please refresh the page."),window.location.reload()}catch(b){console.error("🔍 Error upgrading to admin:",b),I.error("Failed to upgrade to admin: "+(((k=(j=b.response)==null?void 0:j.data)==null?void 0:k.error)||b.message))}},N=async(j,k)=>{const b=k==="active"?"suspended":"active";try{await Q.put(`/users/${j}/status`,{status:b}),I.success(`User ${b==="active"?"activated":"suspended"} successfully`),m()}catch{I.error("Failed to update user status")}},v=j=>{const k={admin:{color:"text-red-700",bg:"bg-red-100",label:"👑 Admin"},garden_manager:{color:"text-blue-700",bg:"bg-blue-100",label:"🏢 Manager"},dog_owner:{color:"text-green-700",bg:"bg-green-100",label:"🐕 Owner"}};return k[j]||k.dog_owner};return f?e.jsx(Os,{}):(t==null?void 0:t.role)!=="admin"&&i.totalUsers===0?e.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 flex items-center justify-center p-4",children:e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-3xl p-8 text-center max-w-md border border-gray-100 dark:border-gray-700",children:[e.jsx("div",{className:"text-6xl mb-4",children:"🔒"}),e.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-4",children:"Admin Access Required"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-6",children:"You need admin privileges to access this page."}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:["Current role: ",e.jsx("span",{className:"font-medium",children:(t==null?void 0:t.role)||"Unknown"})]}),e.jsx("button",{onClick:E,className:"w-full bg-purple-600 hover:bg-purple-700 text-white font-medium py-3 px-6 rounded-xl transition-colors",children:"🚀 Upgrade to Admin (Development)"}),e.jsx("p",{className:"text-xs text-gray-400",children:"This is a temporary development feature"})]})]})}):e.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900",children:e.jsxs("div",{className:"max-w-lg mx-auto lg:max-w-7xl px-1 sm:px-0",children:[e.jsxs("div",{className:"bg-gradient-to-br from-purple-600 via-pink-600 to-red-600 dark:from-purple-700 dark:via-pink-700 dark:to-red-700 mx-2 sm:mx-4 mt-2 sm:mt-4 rounded-2xl sm:rounded-3xl p-4 sm:p-6 text-white",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between mb-4 space-y-3 sm:space-y-0",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-xl sm:text-2xl font-bold mb-1",children:"Admin Center 🛡️"}),e.jsxs("p",{className:"text-purple-100 dark:text-purple-200 text-xs sm:text-sm mb-3",children:["Welcome back, ",t==null?void 0:t.firstName,"! Manage the Pawradise community"]}),e.jsxs("div",{className:"bg-white bg-opacity-20 rounded-xl p-3 mb-3",children:[e.jsxs("div",{className:"text-xs text-purple-100",children:[e.jsxs("div",{children:["User Role: ",e.jsx("span",{className:"font-medium",children:(t==null?void 0:t.role)||"Unknown"})]}),e.jsxs("div",{children:["User ID: ",e.jsx("span",{className:"font-medium",children:(t==null?void 0:t._id)||"Unknown"})]}),e.jsxs("div",{children:["Token: ",e.jsx("span",{className:"font-medium",children:localStorage.getItem("token")?"Present":"Missing"})]})]}),(t==null?void 0:t.role)!=="admin"&&e.jsx("button",{onClick:E,className:"mt-2 bg-yellow-500 hover:bg-yellow-600 text-yellow-900 font-medium py-1 px-3 rounded-lg text-xs transition-colors",children:"🚀 Upgrade to Admin"})]}),e.jsxs("div",{className:"flex flex-wrap items-center gap-2 sm:gap-4 text-purple-100 dark:text-purple-200 text-xs sm:text-sm",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(Ne,{className:"h-3 sm:h-4 w-3 sm:w-4 mr-1"}),e.jsxs("span",{children:[i.totalUsers," Users"]})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx(Nr,{className:"h-3 sm:h-4 w-3 sm:w-4 mr-1"}),e.jsxs("span",{children:[i.totalGardens," Parks"]})]})]})]}),e.jsx("div",{className:"hidden sm:block",children:e.jsx("div",{className:"bg-white bg-opacity-20 rounded-2xl p-3",children:e.jsx(gr,{className:"h-8 sm:h-12 w-8 sm:w-12 text-yellow-300"})})})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3",children:[e.jsxs("button",{onClick:()=>r("/admin/requests"),className:"bg-white bg-opacity-20 rounded-xl sm:rounded-2xl p-3 hover:bg-opacity-30 transition-all duration-200 flex items-center justify-center space-x-2",children:[e.jsx(ed,{className:"h-4 sm:h-5 w-4 sm:w-5"}),e.jsx("span",{className:"text-sm font-medium",children:"Review Requests"})]}),e.jsxs("button",{onClick:()=>r("/admin/api-usage"),className:"bg-white bg-opacity-20 rounded-xl sm:rounded-2xl p-3 hover:bg-opacity-30 transition-all duration-200 flex items-center justify-center space-x-2",children:[e.jsx(Yt,{className:"h-4 sm:h-5 w-4 sm:w-5"}),e.jsx("span",{className:"text-sm font-medium",children:"API Usage"})]}),e.jsxs("button",{onClick:()=>r("/admin/settings"),className:"bg-white bg-opacity-20 rounded-xl sm:rounded-2xl p-3 hover:bg-opacity-30 transition-all duration-200 flex items-center justify-center space-x-2",children:[e.jsx(Hr,{className:"h-4 sm:h-5 w-4 sm:w-5"}),e.jsx("span",{className:"text-sm font-medium",children:"Settings"})]})]})]}),e.jsxs("div",{className:"px-2 sm:px-4 py-4 sm:py-6",children:[e.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-5 gap-3 sm:gap-4 mb-4 sm:mb-6",children:[e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl sm:rounded-3xl p-3 sm:p-4 text-center border border-gray-100 dark:border-gray-700",children:[e.jsx(va,{className:"w-6 sm:w-8 h-6 sm:h-8 text-blue-500 mx-auto mb-2"}),e.jsx("div",{className:"text-lg sm:text-2xl font-bold text-gray-900 dark:text-white",children:i.totalUsers}),e.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Total Users"})]}),e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl sm:rounded-3xl p-3 sm:p-4 text-center border border-gray-100 dark:border-gray-700",children:[e.jsx(Ts,{className:"w-6 sm:w-8 h-6 sm:h-8 text-green-500 mx-auto mb-2"}),e.jsx("div",{className:"text-lg sm:text-2xl font-bold text-gray-900 dark:text-white",children:i.totalGardens}),e.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Dog Parks"})]}),e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl sm:rounded-3xl p-3 sm:p-4 text-center border border-gray-100 dark:border-gray-700",children:[e.jsx(Nm,{className:"w-6 sm:w-8 h-6 sm:h-8 text-yellow-500 mx-auto mb-2"}),e.jsx("div",{className:"text-lg sm:text-2xl font-bold text-gray-900 dark:text-white",children:i.activeVisits}),e.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Active Visits"})]}),e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl sm:rounded-3xl p-3 sm:p-4 text-center border border-gray-100 dark:border-gray-700",children:[e.jsx(Oe,{className:"w-6 sm:w-8 h-6 sm:h-8 text-pink-500 mx-auto mb-2"}),e.jsx("div",{className:"text-lg sm:text-2xl font-bold text-gray-900 dark:text-white",children:i.totalDogs}),e.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Happy Dogs"})]}),e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl sm:rounded-3xl p-3 sm:p-4 text-center border border-gray-100 dark:border-gray-700 cursor-pointer hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors",onClick:()=>r("/admin/api-usage"),children:[e.jsx(Yt,{className:"w-6 sm:w-8 h-6 sm:h-8 text-purple-500 mx-auto mb-2"}),e.jsxs("div",{className:"text-lg sm:text-2xl font-bold text-gray-900 dark:text-white",children:["$",c.totalCost.toFixed(2)]}),e.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:"API Cost (7d)"}),e.jsxs("div",{className:"text-xs text-green-600 dark:text-green-400 mt-1",children:[c.successRate,"% success"]})]})]}),e.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-2xl sm:rounded-3xl border border-gray-100 dark:border-gray-700 mb-4 sm:mb-6",children:e.jsxs("div",{className:"p-3 sm:p-6",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between mb-4 space-y-2 sm:space-y-0",children:[e.jsxs("h3",{className:"text-base sm:text-lg font-bold text-gray-900 dark:text-white flex items-center",children:[e.jsx(Ne,{className:"h-4 sm:h-5 w-4 sm:w-5 text-blue-500 mr-2"}),"User Management"]}),e.jsxs("span",{className:"bg-blue-100 dark:bg-blue-900/30 text-blue-600 dark:text-blue-400 text-xs font-medium px-2 py-1 rounded-full self-start sm:self-auto",children:[a.length," users"]})]}),e.jsx("div",{className:"mb-4",children:e.jsx("input",{type:"text",placeholder:"Search users...",value:h,onChange:j=>d(j.target.value),className:"w-full px-3 sm:px-4 py-2 sm:py-3 border border-gray-200 dark:border-gray-600 rounded-xl sm:rounded-2xl bg-white dark:bg-gray-700 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm"})}),e.jsx("div",{className:"space-y-3",children:a.slice(0,5).map(j=>{var b,C;const k=v(j.role);return e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between p-3 bg-gray-50 dark:bg-gray-700 rounded-xl sm:rounded-2xl space-y-2 sm:space-y-0",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsxs("div",{className:"w-8 sm:w-10 h-8 sm:h-10 bg-gradient-to-r from-blue-400 to-purple-500 rounded-full flex items-center justify-center text-white font-medium text-xs sm:text-sm flex-shrink-0",children:[(b=j.firstName)==null?void 0:b.charAt(0),(C=j.lastName)==null?void 0:C.charAt(0)]}),e.jsxs("div",{className:"min-w-0",children:[e.jsxs("div",{className:"text-sm sm:text-base font-medium text-gray-900 dark:text-white truncate",children:[j.firstName," ",j.lastName]}),e.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400 truncate",children:j.email})]})]}),e.jsxs("div",{className:"flex items-center justify-between sm:justify-end space-x-2 w-full sm:w-auto",children:[e.jsx("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ${k.bg} ${k.color} flex-shrink-0`,children:k.label}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("select",{value:j.role,onChange:D=>B(j._id,D.target.value),className:"text-xs border border-gray-200 dark:border-gray-600 rounded-lg px-2 py-1 bg-white dark:bg-gray-600 text-gray-900 dark:text-white",children:[e.jsx("option",{value:"dog_owner",children:"🐕 Owner"}),e.jsx("option",{value:"garden_manager",children:"🏢 Manager"}),e.jsx("option",{value:"admin",children:"👑 Admin"})]}),e.jsx("button",{onClick:()=>r(`/profile?userId=${j._id}`),className:"p-1.5 text-blue-500 hover:text-blue-700 dark:text-blue-400 dark:hover:text-blue-300 transition-colors",title:"View Profile",children:e.jsx(at,{className:"h-4 w-4"})}),e.jsx("button",{onClick:()=>N(j._id,j.status),className:`p-1.5 transition-colors ${j.status==="active"?"text-red-500 hover:text-red-700 dark:text-red-400 dark:hover:text-red-300":"text-green-500 hover:text-green-700 dark:text-green-400 dark:hover:text-green-300"}`,title:j.status==="active"?"Suspend User":"Activate User",children:j.status==="active"?e.jsx(Br,{className:"h-4 w-4"}):e.jsx(Me,{className:"h-4 w-4"})})]})]})]},j._id)})})]})}),e.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-2xl sm:rounded-3xl border border-gray-100 dark:border-gray-700",children:e.jsxs("div",{className:"p-3 sm:p-6",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between mb-4 space-y-2 sm:space-y-0",children:[e.jsxs("h3",{className:"text-base sm:text-lg font-bold text-gray-900 dark:text-white flex items-center",children:[e.jsx(Nr,{className:"h-4 sm:h-5 w-4 sm:w-5 text-green-500 mr-2"}),"Garden Management"]}),e.jsxs("span",{className:"bg-green-100 dark:bg-green-900/30 text-green-600 dark:text-green-400 text-xs font-medium px-2 py-1 rounded-full self-start sm:self-auto",children:[l.length," gardens"]})]}),e.jsx("div",{className:"mb-4",children:e.jsx("input",{type:"text",placeholder:"Search gardens...",value:p,onChange:j=>g(j.target.value),className:"w-full px-3 sm:px-4 py-2 sm:py-3 border border-gray-200 dark:border-gray-600 rounded-xl sm:rounded-2xl bg-white dark:bg-gray-700 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 focus:ring-2 focus:ring-green-500 focus:border-transparent text-sm"})}),e.jsx("div",{className:"space-y-3",children:l.slice(0,5).map(j=>{var k,b;return e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between p-3 bg-gray-50 dark:bg-gray-700 rounded-xl sm:rounded-2xl space-y-2 sm:space-y-0",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-8 sm:w-10 h-8 sm:h-10 bg-gradient-to-r from-green-400 to-blue-500 rounded-full flex items-center justify-center text-white font-medium text-xs sm:text-sm flex-shrink-0",children:(k=j.name)==null?void 0:k.charAt(0)}),e.jsxs("div",{className:"min-w-0",children:[e.jsx("div",{className:"text-sm sm:text-base font-medium text-gray-900 dark:text-white truncate",children:j.name}),e.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400 truncate",children:(b=j.location)==null?void 0:b.address})]})]}),e.jsxs("div",{className:"flex items-center justify-between sm:justify-end space-x-2 w-full sm:w-auto",children:[e.jsx("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ${j.type==="public"?"bg-green-100 text-green-700":"bg-purple-100 text-purple-700"} flex-shrink-0`,children:j.type==="public"?"🌍 Public":"🏢 Private"}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{onClick:()=>r(`/garden/${j._id}`),className:"p-1.5 text-green-500 hover:text-green-700 dark:text-green-400 dark:hover:text-green-300 transition-colors",title:"View Garden",children:e.jsx(at,{className:"h-4 w-4"})}),e.jsx("button",{onClick:()=>r(`/garden-manager?edit=${j._id}`),className:"p-1.5 text-blue-500 hover:text-blue-700 dark:text-blue-400 dark:hover:text-blue-300 transition-colors",title:"Edit Garden",children:e.jsx($s,{className:"h-4 w-4"})})]})]})]},j._id)})})]})})]})]})})},dp=Object.freeze(Object.defineProperty({__proto__:null,default:il},Symbol.toStringTag,{value:"Module"})),xl=()=>{var N,v,j,k,b,C,D,F,T,A,R,M,_,q;const t=we(),[r,a]=n.useState([]),[s,l]=n.useState(null),[o,i]=n.useState(""),[x,c]=n.useState(!1),[u,h]=n.useState("pending"),[d,p]=n.useState(!0);n.useEffect(()=>{g()},[]);const g=async()=>{var U,L,S,H;try{p(!0),console.log("Loading requests...");const P=await Ur.getPendingRequests();console.log("Requests response:",P),a(P.requests||[])}catch(P){console.error("Error loading requests:",P),((U=P.response)==null?void 0:U.status)===403?I.error("Access denied. Admin privileges required."):((L=P.response)==null?void 0:L.status)===401?I.error("Please log in to access this page."):I.error("Failed to load requests: "+(((H=(S=P.response)==null?void 0:S.data)==null?void 0:H.error)||P.message))}finally{p(!1)}},f=async U=>{c(!0);try{await Ur.approveRequest(U,o),I.success("Request approved successfully!"),l(null),i(""),g()}catch(L){console.error("Error approving request:",L),I.error("Failed to approve request")}finally{c(!1)}},w=async U=>{c(!0);try{await Ur.rejectRequest(U,o),I.success("Request rejected"),l(null),i(""),g()}catch(L){console.error("Error rejecting request:",L),I.error("Failed to reject request")}finally{c(!1)}},m=U=>U==="garden_manager"?e.jsx(Ne,{className:"h-6 w-6"}):e.jsx(Nt,{className:"h-6 w-6"}),B=U=>U==="garden_manager"?"Garden Manager":"Event Organizer",E=U=>{switch(U){case"pending":return e.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-yellow-100 dark:bg-yellow-900/30 text-yellow-800 dark:text-yellow-200",children:[e.jsx(Le,{className:"h-3 w-3 mr-1"}),"Pending"]});case"approved":return e.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-green-100 dark:bg-green-900/30 text-green-800 dark:text-green-200",children:[e.jsx(Me,{className:"h-3 w-3 mr-1"}),"Approved"]});case"rejected":return e.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-red-100 dark:bg-red-900/30 text-red-800 dark:text-red-200",children:[e.jsx(he,{className:"h-3 w-3 mr-1"}),"Rejected"]});default:return null}};return d?e.jsx(Os,{}):e.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900",children:e.jsxs("div",{className:"max-w-lg mx-auto lg:max-w-7xl",children:[e.jsxs("div",{className:"bg-gradient-to-br from-purple-600 via-pink-600 to-red-600 dark:from-purple-700 dark:via-pink-700 dark:to-red-700 mx-4 mt-4 rounded-3xl p-6 text-white",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center mb-2",children:[e.jsx("button",{onClick:()=>t("/admin"),className:"mr-3 p-2 bg-white bg-opacity-20 rounded-xl hover:bg-opacity-30 transition-colors",children:e.jsx(Ue,{className:"h-5 w-5"})}),e.jsx("h1",{className:"text-2xl font-bold",children:"Requests Center 📋"})]}),e.jsx("p",{className:"text-purple-100 dark:text-purple-200 text-sm",children:"Review community leadership applications"})]}),e.jsx("div",{className:"hidden md:block",children:e.jsx("div",{className:"bg-white bg-opacity-20 rounded-2xl p-3",children:e.jsx(Cr,{className:"h-12 w-12 text-yellow-300"})})})]}),e.jsxs("div",{className:"flex items-center space-x-6 text-purple-100 dark:text-purple-200 text-sm",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(Le,{className:"h-4 w-4 mr-1"}),e.jsxs("span",{children:[r.filter(U=>U.status==="pending").length," Pending"]})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx(Me,{className:"h-4 w-4 mr-1"}),e.jsxs("span",{children:[r.filter(U=>U.status==="approved").length," Approved"]})]})]})]}),e.jsxs("div",{className:"px-4 py-6",children:[e.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-3xl border border-gray-100 dark:border-gray-700 mb-6",children:e.jsx("div",{className:"p-4",children:e.jsx("div",{className:"flex space-x-2 overflow-x-auto",children:[{key:"pending",label:"Pending",count:r.filter(U=>U.status==="pending").length},{key:"approved",label:"Approved",count:r.filter(U=>U.status==="approved").length},{key:"rejected",label:"Rejected",count:r.filter(U=>U.status==="rejected").length},{key:"all",label:"All",count:r.length}].map(U=>e.jsxs("button",{onClick:()=>h(U.key),className:`px-4 py-2 rounded-2xl text-sm font-medium transition-colors ${u===U.key?"bg-purple-100 dark:bg-purple-900/30 text-purple-700 dark:text-purple-300":"text-gray-600 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-700"}`,children:[U.label," (",U.count,")"]},U.key))})})}),e.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-3xl border border-gray-100 dark:border-gray-700",children:r.length===0?e.jsxs("div",{className:"text-center py-12",children:[e.jsx(Cr,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-2",children:"No requests found"}),e.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"There are no requests to review at this time."})]}):e.jsx("div",{className:"p-6 space-y-4",children:r.filter(U=>u==="all"||U.status===u).map(U=>{var L,S,H;return e.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 dark:bg-gray-700 rounded-2xl hover:bg-gray-100 dark:hover:bg-gray-600 transition-colors",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:"text-purple-600 dark:text-purple-400",children:m(U.type)}),e.jsxs("div",{children:[e.jsxs("h3",{className:"text-lg font-medium text-gray-900 dark:text-white",children:[(L=U.user)==null?void 0:L.firstName," ",(S=U.user)==null?void 0:S.lastName]}),e.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:[(H=U.user)==null?void 0:H.email," • ",B(U.type)]}),e.jsxs("p",{className:"text-xs text-gray-400 dark:text-gray-500 mt-1",children:["Submitted: ",new Date(U.createdAt).toLocaleDateString()]})]})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[E(U.status),e.jsxs("button",{onClick:()=>l(U),className:"inline-flex items-center px-3 py-2 bg-blue-100 dark:bg-blue-900/30 text-blue-700 dark:text-blue-300 rounded-xl text-sm font-medium hover:bg-blue-200 dark:hover:bg-blue-900/50 transition-colors",children:[e.jsx(at,{className:"h-4 w-4 mr-1"}),"Review"]})]})]},U._id)})})})]}),s&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-3xl max-w-2xl w-full max-h-[90vh] overflow-y-auto border border-gray-100 dark:border-gray-700",children:[e.jsx("div",{className:"bg-gradient-to-r from-purple-600 via-pink-600 to-red-600 text-white p-6 rounded-t-3xl",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[m(s.type),e.jsxs("div",{children:[e.jsxs("h2",{className:"text-xl font-bold",children:[B(s.type)," Application"]}),e.jsxs("p",{className:"text-purple-100",children:[(N=s.user)==null?void 0:N.firstName," ",(v=s.user)==null?void 0:v.lastName]})]})]}),e.jsx("button",{onClick:()=>l(null),className:"text-white hover:text-purple-200 p-2 rounded-xl hover:bg-white hover:bg-opacity-10 transition-colors",children:e.jsx(he,{className:"h-6 w-6"})})]})}),e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white mb-3",children:"Applicant Information"}),e.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700 rounded-2xl p-4 space-y-2",children:[e.jsxs("p",{className:"text-gray-900 dark:text-white",children:[e.jsx("strong",{children:"Name:"})," ",(j=s.user)==null?void 0:j.firstName," ",(k=s.user)==null?void 0:k.lastName]}),e.jsxs("p",{className:"text-gray-900 dark:text-white",children:[e.jsx("strong",{children:"Email:"})," ",(b=s.user)==null?void 0:b.email]}),e.jsxs("p",{className:"text-gray-900 dark:text-white",children:[e.jsx("strong",{children:"Phone:"})," ",((C=s.details)==null?void 0:C.contactPhone)||"Not provided"]}),e.jsxs("p",{className:"text-gray-900 dark:text-white",children:[e.jsx("strong",{children:"Applied:"})," ",new Date(s.createdAt).toLocaleDateString()]})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white mb-3",children:"Application Details"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:["Why do you want to become a ",B(s.type),"?"]}),e.jsx("div",{className:"bg-gray-50 dark:bg-gray-700 rounded-2xl p-3",children:e.jsx("p",{className:"text-gray-700 dark:text-gray-300",children:(D=s.details)==null?void 0:D.reason})})]}),((F=s.details)==null?void 0:F.experience)&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Relevant Experience"}),e.jsx("div",{className:"bg-gray-50 dark:bg-gray-700 rounded-2xl p-3",children:e.jsx("p",{className:"text-gray-700 dark:text-gray-300",children:s.details.experience})})]}),s.type==="garden_manager"&&e.jsxs(e.Fragment,{children:[((T=s.details)==null?void 0:T.managementExperience)&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Management Experience"}),e.jsx("div",{className:"bg-gray-50 dark:bg-gray-700 rounded-2xl p-3",children:e.jsx("p",{className:"text-gray-700 dark:text-gray-300",children:s.details.managementExperience})})]}),((A=s.details)==null?void 0:A.availability)&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Availability"}),e.jsx("div",{className:"bg-gray-50 dark:bg-gray-700 rounded-2xl p-3",children:e.jsx("p",{className:"text-gray-700 dark:text-gray-300",children:s.details.availability})})]})]}),s.type==="event_organizer"&&e.jsxs(e.Fragment,{children:[((M=(R=s.details)==null?void 0:R.eventTypes)==null?void 0:M.length)>0&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Event Types Interested In"}),e.jsx("div",{className:"bg-gray-50 dark:bg-gray-700 rounded-2xl p-3",children:e.jsx("div",{className:"flex flex-wrap gap-2",children:s.details.eventTypes.map((U,L)=>e.jsx("span",{className:"px-2 py-1 bg-purple-100 dark:bg-purple-900/30 text-purple-800 dark:text-purple-200 rounded-lg text-sm",children:U},L))})})]}),((_=s.details)==null?void 0:_.organizationExperience)&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Event Organization Experience"}),e.jsx("div",{className:"bg-gray-50 dark:bg-gray-700 rounded-2xl p-3",children:e.jsx("p",{className:"text-gray-700 dark:text-gray-300",children:s.details.organizationExperience})})]}),((q=s.details)==null?void 0:q.plannedEvents)&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Planned Events Ideas"}),e.jsx("div",{className:"bg-gray-50 dark:bg-gray-700 rounded-2xl p-3",children:e.jsx("p",{className:"text-gray-700 dark:text-gray-300",children:s.details.plannedEvents})})]})]})]})]}),s.status==="pending"&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Review Notes (Optional)"}),e.jsx("textarea",{value:o,onChange:U=>i(U.target.value),rows:3,className:"w-full px-4 py-3 border border-gray-200 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-white rounded-2xl focus:ring-2 focus:ring-purple-500 focus:border-transparent",placeholder:"Add any notes for the applicant..."})]}),s.status==="pending"&&e.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-gray-200 dark:border-gray-600",children:[e.jsxs("button",{onClick:()=>w(s._id),disabled:x,className:"inline-flex items-center px-6 py-3 border border-gray-300 dark:border-gray-600 rounded-2xl text-gray-700 dark:text-gray-300 bg-white dark:bg-gray-700 hover:bg-gray-50 dark:hover:bg-gray-600 disabled:opacity-50 transition-colors",children:[e.jsx(he,{className:"h-4 w-4 mr-2"}),"Reject"]}),e.jsxs("button",{onClick:()=>f(s._id),disabled:x,className:"inline-flex items-center px-6 py-3 bg-green-600 text-white rounded-2xl hover:bg-green-700 disabled:opacity-50 transition-colors",children:[e.jsx(Me,{className:"h-4 w-4 mr-2"}),x?"Processing...":"Approve"]})]}),s.status!=="pending"&&s.reviewNotes&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Review Notes"}),e.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700 rounded-2xl p-3",children:[e.jsx("p",{className:"text-gray-700 dark:text-gray-300",children:s.reviewNotes}),e.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-2",children:["Reviewed on ",new Date(s.reviewedAt).toLocaleDateString()]})]})]})]})]})})]})})},cp=Object.freeze(Object.defineProperty({__proto__:null,default:xl},Symbol.toStringTag,{value:"Module"})),dl=()=>{const t=we();pe(),$a();const[r,a]=n.useState(!0),[s,l]=n.useState({systemMaintenance:!1,allowRegistrations:!0,requireEmailVerification:!0,maxUsersPerGarden:50,sessionTimeout:30,emailNotifications:!0,smsNotifications:!1,pushNotifications:!0,adminAlerts:!0,passwordMinLength:8,requireStrongPasswords:!0,enableTwoFactor:!1,loginAttempts:5,lockoutDuration:15,allowPublicGardens:!0,moderateContent:!0,allowFileUploads:!0,maxFileSize:5,smtpHost:"",smtpPort:587,smtpUser:"",smtpPassword:"",emailFrom:"noreply@pawconnect.com",autoBackup:!0,backupFrequency:"daily",retentionDays:30}),[o,i]=n.useState({totalStorage:"2.3 GB",freeStorage:"12.7 GB",lastBackup:new Date().toISOString(),systemUptime:"99.9%"});n.useEffect(()=>{x()},[]);const x=async()=>{try{a(!0),console.log("Loading admin settings...")}catch(p){console.error("Error loading settings:",p),I.error("Failed to load settings")}finally{a(!1)}},c=async(p,g)=>{try{l(f=>({...f,[p]:g})),I.success("Setting updated successfully")}catch(f){console.error("Error updating setting:",f),I.error("Failed to update setting")}},u=async()=>{try{I.info("Exporting data..."),I.success("Data export completed")}catch{I.error("Failed to export data")}},h=async()=>{try{I.info("Starting backup..."),I.success("Backup completed successfully")}catch{I.error("Backup failed")}},d=async p=>{try{const f={system:{title:"System Maintenance Notice",content:"The system will undergo maintenance tonight from 2:00 AM to 4:00 AM EST. Some features may be temporarily unavailable."},new_message:{title:"New Message",content:"You have received a new message from Sarah about today's dog park meetup!"},friend_request:{title:"New Friend Request",content:"John Doe wants to connect with you. You have 2 mutual friends."},event_reminder:{title:"Event Reminder",content:"Don't forget! The Golden Retriever Meetup starts in 1 hour at Central Park."}}[p];f&&(await Ye.createTestNotification(p,f.title,f.content)?I.success(`Sample ${p.replace("_"," ")} notification created!`):I.error("Failed to create sample notification"))}catch(g){I.error("Error creating sample notification"),console.error("Error creating sample notification:",g)}};return r?e.jsx(Os,{}):e.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900",children:e.jsxs("div",{className:"max-w-lg mx-auto lg:max-w-7xl",children:[e.jsx("div",{className:"bg-gradient-to-br from-purple-600 via-pink-600 to-red-600 dark:from-purple-700 dark:via-pink-700 dark:to-red-700 mx-4 mt-4 rounded-3xl p-6 text-white",children:e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center mb-2",children:[e.jsx("button",{onClick:()=>t("/admin"),className:"mr-3 p-2 bg-white bg-opacity-20 rounded-xl hover:bg-opacity-30 transition-colors",children:e.jsx(Ue,{className:"h-5 w-5"})}),e.jsx("h1",{className:"text-2xl font-bold",children:"Admin Settings ⚙️"})]}),e.jsx("p",{className:"text-purple-100 dark:text-purple-200 text-sm",children:"Configure system settings and preferences"})]}),e.jsx("div",{className:"hidden md:block",children:e.jsx("div",{className:"bg-white bg-opacity-20 rounded-2xl p-3",children:e.jsx(Hr,{className:"h-12 w-12 text-yellow-300"})})})]})}),e.jsxs("div",{className:"px-4 py-6 space-y-6",children:[e.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-3xl border border-gray-100 dark:border-gray-700",children:e.jsxs("div",{className:"p-6",children:[e.jsxs("h3",{className:"text-lg font-bold text-gray-900 dark:text-white mb-4 flex items-center",children:[e.jsx(Mc,{className:"h-5 w-5 text-green-500 mr-2"}),"System Status"]}),e.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-4",children:[e.jsxs("div",{className:"text-center p-3 bg-gray-50 dark:bg-gray-700 rounded-2xl",children:[e.jsx("div",{className:"text-lg font-bold text-gray-900 dark:text-white",children:o.systemUptime}),e.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Uptime"})]}),e.jsxs("div",{className:"text-center p-3 bg-gray-50 dark:bg-gray-700 rounded-2xl",children:[e.jsx("div",{className:"text-lg font-bold text-gray-900 dark:text-white",children:o.totalStorage}),e.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Used Storage"})]}),e.jsxs("div",{className:"text-center p-3 bg-gray-50 dark:bg-gray-700 rounded-2xl",children:[e.jsx("div",{className:"text-lg font-bold text-gray-900 dark:text-white",children:o.freeStorage}),e.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Free Storage"})]}),e.jsxs("div",{className:"text-center p-3 bg-gray-50 dark:bg-gray-700 rounded-2xl",children:[e.jsx("div",{className:"text-lg font-bold text-green-600 dark:text-green-400",children:"Online"}),e.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Status"})]})]}),e.jsxs("div",{className:"mt-6 grid grid-cols-1 sm:grid-cols-2 gap-4",children:[e.jsxs("button",{onClick:()=>t("/admin/api-usage"),className:"p-4 bg-blue-50 dark:bg-blue-900/20 rounded-2xl border border-blue-200 dark:border-blue-800 hover:bg-blue-100 dark:hover:bg-blue-900/30 transition-colors flex items-center justify-center space-x-3",children:[e.jsx(Yt,{className:"h-5 w-5 text-blue-600 dark:text-blue-400"}),e.jsx("span",{className:"text-sm font-medium text-blue-900 dark:text-blue-300",children:"View API Usage Monitor"})]}),e.jsxs("button",{onClick:u,className:"p-4 bg-green-50 dark:bg-green-900/20 rounded-2xl border border-green-200 dark:border-green-800 hover:bg-green-100 dark:hover:bg-green-900/30 transition-colors flex items-center justify-center space-x-3",children:[e.jsx(l0,{className:"h-5 w-5 text-green-600 dark:text-green-400"}),e.jsx("span",{className:"text-sm font-medium text-green-900 dark:text-green-300",children:"Export System Data"})]})]})]})}),e.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-3xl border border-gray-100 dark:border-gray-700",children:e.jsxs("div",{className:"p-6",children:[e.jsxs("h3",{className:"text-lg font-bold text-gray-900 dark:text-white mb-4 flex items-center",children:[e.jsx(Hr,{className:"h-5 w-5 text-blue-500 mr-2"}),"System Settings"]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 dark:bg-gray-700 rounded-2xl",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:"Maintenance Mode"}),e.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Temporarily disable user access"})]}),e.jsx("button",{onClick:()=>c("systemMaintenance",!s.systemMaintenance),className:`relative inline-flex h-4 w-7 items-center rounded-full transition-colors ${s.systemMaintenance?"bg-red-600":"bg-green-600"}`,children:e.jsx("span",{className:`inline-block h-3 w-3 transform rounded-full bg-white shadow-sm transition-transform ${s.systemMaintenance?"translate-x-3.5":"translate-x-0.5"}`})})]}),e.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 dark:bg-gray-700 rounded-2xl",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:"Allow New Registrations"}),e.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Enable new user sign-ups"})]}),e.jsx("button",{onClick:()=>c("allowRegistrations",!s.allowRegistrations),className:`relative inline-flex h-4 w-7 items-center rounded-full transition-colors ${s.allowRegistrations?"bg-green-600":"bg-gray-300"}`,children:e.jsx("span",{className:`inline-block h-3 w-3 transform rounded-full bg-white shadow-sm transition-transform ${s.allowRegistrations?"translate-x-3.5":"translate-x-0.5"}`})})]}),e.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 dark:bg-gray-700 rounded-2xl",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:"Email Verification Required"}),e.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Require email verification for new accounts"})]}),e.jsx("button",{onClick:()=>c("requireEmailVerification",!s.requireEmailVerification),className:`relative inline-flex h-4 w-7 items-center rounded-full transition-colors ${s.requireEmailVerification?"bg-blue-600":"bg-gray-300"}`,children:e.jsx("span",{className:`inline-block h-3 w-3 transform rounded-full bg-white shadow-sm transition-transform ${s.requireEmailVerification?"translate-x-3.5":"translate-x-0.5"}`})})]}),e.jsxs("div",{className:"p-3 bg-gray-50 dark:bg-gray-700 rounded-2xl",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-900 dark:text-white mb-2",children:"Max Users Per Garden"}),e.jsx("input",{type:"number",value:s.maxUsersPerGarden,onChange:p=>c("maxUsersPerGarden",parseInt(p.target.value)),className:"w-full px-3 py-2 border border-gray-200 dark:border-gray-600 bg-white dark:bg-gray-600 text-gray-900 dark:text-white rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]})]})}),e.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-3xl border border-gray-100 dark:border-gray-700",children:e.jsxs("div",{className:"p-6",children:[e.jsxs("h3",{className:"text-lg font-bold text-gray-900 dark:text-white mb-4 flex items-center",children:[e.jsx(gr,{className:"h-5 w-5 text-red-500 mr-2"}),"Security Settings"]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"p-3 bg-gray-50 dark:bg-gray-700 rounded-2xl",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-900 dark:text-white mb-2",children:"Minimum Password Length"}),e.jsx("input",{type:"number",value:s.passwordMinLength,onChange:p=>c("passwordMinLength",parseInt(p.target.value)),className:"w-full px-3 py-2 border border-gray-200 dark:border-gray-600 bg-white dark:bg-gray-600 text-gray-900 dark:text-white rounded-xl focus:ring-2 focus:ring-red-500 focus:border-transparent"})]}),e.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 dark:bg-gray-700 rounded-2xl",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:"Require Strong Passwords"}),e.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Enforce complex password requirements"})]}),e.jsx("button",{onClick:()=>c("requireStrongPasswords",!s.requireStrongPasswords),className:`relative inline-flex h-4 w-7 items-center rounded-full transition-colors ${s.requireStrongPasswords?"bg-red-600":"bg-gray-300"}`,children:e.jsx("span",{className:`inline-block h-3 w-3 transform rounded-full bg-white shadow-sm transition-transform ${s.requireStrongPasswords?"translate-x-3.5":"translate-x-0.5"}`})})]}),e.jsxs("div",{className:"p-3 bg-gray-50 dark:bg-gray-700 rounded-2xl",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-900 dark:text-white mb-2",children:"Max Login Attempts"}),e.jsx("input",{type:"number",value:s.loginAttempts,onChange:p=>c("loginAttempts",parseInt(p.target.value)),className:"w-full px-3 py-2 border border-gray-200 dark:border-gray-600 bg-white dark:bg-gray-600 text-gray-900 dark:text-white rounded-xl focus:ring-2 focus:ring-red-500 focus:border-transparent"})]})]})]})}),e.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-3xl border border-gray-100 dark:border-gray-700",children:e.jsxs("div",{className:"p-6",children:[e.jsxs("h3",{className:"text-lg font-bold text-gray-900 dark:text-white mb-4 flex items-center",children:[e.jsx(dt,{className:"h-5 w-5 text-yellow-500 mr-2"}),"Notification Settings"]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 dark:bg-gray-700 rounded-2xl",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:"Email Notifications"}),e.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Send notifications via email"})]}),e.jsx("button",{onClick:()=>c("emailNotifications",!s.emailNotifications),className:`relative inline-flex h-4 w-7 items-center rounded-full transition-colors ${s.emailNotifications?"bg-yellow-600":"bg-gray-300"}`,children:e.jsx("span",{className:`inline-block h-3 w-3 transform rounded-full bg-white shadow-sm transition-transform ${s.emailNotifications?"translate-x-3.5":"translate-x-0.5"}`})})]}),e.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 dark:bg-gray-700 rounded-2xl",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:"Push Notifications"}),e.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Send push notifications to mobile devices"})]}),e.jsx("button",{onClick:()=>c("pushNotifications",!s.pushNotifications),className:`relative inline-flex h-4 w-7 items-center rounded-full transition-colors ${s.pushNotifications?"bg-yellow-600":"bg-gray-300"}`,children:e.jsx("span",{className:`inline-block h-3 w-3 transform rounded-full bg-white shadow-sm transition-transform ${s.pushNotifications?"translate-x-3.5":"translate-x-0.5"}`})})]}),e.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 dark:bg-gray-700 rounded-2xl",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:"Admin Alerts"}),e.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Critical system alerts for admins"})]}),e.jsx("button",{onClick:()=>c("adminAlerts",!s.adminAlerts),className:`relative inline-flex h-4 w-7 items-center rounded-full transition-colors ${s.adminAlerts?"bg-red-600":"bg-gray-300"}`,children:e.jsx("span",{className:`inline-block h-3 w-3 transform rounded-full bg-white shadow-sm transition-transform ${s.adminAlerts?"translate-x-3.5":"translate-x-0.5"}`})})]}),e.jsxs("div",{className:"border-t border-gray-200 dark:border-gray-600 pt-4 mt-4",children:[e.jsx("div",{className:"text-sm font-medium text-gray-900 dark:text-white mb-3",children:"Test Notifications"}),e.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[e.jsx("button",{onClick:()=>d("system"),className:"px-3 py-2 bg-blue-100 dark:bg-blue-900/30 text-blue-700 dark:text-blue-300 text-xs font-medium rounded-lg hover:bg-blue-200 dark:hover:bg-blue-900/50 transition-colors",children:"System Alert"}),e.jsx("button",{onClick:()=>d("new_message"),className:"px-3 py-2 bg-purple-100 dark:bg-purple-900/30 text-purple-700 dark:text-purple-300 text-xs font-medium rounded-lg hover:bg-purple-200 dark:hover:bg-purple-900/50 transition-colors",children:"New Message"}),e.jsx("button",{onClick:()=>d("friend_request"),className:"px-3 py-2 bg-green-100 dark:bg-green-900/30 text-green-700 dark:text-green-300 text-xs font-medium rounded-lg hover:bg-green-200 dark:hover:bg-green-900/50 transition-colors",children:"Friend Request"}),e.jsx("button",{onClick:()=>d("event_reminder"),className:"px-3 py-2 bg-orange-100 dark:bg-orange-900/30 text-orange-700 dark:text-orange-300 text-xs font-medium rounded-lg hover:bg-orange-200 dark:hover:bg-orange-900/50 transition-colors",children:"Event Reminder"})]})]})]})]})}),e.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-3xl border border-gray-100 dark:border-gray-700",children:e.jsxs("div",{className:"p-6",children:[e.jsxs("h3",{className:"text-lg font-bold text-gray-900 dark:text-white mb-4 flex items-center",children:[e.jsx(l0,{className:"h-5 w-5 text-purple-500 mr-2"}),"Backup & Data Management"]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 dark:bg-gray-700 rounded-2xl",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:"Auto Backup"}),e.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Automatically backup data"})]}),e.jsx("button",{onClick:()=>c("autoBackup",!s.autoBackup),className:`relative inline-flex h-4 w-7 items-center rounded-full transition-colors ${s.autoBackup?"bg-purple-600":"bg-gray-300"}`,children:e.jsx("span",{className:`inline-block h-3 w-3 transform rounded-full bg-white shadow-sm transition-transform ${s.autoBackup?"translate-x-3.5":"translate-x-0.5"}`})})]}),e.jsxs("div",{className:"p-3 bg-gray-50 dark:bg-gray-700 rounded-2xl",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-900 dark:text-white mb-2",children:"Backup Frequency"}),e.jsxs("select",{value:s.backupFrequency,onChange:p=>c("backupFrequency",p.target.value),className:"w-full px-3 py-2 border border-gray-200 dark:border-gray-600 bg-white dark:bg-gray-600 text-gray-900 dark:text-white rounded-xl focus:ring-2 focus:ring-purple-500 focus:border-transparent",children:[e.jsx("option",{value:"hourly",children:"Hourly"}),e.jsx("option",{value:"daily",children:"Daily"}),e.jsx("option",{value:"weekly",children:"Weekly"}),e.jsx("option",{value:"monthly",children:"Monthly"})]})]}),e.jsxs("div",{className:"p-3 bg-gray-50 dark:bg-gray-700 rounded-2xl",children:[e.jsx("div",{className:"text-sm font-medium text-gray-900 dark:text-white mb-2",children:"Last Backup"}),e.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400 mb-3",children:new Date(o.lastBackup).toLocaleString()}),e.jsxs("div",{className:"flex space-x-3",children:[e.jsx("button",{onClick:h,className:"flex-1 bg-purple-100 dark:bg-purple-900/30 text-purple-700 dark:text-purple-300 py-2 px-4 rounded-xl text-sm font-medium hover:bg-purple-200 dark:hover:bg-purple-900/50 transition-colors",children:"Backup Now"}),e.jsx("button",{onClick:u,className:"flex-1 bg-blue-100 dark:bg-blue-900/30 text-blue-700 dark:text-blue-300 py-2 px-4 rounded-xl text-sm font-medium hover:bg-blue-200 dark:hover:bg-blue-900/50 transition-colors",children:"Export Data"})]})]})]})]})}),e.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-3xl border border-red-200 dark:border-red-800",children:e.jsxs("div",{className:"p-6",children:[e.jsxs("h3",{className:"text-lg font-bold text-red-700 dark:text-red-400 mb-4 flex items-center",children:[e.jsx(Es,{className:"h-5 w-5 mr-2"}),"Danger Zone"]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"p-4 bg-red-50 dark:bg-red-900/20 rounded-2xl border border-red-200 dark:border-red-800",children:[e.jsxs("div",{className:"mb-3",children:[e.jsx("div",{className:"text-sm font-medium text-red-800 dark:text-red-300",children:"Reset All Settings"}),e.jsx("div",{className:"text-xs text-red-600 dark:text-red-400",children:"This will reset all settings to default values"})]}),e.jsx("button",{className:"w-full bg-red-600 text-white py-2 px-4 rounded-xl text-sm font-medium hover:bg-red-700 transition-colors",children:"Reset Settings"})]}),e.jsxs("div",{className:"p-4 bg-red-50 dark:bg-red-900/20 rounded-2xl border border-red-200 dark:border-red-800",children:[e.jsxs("div",{className:"mb-3",children:[e.jsx("div",{className:"text-sm font-medium text-red-800 dark:text-red-300",children:"Clear All Data"}),e.jsx("div",{className:"text-xs text-red-600 dark:text-red-400",children:"This will permanently delete all user data"})]}),e.jsx("button",{className:"w-full bg-red-700 text-white py-2 px-4 rounded-xl text-sm font-medium hover:bg-red-800 transition-colors",children:"Clear All Data"})]})]})]})})]})]})})},mp=Object.freeze(Object.defineProperty({__proto__:null,default:dl},Symbol.toStringTag,{value:"Module"})),gp=()=>{const t=we(),{user:r}=pe(),[a,s]=n.useState(!0),[l,o]=n.useState("7"),[i,x]=n.useState({total:{totalRequests:0,totalCost:0,successfulRequests:0,failedRequests:0,avgResponseTime:0},byApiType:[],dailyUsage:[]}),[c,u]=n.useState({places_text_search:.032,places_details:.017,places_photos:.007,places_autocomplete:.00285});n.useEffect(()=>{if((r==null?void 0:r.role)!=="admin"){I.error("Access denied. Admin privileges required."),t("/dashboard");return}h()},[r,t,l]);const h=async()=>{try{s(!0);const E=new Date,N=new Date;N.setDate(N.getDate()-parseInt(l));const v=await Q.get("/admin/api-usage",{params:{startDate:N.toISOString(),endDate:E.toISOString(),days:l}});x(v.data)}catch(E){console.error("Error loading API usage data:",E),x({total:{totalRequests:1247,totalCost:39.9,successfulRequests:1198,failedRequests:49,avgResponseTime:892},byApiType:[{_id:"places_text_search",totalRequests:1180,totalCost:37.76,successfulRequests:1140,failedRequests:40,avgResponseTime:920},{_id:"places_details",totalRequests:45,totalCost:.77,successfulRequests:42,failedRequests:3,avgResponseTime:680},{_id:"places_photos",totalRequests:22,totalCost:.15,successfulRequests:16,failedRequests:6,avgResponseTime:1150}],dailyUsage:[{_id:{year:2024,month:12,day:15},totalRequests:89,totalCost:2.85,successfulRequests:85},{_id:{year:2024,month:12,day:16},totalRequests:124,totalCost:3.97,successfulRequests:118},{_id:{year:2024,month:12,day:17},totalRequests:156,totalCost:4.99,successfulRequests:151},{_id:{year:2024,month:12,day:18},totalRequests:203,totalCost:6.5,successfulRequests:195},{_id:{year:2024,month:12,day:19},totalRequests:178,totalCost:5.7,successfulRequests:170},{_id:{year:2024,month:12,day:20},totalRequests:234,totalCost:7.49,successfulRequests:224},{_id:{year:2024,month:12,day:21},totalRequests:263,totalCost:8.4,successfulRequests:255}]})}finally{s(!1)}},d=()=>{const E=i.total.totalRequests,N=i.total.successfulRequests;return E>0?(N/E*100).toFixed(1):0},p=E=>({places_text_search:"Places Search",places_details:"Place Details",places_photos:"Place Photos",places_autocomplete:"Autocomplete"})[E]||E,g=E=>({places_text_search:e.jsx(Wr,{className:"h-5 w-5"}),places_details:e.jsx(at,{className:"h-5 w-5"}),places_photos:e.jsx(wd,{className:"h-5 w-5"}),places_autocomplete:e.jsx(kx,{className:"h-5 w-5"})})[E]||e.jsx(Yt,{className:"h-5 w-5"}),f=E=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:2,maximumFractionDigits:4}).format(E),w=E=>E<1e3?`${Math.round(E)}ms`:`${(E/1e3).toFixed(1)}s`,m=()=>i.total.totalCost/parseInt(l)*30,B=()=>{if(i.dailyUsage.length<2)return"stable";const E=i.dailyUsage.slice(-3),N=i.dailyUsage.slice(-6,-3),v=E.reduce((b,C)=>b+C.totalRequests,0)/E.length,j=N.reduce((b,C)=>b+C.totalRequests,0)/N.length,k=(v-j)/j*100;return k>10?"increasing":k<-10?"decreasing":"stable"};return a?e.jsx(Os,{}):e.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900",children:e.jsxs("div",{className:"max-w-lg mx-auto lg:max-w-7xl",children:[e.jsxs("div",{className:"bg-gradient-to-br from-blue-600 via-purple-600 to-indigo-700 dark:from-blue-700 dark:via-purple-700 dark:to-indigo-800 mx-2 sm:mx-4 mt-2 sm:mt-4 rounded-2xl sm:rounded-3xl p-4 sm:p-6 text-white",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center mb-2",children:[e.jsx("button",{onClick:()=>t("/admin"),className:"mr-3 p-2 bg-white bg-opacity-20 rounded-xl hover:bg-opacity-30 transition-colors",children:e.jsx(Ue,{className:"h-4 sm:h-5 w-4 sm:w-5"})}),e.jsx("h1",{className:"text-xl sm:text-2xl font-bold",children:"API Usage Monitor 📊"})]}),e.jsx("p",{className:"text-blue-100 dark:text-blue-200 text-sm",children:"Google Places API Usage & Cost Tracking"})]}),e.jsx("div",{className:"hidden sm:block",children:e.jsx("div",{className:"bg-white bg-opacity-20 rounded-2xl p-3",children:e.jsx(Yt,{className:"h-8 sm:h-12 w-8 sm:w-12 text-yellow-300"})})})]}),e.jsx("div",{className:"flex flex-wrap gap-2 mb-4",children:["7","30","90"].map(E=>e.jsxs("button",{onClick:()=>o(E),className:`px-3 py-1.5 rounded-lg text-sm font-medium transition-colors ${l===E?"bg-white text-blue-600":"bg-white bg-opacity-20 text-white hover:bg-opacity-30"}`,children:["Last ",E," days"]},E))}),e.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-3 text-blue-100 dark:text-blue-200 text-sm",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(n0,{className:"h-4 w-4 mr-1"}),e.jsxs("span",{children:[i.total.totalRequests," Requests"]})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx(Ks,{className:"h-4 w-4 mr-1"}),e.jsx("span",{children:f(i.total.totalCost)})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx(Me,{className:"h-4 w-4 mr-1"}),e.jsxs("span",{children:[d(),"% Success"]})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx(Le,{className:"h-4 w-4 mr-1"}),e.jsx("span",{children:w(i.total.avgResponseTime)})]})]})]}),e.jsxs("div",{className:"px-2 sm:px-4 py-4 sm:py-6 space-y-4 sm:space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-3 sm:gap-4",children:[e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl sm:rounded-3xl p-4 sm:p-6 border border-gray-100 dark:border-gray-700",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsx(Ks,{className:"h-8 w-8 text-green-500"}),e.jsx("div",{className:`p-2 rounded-full text-xs ${B()==="increasing"?"bg-red-100 text-red-600":B()==="decreasing"?"bg-green-100 text-green-600":"bg-gray-100 text-gray-600"}`,children:B()==="increasing"?e.jsx(ux,{className:"h-3 w-3"}):B()==="decreasing"?e.jsx(cx,{className:"h-3 w-3"}):e.jsx("span",{children:"="})})]}),e.jsx("div",{className:"text-2xl sm:text-3xl font-bold text-gray-900 dark:text-white mb-1",children:f(i.total.totalCost)}),e.jsxs("div",{className:"text-xs sm:text-sm text-gray-500 dark:text-gray-400",children:["Total Cost (",l," days)"]}),e.jsxs("div",{className:"text-xs text-gray-400 dark:text-gray-500 mt-1",children:["Monthly Est: ",f(m())]})]}),e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl sm:rounded-3xl p-4 sm:p-6 border border-gray-100 dark:border-gray-700",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsx(n0,{className:"h-8 w-8 text-blue-500"}),e.jsxs("div",{className:"text-xs text-gray-500",children:[(i.total.totalRequests/parseInt(l)).toFixed(0),"/day"]})]}),e.jsx("div",{className:"text-2xl sm:text-3xl font-bold text-gray-900 dark:text-white mb-1",children:i.total.totalRequests.toLocaleString()}),e.jsx("div",{className:"text-xs sm:text-sm text-gray-500 dark:text-gray-400",children:"Total Requests"})]}),e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl sm:rounded-3xl p-4 sm:p-6 border border-gray-100 dark:border-gray-700",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsx(Me,{className:"h-8 w-8 text-green-500"}),e.jsxs("div",{className:"text-xs text-red-500",children:[i.total.failedRequests," failures"]})]}),e.jsxs("div",{className:"text-2xl sm:text-3xl font-bold text-gray-900 dark:text-white mb-1",children:[d(),"%"]}),e.jsx("div",{className:"text-xs sm:text-sm text-gray-500 dark:text-gray-400",children:"Success Rate"})]}),e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl sm:rounded-3xl p-4 sm:p-6 border border-gray-100 dark:border-gray-700",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsx(Le,{className:"h-8 w-8 text-purple-500"}),e.jsx("div",{className:`text-xs ${i.total.avgResponseTime>1e3?"text-red-500":i.total.avgResponseTime>500?"text-yellow-500":"text-green-500"}`,children:i.total.avgResponseTime>1e3?"Slow":i.total.avgResponseTime>500?"Fair":"Good"})]}),e.jsx("div",{className:"text-2xl sm:text-3xl font-bold text-gray-900 dark:text-white mb-1",children:w(i.total.avgResponseTime)}),e.jsx("div",{className:"text-xs sm:text-sm text-gray-500 dark:text-gray-400",children:"Avg Response Time"})]})]}),e.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-2xl sm:rounded-3xl border border-gray-100 dark:border-gray-700",children:e.jsxs("div",{className:"p-4 sm:p-6",children:[e.jsxs("h3",{className:"text-lg font-bold text-gray-900 dark:text-white mb-4 flex items-center",children:[e.jsx(Yt,{className:"h-5 w-5 text-purple-500 mr-2"}),"API Breakdown"]}),e.jsx("div",{className:"space-y-3 sm:space-y-4",children:i.byApiType.map(E=>e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between p-3 sm:p-4 bg-gray-50 dark:bg-gray-700 rounded-xl sm:rounded-2xl",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-2 sm:mb-0",children:[e.jsx("div",{className:"p-2 bg-white dark:bg-gray-600 rounded-lg",children:g(E._id)}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm sm:text-base font-medium text-gray-900 dark:text-white",children:p(E._id)}),e.jsxs("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:[f(c[E._id])," per request"]})]})]}),e.jsxs("div",{className:"grid grid-cols-2 sm:flex sm:items-center sm:space-x-6 gap-2 text-sm",children:[e.jsxs("div",{className:"text-center sm:text-left",children:[e.jsx("div",{className:"font-medium text-gray-900 dark:text-white",children:E.totalRequests.toLocaleString()}),e.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Requests"})]}),e.jsxs("div",{className:"text-center sm:text-left",children:[e.jsx("div",{className:"font-medium text-gray-900 dark:text-white",children:f(E.totalCost)}),e.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Cost"})]}),e.jsxs("div",{className:"text-center sm:text-left",children:[e.jsxs("div",{className:"font-medium text-gray-900 dark:text-white",children:[(E.successfulRequests/E.totalRequests*100).toFixed(1),"%"]}),e.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Success"})]}),e.jsxs("div",{className:"text-center sm:text-left",children:[e.jsx("div",{className:"font-medium text-gray-900 dark:text-white",children:w(E.avgResponseTime)}),e.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Avg Time"})]})]})]},E._id))})]})}),e.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-2xl sm:rounded-3xl border border-gray-100 dark:border-gray-700",children:e.jsxs("div",{className:"p-4 sm:p-6",children:[e.jsxs("h3",{className:"text-lg font-bold text-gray-900 dark:text-white mb-4 flex items-center",children:[e.jsx(Nt,{className:"h-5 w-5 text-blue-500 mr-2"}),"Daily Usage Trend"]}),e.jsx("div",{className:"space-y-3",children:i.dailyUsage.map(E=>{const N=new Date(E._id.year,E._id.month-1,E._id.day),v=Math.max(...i.dailyUsage.map(k=>k.totalRequests)),j=E.totalRequests/v*100;return e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-16 sm:w-20 text-xs sm:text-sm text-gray-500 dark:text-gray-400",children:N.toLocaleDateString("en-US",{month:"short",day:"numeric"})}),e.jsx("div",{className:"flex-1 bg-gray-200 dark:bg-gray-600 rounded-full h-3 sm:h-4",children:e.jsx("div",{className:"bg-gradient-to-r from-blue-500 to-purple-500 h-3 sm:h-4 rounded-full transition-all duration-300",style:{width:`${j}%`}})}),e.jsx("div",{className:"w-16 sm:w-20 text-xs sm:text-sm text-gray-900 dark:text-white text-right",children:E.totalRequests}),e.jsx("div",{className:"w-16 sm:w-20 text-xs sm:text-sm text-gray-500 dark:text-gray-400 text-right",children:f(E.totalCost)})]},`${E._id.year}-${E._id.month}-${E._id.day}`)})})]})}),e.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-2xl sm:rounded-3xl border border-gray-100 dark:border-gray-700",children:e.jsxs("div",{className:"p-4 sm:p-6",children:[e.jsxs("h3",{className:"text-lg font-bold text-gray-900 dark:text-white mb-4 flex items-center",children:[e.jsx(Ks,{className:"h-5 w-5 text-green-500 mr-2"}),"Current Google Places API Pricing"]}),e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:Object.entries(c).map(([E,N])=>e.jsxs("div",{className:"p-4 bg-gray-50 dark:bg-gray-700 rounded-xl",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:"text-sm font-medium text-gray-900 dark:text-white",children:p(E)}),e.jsxs("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:[f(N)," per request"]})]}),e.jsxs("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:[f(N*1e3)," per 1,000 requests"]})]},E))}),e.jsx("div",{className:"mt-4 p-4 bg-blue-50 dark:bg-blue-900/20 rounded-xl",children:e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx(Es,{className:"h-5 w-5 text-blue-500 mt-0.5"}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-medium text-blue-900 dark:text-blue-300",children:"Google Cloud Free Tier"}),e.jsx("div",{className:"text-xs text-blue-700 dark:text-blue-400 mt-1",children:"$200 in free credits for the first 90 days. After that, you'll be charged based on usage."})]})]})})]})})]})]})})},up=({garden:t,onClose:r})=>{const[a,s]=n.useState("overview"),[l,o]=n.useState({totalSubscribers:0,activeSubscribers:0,preferenceBreakdown:{events:0,promotions:0,announcements:0,maintenance:0},recentSubscriptions:[]}),[i,x]=n.useState([]),[c,u]=n.useState(!0),[h,d]=n.useState(1),[p,g]=n.useState(1),[f,w]=n.useState(!1),[m,B]=n.useState({subject:"",content:"",emailType:"announcements"}),[E,N]=n.useState(!1);n.useEffect(()=>{t!=null&&t._id&&v()},[t==null?void 0:t._id]);const v=async()=>{var F;try{u(!0);const[T,A]=await Promise.all([Se.getNewsletterStats(t._id),Se.getNewsletterSubscribers(t._id,{page:h,limit:10})]);o(T),x(A.subscribers||[]),g(((F=A.pagination)==null?void 0:F.pages)||1)}catch(T){console.error("Error loading newsletter data:",T),I.error("Failed to load newsletter data")}finally{u(!1)}},j=async()=>{var F,T;if(!m.subject||!m.content){I.error("Please fill in both subject and content");return}N(!0);try{await Se.sendNewsletter(t._id,m),I.success("Newsletter sent successfully!"),w(!1),B({subject:"",content:"",emailType:"announcements"}),v()}catch(A){console.error("Error sending newsletter:",A),I.error(((T=(F=A.response)==null?void 0:F.data)==null?void 0:T.error)||"Failed to send newsletter")}finally{N(!1)}},k=[{id:"overview",name:"Overview",icon:Yt},{id:"subscribers",name:"Subscribers",icon:Ne},{id:"send",name:"Send Newsletter",icon:Xt}],b=()=>e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[e.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-2xl p-4 border border-gray-100 dark:border-gray-700",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Total Subscribers"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:l.totalSubscribers})]}),e.jsx(es,{className:"h-8 w-8 text-blue-500"})]})}),e.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-2xl p-4 border border-gray-100 dark:border-gray-700",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Active Subscribers"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:l.activeSubscribers})]}),e.jsx(Me,{className:"h-8 w-8 text-green-500"})]})}),e.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-2xl p-4 border border-gray-100 dark:border-gray-700",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Events Subscribers"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:l.preferenceBreakdown.events})]}),e.jsx(bt,{className:"h-8 w-8 text-purple-500"})]})}),e.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-2xl p-4 border border-gray-100 dark:border-gray-700",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Promotions Subscribers"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:l.preferenceBreakdown.promotions})]}),e.jsx(vn,{className:"h-8 w-8 text-orange-500"})]})})]}),e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl p-6 border border-gray-100 dark:border-gray-700",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Subscription Preferences"}),e.jsx("div",{className:"space-y-3",children:Object.entries(l.preferenceBreakdown).map(([F,T])=>e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 capitalize",children:F.replace(/([A-Z])/g," $1").trim()}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"w-24 bg-gray-200 dark:bg-gray-700 rounded-full h-2",children:e.jsx("div",{className:"bg-blue-500 h-2 rounded-full",style:{width:`${l.activeSubscribers>0?T/l.activeSubscribers*100:0}%`}})}),e.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400 w-8",children:T})]})]},F))})]}),e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl p-6 border border-gray-100 dark:border-gray-700",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Recent Subscriptions"}),l.recentSubscriptions.length>0?e.jsx("div",{className:"space-y-3",children:l.recentSubscriptions.map((F,T)=>{var A,R;return e.jsxs("div",{className:"flex items-center justify-between py-2 border-b border-gray-100 dark:border-gray-700 last:border-b-0",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-8 h-8 bg-blue-100 dark:bg-blue-900/30 rounded-full flex items-center justify-center",children:e.jsx(dt,{className:"h-4 w-4 text-blue-600 dark:text-blue-400"})}),e.jsxs("div",{children:[e.jsxs("p",{className:"text-sm font-medium text-gray-900 dark:text-white",children:[(A=F.user)==null?void 0:A.firstName," ",(R=F.user)==null?void 0:R.lastName]}),e.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:F.userEmail})]})]}),e.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:new Date(F.subscriptionDate).toLocaleDateString()})]},T)})}):e.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-center py-4",children:"No recent subscriptions"})]})]}),C=()=>e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Subscribers"}),e.jsxs("button",{onClick:v,className:"flex items-center space-x-2 px-3 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition-colors",children:[e.jsx(Fr,{className:"h-4 w-4"}),e.jsx("span",{children:"Refresh"})]})]}),i.length>0?e.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-2xl border border-gray-100 dark:border-gray-700 overflow-hidden",children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-50 dark:bg-gray-700",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Subscriber"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Email"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Dog"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Subscribed Date"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Preferences"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-200 dark:divide-gray-700",children:i.map((F,T)=>{var A;return e.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-700",children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"w-8 h-8 bg-purple-100 dark:bg-purple-900/30 rounded-full flex items-center justify-center",children:e.jsx("span",{className:"text-sm font-medium text-purple-600 dark:text-purple-400",children:((A=F.userName)==null?void 0:A.charAt(0))||"?"})}),e.jsx("div",{className:"ml-3",children:e.jsx("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:F.userName})})]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("div",{className:"text-sm text-gray-900 dark:text-white",children:F.userEmail})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("div",{className:"text-sm text-gray-900 dark:text-white",children:F.dogName||"No dog listed"})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:new Date(F.subscriptionDate).toLocaleDateString()})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("div",{className:"flex flex-wrap gap-1",children:Object.entries(F.preferences||{}).map(([R,M])=>M&&e.jsx("span",{className:"px-2 py-1 text-xs bg-blue-100 dark:bg-blue-900/30 text-blue-800 dark:text-blue-300 rounded-full",children:R},R))})})]},T)})})]})})}):e.jsxs("div",{className:"text-center py-8",children:[e.jsx(dt,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"No subscribers yet"})]}),p>1&&e.jsx("div",{className:"flex justify-center space-x-2",children:Array.from({length:p},(F,T)=>T+1).map(F=>e.jsx("button",{onClick:()=>d(F),className:`px-3 py-2 rounded-lg text-sm font-medium transition-colors ${h===F?"bg-blue-500 text-white":"bg-white dark:bg-gray-800 text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700"}`,children:F},F))})]}),D=()=>e.jsx("div",{className:"space-y-6",children:e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl p-6 border border-gray-100 dark:border-gray-700",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Send Newsletter"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Email Type"}),e.jsxs("select",{value:m.emailType,onChange:F=>B({...m,emailType:F.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-700 dark:text-white",children:[e.jsx("option",{value:"announcements",children:"Announcements"}),e.jsx("option",{value:"events",children:"Events"}),e.jsx("option",{value:"promotions",children:"Promotions"}),e.jsx("option",{value:"maintenance",children:"Maintenance"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Subject"}),e.jsx("input",{type:"text",value:m.subject,onChange:F=>B({...m,subject:F.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-700 dark:text-white",placeholder:"Enter newsletter subject"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Content"}),e.jsx("textarea",{value:m.content,onChange:F=>B({...m,content:F.target.value}),rows:8,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-700 dark:text-white",placeholder:"Enter newsletter content"})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:["This will be sent to ",l.preferenceBreakdown[m.emailType]||0," subscribers"]}),e.jsx("button",{onClick:j,disabled:E||!m.subject||!m.content,className:"flex items-center space-x-2 px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:E?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),e.jsx("span",{children:"Sending..."})]}):e.jsxs(e.Fragment,{children:[e.jsx(Ra,{className:"h-4 w-4"}),e.jsx("span",{children:"Send Newsletter"})]})})]})]})]})});return c?e.jsxs("div",{className:"animate-pulse",children:[e.jsx("div",{className:"h-6 bg-gray-300 dark:bg-gray-600 rounded mb-4"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-6",children:[...Array(4)].map((F,T)=>e.jsx("div",{className:"h-20 bg-gray-300 dark:bg-gray-600 rounded-2xl"},T))}),e.jsx("div",{className:"h-64 bg-gray-300 dark:bg-gray-600 rounded-2xl"})]}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-white",children:"Newsletter Management"}),e.jsx("button",{onClick:r,className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-full transition-colors",children:e.jsx(he,{className:"h-5 w-5 text-gray-500 dark:text-gray-400"})})]}),e.jsx("div",{className:"border-b border-gray-200 dark:border-gray-700",children:e.jsx("nav",{className:"flex space-x-8",children:k.map(F=>e.jsxs("button",{onClick:()=>s(F.id),className:`flex items-center space-x-2 py-2 px-1 border-b-2 font-medium text-sm transition-colors ${a===F.id?"border-blue-500 text-blue-600 dark:text-blue-400":"border-transparent text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-300"}`,children:[e.jsx(F.icon,{className:"h-4 w-4"}),e.jsx("span",{children:F.name})]},F.id))})}),e.jsxs("div",{children:[a==="overview"&&b(),a==="subscribers"&&C(),a==="send"&&D()]})]})},cl=()=>{const{user:t}=pe(),[r,a]=n.useState([]),[s,l]=n.useState(!0),[o,i]=n.useState(!1),[x,c]=n.useState(null),[u,h]=n.useState(!1),[d,p]=n.useState(null),[g,f]=n.useState(!1),[w,m]=n.useState(null),[B,E]=n.useState("list"),[N,v]=n.useState(!1),[j,k]=n.useState(null),[b,C]=n.useState({name:"",description:"",address:"",type:"public",capacity:{maxDogs:10},amenities:[],operatingHours:{open:"06:00",close:"22:00"}});n.useEffect(()=>{D()},[]);const D=async()=>{try{l(!0);const z=await Q.get("/gardens/my-gardens");a(z.data)}catch(z){console.error("Error loading gardens:",z),I.error("Failed to load your gardens")}finally{l(!1)}},F=z=>{const{name:O,value:Y}=z.target;if(O.includes(".")){const[X,ae]=O.split(".");C(me=>({...me,[X]:{...me[X],[ae]:Y}}))}else C(X=>({...X,[O]:Y}))},T=async z=>{var O,Y,X;z.preventDefault();try{const ae={name:b.name,description:b.description,type:b.type,location:{address:b.address,city:((O=b.address.split(",").pop())==null?void 0:O.trim())||"Unknown",coordinates:{type:"Point",coordinates:[0,0]}},capacity:b.capacity,amenities:b.amenities,openingHours:{monday:{open:b.operatingHours.open,close:b.operatingHours.close,closed:!1},tuesday:{open:b.operatingHours.open,close:b.operatingHours.close,closed:!1},wednesday:{open:b.operatingHours.open,close:b.operatingHours.close,closed:!1},thursday:{open:b.operatingHours.open,close:b.operatingHours.close,closed:!1},friday:{open:b.operatingHours.open,close:b.operatingHours.close,closed:!1},saturday:{open:b.operatingHours.open,close:b.operatingHours.close,closed:!1},sunday:{open:b.operatingHours.open,close:b.operatingHours.close,closed:!1}}};if(x)await Q.put(`/gardens/${x._id}`,ae),I.success("Garden updated successfully");else{const de=(await Q.post("/gardens",ae)).data;de&&de._id?I.success(`🎉 Garden "${de.name}" created successfully! 📱 QR code is ready - visit the garden page to view and download it.`):I.success("Garden created successfully")}A(),D()}catch(ae){console.error("Error saving garden:",ae),I.error(((X=(Y=ae.response)==null?void 0:Y.data)==null?void 0:X.error)||"Failed to save garden")}},A=()=>{C({name:"",description:"",address:"",type:"public",capacity:{maxDogs:10},amenities:[],operatingHours:{open:"06:00",close:"22:00"}}),c(null),i(!1)},R=z=>{var X,ae;c(z);let O="06:00",Y="22:00";z.operatingHours?(O=z.operatingHours.open||"06:00",Y=z.operatingHours.close||"22:00"):z.openingHours&&z.openingHours.monday&&(O=z.openingHours.monday.open||"06:00",Y=z.openingHours.monday.close||"22:00"),C({name:z.name||"",description:z.description||"",address:((X=z.location)==null?void 0:X.address)||"",type:z.type||"public",capacity:{maxDogs:((ae=z.capacity)==null?void 0:ae.maxDogs)||10},amenities:z.amenities||[],operatingHours:{open:O,close:Y}}),i(!0)},M=()=>{c(null),C({name:"",description:"",address:"",type:"public",capacity:{maxDogs:10},amenities:[],operatingHours:{open:"06:00",close:"22:00"}}),i(!0)},_=async z=>{if(window.confirm("Are you sure you want to delete this garden?"))try{await Q.delete(`/gardens/${z}`),I.success("Garden deleted successfully"),D()}catch(O){console.error("Error deleting garden:",O),I.error("Failed to delete garden")}},q=z=>{p(z),h(!0)},U=()=>{h(!1),p(null)},L=z=>{m(z),E("create"),f(!0)},S=z=>{I.success("Event created successfully!"),E("list")},H=()=>{f(!1),m(null),E("list")},P=z=>{k(z),v(!0)},G=()=>{v(!1),k(null)};return s?e.jsx(Hu,{}):e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-purple-50 via-white to-pink-50 dark:from-gray-900 dark:via-gray-800 dark:to-gray-900",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[e.jsxs("div",{className:"relative bg-gradient-to-r from-purple-600 to-pink-600 dark:from-purple-700 dark:to-pink-700 rounded-3xl p-8 mb-8 text-white overflow-hidden",children:[e.jsx("div",{className:"absolute inset-0 bg-black opacity-10"}),e.jsx("div",{className:"relative z-10",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-4xl font-bold mb-2 flex items-center",children:"Garden Management Hub 🌳"}),e.jsxs("p",{className:"text-purple-100 text-lg mb-4",children:["Welcome, ",t==null?void 0:t.firstName,"! Create and manage beautiful dog parks for your community"]}),e.jsxs("div",{className:"flex items-center space-x-6 text-purple-100",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(Nr,{className:"h-5 w-5 mr-2"}),e.jsxs("span",{children:[r.length," Gardens Managed"]})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx(Ne,{className:"h-5 w-5 mr-2"}),e.jsx("span",{children:"Community Builder"})]})]})]}),e.jsx("div",{className:"hidden md:block",children:e.jsx("div",{className:"bg-white bg-opacity-20 rounded-2xl p-4",children:e.jsx(Ts,{className:"h-16 w-16 text-yellow-300"})})})]})}),e.jsx("div",{className:"absolute -bottom-6 -right-6 opacity-20",children:e.jsx("div",{className:"text-9xl",children:"🏡"})})]}),e.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-3xl shadow-lg border border-gray-100 dark:border-gray-700 p-6 mb-8",children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsxs("h2",{className:"text-xl font-bold text-gray-900 dark:text-white flex items-center",children:[e.jsx(Hr,{className:"h-6 w-6 text-purple-600 mr-2"}),"My Gardens Dashboard"]}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400 text-sm mt-1",children:"Manage all your dog parks in one place"})]}),e.jsxs("button",{onClick:M,className:"inline-flex items-center px-6 py-3 bg-gradient-to-r from-purple-600 to-pink-600 text-white font-medium rounded-xl hover:from-purple-700 hover:to-pink-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-purple-500 transition-all duration-200 transform hover:scale-105",children:[e.jsx(ya,{className:"h-5 w-5 mr-2"}),"Create New Garden"]})]})}),r.length>0?e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:r.map((z,O)=>{var Y,X,ae,me;return e.jsxs("div",{className:"group bg-white dark:bg-gray-800 rounded-3xl shadow-lg hover:shadow-xl transition-all duration-300 border border-gray-100 dark:border-gray-700 overflow-hidden",children:[e.jsxs("div",{className:`p-6 ${z.type==="public"?"bg-gradient-to-r from-green-500 to-emerald-600":"bg-gradient-to-r from-purple-500 to-pink-600"} text-white relative overflow-hidden`,children:[e.jsx("div",{className:"absolute -top-4 -right-4 opacity-20",children:e.jsx("div",{className:"text-6xl",children:z.type==="public"?"🌳":"🏢"})}),e.jsxs("div",{className:"relative z-10",children:[e.jsxs("div",{className:"flex items-start justify-between mb-3",children:[e.jsx("h3",{className:"text-xl font-bold line-clamp-2 flex-1 pr-2",children:z.name}),e.jsxs("div",{className:"flex space-x-1",children:[e.jsx("button",{onClick:()=>q(z),className:"p-2 bg-white bg-opacity-20 rounded-full hover:bg-opacity-30 transition-all duration-200",title:"View QR Code",children:e.jsx(pt,{className:"h-4 w-4"})}),e.jsx(ge,{to:`/gardens/${z._id}/custom-profile`,className:"p-2 bg-white bg-opacity-20 rounded-full hover:bg-opacity-30 transition-all duration-200",title:"Customize Profile",children:e.jsx(We,{className:"h-4 w-4"})}),e.jsx("button",{onClick:()=>R(z),className:"p-2 bg-white bg-opacity-20 rounded-full hover:bg-opacity-30 transition-all duration-200",title:"Edit",children:e.jsx($s,{className:"h-4 w-4"})}),e.jsx("button",{onClick:()=>_(z._id),className:"p-2 bg-white bg-opacity-20 rounded-full hover:bg-opacity-30 transition-all duration-200",title:"Delete",children:e.jsx(br,{className:"h-4 w-4"})})]})]}),e.jsx("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-xs font-medium bg-white bg-opacity-20",children:z.type==="public"?"🌍 Public Garden":"🔒 Private Garden"})]})]}),e.jsxs("div",{className:"p-6",children:[e.jsx("p",{className:"text-gray-600 dark:text-gray-400 text-sm mb-4 line-clamp-2",children:z.description}),e.jsxs("div",{className:"space-y-3 mb-4",children:[e.jsxs("div",{className:"flex items-center text-sm text-gray-600 dark:text-gray-400",children:[e.jsx(ye,{className:"h-4 w-4 mr-3 text-gray-400 dark:text-gray-500"}),e.jsx("span",{className:"truncate",children:(Y=z.location)==null?void 0:Y.address})]}),e.jsxs("div",{className:"flex items-center text-sm text-gray-600 dark:text-gray-400",children:[e.jsx(Ne,{className:"h-4 w-4 mr-3 text-gray-400 dark:text-gray-500"}),e.jsxs("span",{children:["Max ",((X=z.capacity)==null?void 0:X.maxDogs)||"N/A"," dogs"]})]}),e.jsxs("div",{className:"flex items-center text-sm text-gray-600 dark:text-gray-400",children:[e.jsx(Le,{className:"h-4 w-4 mr-3 text-gray-400 dark:text-gray-500"}),e.jsxs("span",{children:[(ae=z.operatingHours)==null?void 0:ae.open," - ",(me=z.operatingHours)==null?void 0:me.close]})]})]}),e.jsxs("div",{className:"flex items-center justify-between pt-4 border-t border-gray-100 dark:border-gray-700",children:[e.jsxs("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-xs font-medium bg-green-100 dark:bg-green-900 text-green-800 dark:text-green-200",children:[e.jsx(Me,{className:"h-3 w-3 mr-1"}),"Active"]}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsxs("button",{onClick:()=>L(z),className:"inline-flex items-center px-3 py-1 rounded-lg text-sm font-medium bg-purple-100 dark:bg-purple-900 text-purple-700 dark:text-purple-200 hover:bg-purple-200 dark:hover:bg-purple-800 transition-colors duration-200",title:"Create Event",children:[e.jsx(bt,{className:"h-4 w-4 mr-1"}),"Events"]}),e.jsxs("button",{onClick:()=>P(z),className:"inline-flex items-center px-3 py-1 rounded-lg text-sm font-medium bg-orange-100 dark:bg-orange-900 text-orange-700 dark:text-orange-200 hover:bg-orange-200 dark:hover:bg-orange-800 transition-colors duration-200",title:"Manage Newsletter",children:[e.jsx(dt,{className:"h-4 w-4 mr-1"}),"Newsletter"]}),e.jsxs("button",{onClick:()=>q(z),className:"inline-flex items-center px-3 py-1 rounded-lg text-sm font-medium bg-blue-100 dark:bg-blue-900 text-blue-700 dark:text-blue-200 hover:bg-blue-200 dark:hover:bg-blue-800 transition-colors duration-200",children:[e.jsx(pt,{className:"h-4 w-4 mr-1"}),"QR Code"]}),e.jsxs(ge,{to:`/garden/${z._id}`,className:"inline-flex items-center px-3 py-1 rounded-lg text-sm font-medium bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-200 hover:bg-gray-200 dark:hover:bg-gray-600 transition-colors duration-200",children:[e.jsx(at,{className:"h-4 w-4 mr-1"}),"View"]})]})]})]})]},z._id)})}):e.jsx("div",{className:"text-center py-16",children:e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-3xl shadow-lg p-12 max-w-md mx-auto",children:[e.jsx("div",{className:"text-6xl mb-4",children:"🏡"}),e.jsx("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-2",children:"No Gardens Yet"}),e.jsx("p",{className:"text-gray-500 dark:text-gray-400 mb-6",children:"Create your first garden to start building an amazing community for dog lovers!"}),e.jsxs("button",{onClick:M,className:"inline-flex items-center px-6 py-3 bg-gradient-to-r from-purple-600 to-pink-600 text-white font-medium rounded-xl hover:from-purple-700 hover:to-pink-700 transition-all duration-200 transform hover:scale-105",children:[e.jsx(ya,{className:"h-5 w-5 mr-2"}),"Create Your First Garden"]})]})}),r.length>0&&e.jsxs("div",{className:"mt-12 bg-gradient-to-r from-purple-600 to-pink-600 dark:from-purple-700 dark:to-pink-700 rounded-3xl p-8 text-white",children:[e.jsx("h3",{className:"text-2xl font-bold mb-6 text-center",children:"🏞️ Your Garden Empire"}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-6 text-center",children:[e.jsxs("div",{className:"bg-white bg-opacity-20 rounded-xl p-4",children:[e.jsx("div",{className:"text-3xl font-bold mb-1",children:r.length}),e.jsx("div",{className:"text-purple-100 text-sm",children:"Total Gardens"})]}),e.jsxs("div",{className:"bg-white bg-opacity-20 rounded-xl p-4",children:[e.jsx("div",{className:"text-3xl font-bold mb-1",children:r.filter(z=>z.type==="public").length}),e.jsx("div",{className:"text-purple-100 text-sm",children:"Public Gardens"})]}),e.jsxs("div",{className:"bg-white bg-opacity-20 rounded-xl p-4",children:[e.jsx("div",{className:"text-3xl font-bold mb-1",children:r.reduce((z,O)=>{var Y;return z+(((Y=O.capacity)==null?void 0:Y.maxDogs)||0)},0)}),e.jsx("div",{className:"text-purple-100 text-sm",children:"Total Capacity"})]}),e.jsxs("div",{className:"bg-white bg-opacity-20 rounded-xl p-4",children:[e.jsx("div",{className:"text-3xl font-bold mb-1",children:"100%"}),e.jsx("div",{className:"text-purple-100 text-sm",children:"Active Status"})]})]})]}),o&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-3xl shadow-2xl max-w-4xl w-full max-h-[95vh] overflow-y-auto",children:[e.jsx("div",{className:"px-6 py-5 border-b border-gray-100 dark:border-gray-700 bg-gradient-to-r from-purple-600 to-pink-600 text-white",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsxs("h2",{className:"text-xl font-bold flex items-center",children:[e.jsx(jn,{className:"h-6 w-6 mr-2"}),x?"Edit Garden":"Create New Garden"]}),e.jsx("p",{className:"text-purple-100 text-sm mt-1",children:x?"Update your garden details":"Build a new space for dogs to play and socialize"})]}),e.jsx("button",{onClick:A,className:"p-2 bg-white bg-opacity-20 rounded-full hover:bg-opacity-30 transition-all duration-200",children:e.jsx(he,{className:"h-5 w-5"})})]})}),e.jsx("div",{className:"p-6",children:e.jsxs("form",{onSubmit:T,className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"🏞️ Garden Name"}),e.jsx("input",{type:"text",name:"name",value:b.name,onChange:F,required:!0,className:"w-full rounded-xl border border-gray-200 dark:border-gray-600 bg-gray-50 dark:bg-gray-700 px-4 py-3 text-base text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-purple-500 focus:bg-white dark:focus:bg-gray-600 transition-all duration-200",placeholder:"Enter a beautiful name for your garden"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"🏷️ Garden Type"}),e.jsxs("select",{name:"type",value:b.type,onChange:F,className:"w-full rounded-xl border border-gray-200 dark:border-gray-600 bg-gray-50 dark:bg-gray-700 px-4 py-3 text-base text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-purple-500 focus:bg-white dark:focus:bg-gray-600 transition-all duration-200",children:[e.jsx("option",{value:"public",children:"🌍 Public Garden"}),e.jsx("option",{value:"private",children:"🔒 Private Garden"})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"📝 Description"}),e.jsx("textarea",{name:"description",value:b.description,onChange:F,rows:4,required:!0,className:"w-full rounded-xl border border-gray-200 dark:border-gray-600 bg-gray-50 dark:bg-gray-700 px-4 py-3 text-base text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-purple-500 focus:bg-white dark:focus:bg-gray-600 transition-all duration-200",placeholder:"Describe what makes your garden special..."})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"📍 Address"}),e.jsx("input",{type:"text",name:"address",value:b.address,onChange:F,required:!0,className:"w-full rounded-xl border border-gray-200 dark:border-gray-600 bg-gray-50 dark:bg-gray-700 px-4 py-3 text-base text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-purple-500 focus:bg-white dark:focus:bg-gray-600 transition-all duration-200",placeholder:"Full address of your garden"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"🐕 Max Dogs"}),e.jsx("input",{type:"number",name:"capacity.maxDogs",value:b.capacity.maxDogs,onChange:F,min:"1",max:"50",className:"w-full rounded-xl border border-gray-200 dark:border-gray-600 bg-gray-50 dark:bg-gray-700 px-4 py-3 text-base text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-purple-500 focus:bg-white dark:focus:bg-gray-600 transition-all duration-200"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"🌅 Opening Time"}),e.jsx("input",{type:"time",name:"operatingHours.open",value:b.operatingHours.open,onChange:F,className:"w-full rounded-xl border border-gray-200 dark:border-gray-600 bg-gray-50 dark:bg-gray-700 px-4 py-3 text-base text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-purple-500 focus:bg-white dark:focus:bg-gray-600 transition-all duration-200"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"🌙 Closing Time"}),e.jsx("input",{type:"time",name:"operatingHours.close",value:b.operatingHours.close,onChange:F,className:"w-full rounded-xl border border-gray-200 dark:border-gray-600 bg-gray-50 dark:bg-gray-700 px-4 py-3 text-base text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-purple-500 focus:bg-white dark:focus:bg-gray-600 transition-all duration-200"})]})]}),e.jsxs("div",{className:"flex justify-end space-x-4 pt-4 border-t border-gray-100 dark:border-gray-700",children:[e.jsx("button",{type:"button",onClick:A,className:"px-6 py-3 border border-gray-300 dark:border-gray-600 rounded-xl text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700 font-medium transition-colors duration-200",children:"Cancel"}),e.jsx("button",{type:"submit",className:"px-6 py-3 bg-gradient-to-r from-purple-600 to-pink-600 text-white rounded-xl hover:from-purple-700 hover:to-pink-700 font-medium transition-all duration-200 transform hover:scale-105",children:x?"✅ Update Garden":"🌱 Create Garden"})]})]})})]})}),u&&d&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-3xl shadow-2xl max-w-lg w-full max-h-[90vh] overflow-y-auto",children:[e.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-200 dark:border-gray-700",children:[e.jsxs("h3",{className:"text-lg font-bold text-gray-900 dark:text-white",children:["QR Code for ",d.name]}),e.jsx("button",{onClick:U,className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-full transition-colors",children:e.jsx(he,{className:"h-5 w-5 text-gray-500 dark:text-gray-400"})})]}),e.jsx("div",{className:"p-4",children:e.jsx(Vn,{garden:d})})]})}),g&&w&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-3xl shadow-2xl max-w-6xl w-full max-h-[95vh] overflow-y-auto",children:[e.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200 dark:border-gray-700",children:[e.jsxs("h3",{className:"text-2xl font-bold text-gray-900 dark:text-white flex items-center",children:[e.jsx(bt,{className:"h-6 w-6 mr-2 text-purple-600"}),"Events for ",w.name]}),e.jsx("button",{onClick:H,className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-full transition-colors",children:e.jsx(he,{className:"h-6 w-6 text-gray-500 dark:text-gray-400"})})]}),e.jsx("div",{className:"p-6 border-b border-gray-200 dark:border-gray-700",children:e.jsxs("div",{className:"flex space-x-4",children:[e.jsx("button",{onClick:()=>E("create"),className:`px-4 py-2 rounded-lg transition-all duration-200 ${B==="create"?"bg-purple-600 text-white":"bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-600"}`,children:"Create New Event"}),e.jsx("button",{onClick:()=>E("list"),className:`px-4 py-2 rounded-lg transition-all duration-200 ${B==="list"?"bg-purple-600 text-white":"bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-600"}`,children:"Manage Events"})]})}),e.jsx("div",{className:"p-6",children:B==="create"?e.jsx(zn,{preSelectedGarden:w,onEventCreated:S,onCancel:()=>E("list")}):e.jsx(Un,{garden:w})})]})}),N&&j&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-3xl shadow-2xl max-w-6xl w-full max-h-[95vh] overflow-y-auto",children:[e.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200 dark:border-gray-700",children:[e.jsxs("h3",{className:"text-2xl font-bold text-gray-900 dark:text-white flex items-center",children:[e.jsx(dt,{className:"h-6 w-6 mr-2 text-orange-600"}),"Newsletter Management for ",j.name]}),e.jsx("button",{onClick:G,className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-full transition-colors",children:e.jsx(he,{className:"h-6 w-6 text-gray-500 dark:text-gray-400"})})]}),e.jsx("div",{className:"p-6",children:e.jsx(up,{garden:j,onClose:G})})]})})]})})},hp=Object.freeze(Object.defineProperty({__proto__:null,default:cl},Symbol.toStringTag,{value:"Module"})),S0="en",ml="lingo-locale";/*! js-cookie v3.0.5 | MIT */function cs(t){for(var r=1;r<arguments.length;r++){var a=arguments[r];for(var s in a)t[s]=a[s]}return t}var pp={read:function(t){return t[0]==='"'&&(t=t.slice(1,-1)),t.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write:function(t){return encodeURIComponent(t).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}};function Ba(t,r){function a(l,o,i){if(!(typeof document>"u")){i=cs({},r,i),typeof i.expires=="number"&&(i.expires=new Date(Date.now()+i.expires*864e5)),i.expires&&(i.expires=i.expires.toUTCString()),l=encodeURIComponent(l).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);var x="";for(var c in i)i[c]&&(x+="; "+c,i[c]!==!0&&(x+="="+i[c].split(";")[0]));return document.cookie=l+"="+t.write(o,l)+x}}function s(l){if(!(typeof document>"u"||arguments.length&&!l)){for(var o=document.cookie?document.cookie.split("; "):[],i={},x=0;x<o.length;x++){var c=o[x].split("="),u=c.slice(1).join("=");try{var h=decodeURIComponent(c[0]);if(i[h]=t.read(u,h),l===h)break}catch{}}return l?i[l]:i}}return Object.create({set:a,get:s,remove:function(l,o){a(l,"",cs({},o,{expires:-1}))},withAttributes:function(l){return Ba(this.converter,cs({},this.attributes,l))},withConverter:function(l){return Ba(cs({},this.converter,l),this.attributes)}},{attributes:{value:Object.freeze(r)},converter:{value:Object.freeze(t)}})}var gl=Ba(pp,{path:"/"});function fp(){return typeof document>"u"?S0:gl.get(ml)||S0}function bp(t){typeof document>"u"||gl.set(ml,t,{path:"/",expires:365,sameSite:"lax"})}function yp(t){const{locales:r}=t,[a,s]=n.useState("");if(n.useEffect(()=>{const o=fp();s(o)},[r]),!a)return null;return e.jsx("select",{value:a,className:t.className,onChange:o=>{l(o.target.value)},children:r.map(o=>e.jsx("option",{value:o,children:o},o))});function l(o){return bp(o),window.location.reload(),Promise.resolve()}}const vp=()=>e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-green-50",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:[e.jsx("div",{className:"text-center mb-8",children:e.jsx(yp,{locales:["en","he"],className:"inline-flex items-center px-4 py-2 border border-gray-300 shadow-sm text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50"})}),e.jsxs("div",{className:"text-center mb-16",children:[e.jsx("h1",{className:"text-4xl md:text-6xl font-bold text-gray-900 mb-6",children:"Welcome to Dog Parks"}),e.jsx("p",{className:"text-xl text-gray-600 max-w-3xl mx-auto",children:"Connect with fellow dog owners, discover amazing parks, and create lasting memories with your furry friends."})]}),e.jsxs("div",{className:"grid md:grid-cols-3 gap-8 mb-16",children:[e.jsxs("div",{className:"text-center p-6 bg-white rounded-xl shadow-md",children:[e.jsx(Re,{className:"h-12 w-12 text-red-500 mx-auto mb-4"}),e.jsx("h3",{className:"text-xl font-semibold mb-3",children:"Find Love for Your Dog"}),e.jsx("p",{className:"text-gray-600",children:"Help your dog make new friends and find their perfect playmates in a safe environment."})]}),e.jsxs("div",{className:"text-center p-6 bg-white rounded-xl shadow-md",children:[e.jsx(It,{className:"h-12 w-12 text-blue-500 mx-auto mb-4"}),e.jsx("h3",{className:"text-xl font-semibold mb-3",children:"Join the Community"}),e.jsx("p",{className:"text-gray-600",children:"Connect with other dog owners, share experiences, and build lasting friendships."})]}),e.jsxs("div",{className:"text-center p-6 bg-white rounded-xl shadow-md",children:[e.jsx($e,{className:"h-12 w-12 text-yellow-500 mx-auto mb-4"}),e.jsx("h3",{className:"text-xl font-semibold mb-3",children:"Amazing Events"}),e.jsx("p",{className:"text-gray-600",children:"Participate in dog meetups, training sessions, and fun activities throughout the city."})]})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("button",{className:"bg-blue-600 text-white px-8 py-4 rounded-lg text-lg font-semibold hover:bg-blue-700 transition duration-200",children:"Get Started Today"}),e.jsx("p",{className:"text-gray-500 mt-4",children:"Join thousands of happy dog owners already using our platform"})]})]})}),wp=()=>e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-green-50",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsxs("div",{className:"text-center py-20",children:[e.jsx("h1",{className:"text-5xl font-bold text-gray-900 mb-6",children:"Welcome to Dog Parks Israel"}),e.jsx("p",{className:"text-xl text-gray-600 max-w-3xl mx-auto mb-8",children:"The best place to find dog parks, meet other dog owners, and create amazing memories with your furry friends."}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[e.jsx("button",{className:"bg-blue-600 text-white px-8 py-3 rounded-lg font-semibold hover:bg-blue-700 transition",children:"Join Our Community"}),e.jsx("button",{className:"border border-blue-600 text-blue-600 px-8 py-3 rounded-lg font-semibold hover:bg-blue-50 transition",children:"Find Parks Near Me"})]})]}),e.jsxs("div",{className:"grid md:grid-cols-3 gap-8 py-16",children:[e.jsxs("div",{className:"text-center p-6 bg-white rounded-xl shadow-md",children:[e.jsx(Re,{className:"h-12 w-12 text-red-500 mx-auto mb-4"}),e.jsx("h3",{className:"text-xl font-semibold mb-3",children:"Find Your Dog's Perfect Match"}),e.jsx("p",{className:"text-gray-600",children:"Help your dog meet new friends and find their ideal playmates in a safe, supervised environment."})]}),e.jsxs("div",{className:"text-center p-6 bg-white rounded-xl shadow-md",children:[e.jsx(It,{className:"h-12 w-12 text-blue-500 mx-auto mb-4"}),e.jsx("h3",{className:"text-xl font-semibold mb-3",children:"Connect with Dog Parents"}),e.jsx("p",{className:"text-gray-600",children:"Join our community of passionate dog owners. Share tips, experiences, and build lasting friendships."})]}),e.jsxs("div",{className:"text-center p-6 bg-white rounded-xl shadow-md",children:[e.jsx($e,{className:"h-12 w-12 text-yellow-500 mx-auto mb-4"}),e.jsx("h3",{className:"text-xl font-semibold mb-3",children:"Exciting Events & Activities"}),e.jsx("p",{className:"text-gray-600",children:"Participate in dog training sessions, meetups, competitions, and fun activities throughout Israel."})]})]}),e.jsx("div",{className:"bg-blue-600 text-white rounded-2xl p-8 my-16",children:e.jsxs("div",{className:"grid md:grid-cols-4 gap-8 text-center",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-3xl font-bold mb-2",children:"1,200+"}),e.jsx("div",{className:"text-blue-100",children:"Happy Dogs"})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-3xl font-bold mb-2",children:"85"}),e.jsx("div",{className:"text-blue-100",children:"Dog Parks"})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-3xl font-bold mb-2",children:"500+"}),e.jsx("div",{className:"text-blue-100",children:"Dog Parents"})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-3xl font-bold mb-2",children:"50+"}),e.jsx("div",{className:"text-blue-100",children:"Weekly Events"})]})]})}),e.jsxs("div",{className:"text-center py-16",children:[e.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-12",children:"What Dog Parents Say"}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-8",children:[e.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-md",children:[e.jsx("p",{className:"text-gray-600 mb-4",children:'"This app helped my shy rescue dog become more social. Now he has so many friends at the park!"'}),e.jsx("div",{className:"font-semibold",children:"Sarah & Max"}),e.jsx("div",{className:"text-sm text-gray-500",children:"Tel Aviv"})]}),e.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-md",children:[e.jsx("p",{className:"text-gray-600 mb-4",children:`"I've met amazing people through this community. My weekend plans always include park meetups now."`}),e.jsx("div",{className:"font-semibold",children:"David & Luna"}),e.jsx("div",{className:"text-sm text-gray-500",children:"Jerusalem"})]})]})]}),e.jsxs("div",{className:"text-center py-16",children:[e.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-6",children:"Ready to Get Started?"}),e.jsx("p",{className:"text-gray-600 mb-8",children:"Join thousands of dog owners who have already found their perfect community."}),e.jsx("button",{className:"bg-green-600 text-white px-10 py-4 rounded-lg text-lg font-semibold hover:bg-green-700 transition",children:"Sign Up Today - It's Free!"})]})]})}),P0=()=>{var F,T,A,R;const{chatId:t}=Vt(),r=we(),{user:a}=pe(),[s,l]=n.useState([]),[o,i]=n.useState(""),[x,c]=n.useState(!0),[u,h]=n.useState(!1),[d,p]=n.useState(""),[g,f]=n.useState(null);n.useState(!1);const[w,m]=n.useState(!1),B=n.useRef(null),E=n.useRef(null),N=["👋","😊","❤️","👍","😂","🐕","🎉","🔥"];n.useEffect(()=>{if(t){j();const M=setInterval(()=>{j(!1)},8e3);return()=>clearInterval(M)}},[t]),n.useEffect(()=>{v()},[s]);const v=()=>{var M;(M=B.current)==null||M.scrollIntoView({behavior:"smooth"})},j=async(M=!0)=>{var _;try{M&&c(!0);const U=(await Q.get(`/chats/${t}/messages`)).data.messages;if(JSON.stringify(U)!==JSON.stringify(s)&&l(U),U.length>0&&!g){const L=(_=U.find(S=>S.sender._id!==a._id))==null?void 0:_.sender;L&&f({participants:[L]})}}catch(q){M&&(p("Failed to load messages"),console.error("Error fetching messages:",q))}finally{M&&c(!1)}},k=async M=>{if(M.preventDefault(),!o.trim()||u)return;h(!0);const _=o.trim();i("");try{const q={message:{text:_,type:"text"}},U=await Q.post(`/chats/${t}/messages`,q);l(L=>[...L,U.data.message]),setTimeout(()=>{j(!1)},500)}catch(q){p("Failed to send message"),console.error("Error sending message:",q),i(_)}finally{h(!1)}},b=M=>new Date(M).toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit"}),C=M=>M.sender._id===a._id,D=M=>{i(M.target.value),E.current&&clearTimeout(E.current),m(!0),E.current=setTimeout(()=>{m(!1)},2e3)};return x?e.jsx(Is,{}):e.jsxs("div",{className:"flex flex-col h-full bg-white dark:bg-gray-800 lg:rounded-3xl shadow-lg overflow-hidden",children:[e.jsx("div",{className:"flex-shrink-0 bg-gradient-to-r from-blue-600 via-purple-600 to-pink-600 dark:from-blue-700 dark:via-purple-700 dark:to-pink-700 text-white p-4 lg:rounded-t-3xl",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("button",{onClick:()=>r(-1),className:"p-2 hover:bg-white hover:bg-opacity-20 rounded-full transition-all duration-200",children:e.jsx(Ue,{className:"h-5 w-5 text-white"})}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsxs("div",{className:"relative",children:[(F=g==null?void 0:g.participants[0])!=null&&F.profileImage?e.jsx("img",{src:g.participants[0].profileImage,alt:`${g.participants[0].firstName} ${g.participants[0].lastName}`,className:"h-10 w-10 rounded-full object-cover border-2 border-white"}):e.jsx("div",{className:"h-10 w-10 rounded-full bg-white bg-opacity-20 flex items-center justify-center border-2 border-white",children:e.jsx(Tt,{className:"h-6 w-6 text-white"})}),e.jsx("div",{className:"absolute -bottom-1 -right-1 w-3 h-3 bg-green-400 rounded-full border-2 border-white"})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-bold text-white text-lg",children:g!=null&&g.participants[0]?`${g.participants[0].firstName} ${g.participants[0].lastName}`:"Chat"}),e.jsx("p",{className:"text-blue-100 text-sm",children:"Online now"})]})]})]}),e.jsx("button",{className:"p-2 hover:bg-white hover:bg-opacity-20 rounded-full transition-all duration-200",children:e.jsx(mn,{className:"h-5 w-5 text-white"})})]})}),e.jsxs("div",{className:"flex-1 overflow-y-auto p-4 bg-gradient-to-b from-gray-50 to-white dark:from-gray-800 dark:to-gray-900",children:[d&&e.jsx("div",{className:"mb-4 p-4 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-2xl",children:e.jsx("p",{className:"text-red-700 dark:text-red-400 text-sm font-medium",children:d})}),s.length===0?e.jsx("div",{className:"flex items-center justify-center h-full",children:e.jsxs("div",{className:"text-center p-8",children:[e.jsx("div",{className:"w-20 h-20 bg-gradient-to-br from-blue-100 to-purple-100 dark:from-blue-900 dark:to-purple-900 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx("span",{className:"text-3xl",children:"💬"})}),e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-2",children:"No messages yet"}),e.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-sm",children:"Start the conversation!"})]})}):e.jsxs("div",{className:"space-y-4",children:[s.map((M,_)=>{var L,S,H;const q=C(M),U=_===0||new Date(M.createdAt).getTime()-new Date(s[_-1].createdAt).getTime()>3e5;return e.jsxs("div",{children:[U&&e.jsx("div",{className:"text-center mb-4",children:e.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400 bg-white dark:bg-gray-800 px-3 py-1 rounded-full shadow-sm border border-gray-200 dark:border-gray-700",children:b(M.createdAt)})}),e.jsxs("div",{className:`flex items-end space-x-2 ${q?"justify-end":"justify-start"}`,children:[!q&&e.jsx("div",{className:"w-8 h-8 flex-shrink-0 mb-1",children:(L=g==null?void 0:g.participants[0])!=null&&L.profileImage?e.jsx("img",{src:g.participants[0].profileImage,alt:"",className:"w-8 h-8 rounded-full object-cover"}):e.jsx("div",{className:"w-8 h-8 bg-gradient-to-br from-gray-400 to-gray-600 rounded-full flex items-center justify-center",children:e.jsx("span",{className:"text-white text-xs font-semibold",children:((H=(S=g==null?void 0:g.participants[0])==null?void 0:S.firstName)==null?void 0:H[0])||"U"})})}),e.jsxs("div",{className:`max-w-[75%] px-4 py-3 rounded-2xl shadow-sm ${q?"bg-gradient-to-r from-blue-600 to-purple-600 text-white rounded-br-md":"bg-white dark:bg-gray-700 text-gray-900 dark:text-white rounded-bl-md border border-gray-200 dark:border-gray-600"}`,children:[e.jsx("p",{className:"text-sm break-words leading-relaxed",children:M.content.text}),e.jsx("p",{className:`text-xs mt-1 ${q?"text-blue-100":"text-gray-500 dark:text-gray-400"}`,children:new Date(M.createdAt).toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit"})})]})]})]},M._id)}),w&&e.jsxs("div",{className:"flex items-end space-x-2 justify-start",children:[e.jsx("div",{className:"w-8 h-8 flex-shrink-0 mb-1",children:(T=g==null?void 0:g.participants[0])!=null&&T.profileImage?e.jsx("img",{src:g.participants[0].profileImage,alt:"",className:"w-8 h-8 rounded-full object-cover"}):e.jsx("div",{className:"w-8 h-8 bg-gradient-to-br from-gray-400 to-gray-600 rounded-full flex items-center justify-center",children:e.jsx("span",{className:"text-white text-xs font-semibold",children:((R=(A=g==null?void 0:g.participants[0])==null?void 0:A.firstName)==null?void 0:R[0])||"U"})})}),e.jsx("div",{className:"bg-white dark:bg-gray-700 px-4 py-3 rounded-2xl rounded-bl-md border border-gray-200 dark:border-gray-600 shadow-sm",children:e.jsxs("div",{className:"flex space-x-1",children:[e.jsx("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce"}),e.jsx("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce",style:{animationDelay:"0.1s"}}),e.jsx("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce",style:{animationDelay:"0.2s"}})]})})]}),e.jsx("div",{ref:B})]})]}),e.jsxs("div",{className:"flex-shrink-0 p-4 bg-white dark:bg-gray-800 border-t border-gray-200 dark:border-gray-700 lg:rounded-b-3xl",children:[e.jsx("div",{className:"flex items-center space-x-2 mb-3 overflow-x-auto pb-2",children:N.map((M,_)=>e.jsx("button",{onClick:()=>i(q=>q+M),className:"flex-shrink-0 w-10 h-10 bg-gray-100 dark:bg-gray-700 hover:bg-gray-200 dark:hover:bg-gray-600 rounded-full flex items-center justify-center transition-all duration-200 hover:scale-110",children:e.jsx("span",{className:"text-lg",children:M})},_))}),e.jsxs("form",{onSubmit:k,className:"flex items-center space-x-3",children:[e.jsxs("div",{className:"flex-1 relative",children:[e.jsx("input",{type:"text",value:o,onChange:D,placeholder:"Type a message...",className:"w-full px-4 py-3 bg-gray-100 dark:bg-gray-700 border-0 rounded-2xl text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 transition-all duration-200",disabled:u}),u&&e.jsx("div",{className:"absolute right-3 top-1/2 transform -translate-y-1/2",children:e.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-2 border-blue-600 border-t-transparent"})})]}),e.jsx("button",{type:"submit",disabled:!o.trim()||u,className:"inline-flex items-center justify-center w-12 h-12 bg-gradient-to-r from-blue-600 to-purple-600 text-white rounded-2xl hover:from-blue-700 hover:to-purple-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200 transform hover:scale-105",children:e.jsx(Ra,{className:"h-5 w-5"})})]})]})]})},jp=()=>e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-purple-50 via-white to-pink-50 dark:from-gray-900 dark:via-gray-800 dark:to-gray-900 lg:py-8",children:[e.jsx("div",{className:"lg:hidden h-screen",children:e.jsx(P0,{})}),e.jsx("div",{className:"hidden lg:block max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:e.jsx("div",{className:"h-[600px] rounded-3xl overflow-hidden shadow-2xl",children:e.jsx(P0,{})})})]}),Ep=()=>{const[t,r]=n.useState([]),[a,s]=n.useState(!0),[l,o]=n.useState("");pe(),n.useEffect(()=>{i()},[]);const i=async()=>{try{const c=await Q.get("/chats");r(c.data.chats)}catch(c){o("Failed to load chats"),console.error("Error fetching chats:",c)}finally{s(!1)}},x=c=>{const u=new Date(c),d=(new Date-u)/(1e3*60*60);return d<24?u.toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit"}):d<168?u.toLocaleDateString("en-US",{weekday:"short"}):u.toLocaleDateString("en-US",{month:"short",day:"numeric"})};return a?e.jsx(Is,{}):e.jsxs("div",{className:"bg-white rounded-lg shadow-md",children:[e.jsx("div",{className:"p-4 border-b border-gray-200",children:e.jsxs("h2",{className:"text-lg font-semibold text-gray-900 flex items-center",children:[e.jsx(pa,{className:"h-5 w-5 mr-2"}),"Messages"]})}),l&&e.jsx("div",{className:"p-4 bg-red-50 border-l-4 border-red-400",children:e.jsx("p",{className:"text-red-700",children:l})}),e.jsx("div",{className:"divide-y divide-gray-200",children:t.length===0?e.jsxs("div",{className:"p-8 text-center text-gray-500",children:[e.jsx(pa,{className:"h-12 w-12 mx-auto mb-4 text-gray-300"}),e.jsx("p",{children:"No conversations yet"}),e.jsx("p",{className:"text-sm",children:"Start chatting with other dog owners!"})]}):t.map(c=>{var u;return e.jsx(ge,{to:`/chat/${c._id}`,className:"block p-4 hover:bg-gray-50 transition-colors duration-200",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"flex-shrink-0",children:(u=c.participants[0])!=null&&u.profileImage?e.jsx("img",{src:c.participants[0].profileImage,alt:`${c.participants[0].firstName} ${c.participants[0].lastName}`,className:"h-10 w-10 rounded-full object-cover"}):e.jsx("div",{className:"h-10 w-10 rounded-full bg-gray-300 flex items-center justify-center",children:e.jsx(Tt,{className:"h-6 w-6 text-gray-600"})})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("p",{className:"text-sm font-medium text-gray-900 truncate",children:c.participants.map(h=>`${h.firstName} ${h.lastName}`).join(", ")}),e.jsx("p",{className:"text-xs text-gray-500",children:x(c.lastMessageTime)})]}),e.jsx("p",{className:"text-sm text-gray-500 truncate",children:c.lastMessage||"No messages yet"})]})]})},c._id)})})]})},kp=()=>e.jsx("div",{className:"min-h-screen bg-gray-50 py-8",children:e.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Messages"}),e.jsx("p",{className:"mt-2 text-gray-600",children:"Connect with other dog owners in your community"})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[e.jsx("div",{className:"lg:col-span-2",children:e.jsx(Ep,{})}),e.jsx("div",{className:"lg:col-span-1",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Start a Conversation"}),e.jsx("p",{className:"text-gray-600 text-sm mb-4",children:"Select a conversation from the list to start chatting, or visit a dog park to meet new people!"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center text-sm text-gray-500",children:[e.jsx("span",{className:"w-2 h-2 bg-green-500 rounded-full mr-2"}),"Safe and friendly community"]}),e.jsxs("div",{className:"flex items-center text-sm text-gray-500",children:[e.jsx("span",{className:"w-2 h-2 bg-blue-500 rounded-full mr-2"}),"Share tips and experiences"]}),e.jsxs("div",{className:"flex items-center text-sm text-gray-500",children:[e.jsx("span",{className:"w-2 h-2 bg-purple-500 rounded-full mr-2"}),"Plan meetups and playdates"]})]})]})})]})]})}),Np=()=>{pe();const{notifications:t,unreadCount:r,loading:a,error:s,loadNotifications:l,markAsRead:o,markAllAsRead:i,deleteNotification:x}=Ta(),[c,u]=n.useState("all"),[h,d]=n.useState("all"),[p,g]=n.useState(""),[f,w]=n.useState(1),[m,B]=n.useState(!0);n.useEffect(()=>{E()},[c,h,f]);const E=async()=>{const F={page:f,limit:20,unreadOnly:c==="unread",type:h!=="all"?h:void 0};try{const T=await l(F);T&&T.notifications.length===0&&f>1&&B(!1)}catch(T){console.error("Error loading notifications:",T)}},N=async F=>{await o(F)?I.success("Notification marked as read",{position:"bottom-right",autoClose:2e3,hideProgressBar:!0}):I.error("Failed to mark as read")},v=async()=>{await i()?I.success("All notifications marked as read",{position:"bottom-right",autoClose:2e3,hideProgressBar:!0}):I.error("Failed to mark all as read")},j=async F=>{await x(F)?I.success("Notification deleted",{position:"bottom-right",autoClose:2e3,hideProgressBar:!0}):I.error("Failed to delete notification")},k=F=>({friend_request:"👤",friend_request_accepted:"✨",new_message:"💬",event_registration:"🎉",event_reminder:"⏰",garden_update:"🌿",system:"🔔"})[F]||"🔔",b=F=>{const T=new Date(F),R=new Date-T,M=Math.floor(R/6e4),_=Math.floor(R/36e5),q=Math.floor(R/864e5);return M<1?"Just now":M<60?`${M}m ago`:_<24?`${_}h ago`:q<7?`${q}d ago`:T.toLocaleDateString("en-US",{month:"short",day:"numeric"})},C=t.filter(F=>{if(p){const T=p.toLowerCase();return F.title.toLowerCase().includes(T)||F.content.toLowerCase().includes(T)}return!0}),D=[{value:"all",label:"All Types"},{value:"friend_request",label:"Friend Requests"},{value:"new_message",label:"Messages"},{value:"event_registration",label:"Events"},{value:"garden_update",label:"Garden Updates"}];return a?e.jsx(eh,{}):e.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900",children:e.jsxs("div",{className:"max-w-4xl mx-auto px-4 py-6",children:[e.jsxs("div",{className:"mb-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 bg-blue-100 dark:bg-blue-900/30 rounded-xl flex items-center justify-center",children:e.jsx(dt,{className:"w-5 h-5 text-blue-600 dark:text-blue-400"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Notifications"}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:r>0?`${r} unread notifications`:"All caught up!"})]})]}),r>0&&e.jsxs("button",{onClick:v,className:"inline-flex items-center gap-2 px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white text-sm font-medium rounded-xl transition-colors",children:[e.jsx(La,{className:"w-4 h-4"}),"Mark all read"]})]}),e.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 p-4",children:e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[e.jsxs("div",{className:"relative flex-1",children:[e.jsx(_t,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),e.jsx("input",{type:"text",placeholder:"Search notifications...",value:p,onChange:F=>g(F.target.value),className:"w-full pl-10 pr-4 py-2.5 border border-gray-200 dark:border-gray-600 rounded-lg bg-gray-50 dark:bg-gray-700 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm"})]}),e.jsxs("select",{value:c,onChange:F=>u(F.target.value),className:"px-3 py-2.5 border border-gray-200 dark:border-gray-600 rounded-lg bg-gray-50 dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm min-w-[140px]",children:[e.jsx("option",{value:"all",children:"All Notifications"}),e.jsx("option",{value:"unread",children:"Unread Only"}),e.jsx("option",{value:"read",children:"Read Only"})]}),e.jsx("select",{value:h,onChange:F=>d(F.target.value),className:"px-3 py-2.5 border border-gray-200 dark:border-gray-600 rounded-lg bg-gray-50 dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm min-w-[140px]",children:D.map(F=>e.jsx("option",{value:F.value,children:F.label},F.value))})]})})]}),s&&e.jsx("div",{className:"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-xl p-4 mb-6",children:e.jsx("p",{className:"text-red-800 dark:text-red-200 text-sm",children:s})}),C.length===0?e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 p-12 text-center",children:[e.jsx("div",{className:"w-16 h-16 bg-gray-100 dark:bg-gray-700 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx(yx,{className:"w-8 h-8 text-gray-400"})}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-2",children:"No notifications found"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400 text-sm",children:p?"Try adjusting your search terms":"You're all caught up! Check back later for updates."})]}):e.jsxs("div",{className:"space-y-3",children:[C.map(F=>e.jsx("div",{className:`bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 p-4 transition-all hover:shadow-md ${F.isRead?"":"ring-2 ring-blue-100 dark:ring-blue-900/30 bg-blue-50/30 dark:bg-blue-900/10"}`,children:e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx("div",{className:"flex-shrink-0 mt-1",children:e.jsx("div",{className:"w-10 h-10 bg-gray-50 dark:bg-gray-700 rounded-full border border-gray-200 dark:border-gray-600 flex items-center justify-center text-lg",children:k(F.type)})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-start justify-between mb-2",children:[e.jsx("h3",{className:"text-base font-medium text-gray-900 dark:text-white",children:F.title}),!F.isRead&&e.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full flex-shrink-0 mt-2"})]}),e.jsx("p",{className:"text-gray-700 dark:text-gray-300 text-sm mb-3 leading-relaxed",children:F.content}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("div",{className:"flex items-center gap-3 text-xs text-gray-500 dark:text-gray-400",children:e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(Le,{className:"w-3 h-3"}),b(F.createdAt)]})}),e.jsxs("div",{className:"flex items-center gap-2",children:[!F.isRead&&e.jsxs("button",{onClick:()=>N(F._id),className:"inline-flex items-center gap-1 px-3 py-1.5 text-xs text-blue-600 dark:text-blue-400 hover:text-blue-700 dark:hover:text-blue-300 hover:bg-blue-50 dark:hover:bg-blue-900/20 rounded-lg transition-colors font-medium",children:[e.jsx(at,{className:"w-3 h-3"}),"Mark read"]}),e.jsxs("button",{onClick:()=>j(F._id),className:"inline-flex items-center gap-1 px-3 py-1.5 text-xs text-red-600 dark:text-red-400 hover:text-red-700 dark:hover:text-red-300 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-lg transition-colors font-medium",children:[e.jsx(br,{className:"w-3 h-3"}),"Delete"]})]})]})]})]})},F._id)),m&&C.length>=20&&e.jsx("div",{className:"text-center py-6",children:e.jsx("button",{onClick:()=>w(f+1),className:"inline-flex items-center gap-2 px-6 py-3 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-xl text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors font-medium",children:"Load More Notifications"})})]})]})})},Cp=()=>{const[t,r]=n.useState([]),[a,s]=n.useState(!1),{createTestNotification:l,requestPermission:o}=Ta(),i=(d,p,g)=>{r(f=>[...f,{test:d,success:p,message:g,timestamp:new Date}])},x=async()=>{s(!0),r([]);try{i("Permission Request",null,"Checking browser permissions...");const d=await o();i("Permission Request",d,d?"Notification permissions granted":"Notification permissions denied"),i("Create Test Notification",null,"Creating test notification...");const p=await l();i("Create Test Notification",p,p?"Test notification created successfully":"Error creating notification");const g=[{type:"system",title:"System Notification",content:"This is a system notification test"},{type:"new_message",title:"New Message",content:"You received a new message from a friend"},{type:"event_reminder",title:"Event Reminder",content:"Your event starts in one hour"}];for(const{type:w,title:m,content:B}of g){i(`${w} notification`,null,`Creating ${w} notification...`);try{const E=await l(w,m,B);i(`${w} notification`,E,E?`${w} notification created successfully`:`Error creating ${w} notification`)}catch(E){i(`${w} notification`,!1,`Error: ${E.message}`)}}i("WebSocket Connection",null,"Checking WebSocket connection...");const f=!0;i("WebSocket Connection",f,f?"WebSocket connected":"WebSocket not connected")}catch(d){i("General Test",!1,`General error: ${d.message}`)}s(!1)},c=()=>{r([])},u=async()=>{i("Direct Browser Notification",null,"Testing direct browser notification...");try{"Notification"in window?Notification.permission==="granted"?(new Notification("Direct Test Notification",{body:"This is a direct browser notification test for PWA",icon:"/icon-192.png",badge:"/icon-192.png",tag:"direct-test"}),i("Direct Browser Notification",!0,"Direct notification sent successfully!")):await Notification.requestPermission()==="granted"?(new Notification("Permission Granted!",{body:"Now you should receive notifications",icon:"/icon-192.png"}),i("Direct Browser Notification",!0,"Permission granted and notification sent!")):i("Direct Browser Notification",!1,"Notification permission denied"):i("Direct Browser Notification",!1,"Notifications not supported in this browser")}catch(d){i("Direct Browser Notification",!1,`Error: ${d.message}`)}},h=async()=>{i("Service Notification",null,"Testing notification through service...");try{const d={title:"Service Test Notification",content:"This is a test through the notification service",type:"test"};await Ye.showBrowserNotification(d),i("Service Notification",!0,"Service notification called successfully!")}catch(d){i("Service Notification",!1,`Service error: ${d.message}`)}};return e.jsxs("div",{className:"max-w-2xl mx-auto p-6 bg-white rounded-lg shadow-lg",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[e.jsx(u0,{className:"text-blue-600",size:24}),e.jsx("h2",{className:"text-xl font-bold text-gray-800",children:"Notification System Testing"})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("p",{className:"text-gray-600 mb-4",children:"This tool tests the notification system functionality, including browser permissions, notification creation from MongoDB and WebSocket connection."}),e.jsxs("div",{className:"flex flex-wrap gap-3",children:[e.jsxs("button",{onClick:x,disabled:a,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2",children:[e.jsx(Nn,{size:16}),a?"Running Tests...":"Run Full Tests"]}),e.jsxs("button",{onClick:u,className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 flex items-center gap-2",children:[e.jsx(Vg,{size:16}),"Direct Notification"]}),e.jsxs("button",{onClick:h,className:"px-4 py-2 bg-orange-600 text-white rounded-lg hover:bg-orange-700 flex items-center gap-2",children:[e.jsx(u0,{size:16}),"Service Test"]}),t.length>0&&e.jsxs("button",{onClick:c,className:"px-4 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 flex items-center gap-2",children:[e.jsx(wa,{size:16}),"Clear Results"]})]})]}),t.length>0&&e.jsxs("div",{className:"space-y-3",children:[e.jsx("h3",{className:"font-semibold text-gray-800 mb-3",children:"Test Results:"}),t.map((d,p)=>e.jsxs("div",{className:`p-3 rounded-lg border-r-4 ${d.success===null?"bg-yellow-50 border-yellow-400":d.success?"bg-green-50 border-green-400":"bg-red-50 border-red-400"}`,children:[e.jsxs("div",{className:"flex items-center gap-2",children:[d.success===null?e.jsx("div",{className:"w-4 h-4 border-2 border-yellow-400 border-t-transparent rounded-full animate-spin"}):d.success?e.jsx(Cn,{className:"text-green-600",size:16}):e.jsx(wa,{className:"text-red-600",size:16}),e.jsx("span",{className:"font-medium text-gray-800",children:d.test}),e.jsx("span",{className:"text-xs text-gray-500",children:d.timestamp.toLocaleTimeString("en-US")})]}),e.jsx("p",{className:`mt-1 text-sm ${d.success===null?"text-yellow-700":d.success?"text-green-700":"text-red-700"}`,children:d.message})]},p)),!a&&e.jsx("div",{className:"mt-4 p-3 bg-gray-50 rounded-lg",children:e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsx("span",{className:"text-gray-600",children:"Summary:"}),e.jsxs("div",{className:"flex gap-4",children:[e.jsxs("span",{className:"text-green-600",children:["✓ ",t.filter(d=>d.success===!0).length," passed"]}),e.jsxs("span",{className:"text-red-600",children:["✗ ",t.filter(d=>d.success===!1).length," failed"]})]})]})})]}),e.jsxs("div",{className:"mt-6 p-4 bg-blue-50 rounded-lg",children:[e.jsx("h4",{className:"font-medium text-blue-800 mb-2",children:"What the test includes:"}),e.jsxs("ul",{className:"text-sm text-blue-700 space-y-1",children:[e.jsx("li",{children:"• Browser notification permissions check"}),e.jsx("li",{children:"• Creating notifications through MongoDB API"}),e.jsx("li",{children:"• Testing different notification types"}),e.jsx("li",{children:"• WebSocket connection check for real-time updates"}),e.jsx("li",{children:"• Notification display in the interface"})]})]})]})},Bp=()=>e.jsx("div",{className:"container mx-auto px-4 py-8",children:e.jsx(Cp,{})}),Ap=()=>{const[t,r]=n.useState(null),a=[{id:"messages",title:"Chat Messages",icon:e.jsx(Ig,{className:"text-blue-600"}),description:"Automatic notifications when a new message arrives",code:`// In the messages controller
const sendMessage = async (req, res) => {
  // ... create message
  const newMessage = await Message.create(messageData);
  
  // Create notification for recipients
  for (const recipientId of recipients) {
    await NotificationService.createMessageNotification(
      req.userId, 
      recipientId, 
      chatId, 
      message.text
    );
  }
};`,integration:["Instant notification to user who received the message","Includes message preview","Direct link to chat room","Auto-mark as read when entering chat"]},{id:"friends",title:"Friend Requests",icon:e.jsx(Zg,{className:"text-green-600"}),description:"Notifications for friend requests, approvals and rejections",code:`// In the friends controller
const sendFriendRequest = async (req, res) => {
  const friendship = await Friendship.create(friendshipData);
  
  // Notification to request recipient
  await NotificationService.createFriendRequestNotification(
    requesterId, 
    recipientId, 
    friendship._id
  );
};

const acceptFriendRequest = async (req, res) => {
  await friendship.accept();
  
  // Notification to request sender
  await NotificationService.createFriendRequestResponseNotification(
    userId, 
    friendship.requester, 
    friendship._id, 
    'accepted'
  );
};`,integration:["Instant notification when someone sends a friend request","Notification when request is approved or declined","Link to friends management page","Integration with friends list"]},{id:"events",title:"Events and Registrations",icon:e.jsx(Ag,{className:"text-purple-600"}),description:"Notifications for event registrations, approvals and reminders",code:`// In the events controller
const registerForEvent = async (req, res) => {
  const result = event.registerParticipant(req.userId, dogIds);
  
  // Notification to event organizer
  await NotificationService.createEventRegistrationNotification(
    req.userId, 
    event.organizer, 
    event._id, 
    event.title
  );
};

const updateParticipantStatus = async (req, res) => {
  const participant = event.updateParticipantStatus(participantId, status);
  
  // Notification to participant
  await NotificationService.createEventStatusUpdateNotification(
    participant.user,
    event._id,
    event.title,
    status,
    notes
  );
};`,integration:["Notification to organizer when someone registers for event","Notification to participant when registration is approved/declined","Automatic reminders before the event","Notifications about event cancellation"]},{id:"gardens",title:"Garden Updates",icon:e.jsx($g,{className:"text-orange-600"}),description:"Notifications about changes and news in gardens",code:`// In the gardens controller
const updateGarden = async (req, res) => {
  await garden.save();
  
  // Notification to all users who visited the garden
  const visitors = await Visit.find({ garden: gardenId })
    .distinct('user');
  
  for (const userId of visitors) {
    await NotificationService.createGardenUpdateNotification(
      userId,
      garden._id,
      garden.name,
      'info_update',
      'Garden details have been updated - check what's new!'
    );
  }
};`,integration:["Notifications about garden detail changes","Updates about new events in the garden","Notifications to users who visited the garden","Updates from the manager"]},{id:"reviews",title:"Reviews and Ratings",icon:e.jsx(Ug,{className:"text-yellow-600"}),description:"Notifications about new reviews and responses",code:`// In the reviews controller
const createReview = async (req, res) => {
  const review = await Review.create(reviewData);
  
  // Notification to garden manager
  const garden = await Garden.findById(review.garden)
    .populate('manager');
  
  if (garden.manager) {
    await NotificationService.createReviewNotification(
      garden.manager._id,
      review._id,
      garden.name,
      review.rating
    );
  }
};`,integration:["Notification to garden manager about new review","Notification when someone responds to your review","Updates about garden rating changes","Reminders to write a review"]},{id:"admin",title:"Administrative Requests",icon:e.jsx(g0,{className:"text-red-600"}),description:"Notifications to administrators about permission requests",code:`// In the requests controller
const submitRequest = async (req, res) => {
  const request = await Request.create(requestData);
  
  // Notification to all administrators
  const admins = await User.find({ role: 'admin' });
  
  for (const admin of admins) {
    await NotificationService.createPermissionRequestNotification(
      admin._id,
      req.userId,
      request.type
    );
  }
};`,integration:["Notifications to administrators about new permission requests","Updates about request approval/rejection","Urgent notifications to system administrators","Daily summaries"]}],s=l=>{r(t===l?null:l)};return e.jsxs("div",{className:"max-w-4xl mx-auto p-6",children:[e.jsxs("div",{className:"mb-8 text-center",children:[e.jsxs("div",{className:"flex items-center justify-center gap-3 mb-4",children:[e.jsx(m0,{className:"text-blue-600",size:32}),e.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"Integration Examples - Notification System"})]}),e.jsx("p",{className:"text-gray-600",children:"How to integrate notifications throughout the app with MongoDB and real-time updates"})]}),e.jsx("div",{className:"space-y-4",children:a.map(l=>e.jsxs("div",{className:"border border-gray-200 rounded-lg overflow-hidden",children:[e.jsxs("button",{onClick:()=>s(l.id),className:"w-full p-4 bg-gray-50 hover:bg-gray-100 flex items-center justify-between text-left transition-colors",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[l.icon,e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-gray-800",children:l.title}),e.jsx("p",{className:"text-sm text-gray-600",children:l.description})]})]}),e.jsx("div",{className:`transform transition-transform ${t===l.id?"rotate-180":""}`,children:"▼"})]}),t===l.id&&e.jsx("div",{className:"p-6 bg-white",children:e.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsxs("h4",{className:"font-medium text-gray-800 mb-3 flex items-center gap-2",children:[e.jsx(m0,{size:16}),"Code Example"]}),e.jsx("pre",{className:"bg-gray-900 text-gray-100 p-4 rounded-lg overflow-x-auto text-sm",children:e.jsx("code",{children:l.code})})]}),e.jsxs("div",{children:[e.jsxs("h4",{className:"font-medium text-gray-800 mb-3 flex items-center gap-2",children:[e.jsx(Sg,{size:16}),"Integration Features"]}),e.jsx("ul",{className:"space-y-2",children:l.integration.map((o,i)=>e.jsxs("li",{className:"flex items-start gap-2 text-sm text-gray-600",children:[e.jsx("span",{className:"text-green-500 mt-0.5",children:"•"}),o]},i))})]})]})})]},l.id))}),e.jsxs("div",{className:"mt-8 p-6 bg-blue-50 rounded-lg",children:[e.jsxs("h3",{className:"font-bold text-blue-800 mb-4 flex items-center gap-2",children:[e.jsx(g0,{size:20}),"Technical Overview"]}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-6 text-sm",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-blue-700 mb-2",children:"Backend Implementation"}),e.jsxs("ul",{className:"space-y-1 text-blue-600",children:[e.jsx("li",{children:"• Every notification is saved in MongoDB"}),e.jsx("li",{children:"• Real-time delivery via WebSocket"}),e.jsx("li",{children:"• Support for different notification types"}),e.jsx("li",{children:"• Automatic cleanup of old notifications"}),e.jsx("li",{children:"• Admin notifications with high priority"})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-blue-700 mb-2",children:"Frontend Integration"}),e.jsxs("ul",{className:"space-y-1 text-blue-600",children:[e.jsx("li",{children:"• Real-time updates via WebSocket"}),e.jsx("li",{children:"• Native browser notifications"}),e.jsx("li",{children:"• Notification counter in the header"}),e.jsx("li",{children:"• Mark as read/unread functionality"}),e.jsx("li",{children:"• Responsive notification dropdown"})]})]})]})]})]})},Dp=()=>e.jsx("div",{className:"container mx-auto px-4 py-8",children:e.jsx(Ap,{})}),Fp=()=>{const{user:t}=pe(),[r,a]=n.useState([]),[s,l]=n.useState([]),[o,i]=n.useState(""),[x,c]=n.useState("all"),[u,h]=n.useState(!1),[d,p]=n.useState(!1),[g,f]=n.useState(!1),[w,m]=n.useState({lat:32.0853,lng:34.7818,name:"תל אביב"}),[B,E]=n.useState(""),[N,v]=n.useState([]),[j,k]=n.useState(!1),[b,C]=n.useState(5),D=async L=>{if(!L||L.length<2){v([]);return}try{const P=(await(await fetch(`https://nominatim.openstreetmap.org/search?format=json&q=${encodeURIComponent(L)}&countrycodes=il&limit=5&addressdetails=1`)).json()).map(G=>({name:G.display_name,lat:parseFloat(G.lat),lng:parseFloat(G.lon),type:G.type,importance:G.importance}));v(P)}catch(S){console.error("שגיאה בחיפוש מיקומים:",S),v([])}},F=async(L,S,H,P)=>{p(!0);try{console.log("🔍 חיפוש גינות כלבים בגוגל:",{lat:L,lng:S,radius:H,locationName:P});const G=await fetch(`/api/gardens/search-dog-parks?lat=${L}&lng=${S}&radius=${H}&query=dog park`);if(!G.ok)throw new Error(`HTTP error! status: ${G.status}`);const z=await G.json();z.success&&z.parks?(console.log(`✅ נמצאו ${z.parks.length} גינות כלבים בגוגל`),a(z.parks),l(z.parks)):(console.log("❌ לא נמצאו גינות כלבים באזור"),a([]),l([]))}catch(G){console.error("❌ שגיאה בחיפוש גינות בגוגל:",G),alert("שגיאה בחיפוש גינות כלבים. אנא ודא שהמפתח Google Places API מוגדר נכון."),a([]),l([])}finally{p(!1)}},T=()=>{if(f(!0),!navigator.geolocation){alert("הדפדפן שלך לא תומך בזיהוי מיקום"),f(!1);return}navigator.geolocation.getCurrentPosition(async L=>{var P,G,z;const S=L.coords.latitude,H=L.coords.longitude;try{const Y=await(await fetch(`https://nominatim.openstreetmap.org/reverse?format=json&lat=${S}&lon=${H}&addressdetails=1`)).json(),X=((P=Y.address)==null?void 0:P.city)||((G=Y.address)==null?void 0:G.town)||((z=Y.address)==null?void 0:z.village)||"מיקום נוכחי";m({lat:S,lng:H,name:X}),E(""),await F(S,H,b,X)}catch(O){console.error("שגיאה בזיהוי שם המיקום:",O);const Y="מיקום נוכחי";m({lat:S,lng:H,name:Y}),await F(S,H,b,Y)}f(!1)},L=>{console.error("שגיאה בקבלת מיקום:",L),alert("לא ניתן לקבל את המיקום שלך"),f(!1)},{enableHighAccuracy:!0,timeout:1e4,maximumAge:3e5})},A=async L=>{const S=L.name.split(",")[0];m({lat:L.lat,lng:L.lng,name:S}),E(""),k(!1),v([]),await F(L.lat,L.lng,b,S)},R=async L=>{C(L),await F(w.lat,w.lng,L,w.name)};n.useEffect(()=>{let L=r.filter(S=>S.name.toLowerCase().includes(o.toLowerCase())||S.address.toLowerCase().includes(o.toLowerCase()));x!=="all"&&(L=L.filter(S=>S.dogSizes.includes(x))),L.sort((S,H)=>M(S)-M(H)),l(L)},[o,x,r,w]),n.useEffect(()=>{const L=setTimeout(()=>{B?(D(B),k(!0)):(v([]),k(!1))},300);return()=>clearTimeout(L)},[B]),n.useEffect(()=>{F(w.lat,w.lng,b,w.name)},[]);const M=L=>{const H=(L.location.lat-w.lat)*Math.PI/180,P=(L.location.lng-w.lng)*Math.PI/180,G=Math.sin(H/2)*Math.sin(H/2)+Math.cos(w.lat*Math.PI/180)*Math.cos(L.location.lat*Math.PI/180)*Math.sin(P/2)*Math.sin(P/2);return 6371*(2*Math.atan2(Math.sqrt(G),Math.sqrt(1-G)))},_=async L=>{var S;return console.log("🔍 אימות עם Google Places:",L.name),{...L,googleVerified:!0,googleRating:((S=L.rating)==null?void 0:S.toFixed(1))||"0.0"}},q=L=>{const S={id:Date.now(),...L,location:{lat:w.lat+(Math.random()-.5)*.01,lng:w.lng+(Math.random()-.5)*.01},source:"community",addedBy:(t==null?void 0:t.email)||"current_user",verified:!1,rating:0,reviews:0,photos:0};a([...r,S]),h(!1),console.log("✅ פארק חדש נוסף:",S)},U=()=>{const[L,S]=n.useState({name:"",address:"",hours:"",phone:"",description:"",dogSizes:[],amenities:[]}),H=(G,z)=>{S(O=>({...O,[G]:O[G].includes(z)?O[G].filter(Y=>Y!==z):[...O[G],z]}))},P=()=>{L.name&&L.address&&(q(L),S({name:"",address:"",hours:"",phone:"",description:"",dogSizes:[],amenities:[]}))};return e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:e.jsx(Mt,{className:"w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs(nr,{level:3,className:"text-gray-900",children:["הוסף גינת כלבים ב",w.name]}),e.jsx("button",{onClick:()=>h(!1),className:"text-gray-400 hover:text-gray-500",children:e.jsx(he,{className:"h-6 w-6"})})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx(qt,{label:"שם הגינה",value:L.name,onChange:G=>S({...L,name:G.target.value}),placeholder:"שם הגינה",required:!0}),e.jsx(qt,{label:"כתובת",value:L.address,onChange:G=>S({...L,address:G.target.value}),placeholder:`כתובת ב${w.name}`,required:!0}),e.jsx(qt,{label:"שעות פתיחה",value:L.hours,onChange:G=>S({...L,hours:G.target.value}),placeholder:"לדוגמה: 06:00-22:00"}),e.jsx(qt,{label:"טלפון (אופציונלי)",value:L.phone,onChange:G=>S({...L,phone:G.target.value}),placeholder:"טלפון"}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"גדלי כלבים מותרים:"}),e.jsx("div",{className:"grid grid-cols-3 gap-3",children:[{value:"small",label:"כלבים קטנים"},{value:"medium",label:"כלבים בינוניים"},{value:"large",label:"כלבים גדולים"}].map(G=>e.jsxs("label",{className:"flex items-center p-3 border rounded-lg cursor-pointer hover:bg-gray-50",children:[e.jsx("input",{type:"checkbox",checked:L.dogSizes.includes(G.value),onChange:()=>H("dogSizes",G.value),className:"mr-2"}),e.jsx("span",{className:"text-sm",children:G.label})]},G.value))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"מתקנים זמינים:"}),e.jsx("div",{className:"grid grid-cols-2 gap-3",children:[{value:"water",label:"מים"},{value:"toys",label:"צעצועים"},{value:"seating",label:"ישיבה"},{value:"parking",label:"חניה"},{value:"training",label:"אזור אילוף"}].map(G=>e.jsxs("label",{className:"flex items-center p-3 border rounded-lg cursor-pointer hover:bg-gray-50",children:[e.jsx("input",{type:"checkbox",checked:L.amenities.includes(G.value),onChange:()=>H("amenities",G.value),className:"mr-2"}),e.jsx("span",{className:"text-sm",children:G.label})]},G.value))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1.5",children:"תיאור הגינה"}),e.jsx("textarea",{value:L.description,onChange:G=>S({...L,description:G.target.value}),placeholder:"תיאור הגינה",className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500",rows:3})]})]}),e.jsxs("div",{className:"flex gap-3 mt-6",children:[e.jsx(Bt,{onClick:P,disabled:!L.name||!L.address,variant:"primary",fullWidth:!0,children:"הוסף גינה"}),e.jsx(Bt,{onClick:()=>h(!1),variant:"secondary",fullWidth:!0,children:"ביטול"})]})]})})})};return e.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 pb-20 lg:pb-8",dir:"rtl",children:[e.jsxs(Ha,{maxWidth:"4xl",className:"py-8",children:[e.jsx(Mt,{className:"mb-8 bg-gradient-to-r from-purple-600 via-pink-600 to-indigo-700 text-white",children:e.jsx("div",{className:"p-8",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[e.jsx(ir,{className:"h-8 w-8"}),e.jsx(nr,{level:1,className:"text-white",children:"מוצא גינות כלבים"})]}),e.jsx("p",{className:"text-purple-100 text-lg",children:"מערכת קהילתית למציאת גינות כלבים בסביבתך"})]}),e.jsx("div",{className:"hidden md:block",children:e.jsx("div",{className:"text-6xl opacity-30",children:"🐕"})})]})})}),e.jsx(Mt,{className:"mb-8",children:e.jsxs("div",{className:"p-6 border-b border-gray-200",children:[e.jsx(nr,{level:3,className:"text-gray-900 mb-4",children:"📍 איפה אתה מחפש?"}),e.jsxs("div",{className:"flex gap-4 mb-4",children:[e.jsxs("div",{className:"flex-1 relative",children:[e.jsx(qt,{placeholder:"חפש עיר, שכונה או כתובת...",value:B,onChange:L=>E(L.target.value),onFocus:()=>k(!0),icon:e.jsx(_t,{className:"h-5 w-5 text-gray-400"})}),j&&N.length>0&&e.jsx("div",{className:"absolute top-full left-0 right-0 bg-white border border-gray-200 rounded-lg shadow-lg z-10 max-h-60 overflow-y-auto mt-1",children:N.map((L,S)=>e.jsxs("button",{onClick:()=>A(L),className:"w-full p-3 text-right hover:bg-gray-50 border-b border-gray-100 last:border-b-0",children:[e.jsx("div",{className:"font-medium text-gray-900",children:L.name.split(",")[0]}),e.jsx("div",{className:"text-sm text-gray-500",children:L.name})]},S))})]}),e.jsx(Bt,{onClick:T,disabled:g,variant:"success",icon:g?e.jsx(Fr,{className:"h-4 w-4 animate-spin"}):e.jsx(Wr,{className:"h-4 w-4"}),children:"המיקום שלי"})]}),e.jsxs("div",{className:"flex items-center gap-6 text-sm text-gray-600",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ye,{className:"h-4 w-4"}),e.jsxs("span",{className:"font-medium",children:["מיקום נוכחי: ",w.name]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{children:"רדיוס חיפוש:"}),e.jsxs(Bs,{value:b,onChange:L=>R(Number(L.target.value)),className:"w-auto",children:[e.jsx("option",{value:2,children:'2 ק"מ'}),e.jsx("option",{value:5,children:'5 ק"מ'}),e.jsx("option",{value:10,children:'10 ק"מ'}),e.jsx("option",{value:20,children:'20 ק"מ'}),e.jsx("option",{value:50,children:'50 ק"מ'})]})]})]})]})}),e.jsx(Mt,{className:"mb-8",children:e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex flex-col lg:flex-row gap-4 mb-6",children:[e.jsx("div",{className:"flex-1",children:e.jsx(qt,{placeholder:"חפש גינות כלבים...",value:o,onChange:L=>i(L.target.value),icon:e.jsx(_t,{className:"h-5 w-5 text-gray-400"})})}),e.jsxs(Bs,{value:x,onChange:L=>c(L.target.value),className:"lg:w-48",children:[e.jsx("option",{value:"all",children:"כל הגדלים"}),e.jsx("option",{value:"small",children:"כלבים קטנים"}),e.jsx("option",{value:"medium",children:"כלבים בינוניים"}),e.jsx("option",{value:"large",children:"כלבים גדולים"})]}),e.jsx(Bt,{onClick:()=>h(!0),variant:"success",icon:e.jsx(Ft,{className:"h-4 w-4"}),children:"הוסף גינה"})]}),d&&e.jsxs("div",{className:"text-center py-8",children:[e.jsx("div",{className:"inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-purple-600 mb-4"}),e.jsxs("div",{className:"text-lg font-medium text-gray-900",children:["מחפש גינות כלבים ב",w.name,"..."]}),e.jsxs("div",{className:"text-sm text-gray-500 mt-1",children:["רדיוס חיפוש: ",b,' ק"מ']})]}),!d&&e.jsxs("div",{className:"flex flex-wrap gap-2 text-sm text-gray-600",children:[e.jsxs(vt,{variant:"info",children:["נמצאו ",s.length," גינות ב",w.name]}),e.jsxs(vt,{variant:"primary",children:[r.filter(L=>L.source==="google").length," מ-Google"]}),e.jsxs(vt,{variant:"warning",children:[r.filter(L=>L.source==="osm").length," מ-OSM"]}),e.jsxs(vt,{variant:"success",children:[r.filter(L=>L.source==="community").length," מהקהילה"]}),e.jsxs(vt,{variant:"secondary",children:["רדיוס: ",b,' ק"מ']})]})]})}),e.jsx("div",{className:"space-y-6",children:s.map(L=>e.jsx(Mt,{hover:!0,className:"transition-all duration-300",children:e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex justify-between items-start mb-4",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx(nr,{level:4,className:"text-gray-900",children:L.name}),L.verified&&e.jsx(fa,{className:"h-5 w-5 text-green-500"}),e.jsx(vt,{variant:L.source==="google"?"info":"success",size:"sm",children:L.source==="google"?"Google":"קהילה"})]}),e.jsxs("p",{className:"text-gray-600 flex items-center gap-2 mb-3",children:[e.jsx(ye,{className:"h-4 w-4"}),L.address]}),e.jsx("p",{className:"text-gray-700 mb-4",children:L.description})]}),e.jsxs("div",{className:"text-left",children:[e.jsxs("div",{className:"text-sm text-gray-500 mb-1",children:[M(L).toFixed(1),' ק"מ']}),L.rating>0&&e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(pr,{className:"h-4 w-4 text-yellow-400"}),e.jsx("span",{className:"text-sm font-medium",children:L.rating.toFixed(1)}),e.jsxs("span",{className:"text-xs text-gray-500",children:["(",L.reviews,")"]})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[e.jsxs("div",{children:[e.jsx("h5",{className:"font-medium text-gray-900 mb-2",children:"גדלי כלבים:"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:L.dogSizes.map(S=>e.jsx(vt,{variant:"secondary",size:"sm",children:S==="small"?"קטן":S==="medium"?"בינוני":"גדול"},S))})]}),e.jsxs("div",{children:[e.jsx("h5",{className:"font-medium text-gray-900 mb-2",children:"מתקנים:"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:L.amenities.map(S=>e.jsx(vt,{variant:"default",size:"sm",children:S==="water"?"מים":S==="toys"?"צעצועים":S==="seating"?"ישיבה":S==="parking"?"חניה":S==="training"?"אילוף":S},S))})]})]}),e.jsxs("div",{className:"flex flex-col lg:flex-row justify-between items-start lg:items-center gap-4 pt-4 border-t border-gray-200",children:[e.jsxs("div",{className:"flex flex-wrap items-center gap-4 text-sm text-gray-600",children:[L.hours&&e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(Le,{className:"h-4 w-4"}),L.hours]}),L.phone&&e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(Kr,{className:"h-4 w-4"}),L.phone]}),L.photos>0&&e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(Ls,{className:"h-4 w-4"}),L.photos," תמונות"]})]}),e.jsxs("div",{className:"flex gap-2",children:[!L.verified&&L.source==="community"&&e.jsx(Bt,{onClick:async()=>{const S=await _(L);a(r.map(H=>H.id===L.id?S:H))},variant:"outline",size:"sm",icon:e.jsx(fa,{className:"h-3 w-3"}),children:"אמת עם Google"}),e.jsx(Bt,{onClick:()=>{const S=`https://www.google.com/maps/dir/?api=1&destination=${L.location.lat},${L.location.lng}`;window.open(S,"_blank")},variant:"primary",size:"sm",icon:e.jsx(ix,{className:"h-3 w-3"}),children:"נווט"})]})]})]})},L.id))}),s.length===0&&!d&&e.jsxs(Mt,{className:"text-center py-12",children:[e.jsx("div",{className:"text-gray-400 text-6xl mb-4",children:"🐕"}),e.jsxs(nr,{level:3,className:"text-gray-900 mb-2",children:["לא נמצאו גינות כלבים ב",w.name]}),e.jsxs("p",{className:"text-gray-600 mb-1",children:["רדיוס חיפוש: ",b,' ק"מ']}),e.jsxs("div",{className:"space-y-3 mt-6",children:[e.jsxs(Bt,{onClick:()=>R(b*2),variant:"outline",children:["הרחב חיפוש ל-",b*2,' ק"מ']}),e.jsx("div",{children:e.jsx(Bt,{onClick:()=>h(!0),variant:"success",icon:e.jsx(Ft,{className:"h-4 w-4"}),children:"הוסף את הגינה הראשונה באזור!"})})]})]}),e.jsx(Mt,{className:"mt-8",children:e.jsxs("div",{className:"p-6",children:[e.jsx(ar,{variant:"info",className:"mb-6",children:e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-blue-800 mb-2",children:"איך המערכת עובדת:"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm",children:[e.jsxs("div",{children:[e.jsx("h5",{className:"font-semibold text-blue-700 mb-2",children:"🗺️ חיפוש מיקומים:"}),e.jsxs("ul",{className:"space-y-1 text-blue-600",children:[e.jsxs("li",{children:["• ",e.jsx("strong",{children:"GPS:"})," זיהוי אוטומטי של המיקום שלך"]}),e.jsxs("li",{children:["• ",e.jsx("strong",{children:"חיפוש כתובות:"})," Nominatim API (OpenStreetMap)"]}),e.jsxs("li",{children:["• ",e.jsx("strong",{children:"רדיוס גמיש:"}),' 2-50 ק"מ סביב המיקום']})]})]}),e.jsxs("div",{children:[e.jsx("h5",{className:"font-semibold text-blue-700 mb-2",children:"🐕 חיפוש גינות עם Google:"}),e.jsxs("ul",{className:"space-y-1 text-blue-600",children:[e.jsxs("li",{children:["• ",e.jsx("strong",{children:"Google Places API:"})," נתונים מדויקים ומעודכנים"]}),e.jsxs("li",{children:["• ",e.jsx("strong",{children:"מיקומים אמיתיים:"})," גינות כלבים מ-Google Maps"]}),e.jsxs("li",{children:["• ",e.jsx("strong",{children:"מידע עשיר:"})," דירוגים, ביקורות ושעות פתיחה"]})]})]})]})]})}),e.jsx(ar,{variant:"success",children:e.jsxs("div",{children:[e.jsx("h5",{className:"font-semibold text-green-800 mb-1",children:"🔍 איך מחפשים:"}),e.jsx("p",{className:"text-sm text-green-700 mb-2",children:"המערכת מחפשת גינות כלבים ב-Google Places עם מונחי החיפוש הבאים:"}),e.jsxs("div",{className:"grid grid-cols-2 gap-2 text-xs",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsx("code",{className:"bg-green-100 px-2 py-1 rounded block",children:"dog park"}),e.jsx("code",{className:"bg-green-100 px-2 py-1 rounded block",children:"dog run"}),e.jsx("code",{className:"bg-green-100 px-2 py-1 rounded block",children:"off leash dog area"}),e.jsx("code",{className:"bg-green-100 px-2 py-1 rounded block",children:"pet park"})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("code",{className:"bg-green-100 px-2 py-1 rounded block",children:"גן כלבים"}),e.jsx("code",{className:"bg-green-100 px-2 py-1 rounded block",children:"כלבים פארק"}),e.jsx("code",{className:"bg-green-100 px-2 py-1 rounded block",children:"אזור כלבים"}),e.jsx("code",{className:"bg-green-100 px-2 py-1 rounded block",children:"dog playground"})]})]})]})}),e.jsx(ar,{variant:"warning",children:e.jsxs("div",{children:[e.jsx("h5",{className:"font-semibold text-orange-800 mb-1",children:"💡 חשוב לדעת:"}),e.jsxs("div",{className:"text-sm text-orange-700 space-y-2",children:[e.jsxs("p",{children:["• ",e.jsx("strong",{children:"נתונים אמיתיים:"})," כל הגינות מגיעות מ-Google Places API"]}),e.jsxs("p",{children:["• ",e.jsx("strong",{children:"דירוגים:"})," הדירוגים והביקורות הם של משתמשי Google"]}),e.jsxs("p",{children:["• ",e.jsx("strong",{children:"מיקומים מדויקים:"})," הניווט יקח אותך למיקום המדויק"]}),e.jsxs("p",{children:["• ",e.jsx("strong",{children:"חיפוש מתקדם:"})," המערכת מחפשת במספר שפות ומונחים"]})]})]})}),e.jsx(ar,{variant:"info",children:e.jsxs("div",{children:[e.jsx("h5",{className:"font-semibold text-blue-800 mb-1",children:"🆓 חיפוש חינמי:"}),e.jsx("p",{className:"text-sm text-blue-700",children:"Google Places API מציע 100$ בחינם לחודש (כ-1000 חיפושים). במידה ונגמר הקרדיט, המערכת תציג נתונים מסימולציה."})]})}),e.jsx(ar,{variant:"warning",children:e.jsxs("div",{children:[e.jsx("h5",{className:"font-semibold text-orange-800 mb-1",children:"🔑 הגדרת API Key:"}),e.jsxs("div",{className:"text-sm text-orange-700 space-y-2",children:[e.jsx("p",{children:e.jsx("strong",{children:"כרגע המערכת מציגה נתונים מדומים להדגמה."})}),e.jsx("p",{children:"כדי לקבל נתונים אמיתיים מגוגל:"}),e.jsxs("ol",{className:"list-decimal list-inside space-y-1 mt-2",children:[e.jsxs("li",{children:["היכנס ל-",e.jsx("a",{href:"https://console.cloud.google.com/",target:"_blank",className:"underline text-orange-800",children:"Google Cloud Console"})]}),e.jsx("li",{children:"צור פרויקט חדש או בחר קיים"}),e.jsx("li",{children:'הפעל את "Places API"'}),e.jsx("li",{children:"צור API Key בחלק Credentials"}),e.jsx("li",{children:"החלף את 'YOUR_GOOGLE_PLACES_API_KEY' בקוד"}),e.jsx("li",{children:"שנה USE_SIMULATION ל-false"})]})]})]})})]})})]}),u&&e.jsx(U,{})]})},Sp=()=>{const[t,r]=n.useState([]),[a,s]=n.useState({}),[l,o]=n.useState(!0);n.useEffect(()=>{i()},[]);const i=async()=>{var m,B,E,N,v,j;try{o(!0);const k=await xt.getStats();s(k);const b=[{id:"first_visit",title:"First Steps",description:"Complete your first park visit",icon:"🐾",category:"visits",progress:Math.min(((B=(m=k.achievements)==null?void 0:m.find(C=>C.achievementId==="first_visit"))==null?void 0:B.progress)||0,1),target:1,completed:((N=(E=k.achievements)==null?void 0:E.find(C=>C.achievementId==="first_visit"))==null?void 0:N.completed)||!1,points:50},{id:"visit_10",title:"Regular Walker",description:"Complete 10 park visits",icon:"🚶",category:"visits",progress:Math.min(Math.floor(k.points/10)||0,10),target:10,completed:Math.floor(k.points/10)>=10,points:100},{id:"visit_50",title:"Park Enthusiast",description:"Complete 50 park visits",icon:"🌳",category:"visits",progress:Math.min(Math.floor(k.points/10)||0,50),target:50,completed:Math.floor(k.points/10)>=50,points:250},{id:"streak_3",title:"Consistent Walker",description:"Visit parks 3 days in a row",icon:"⚡",category:"streaks",progress:Math.min(k.longestStreak||0,3),target:3,completed:(k.longestStreak||0)>=3,points:75},{id:"streak_7",title:"Week Warrior",description:"Visit parks 7 days in a row",icon:"🔥",category:"streaks",progress:Math.min(k.longestStreak||0,7),target:7,completed:(k.longestStreak||0)>=7,points:200},{id:"level_5",title:"Rising Star",description:"Reach level 5",icon:"⭐",category:"levels",progress:Math.min(k.level||1,5),target:5,completed:(k.level||1)>=5,points:300},{id:"points_1000",title:"Point Collector",description:"Earn 1000 points",icon:"💎",category:"points",progress:Math.min(k.points||0,1e3),target:1e3,completed:(k.points||0)>=1e3,points:150},{id:"badges_10",title:"Badge Master",description:"Earn 10 badges",icon:"🏆",category:"badges",progress:Math.min(((v=k.badges)==null?void 0:v.length)||0,10),target:10,completed:(((j=k.badges)==null?void 0:j.length)||0)>=10,points:500}];r(b)}catch(k){console.error("Error loading achievement data:",k),I.error("Failed to load achievements")}finally{o(!1)}},x=m=>{switch(m){case"visits":return e.jsx(ye,{className:"w-5 h-5"});case"streaks":return e.jsx(st,{className:"w-5 h-5"});case"levels":return e.jsx(We,{className:"w-5 h-5"});case"points":return e.jsx(ot,{className:"w-5 h-5"});case"badges":return e.jsx(ot,{className:"w-5 h-5"});case"social":return e.jsx(Ne,{className:"w-5 h-5"});default:return e.jsx(ot,{className:"w-5 h-5"})}},c=m=>{const B={visits:"text-blue-600 bg-blue-50 dark:bg-blue-900/20",streaks:"text-orange-600 bg-orange-50 dark:bg-orange-900/20",levels:"text-yellow-600 bg-yellow-50 dark:bg-yellow-900/20",points:"text-purple-600 bg-purple-50 dark:bg-purple-900/20",badges:"text-green-600 bg-green-50 dark:bg-green-900/20",social:"text-pink-600 bg-pink-50 dark:bg-pink-900/20"};return B[m]||B.visits},u=(m,B)=>Math.min(m/B*100,100),h=[{id:"all",name:"All",count:t.length},{id:"visits",name:"Visits",count:t.filter(m=>m.category==="visits").length},{id:"streaks",name:"Streaks",count:t.filter(m=>m.category==="streaks").length},{id:"levels",name:"Levels",count:t.filter(m=>m.category==="levels").length},{id:"points",name:"Points",count:t.filter(m=>m.category==="points").length},{id:"badges",name:"Badges",count:t.filter(m=>m.category==="badges").length}],[d,p]=n.useState("all"),g=d==="all"?t:t.filter(m=>m.category===d),f=t.filter(m=>m.completed).length,w=t.length;return l?e.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-3xl p-6 border border-gray-100 dark:border-gray-700",children:e.jsxs("div",{className:"animate-pulse",children:[e.jsx("div",{className:"h-6 bg-gray-300 dark:bg-gray-600 rounded mb-4"}),e.jsx("div",{className:"space-y-4",children:[...Array(5)].map((m,B)=>e.jsx("div",{className:"h-20 bg-gray-200 dark:bg-gray-700 rounded-lg"},B))})]})}):e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-3xl p-6 border border-gray-100 dark:border-gray-700",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h3",{className:"text-xl font-bold text-gray-900 dark:text-white",children:"Achievement Center"}),e.jsxs("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:[f," / ",w," completed"]})]}),e.jsxs("div",{className:"mb-6 p-4 bg-gray-50 dark:bg-gray-700 rounded-lg",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Overall Progress"}),e.jsxs("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:[Math.round(f/w*100),"%"]})]}),e.jsx("div",{className:"w-full bg-gray-200 dark:bg-gray-600 rounded-full h-2",children:e.jsx("div",{className:"bg-green-500 h-2 rounded-full transition-all duration-300",style:{width:`${f/w*100}%`}})})]}),e.jsx("div",{className:"flex flex-wrap gap-2 mb-6",children:h.map(m=>e.jsxs("button",{onClick:()=>p(m.id),className:`px-3 py-1 rounded-full text-sm font-medium transition-colors ${d===m.id?"bg-blue-500 text-white":"bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-600"}`,children:[m.name," (",m.count,")"]},m.id))}),e.jsx("div",{className:"space-y-4",children:g.map(m=>e.jsxs("div",{className:`p-4 rounded-lg border-2 transition-all ${m.completed?"border-green-200 bg-green-50 dark:border-green-700 dark:bg-green-900/20":"border-gray-200 bg-white dark:border-gray-600 dark:bg-gray-700"}`,children:[e.jsxs("div",{className:"flex items-start justify-between mb-3",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"text-2xl",children:m.icon}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-gray-900 dark:text-white",children:m.title}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:m.description})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:`p-2 rounded-full ${c(m.category)}`,children:x(m.category)}),m.completed&&e.jsx("div",{className:"p-2 rounded-full bg-green-100 dark:bg-green-900/30",children:e.jsx(Me,{className:"w-5 h-5 text-green-600 dark:text-green-400"})})]})]}),e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:["Progress: ",m.progress," / ",m.target]}),!m.completed&&e.jsxs("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:["(",m.target-m.progress," remaining)"]})]}),e.jsxs("div",{className:"flex items-center gap-1 text-sm text-yellow-600 dark:text-yellow-400",children:[e.jsx(ot,{className:"w-4 h-4"}),m.points," points"]})]}),e.jsx("div",{className:"w-full bg-gray-200 dark:bg-gray-600 rounded-full h-2",children:e.jsx("div",{className:`h-2 rounded-full transition-all duration-300 ${m.completed?"bg-green-500":"bg-blue-500"}`,style:{width:`${u(m.progress,m.target)}%`}})})]},m.id))}),g.length===0&&e.jsxs("div",{className:"text-center py-8",children:[e.jsx("div",{className:"text-gray-400 dark:text-gray-500 text-lg mb-2",children:"No achievements found"}),e.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Try selecting a different category"})]})]})},Pp=()=>{var f,w,m,B;const[t,r]=n.useState([]),[a,s]=n.useState([]),[l,o]=n.useState({}),[i,x]=n.useState(!0);n.useEffect(()=>{c()},[]);const c=async()=>{try{x(!0);const[E,N,v]=await Promise.all([xt.getBadges(),xt.getAllBadges(),xt.getBadgeStats()]);r(E.badges||[]),s(N.badges||[]),o(v||{})}catch(E){console.error("Error loading badge data:",E),I.error("Failed to load badge data")}finally{x(!1)}},u=E=>{const N={common:"bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-300",rare:"bg-blue-100 text-blue-800 dark:bg-blue-900/30 dark:text-blue-300",epic:"bg-purple-100 text-purple-800 dark:bg-purple-900/30 dark:text-purple-300",legendary:"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/30 dark:text-yellow-300"};return N[E]||N.common},h=E=>{switch(E){case"rare":return e.jsx(We,{className:"w-4 h-4"});case"epic":return e.jsx($e,{className:"w-4 h-4"});case"legendary":return e.jsx(ot,{className:"w-4 h-4"});default:return null}},d=E=>t.some(N=>N.badgeId===E),p=E=>a.filter(N=>N.category===E),g=[{id:"visits",name:"Visits",icon:"🚶"},{id:"streaks",name:"Streaks",icon:"🔥"},{id:"social",name:"Social",icon:"👥"},{id:"levels",name:"Levels",icon:"⭐"},{id:"special",name:"Special",icon:"🎉"},{id:"exploration",name:"Exploration",icon:"🗺️"}];return i?e.jsxs("div",{className:"animate-pulse",children:[e.jsx("div",{className:"h-4 bg-gray-300 dark:bg-gray-600 rounded mb-4"}),e.jsx("div",{className:"grid grid-cols-2 gap-4",children:[...Array(6)].map((E,N)=>e.jsx("div",{className:"h-16 bg-gray-300 dark:bg-gray-600 rounded-2xl"},N))})]}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h3",{className:"text-lg font-bold text-gray-900 dark:text-white",children:"Badge Gallery"}),e.jsxs("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:[l.total||0," / ",l.totalAvailable||0," badges"]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-6",children:[e.jsxs("div",{className:"text-center p-3 bg-gray-50 dark:bg-gray-700 rounded-xl",children:[e.jsx("div",{className:"text-lg font-bold text-gray-900 dark:text-white",children:((f=l.byRarity)==null?void 0:f.common)||0}),e.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Common"})]}),e.jsxs("div",{className:"text-center p-3 bg-blue-50 dark:bg-blue-900/20 rounded-xl",children:[e.jsx("div",{className:"text-lg font-bold text-blue-600 dark:text-blue-400",children:((w=l.byRarity)==null?void 0:w.rare)||0}),e.jsx("div",{className:"text-xs text-blue-600 dark:text-blue-400",children:"Rare"})]}),e.jsxs("div",{className:"text-center p-3 bg-purple-50 dark:bg-purple-900/20 rounded-xl",children:[e.jsx("div",{className:"text-lg font-bold text-purple-600 dark:text-purple-400",children:((m=l.byRarity)==null?void 0:m.epic)||0}),e.jsx("div",{className:"text-xs text-purple-600 dark:text-purple-400",children:"Epic"})]}),e.jsxs("div",{className:"text-center p-3 bg-yellow-50 dark:bg-yellow-900/20 rounded-xl",children:[e.jsx("div",{className:"text-lg font-bold text-yellow-600 dark:text-yellow-400",children:((B=l.byRarity)==null?void 0:B.legendary)||0}),e.jsx("div",{className:"text-xs text-yellow-600 dark:text-yellow-400",children:"Legendary"})]})]}),e.jsx("div",{className:"space-y-6",children:g.map(E=>{var v;const N=p(E.id);return N.length===0?null:e.jsxs("div",{children:[e.jsxs("h4",{className:"text-base font-semibold text-gray-900 dark:text-white mb-3 flex items-center gap-2",children:[e.jsx("span",{className:"text-lg",children:E.icon}),E.name,e.jsxs("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:["(",((v=l.byCategory)==null?void 0:v[E.id])||0,"/",N.length,")"]})]}),e.jsx("div",{className:"grid grid-cols-2 gap-4",children:N.map(j=>{const k=d(j.badgeId),b=t.find(C=>C.badgeId===j.badgeId);return e.jsx("div",{className:`p-4 rounded-2xl border-2 transition-all ${k?"border-green-200 bg-green-50 dark:border-green-700 dark:bg-green-900/20":"border-gray-200 bg-gray-50 dark:border-gray-600 dark:bg-gray-700 opacity-60"}`,children:e.jsxs("div",{className:"text-center",children:[e.jsxs("div",{className:"relative mb-2",children:[e.jsx("div",{className:"text-2xl mb-1",children:k?j.icon:"🔒"}),!k&&e.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:e.jsx(Kt,{className:"w-5 h-5 text-gray-400"})})]}),e.jsx("div",{className:"text-sm font-medium text-gray-900 dark:text-white mb-1",children:j.name}),e.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400 mb-2",children:j.description}),e.jsx("div",{className:"flex items-center justify-center",children:e.jsxs("span",{className:`inline-flex items-center gap-1 px-2 py-1 rounded-full text-xs font-medium ${u(j.rarity)}`,children:[h(j.rarity),j.rarity]})}),k&&b&&e.jsxs("div",{className:"mt-2 text-xs text-green-600 dark:text-green-400",children:["Earned ",new Date(b.earnedAt).toLocaleDateString()]})]})},j.badgeId)})})]},E.id)})}),e.jsxs("div",{className:"mt-6 p-4 bg-gray-50 dark:bg-gray-700 rounded-2xl",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Overall Progress"}),e.jsxs("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:[l.percentage||0,"%"]})]}),e.jsx("div",{className:"w-full bg-gray-200 dark:bg-gray-600 rounded-full h-2",children:e.jsx("div",{className:"bg-blue-500 h-2 rounded-full transition-all duration-300",style:{width:`${l.percentage||0}%`}})})]})]})},Rp=()=>{pe();const t=we(),[r,a]=n.useState("overview"),[s,l]=n.useState({points:0,level:1,currentStreak:0,longestStreak:0,badges:[],achievements:[],levelProgress:{current:0,needed:100,percentage:0}}),[o,i]=n.useState({points:[],streaks:[],longestStreaks:[]}),[x,c]=n.useState(!0);n.useEffect(()=>{u()},[]);const u=async()=>{try{c(!0);const w=await xt.getStats();l(w);const[m,B]=await Promise.all([xt.getStreakLeaderboard(10),xt.getLongestStreakLeaderboard(10)]);i({points:[],streaks:m.leaderboard||[],longestStreaks:B.leaderboard||[]})}catch(w){console.error("Error loading rewards data:",w),I.error("Failed to load rewards data")}finally{c(!1)}},h=[{id:"overview",name:"Overview",icon:Yt},{id:"achievements",name:"Achievements",icon:ot},{id:"badges",name:"Badges",icon:We},{id:"leaderboards",name:"Leaderboards",icon:Ne},{id:"missions",name:"Missions",icon:ye}],d=w=>w>=30?e.jsx(i0,{className:"h-5 w-5 text-red-500"}):w>=7?e.jsx(st,{className:"h-5 w-5 text-orange-500"}):e.jsx(st,{className:"h-5 w-5 text-gray-500"}),p=()=>e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsx("div",{className:"bg-gradient-to-br from-blue-500 to-blue-600 rounded-2xl p-4 text-white",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-blue-100 text-xs font-medium",children:"Total Points"}),e.jsx("p",{className:"text-2xl font-bold",children:s.points.toLocaleString()})]}),e.jsx(ng,{className:"h-6 w-6 text-blue-200"})]})}),e.jsx("div",{className:"bg-gradient-to-br from-purple-500 to-purple-600 rounded-2xl p-4 text-white",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-purple-100 text-xs font-medium",children:"Level"}),e.jsx("p",{className:"text-2xl font-bold",children:s.level})]}),e.jsx(ha,{className:"h-6 w-6 text-purple-200"})]})}),e.jsx("div",{className:"bg-gradient-to-br from-orange-500 to-orange-600 rounded-2xl p-4 text-white",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-orange-100 text-xs font-medium",children:"Current Streak"}),e.jsx("p",{className:"text-2xl font-bold",children:s.currentStreak})]}),e.jsx(i0,{className:"h-6 w-6 text-orange-200"})]})}),e.jsx("div",{className:"bg-gradient-to-br from-green-500 to-green-600 rounded-2xl p-4 text-white",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-green-100 text-xs font-medium",children:"Badges Earned"}),e.jsx("p",{className:"text-2xl font-bold",children:s.badges.length})]}),e.jsx(pr,{className:"h-6 w-6 text-green-200"})]})})]}),e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl p-4 shadow-sm border border-gray-100 dark:border-gray-700",children:[e.jsx("h3",{className:"text-base font-semibold text-gray-900 dark:text-white mb-3",children:"Level Progress"}),e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsxs("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:["Level ",s.level]}),e.jsxs("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:["Level ",s.level+1]})]}),e.jsx("div",{className:"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-2 mb-2",children:e.jsx("div",{className:"bg-gradient-to-r from-blue-500 to-purple-600 h-2 rounded-full transition-all duration-500",style:{width:`${s.levelProgress.percentage}%`}})}),e.jsxs("div",{className:"flex justify-between text-xs text-gray-600 dark:text-gray-400",children:[e.jsxs("span",{children:[s.levelProgress.current.toLocaleString()," XP"]}),e.jsxs("span",{children:[s.levelProgress.needed.toLocaleString()," XP needed"]})]})]}),e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl p-4 shadow-sm border border-gray-100 dark:border-gray-700",children:[e.jsx("h3",{className:"text-base font-semibold text-gray-900 dark:text-white mb-3",children:"Recent Achievements"}),s.achievements.length>0?e.jsx("div",{className:"space-y-3",children:s.achievements.slice(0,3).map((w,m)=>e.jsxs("div",{className:"flex items-center space-x-3 p-3 bg-gray-50 dark:bg-gray-700 rounded-xl",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx(ot,{className:"h-4 w-4 text-yellow-500"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-900 dark:text-white",children:w.name}),e.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:w.description})]})]},m))}):e.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-center py-6 text-sm",children:"No achievements yet. Start visiting parks to earn your first achievements!"})]})]}),g=()=>e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl p-4 shadow-sm border border-gray-100 dark:border-gray-700",children:[e.jsxs("h3",{className:"text-base font-semibold text-gray-900 dark:text-white mb-4 flex items-center",children:[e.jsx(st,{className:"h-5 w-5 text-orange-500 mr-2"}),"Current Streak Leaders"]}),e.jsx("div",{className:"space-y-3",children:o.streaks.map((w,m)=>e.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 dark:bg-gray-700 rounded-xl",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:`w-6 h-6 rounded-full flex items-center justify-center text-xs font-bold ${m===0?"bg-yellow-500 text-white":m===1?"bg-gray-400 text-white":m===2?"bg-orange-500 text-white":"bg-gray-200 text-gray-600"}`,children:m+1}),e.jsx("div",{children:e.jsxs("p",{className:"text-sm font-medium text-gray-900 dark:text-white",children:[w.user.firstName," ",w.user.lastName]})})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[d(w.currentStreak),e.jsx("span",{className:"text-sm font-bold text-gray-900 dark:text-white",children:w.currentStreak})]})]},w.user.id))})]}),e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl p-4 shadow-sm border border-gray-100 dark:border-gray-700",children:[e.jsxs("h3",{className:"text-base font-semibold text-gray-900 dark:text-white mb-4 flex items-center",children:[e.jsx(ot,{className:"h-5 w-5 text-yellow-500 mr-2"}),"Longest Streak Records"]}),e.jsx("div",{className:"space-y-3",children:o.longestStreaks.map((w,m)=>e.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 dark:bg-gray-700 rounded-xl",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:`w-6 h-6 rounded-full flex items-center justify-center text-xs font-bold ${m===0?"bg-yellow-500 text-white":m===1?"bg-gray-400 text-white":m===2?"bg-orange-500 text-white":"bg-gray-200 text-gray-600"}`,children:m+1}),e.jsx("div",{children:e.jsxs("p",{className:"text-sm font-medium text-gray-900 dark:text-white",children:[w.user.firstName," ",w.user.lastName]})})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(st,{className:"h-4 w-4 text-red-500"}),e.jsx("span",{className:"text-sm font-bold text-gray-900 dark:text-white",children:w.longestStreak})]})]},w.user.id))})]})]}),f=()=>e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl p-4 shadow-sm border border-gray-100 dark:border-gray-700",children:[e.jsx("h3",{className:"text-base font-semibold text-gray-900 dark:text-white mb-4",children:"Daily Missions"}),e.jsxs("div",{className:"text-center py-6",children:[e.jsx(ye,{className:"h-10 w-10 text-gray-400 mx-auto mb-3"}),e.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-sm",children:"Mission system coming soon! Complete daily challenges to earn extra rewards."})]})]});return x?e.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900",children:e.jsx("div",{className:"max-w-lg mx-auto p-4",children:e.jsxs("div",{className:"animate-pulse",children:[e.jsx("div",{className:"h-6 bg-gray-300 dark:bg-gray-600 rounded mb-4"}),e.jsx("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[...Array(4)].map((w,m)=>e.jsx("div",{className:"h-20 bg-gray-300 dark:bg-gray-600 rounded-2xl"},m))}),e.jsx("div",{className:"space-y-4",children:[...Array(3)].map((w,m)=>e.jsx("div",{className:"h-24 bg-gray-300 dark:bg-gray-600 rounded-2xl"},m))})]})})}):e.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900",children:e.jsxs("div",{className:"max-w-lg mx-auto",children:[e.jsxs("div",{className:"bg-gradient-to-br from-purple-600 via-pink-600 to-indigo-700 dark:from-purple-700 dark:via-pink-700 dark:to-indigo-800 mx-4 mt-4 rounded-3xl p-6 text-white relative overflow-hidden",children:[e.jsx("div",{className:"absolute -top-6 -right-6 opacity-20",children:e.jsx("div",{className:"text-8xl",children:"🎁"})}),e.jsxs("div",{className:"relative z-10",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("button",{onClick:()=>t("/dashboard"),className:"text-white hover:text-purple-200 transition-colors",children:e.jsx(Ue,{className:"h-6 w-6"})}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx($e,{className:"h-5 w-5 text-yellow-300"}),e.jsxs("span",{className:"text-lg font-semibold",children:[s.points.toLocaleString()," XP"]})]})]}),e.jsx("h1",{className:"text-2xl font-bold mb-2",children:"Rewards Center"}),e.jsx("p",{className:"text-purple-100 dark:text-purple-200 text-sm",children:"Track your achievements, badges, and progress"})]})]}),e.jsx("div",{className:"px-4 mt-6",children:e.jsx("div",{className:"grid grid-cols-5 gap-2",children:h.map(w=>e.jsxs("button",{onClick:()=>a(w.id),className:`flex flex-col items-center justify-center p-3 rounded-2xl font-medium transition-all duration-300 transform ${r===w.id?"bg-gradient-to-br from-blue-500 to-indigo-600 text-white shadow-lg scale-105":"bg-white dark:bg-gray-800 text-gray-600 dark:text-gray-400 hover:bg-gray-50 dark:hover:bg-gray-700 hover:text-gray-900 dark:hover:text-white shadow-sm border border-gray-100 dark:border-gray-700 hover:shadow-md hover:scale-105"}`,children:[e.jsx(w.icon,{className:"h-5 w-5 mb-2"}),e.jsx("span",{className:"text-xs font-medium",children:w.name})]},w.id))})}),e.jsxs("div",{className:"px-4 mt-6 pb-6",children:[r==="overview"&&p(),r==="achievements"&&e.jsx(Sp,{}),r==="badges"&&e.jsx(Pp,{}),r==="leaderboards"&&g(),r==="missions"&&f()]})]})})},Mp=()=>{const t=we(),r=er(),{dogId:a,profileImage:s,galleryImages:l}=r.state||{},[o,i]=n.useState(1),[x,c]=n.useState(null),[u,h]=n.useState(""),[d,p]=n.useState(!1),[g,f]=n.useState(!1),[w,m]=n.useState(0),[B]=n.useState(3);n.useEffect(()=>{const b=new Date().toDateString(),C=localStorage.getItem("aiDailyUsage");if(C){const D=JSON.parse(C);D.date===b?m(D.count):(localStorage.setItem("aiDailyUsage",JSON.stringify({date:b,count:0})),m(0))}else localStorage.setItem("aiDailyUsage",JSON.stringify({date:b,count:0}))},[]);const E=(b,C=800,D=.8)=>new Promise((F,T)=>{const A=document.createElement("canvas"),R=A.getContext("2d"),M=new Image;M.onload=()=>{try{let{width:_,height:q}=M;_>C&&(q=q*C/_,_=C),A.width=_,A.height=q,R.drawImage(M,0,0,_,q);const U=A.toDataURL("image/jpeg",D);URL.revokeObjectURL(M.src),F(U)}catch(_){T(_)}},M.onerror=()=>{T(new Error("Failed to load image"))},M.src=URL.createObjectURL(b)}),N=async b=>{const C=b.target.files[0];if(C&&!g){f(!0);try{if(C.size>5*1024*1024){alert("Image file is too large. Please select an image smaller than 5MB.");return}const D=await E(C,800,.8);c(D),i(2)}catch(D){console.error("Error processing image:",D),alert("Error processing image. Please try again.")}finally{f(!1),b.target.value=""}}},v=async()=>{if(w>=B){alert("You have reached your daily limit of 3 AI image generations.");return}const b=["different dog","another dog","change breed","make it a","turn into","different animal"],C=u.toLowerCase();for(const D of b)if(C.includes(D)){alert("Please only describe what to ADD or MODIFY to your dog. Do not ask to change the dog itself into something else.");return}p(!0);try{const D=x.split(",")[1],T={contents:[{role:"user",parts:[{inlineData:{mimeType:x.startsWith("data:image/png")?"image/png":"image/jpeg",data:D}},{text:`CRITICAL INSTRUCTIONS: Transform THIS EXACT DOG (keep it identical) with these additions/modifications: ${u}

                MANDATORY REQUIREMENTS:
                1. PRESERVE the EXACT SAME DOG - same breed, same size, same facial features, same markings
                2. ONLY ADD/MODIFY what is specifically requested: ${u}
                3. DO NOT change the dog's breed, species, or core physical characteristics
                4. DO NOT replace the dog with a different animal
                5. The result must be recognizably the SAME individual dog
                6. Keep all distinctive features of this specific dog (facial structure, ear shape, coat patterns, etc.)
                
                WHAT TO DO: Add/modify only: ${u}
                WHAT NOT TO DO: Change the dog's breed, replace with different dog, change fundamental dog characteristics
                
                Return only the transformed image with the same dog.`}]}],generationConfig:{responseModalities:["TEXT","IMAGE"]}},A=await fetch("https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash-preview-image-generation:generateContent?key=AIzaSyBApCOlYZGVoSA6R68JQ9BZ-dY4EEv-GK8",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(T)});if(!A.ok)throw new Error(`HTTP error! status: ${A.status}`);const R=await A.json();let M=null;if(R.candidates&&R.candidates[0]&&R.candidates[0].content){const _=R.candidates[0].content.parts;for(const q of _)if(q.inlineData&&q.inlineData.mimeType&&q.inlineData.mimeType.startsWith("image/")){M=`data:${q.inlineData.mimeType};base64,${q.inlineData.data}`;break}}if(M){i(3),c(M);const _=w+1;m(_);const q=new Date().toDateString();localStorage.setItem("aiDailyUsage",JSON.stringify({date:q,count:_}))}else alert("Failed to generate image. Please try again.")}catch(D){console.error("Error generating image:",D),alert("Error generating image. Please try again.")}finally{p(!1)}},j=()=>{localStorage.setItem("aiGeneratedResult",JSON.stringify({image:x,dogId:a})),t(-1)},k=()=>{t(-1)};return e.jsxs("div",{className:"min-h-screen bg-white dark:bg-gray-900",children:[e.jsx("div",{className:"sticky top-0 bg-white dark:bg-gray-900 border-b border-gray-200 dark:border-gray-700 px-4 py-4 z-10",children:e.jsxs("div",{className:"flex items-center",children:[e.jsxs("button",{onClick:k,className:"flex items-center space-x-2 text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white transition-colors touch-manipulation active:scale-95 min-h-[44px] px-2",children:[e.jsx("svg",{className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})}),e.jsx("span",{className:"font-medium",children:"Back"})]}),e.jsx("div",{className:"flex-1 text-center",children:e.jsxs("h1",{className:"text-xl font-bold text-gray-900 dark:text-white flex items-center justify-center",children:[e.jsx($e,{className:"h-6 w-6 text-purple-500 mr-2"}),"AI Dog Transformer"]})}),e.jsx("div",{className:"w-16"})]})}),e.jsxs("div",{className:"p-6 max-w-lg mx-auto pb-20",children:[o===1&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-16 h-16 bg-purple-100 dark:bg-purple-900 rounded-full flex items-center justify-center mx-auto mb-3",children:e.jsx("span",{className:"text-2xl",children:"📸"})}),e.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-2",children:"Select a base image"}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300",children:"Choose a photo of your dog to transform"})]}),e.jsxs("div",{className:"space-y-3",children:[s&&e.jsxs("button",{onClick:()=>{c(s),i(2)},className:"flex items-center space-x-4 p-4 border border-gray-300 dark:border-gray-600 rounded-xl hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors w-full touch-manipulation active:scale-95 min-h-[72px]",children:[e.jsx("img",{src:s,alt:"Profile",className:"w-14 h-14 rounded-full object-cover border-2 border-primary-200 dark:border-primary-800"}),e.jsxs("div",{className:"text-left flex-1",children:[e.jsx("span",{className:"text-sm font-medium text-gray-900 dark:text-white block",children:"Use current profile image"}),e.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Main profile photo"})]})]}),l&&l.map((b,C)=>e.jsxs("button",{onClick:()=>{c(b),i(2)},className:"flex items-center space-x-4 p-4 border border-gray-300 dark:border-gray-600 rounded-xl hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors w-full touch-manipulation active:scale-95 min-h-[72px]",children:[e.jsx("img",{src:b,alt:`Gallery ${C+1}`,className:"w-14 h-14 rounded-lg object-cover border-2 border-gray-200 dark:border-gray-600"}),e.jsxs("div",{className:"text-left flex-1",children:[e.jsxs("span",{className:"text-sm font-medium text-gray-900 dark:text-white block",children:["Use gallery image ",C+1]}),e.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"From photo gallery"})]})]},C)),e.jsxs("label",{className:`cursor-pointer flex items-center space-x-4 p-4 border-2 border-dashed border-gray-300 dark:border-gray-600 rounded-xl hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors touch-manipulation active:scale-95 min-h-[72px] ${g?"opacity-50 cursor-not-allowed":""}`,children:[e.jsx("div",{className:"w-14 h-14 bg-gray-100 dark:bg-gray-600 rounded-lg flex items-center justify-center",children:g?e.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-gray-400"}):e.jsx(or,{className:"h-8 w-8 text-gray-400 dark:text-gray-500"})}),e.jsxs("div",{className:"text-left flex-1",children:[e.jsx("span",{className:"text-sm font-medium text-gray-900 dark:text-white block",children:g?"Processing image...":"Upload new image"}),e.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Choose from device"})]}),e.jsx("input",{type:"file",accept:"image/*",onChange:N,className:"hidden",disabled:g})]})]})]}),o===2&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-16 h-16 bg-blue-100 dark:bg-blue-900 rounded-full flex items-center justify-center mx-auto mb-3",children:e.jsx("span",{className:"text-2xl",children:"✏️"})}),e.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-2",children:"Describe your transformation"}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300",children:"What would you like to add or change?"})]}),e.jsxs("div",{className:"flex items-center space-x-3 mb-3",children:[e.jsx("img",{src:x,alt:"Selected",className:"w-12 h-12 rounded-lg object-cover"}),e.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-300",children:"This dog will be kept the same"})]}),e.jsx("div",{className:"bg-yellow-50 dark:bg-yellow-900/20 border border-yellow-200 dark:border-yellow-800 rounded-lg p-3 mb-3",children:e.jsxs("p",{className:"text-xs text-yellow-800 dark:text-yellow-200",children:[e.jsx("strong",{children:"Important:"})," The AI will keep your dog's breed, size, and features exactly the same. Only describe what you want to ADD or CHANGE (like clothing, background, accessories)."]})}),e.jsx("textarea",{value:u,onChange:b=>h(b.target.value),placeholder:`Examples:
• wearing a red superhero cape
• sitting in a beautiful garden
• wearing sunglasses and a hat
• with colorful butterflies around
• in a winter snow scene`,className:"w-full p-3 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:text-white",rows:5}),e.jsxs("div",{className:"flex space-x-3",children:[e.jsxs("button",{onClick:()=>i(1),className:"flex items-center space-x-2 px-4 py-3 border border-gray-300 dark:border-gray-600 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700 text-gray-700 dark:text-gray-300 touch-manipulation active:scale-95 min-h-[48px]",children:[e.jsx("svg",{className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})}),e.jsx("span",{children:"Back"})]}),e.jsx("button",{onClick:v,disabled:!u.trim()||d,className:"flex-1 px-4 py-3 bg-blue-500 text-white rounded-lg hover:bg-blue-600 disabled:opacity-50 disabled:cursor-not-allowed touch-manipulation active:scale-95 min-h-[48px] font-medium",children:d?e.jsxs(e.Fragment,{children:[e.jsxs("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white inline",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Generating..."]}):"Generate"})]})]}),o===3&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-16 h-16 bg-green-100 dark:bg-green-900 rounded-full flex items-center justify-center mx-auto mb-3",children:e.jsx("span",{className:"text-2xl",children:"🎉"})}),e.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-2",children:"Transformation complete!"}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300",children:"Your AI-generated image is ready"})]}),e.jsx("img",{src:x,alt:"Generated",className:"w-full rounded-lg shadow-lg"}),e.jsxs("div",{className:"flex space-x-3",children:[e.jsxs("button",{onClick:()=>{i(2),h("")},className:"flex items-center space-x-2 px-4 py-3 border border-gray-300 dark:border-gray-600 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700 text-gray-700 dark:text-gray-300 touch-manipulation active:scale-95 min-h-[48px]",children:[e.jsx("svg",{className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),e.jsx("span",{children:"Try Again"})]}),e.jsx("button",{onClick:j,className:"flex-1 px-4 py-3 bg-green-500 text-white rounded-lg hover:bg-green-600 touch-manipulation active:scale-95 min-h-[48px] font-medium",children:"Use This Image"})]})]}),e.jsx("div",{className:"mt-8 text-center",children:e.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:["Daily usage: ",w,"/",B]})})]})]})};class Lp{async getEntries(r={}){return(await Q.get("/dog-journal",{params:r})).data}async getEntry(r){return(await Q.get(`/dog-journal/${r}`)).data}async createEntry(r,a=[]){const s=new FormData;return Object.keys(r).forEach(o=>{o==="location"||o==="metDog"||o==="interactionNotes"?s.append(o,JSON.stringify(r[o])):o==="tags"&&Array.isArray(r[o])?r[o].forEach(i=>s.append("tags[]",i)):s.append(o,r[o])}),a.forEach((o,i)=>{s.append("images",o.file),o.caption&&s.append(`imageCaption${i}`,o.caption)}),(await Q.post("/dog-journal",s,{headers:{"Content-Type":"multipart/form-data"}})).data}async updateEntry(r,a,s=[]){const l=new FormData;return Object.keys(a).forEach(i=>{i==="location"||i==="metDog"||i==="interactionNotes"?l.append(i,JSON.stringify(a[i])):i==="tags"&&Array.isArray(a[i])?a[i].forEach(x=>l.append("tags[]",x)):i!=="images"&&l.append(i,a[i])}),s.forEach((i,x)=>{l.append("images",i.file),i.caption&&l.append(`imageCaption${x}`,i.caption)}),(await Q.put(`/dog-journal/${r}`,l,{headers:{"Content-Type":"multipart/form-data"}})).data}async deleteEntry(r){return(await Q.delete(`/dog-journal/${r}`)).data}async getAlbums(){return(await Q.get("/dog-journal/albums")).data}async getEntriesByAlbum(r,a={}){return(await Q.get(`/dog-journal/albums/${r}`,{params:a})).data}async deleteImage(r,a){return(await Q.delete(`/dog-journal/${r}/images/${a}`)).data}async getDashboardStats(){return(await Q.get("/dog-journal/stats")).data}async searchEntries(r,a={}){const s={search:r,...a};return this.getEntries(s)}async getEntriesByDateRange(r,a,s={}){return this.getEntries({...s,startDate:r.toISOString(),endDate:a.toISOString()})}async getRecentEntries(r=5){return this.getEntries({limit:r,sortBy:"createdAt",sortOrder:"desc"})}async getPopularAlbums(){return(await this.getAlbums()).albums.filter(a=>a.count>0).sort((a,s)=>s.count-a.count)}validateEntry(r){const a={};return!r.title||r.title.trim().length===0?a.title="Title is required":r.title.length>200&&(a.title="Title must be less than 200 characters"),!r.description||r.description.trim().length===0?a.description="Description is required":r.description.length>2e3&&(a.description="Description must be less than 2000 characters"),(!r.metDog||!r.metDog.name||r.metDog.name.trim().length===0)&&(a.metDogName="Dog name is required"),r.album||(a.album="Album selection is required"),r.album==="Custom"&&(!r.customAlbumName||r.customAlbumName.trim().length===0)&&(a.customAlbumName="Custom album name is required"),r.relationshipRating&&(r.relationshipRating<1||r.relationshipRating>5)&&(a.relationshipRating="Rating must be between 1 and 5"),{isValid:Object.keys(a).length===0,errors:a}}formatEntryForDisplay(r){var a,s,l;return{...r,displayDate:new Date(r.meetingDate).toLocaleDateString(),displayAlbum:r.album==="Custom"?r.customAlbumName:r.album,mainImage:((a=r.images)==null?void 0:a.find(o=>o.isMainImage))||((s=r.images)==null?void 0:s[0]),imageCount:((l=r.images)==null?void 0:l.length)||0,timeAgo:this.getTimeAgo(new Date(r.createdAt))}}getTimeAgo(r){const s=Math.abs(new Date-r),l=Math.floor(s/(1e3*60*60*24)),o=Math.floor(s/(1e3*60*60)),i=Math.floor(s/(1e3*60));return l>0?`${l} day${l>1?"s":""} ago`:o>0?`${o} hour${o>1?"s":""} ago`:i>0?`${i} minute${i>1?"s":""} ago`:"Just now"}getImageUrl(r){return r?(r.startsWith("http"),r):null}}const ze=new Lp,$p=()=>{pe();const t=we(),[r,a]=L0(),[s,l]=n.useState([]),[o,i]=n.useState([]),[x,c]=n.useState(!0),[u,h]=n.useState(null),[d,p]=n.useState("all"),g=[{key:"all",label:"All",icon:cr,color:"text-gray-600"},{key:"Best Friends",label:"Best Friends",icon:Oe,color:"text-pink-600"},{key:"Enemies",label:"Enemies",icon:wn,color:"text-red-600"},{key:"Playmates",label:"Playmates",icon:Ne,color:"text-blue-600"},{key:"Acquaintances",label:"Acquaintances",icon:cr,color:"text-purple-600"}];n.useEffect(()=>{f();const k=r.get("album")||"all";p(k)},[]),n.useEffect(()=>{w(d)},[d]);const f=async()=>{try{c(!0);let k={albums:[]};try{k=await ze.getAlbums()}catch(C){console.error("Error loading albums:",C),k={albums:[{name:"Best Friends",count:0,lastEntry:null},{name:"Enemies",count:0,lastEntry:null},{name:"Playmates",count:0,lastEntry:null},{name:"Acquaintances",count:0,lastEntry:null}]},I.warning("Using default albums - some features may be limited")}let b={stats:{}};try{b=await ze.getDashboardStats()}catch(C){console.error("Error loading stats:",C),b={stats:{totalEntries:0,totalFriends:0,totalEnemies:0,averageRating:0,recentEntries:0}},I.info("Welcome to Dog Journal! Start by creating your first entry 🐕")}i(k.albums||[]),h(b.stats||{})}catch(k){console.error("Error loading initial data:",k),I.error("Unable to load journal data. Please check your connection and try refreshing the page.")}finally{c(!1)}},w=async(k="all")=>{try{const b={album:k!=="all"?k:void 0,limit:50},C=await ze.getEntries(b);l(C.entries||[])}catch(b){console.error("Error loading entries:",b),I.error("Failed to load journal entries")}},m=k=>{p(k);const b=new URLSearchParams;k!=="all"&&b.set("album",k),a(b)},B=()=>{t("/dog-journal/create")},E=k=>{t(`/dog-journal/edit/${k}`)},N=k=>{t(`/dog-journal/entry/${k}`)},v=async k=>{if(window.confirm("Are you sure you want to delete this journal entry?"))try{await ze.deleteEntry(k),I.success("Journal entry deleted successfully"),w(d);const b=await ze.getDashboardStats();h(b.stats)}catch(b){console.error("Error deleting entry:",b),I.error("Failed to delete journal entry")}},j=k=>{if(k==="all")return(u==null?void 0:u.totalEntries)||0;const b=o.find(C=>C.name===k);return(b==null?void 0:b.count)||0};return x?e.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),e.jsx("p",{className:"mt-4 text-gray-600 dark:text-gray-400",children:"Loading your dog journal..."})]})}):e.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center mb-6",children:[e.jsxs("div",{className:"mb-4 sm:mb-0",children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Dog Journal 🐕"}),e.jsxs("p",{className:"text-gray-600 dark:text-gray-400",children:[(u==null?void 0:u.totalEntries)||0," entries • ",(u==null?void 0:u.totalFriends)||0," best friends"]})]}),e.jsxs("button",{onClick:B,className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg flex items-center transition-colors",children:[e.jsx(Ft,{className:"w-4 h-4 mr-2"}),"Add Entry"]})]}),e.jsx("div",{className:"mb-6",children:e.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700",children:e.jsx("nav",{className:"flex overflow-x-auto",children:g.map(k=>{const b=k.icon,C=d===k.key,D=j(k.key);return e.jsxs("button",{onClick:()=>m(k.key),className:`flex items-center px-4 py-3 text-sm font-medium whitespace-nowrap border-b-2 transition-colors ${C?"border-blue-500 text-blue-600 bg-blue-50 dark:bg-blue-900/20 dark:text-blue-400":"border-transparent text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-300 hover:border-gray-300"}`,children:[e.jsx(b,{className:`w-4 h-4 mr-2 ${C?"text-blue-500":k.color}`}),e.jsx("span",{children:k.label}),e.jsx("span",{className:`ml-2 px-2 py-0.5 text-xs rounded-full ${C?"bg-blue-100 text-blue-600 dark:bg-blue-800 dark:text-blue-200":"bg-gray-100 text-gray-500 dark:bg-gray-700 dark:text-gray-400"}`,children:D})]},k.key)})})})}),s.length===0?e.jsx("div",{className:"text-center py-12",children:e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-8 shadow-sm border border-gray-200 dark:border-gray-700",children:[e.jsx(cr,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-2",children:d==="all"?"No entries yet":`No entries in ${d}`}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-4",children:"Start documenting the amazing dogs you meet!"}),e.jsx("button",{onClick:B,className:"bg-blue-600 hover:bg-blue-700 text-white px-6 py-2 rounded-lg transition-colors",children:"Create First Entry"})]})}):e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:s.map(k=>{var C;const b=ze.formatEntryForDisplay(k);return e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 overflow-hidden hover:shadow-md transition-shadow",children:[b.mainImage&&e.jsx("div",{className:"h-48 bg-gray-200 dark:bg-gray-700",children:e.jsx("img",{src:ze.getImageUrl(b.mainImage.url),alt:k.title,className:"w-full h-full object-cover"})}),e.jsxs("div",{className:"p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${k.album==="Best Friends"?"bg-pink-100 text-pink-800 dark:bg-pink-900/20 dark:text-pink-300":k.album==="Enemies"?"bg-red-100 text-red-800 dark:bg-red-900/20 dark:text-red-300":k.album==="Playmates"?"bg-blue-100 text-blue-800 dark:bg-blue-900/20 dark:text-blue-300":"bg-purple-100 text-purple-800 dark:bg-purple-900/20 dark:text-purple-300"}`,children:b.displayAlbum}),e.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:b.timeAgo})]}),e.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white mb-1 truncate",children:k.title}),e.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-2",children:["Met: ",e.jsx("span",{className:"font-medium",children:(C=k.metDog)==null?void 0:C.name})]}),e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 line-clamp-2 mb-3",children:k.description}),e.jsxs("div",{className:"flex items-center mb-3",children:[[...Array(5)].map((D,F)=>e.jsx(We,{className:`w-4 h-4 ${F<k.relationshipRating?"text-yellow-400 fill-current":"text-gray-300 dark:text-gray-600"}`},F)),e.jsxs("span",{className:"text-xs text-gray-500 dark:text-gray-400 ml-2",children:[k.relationshipRating,"/5"]})]}),e.jsxs("div",{className:"flex justify-between pt-3 border-t border-gray-100 dark:border-gray-700",children:[e.jsxs("button",{onClick:()=>N(k._id),className:"text-blue-600 dark:text-blue-400 hover:text-blue-800 dark:hover:text-blue-300 text-sm font-medium flex items-center transition-colors",children:[e.jsx(at,{className:"w-4 h-4 mr-1"}),"View"]}),e.jsxs("button",{onClick:()=>E(k._id),className:"text-green-600 dark:text-green-400 hover:text-green-800 dark:hover:text-green-300 text-sm font-medium flex items-center transition-colors",children:[e.jsx(Ma,{className:"w-4 h-4 mr-1"}),"Edit"]}),e.jsxs("button",{onClick:()=>v(k._id),className:"text-red-600 dark:text-red-400 hover:text-red-800 dark:hover:text-red-300 text-sm font-medium flex items-center transition-colors",children:[e.jsx(br,{className:"w-4 h-4 mr-1"}),"Delete"]})]})]})]},k._id)})})]})})},Tp=()=>{pe();const t=we(),[r,a]=n.useState(!1),[s,l]=n.useState([]),[o,i]=n.useState([]),[x,c]=n.useState([]),[u,h]=n.useState(""),[d,p]=n.useState([]),[g,f]=n.useState({title:"",description:"",album:"Best Friends",customAlbumName:"",meetingDate:new Date().toISOString().split("T")[0],relationshipRating:5,ownerDog:"",metDog:{name:"",breed:"",age:"",size:"",characteristics:""},location:{type:"garden",garden:"",customLocation:{name:"",coordinates:null}},interactionNotes:{playful:!1,friendly:!1,aggressive:!1,shy:!1,energetic:!1,calm:!1},tags:[]}),[w,m]=n.useState(""),B=[{value:"Best Friends",label:"Best Friends",icon:Re,color:"text-pink-500",gradient:"from-pink-500 to-rose-600"},{value:"Enemies",label:"Enemies",icon:un,color:"text-red-500",gradient:"from-red-500 to-red-600"},{value:"Playmates",label:"Playmates",icon:Ne,color:"text-blue-500",gradient:"from-blue-500 to-indigo-600"},{value:"Acquaintances",label:"Acquaintances",icon:cr,color:"text-purple-500",gradient:"from-purple-500 to-indigo-600"},{value:"Custom",label:"Custom Album",icon:Ft,color:"text-emerald-500",gradient:"from-emerald-500 to-teal-600"}];n.useEffect(()=>{E()},[]);const E=async()=>{try{let A=[];try{A=(await Q.get("/dogs")).data.dogs||[],console.log("Loaded user dogs:",A.length)}catch(M){console.error("Error loading user dogs:",M),I.warning("Could not load your dogs list. You can still create entries without selecting your dog."),A=[]}let R=[];try{if(R=(await Se.getAllGardens()).gardens||[],console.log("Loaded gardens from API:",R.length),console.log("Sample garden:",R[0]),R.length>0){const _=R[0];console.log("Garden structure check:",{hasName:!!_.name,hasAddress:!!_.address,hasCity:!!_.city,hasId:!!_._id,keys:Object.keys(_)})}}catch(M){console.error("Error loading gardens:",M),I.error("Could not load gardens list. Please try refreshing the page."),R=[]}l(A),i(R),c(R),R.length===0&&I.warning("No gardens available. You can use custom locations instead.")}catch(A){console.error("Error loading data:",A),I.error("Unable to load some data. Please try refreshing the page.")}},N=(A,R)=>{if(A.includes(".")){const[M,_]=A.split(".");f(q=>({...q,[M]:{...q[M],[_]:R}}))}else f(M=>({...M,[A]:R}))},v=(A,R)=>{f(M=>({...M,interactionNotes:{...M.interactionNotes,[A]:R}}))},j=A=>{Array.from(A.target.files).forEach(M=>{if(M.type.startsWith("image/")){const _=new FileReader;_.onload=q=>{p(U=>[...U,{file:M,preview:q.target.result,caption:""}])},_.readAsDataURL(M)}})},k=A=>{p(R=>R.filter((M,_)=>_!==A))},b=(A,R)=>{p(M=>M.map((_,q)=>q===A?{..._,caption:R}:_))},C=()=>{w.trim()&&!g.tags.includes(w.trim())&&(f(A=>({...A,tags:[...A.tags,w.trim()]})),m(""))},D=A=>{f(R=>({...R,tags:R.tags.filter(M=>M!==A)}))},F=A=>{if(h(A),!A.trim())c(o);else{const R=o.filter(M=>{const _=A.toLowerCase(),q=(M.name||"").toLowerCase().includes(_),U=(M.address||"").toLowerCase().includes(_),L=(M.city||"").toLowerCase().includes(_),S=(M.description||"").toLowerCase().includes(_);let H=!1;return M.location&&(typeof M.location=="string"?H=M.location.toLowerCase().includes(_):(M.location.area||M.location.region)&&(H=(M.location.area||"").toLowerCase().includes(_)||(M.location.region||"").toLowerCase().includes(_))),q||U||L||H||S});c(R),console.log("Search term:",A),console.log("Total gardens:",o.length),console.log("Filtered gardens:",R.length),o.length>0&&console.log("Sample garden data:",o[0])}},T=async A=>{var M,_,q,U;A.preventDefault();const R=ze.validateEntry(g);if(!R.isValid){Object.values(R.errors).forEach(L=>{I.error(L)});return}a(!0);try{await ze.createEntry(g,d),I.success("Journal entry created successfully! 🐕"),t("/dog-journal")}catch(L){if(console.error("Error creating entry:",L),((M=L.response)==null?void 0:M.status)===400){const S=L.response.data;S.details&&Array.isArray(S.details)?S.details.forEach(H=>I.error(H)):I.error(S.error||"Please check your form data and try again.")}else((_=L.response)==null?void 0:_.status)===500?I.error("Server error occurred. Please try again in a few moments."):((q=L.response)==null?void 0:q.status)===401?(I.error("Your session has expired. Please log in again."),t("/login")):((U=L.response)==null?void 0:U.status)===413?I.error("Images are too large. Please use smaller images and try again."):L.code==="NETWORK_ERROR"?I.error("Network connection error. Please check your internet connection."):I.error("Failed to create journal entry. Please try again.")}finally{a(!1)}};return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-white to-blue-50 dark:from-gray-900 dark:via-gray-900 dark:to-gray-800 py-8",children:e.jsxs("div",{className:"max-w-5xl mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsx("div",{className:"flex items-center justify-between mb-8",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("button",{onClick:()=>t("/dog-journal"),className:"mr-4 p-3 text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white hover:bg-gray-100 dark:hover:bg-gray-700 rounded-2xl transition-all",children:e.jsx(Ue,{className:"w-6 h-6"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:"Create Journal Entry"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400 mt-1",children:"Document your dog encounter 🐕"})]})]})}),e.jsxs("form",{onSubmit:T,className:"space-y-8",children:[e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-3xl p-8 border border-gray-100 dark:border-gray-700 shadow-lg",children:[e.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-white mb-6",children:"Basic Information"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"Entry Title *"}),e.jsx("input",{type:"text",value:g.title,onChange:A=>N("title",A.target.value),className:"w-full px-4 py-3 border border-gray-300 dark:border-gray-600 rounded-2xl focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white",placeholder:"e.g., Met Charlie at Central Park",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"Meeting Date *"}),e.jsx("input",{type:"date",value:g.meetingDate,onChange:A=>N("meetingDate",A.target.value),className:"w-full px-4 py-3 border border-gray-300 dark:border-gray-600 rounded-2xl focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white",required:!0})]})]}),e.jsxs("div",{className:"mt-6",children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"Description *"}),e.jsx("textarea",{value:g.description,onChange:A=>N("description",A.target.value),rows:4,className:"w-full px-4 py-3 border border-gray-300 dark:border-gray-600 rounded-2xl focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white",placeholder:"Describe your encounter with this dog...",required:!0})]})]}),e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-3xl p-8 border border-gray-100 dark:border-gray-700 shadow-lg",children:[e.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-white mb-6",children:"Album & Rating"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 mb-6",children:B.map(A=>{const R=A.icon;return e.jsxs("label",{className:`relative flex items-center p-4 border-2 rounded-2xl cursor-pointer transition-all duration-300 ${g.album===A.value?"border-blue-500 bg-gradient-to-br from-blue-50 to-purple-50 dark:from-blue-900/20 dark:to-purple-800/20 shadow-lg transform scale-105":"border-gray-300 dark:border-gray-600 hover:border-gray-400 dark:hover:border-gray-500 hover:bg-gray-50 dark:hover:bg-gray-700"}`,children:[e.jsx("input",{type:"radio",name:"album",value:A.value,checked:g.album===A.value,onChange:M=>N("album",M.target.value),className:"sr-only"}),e.jsx("div",{className:`p-2 rounded-xl bg-gradient-to-br ${A.gradient} text-white mr-3`,children:e.jsx(R,{className:"w-5 h-5"})}),e.jsx("span",{className:"font-semibold text-gray-900 dark:text-white",children:A.label})]},A.value)})}),g.album==="Custom"&&e.jsxs("div",{className:"mb-6",children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"Custom Album Name *"}),e.jsx("input",{type:"text",value:g.customAlbumName,onChange:A=>N("customAlbumName",A.target.value),className:"w-full px-4 py-3 border border-gray-300 dark:border-gray-600 rounded-2xl focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white",placeholder:"Enter custom album name",required:g.album==="Custom"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-3",children:"Relationship Rating"}),e.jsxs("div",{className:"flex items-center space-x-3",children:[[1,2,3,4,5].map(A=>e.jsx("button",{type:"button",onClick:()=>N("relationshipRating",A),className:`w-12 h-12 rounded-2xl border-2 flex items-center justify-center font-bold transition-all duration-300 ${g.relationshipRating>=A?"border-yellow-400 bg-gradient-to-br from-yellow-400 to-amber-500 text-white shadow-lg transform scale-110":"border-gray-300 dark:border-gray-600 hover:border-yellow-400 text-gray-600 dark:text-gray-400"}`,children:A},A)),e.jsxs("span",{className:"text-sm text-gray-600 dark:text-gray-400 ml-4 font-medium",children:["(",g.relationshipRating,"/5)"]})]})]})]}),e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-3xl p-8 border border-gray-100 dark:border-gray-700 shadow-lg",children:[e.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-white mb-6",children:"Dog Information"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"Your Dog (Optional)"}),e.jsxs("select",{value:g.ownerDog,onChange:A=>N("ownerDog",A.target.value),className:"w-full px-4 py-3 border border-gray-300 dark:border-gray-600 rounded-2xl focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white",children:[e.jsx("option",{value:"",children:"Select your dog"}),s.map(A=>e.jsxs("option",{value:A._id,children:[A.name," (",A.breed,")"]},A._id))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"Dog You Met - Name *"}),e.jsx("input",{type:"text",value:g.metDog.name,onChange:A=>N("metDog.name",A.target.value),className:"w-full px-4 py-3 border border-gray-300 dark:border-gray-600 rounded-2xl focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white",placeholder:"Dog's name",required:!0})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"Breed"}),e.jsx("input",{type:"text",value:g.metDog.breed,onChange:A=>N("metDog.breed",A.target.value),className:"w-full px-4 py-3 border border-gray-300 dark:border-gray-600 rounded-2xl focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white",placeholder:"e.g., Golden Retriever"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"Age"}),e.jsx("input",{type:"text",value:g.metDog.age,onChange:A=>N("metDog.age",A.target.value),className:"w-full px-4 py-3 border border-gray-300 dark:border-gray-600 rounded-2xl focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white",placeholder:"e.g., 2 years"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"Size"}),e.jsxs("select",{value:g.metDog.size,onChange:A=>N("metDog.size",A.target.value),className:"w-full px-4 py-3 border border-gray-300 dark:border-gray-600 rounded-2xl focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white",children:[e.jsx("option",{value:"",children:"Select size"}),e.jsx("option",{value:"Small",children:"Small"}),e.jsx("option",{value:"Medium",children:"Medium"}),e.jsx("option",{value:"Large",children:"Large"}),e.jsx("option",{value:"Extra Large",children:"Extra Large"})]})]})]}),e.jsxs("div",{className:"mt-6",children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"Characteristics"}),e.jsx("textarea",{value:g.metDog.characteristics,onChange:A=>N("metDog.characteristics",A.target.value),rows:3,className:"w-full px-4 py-3 border border-gray-300 dark:border-gray-600 rounded-2xl focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white",placeholder:"Describe the dog's appearance, personality, etc."})]})]}),e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-3xl p-8 border border-gray-100 dark:border-gray-700 shadow-lg",children:[e.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-white mb-6",children:"Location"}),e.jsxs("div",{className:"mb-6",children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-3",children:"Location Type"}),e.jsxs("div",{className:"flex space-x-6",children:[e.jsxs("label",{className:"flex items-center cursor-pointer",children:[e.jsx("input",{type:"radio",name:"locationType",value:"garden",checked:g.location.type==="garden",onChange:A=>N("location.type",A.target.value),className:"w-5 h-5 text-blue-600 border-gray-300 focus:ring-blue-500 rounded"}),e.jsx("span",{className:"ml-3 font-medium text-gray-900 dark:text-white",children:"Dog Garden"})]}),e.jsxs("label",{className:"flex items-center cursor-pointer",children:[e.jsx("input",{type:"radio",name:"locationType",value:"custom",checked:g.location.type==="custom",onChange:A=>N("location.type",A.target.value),className:"w-5 h-5 text-blue-600 border-gray-300 focus:ring-blue-500 rounded"}),e.jsx("span",{className:"ml-3 font-medium text-gray-900 dark:text-white",children:"Other Location"})]})]})]}),g.location.type==="garden"?e.jsxs("div",{className:"space-y-3",children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"Select Garden"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"text",placeholder:"Search gardens by name, address, or city...",value:u,onChange:A=>F(A.target.value),className:"w-full px-4 py-3 border border-gray-300 dark:border-gray-600 rounded-2xl focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white pr-10"}),e.jsx("div",{className:"absolute inset-y-0 right-0 pr-3 flex items-center pointer-events-none",children:e.jsx("svg",{className:"h-5 w-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})})]}),e.jsxs("select",{value:g.location.garden,onChange:A=>N("location.garden",A.target.value),className:"w-full px-4 py-3 border border-gray-300 dark:border-gray-600 rounded-2xl focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white",children:[e.jsx("option",{value:"",children:u&&x.length===0?"No gardens found - try different search terms":"Select a garden"}),x.map(A=>e.jsxs("option",{value:A._id,children:[A.name,A.address?` - ${A.address}`:"",A.city?` - ${A.city}`:""]},A._id))]}),e.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:u?x.length===0?e.jsxs("p",{className:"text-red-500",children:['No gardens found matching "',u,'"']}):e.jsxs("p",{children:["Found ",x.length," garden",x.length!==1?"s":"",' matching "',u,'"']}):e.jsxs("p",{children:["Showing ",x.length," gardens total. Type to search..."]})})]}):e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"Location Name"}),e.jsx("input",{type:"text",value:g.location.customLocation.name,onChange:A=>N("location.customLocation.name",A.target.value),className:"w-full px-4 py-3 border border-gray-300 dark:border-gray-600 rounded-2xl focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white",placeholder:"e.g., Central Park, My Neighborhood"})]})]}),e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-3xl p-8 border border-gray-100 dark:border-gray-700 shadow-lg",children:[e.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-white mb-6",children:"Interaction Notes"}),e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:Object.entries({playful:"Playful",friendly:"Friendly",aggressive:"Aggressive",shy:"Shy",energetic:"Energetic",calm:"Calm"}).map(([A,R])=>e.jsxs("label",{className:"flex items-center cursor-pointer p-3 rounded-2xl hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors",children:[e.jsx("input",{type:"checkbox",checked:g.interactionNotes[A],onChange:M=>v(A,M.target.checked),className:"w-5 h-5 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),e.jsx("span",{className:"ml-3 font-medium text-gray-900 dark:text-white",children:R})]},A))})]}),e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-3xl p-8 border border-gray-100 dark:border-gray-700 shadow-lg",children:[e.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-white mb-6",children:"Photos 📸"}),e.jsxs("div",{className:"mb-6",children:[e.jsx("input",{type:"file",multiple:!0,accept:"image/*",onChange:j,className:"hidden",id:"image-upload"}),e.jsx("label",{htmlFor:"image-upload",className:"flex items-center justify-center w-full p-8 border-2 border-dashed border-gray-300 dark:border-gray-600 rounded-3xl cursor-pointer hover:border-blue-500 hover:bg-blue-50 dark:hover:bg-blue-900/20 transition-all duration-300",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"p-4 bg-gradient-to-br from-blue-500 to-purple-600 rounded-3xl text-white inline-flex mb-4",children:e.jsx(or,{className:"w-12 h-12"})}),e.jsx("p",{className:"text-lg font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"Add Photos"}),e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Click to upload images of your dog encounter"})]})})]}),d.length>0&&e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:d.map((A,R)=>e.jsxs("div",{className:"relative bg-gray-50 dark:bg-gray-700 rounded-2xl overflow-hidden",children:[e.jsx("img",{src:A.preview,alt:`Preview ${R+1}`,className:"w-full h-40 object-cover"}),e.jsx("button",{type:"button",onClick:()=>k(R),className:"absolute top-2 right-2 p-2 bg-red-500 text-white rounded-full hover:bg-red-600 transition-colors",children:e.jsx(he,{className:"w-4 h-4"})}),e.jsx("div",{className:"p-3",children:e.jsx("input",{type:"text",placeholder:"Add caption...",value:A.caption,onChange:M=>b(R,M.target.value),className:"w-full px-3 py-2 text-sm border border-gray-300 dark:border-gray-600 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white dark:bg-gray-600 text-gray-900 dark:text-white"})})]},R))})]}),e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-3xl p-8 border border-gray-100 dark:border-gray-700 shadow-lg",children:[e.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-white mb-6",children:"Tags"}),e.jsx("div",{className:"flex flex-wrap gap-3 mb-6",children:g.tags.map((A,R)=>e.jsxs("span",{className:"bg-gradient-to-r from-blue-100 to-purple-100 dark:from-blue-900/30 dark:to-purple-800/30 text-blue-800 dark:text-blue-300 px-4 py-2 rounded-full text-sm font-semibold flex items-center",children:[A,e.jsx("button",{type:"button",onClick:()=>D(A),className:"ml-2 text-blue-600 dark:text-blue-400 hover:text-blue-800 dark:hover:text-blue-200",children:e.jsx(he,{className:"w-4 h-4"})})]},R))}),e.jsxs("div",{className:"flex",children:[e.jsx("input",{type:"text",value:w,onChange:A=>m(A.target.value),onKeyPress:A=>A.key==="Enter"&&(A.preventDefault(),C()),className:"flex-1 px-4 py-3 border border-gray-300 dark:border-gray-600 rounded-l-2xl focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white",placeholder:"Add a tag..."}),e.jsx("button",{type:"button",onClick:C,className:"px-6 py-3 bg-gradient-to-r from-blue-600 to-purple-600 text-white rounded-r-2xl hover:from-blue-700 hover:to-purple-700 transition-all font-semibold",children:"Add"})]})]}),e.jsxs("div",{className:"flex justify-end space-x-4 pt-6",children:[e.jsx("button",{type:"button",onClick:()=>t("/dog-journal"),className:"px-8 py-4 border border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 rounded-2xl hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors font-semibold",children:"Cancel"}),e.jsx("button",{type:"submit",disabled:r,className:"px-8 py-4 bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 text-white rounded-2xl transition-all transform hover:scale-105 disabled:opacity-50 font-semibold flex items-center",children:r?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-2 border-white border-t-transparent mr-2"}),"Creating..."]}):"Create Entry"})]})]})]})})},Ip=()=>{const{id:t}=Vt();pe();const r=we(),[a,s]=n.useState(!0),[l,o]=n.useState(!1),[i,x]=n.useState([]),[c,u]=n.useState([]),[h,d]=n.useState([]),[p,g]=n.useState(""),[f,w]=n.useState([]),[m,B]=n.useState([]),[E,N]=n.useState({title:"",description:"",album:"Best Friends",customAlbumName:"",meetingDate:"",relationshipRating:5,ownerDog:"",metDog:{name:"",breed:"",age:"",size:"",characteristics:""},location:{type:"garden",garden:"",customLocation:{name:"",coordinates:null}},interactionNotes:{playful:!1,friendly:!1,aggressive:!1,shy:!1,energetic:!1,calm:!1},tags:[]}),[v,j]=n.useState(""),k=[{value:"Best Friends",label:"Best Friends",icon:Re,color:"from-pink-500 to-rose-600"},{value:"Enemies",label:"Enemies",icon:un,color:"from-red-500 to-red-600"},{value:"Playmates",label:"Playmates",icon:Ne,color:"from-blue-500 to-indigo-600"},{value:"Acquaintances",label:"Acquaintances",icon:cr,color:"from-purple-500 to-indigo-600"},{value:"Custom",label:"Custom Album",icon:Ft,color:"from-emerald-500 to-teal-600"}];n.useEffect(()=>{b(),C()},[t]);const b=async()=>{var S,H,P,G,z,O,Y,X,ae,me,de,Ce,xe,fe,ce,be,Ae,Te,Je;try{const ee=(await ze.getEntry(t)).entry;N({title:ee.title||"",description:ee.description||"",album:ee.album||"Best Friends",customAlbumName:ee.customAlbumName||"",meetingDate:ee.meetingDate?new Date(ee.meetingDate).toISOString().split("T")[0]:"",relationshipRating:ee.relationshipRating||5,ownerDog:((S=ee.ownerDog)==null?void 0:S._id)||"",metDog:{name:((H=ee.metDog)==null?void 0:H.name)||"",breed:((P=ee.metDog)==null?void 0:P.breed)||"",age:((G=ee.metDog)==null?void 0:G.age)||"",size:((z=ee.metDog)==null?void 0:z.size)||"",characteristics:((O=ee.metDog)==null?void 0:O.characteristics)||""},location:{type:(Y=ee.location)!=null&&Y.garden?"garden":"custom",garden:((ae=(X=ee.location)==null?void 0:X.garden)==null?void 0:ae._id)||"",customLocation:{name:((de=(me=ee.location)==null?void 0:me.customLocation)==null?void 0:de.name)||"",coordinates:((xe=(Ce=ee.location)==null?void 0:Ce.customLocation)==null?void 0:xe.coordinates)||null}},interactionNotes:{playful:((fe=ee.interactionNotes)==null?void 0:fe.playful)||!1,friendly:((ce=ee.interactionNotes)==null?void 0:ce.friendly)||!1,aggressive:((be=ee.interactionNotes)==null?void 0:be.aggressive)||!1,shy:((Ae=ee.interactionNotes)==null?void 0:Ae.shy)||!1,energetic:((Te=ee.interactionNotes)==null?void 0:Te.energetic)||!1,calm:((Je=ee.interactionNotes)==null?void 0:Je.calm)||!1},tags:ee.tags||[]}),w(ee.images||[])}catch(J){console.error("Error loading entry:",J),I.error("Failed to load journal entry"),r("/dog-journal")}},C=async()=>{try{const[S,H]=await Promise.all([Q.get("/dogs"),Se.getAllGardens()]),P=H.gardens||[];console.log("Edit form - Loaded gardens:",P.length),x(S.data.dogs||[]),u(P),d(P)}catch(S){console.error("Error loading data:",S),I.error("Failed to load required data")}finally{s(!1)}},D=(S,H)=>{if(S.includes(".")){const[P,G]=S.split(".");N(z=>({...z,[P]:{...z[P],[G]:H}}))}else N(P=>({...P,[S]:H}))},F=(S,H)=>{N(P=>({...P,interactionNotes:{...P.interactionNotes,[S]:H}}))},T=S=>{Array.from(S.target.files).forEach(P=>{if(P.type.startsWith("image/")){const G=new FileReader;G.onload=z=>{B(O=>[...O,{file:P,preview:z.target.result,caption:""}])},G.readAsDataURL(P)}})},A=S=>{B(H=>H.filter((P,G)=>G!==S))},R=async S=>{if(window.confirm("Are you sure you want to delete this image?"))try{await ze.deleteImage(t,S),I.success("Image deleted successfully"),b()}catch(H){console.error("Error deleting image:",H),I.error("Failed to delete image")}},M=(S,H)=>{B(P=>P.map((G,z)=>z===S?{...G,caption:H}:G))},_=()=>{v.trim()&&!E.tags.includes(v.trim())&&(N(S=>({...S,tags:[...S.tags,v.trim()]})),j(""))},q=S=>{N(H=>({...H,tags:H.tags.filter(P=>P!==S)}))},U=S=>{if(g(S),!S.trim())d(c);else{const H=c.filter(P=>{const G=S.toLowerCase(),z=(P.name||"").toLowerCase().includes(G),O=(P.address||"").toLowerCase().includes(G),Y=(P.city||"").toLowerCase().includes(G),X=(P.description||"").toLowerCase().includes(G);let ae=!1;return P.location&&(typeof P.location=="string"?ae=P.location.toLowerCase().includes(G):(P.location.area||P.location.region)&&(ae=(P.location.area||"").toLowerCase().includes(G)||(P.location.region||"").toLowerCase().includes(G))),z||O||Y||ae||X});d(H),console.log("Edit form - Search term:",S),console.log("Edit form - Total gardens:",c.length),console.log("Edit form - Filtered gardens:",H.length)}},L=async S=>{S.preventDefault();const H=ze.validateEntry(E);if(!H.isValid){Object.values(H.errors).forEach(P=>{I.error(P)});return}o(!0);try{await ze.updateEntry(t,E,m),I.success("Journal entry updated successfully!"),r(`/dog-journal/entry/${t}`)}catch(P){console.error("Error updating entry:",P),I.error("Failed to update journal entry")}finally{o(!1)}};return a?e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-white to-blue-50 dark:from-gray-900 dark:via-gray-900 dark:to-gray-800 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),e.jsx("p",{className:"mt-4 text-gray-600 dark:text-gray-400",children:"Loading entry..."})]})}):e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-white to-blue-50 dark:from-gray-900 dark:via-gray-900 dark:to-gray-800 py-8",children:e.jsxs("div",{className:"max-w-5xl mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsx("div",{className:"flex items-center justify-between mb-8",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("button",{onClick:()=>r(`/dog-journal/entry/${t}`),className:"mr-4 p-3 text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white hover:bg-gray-100 dark:hover:bg-gray-700 rounded-2xl transition-all",children:e.jsx(Ue,{className:"w-6 h-6"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:"Edit Journal Entry"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400 mt-1",children:"Update your dog encounter details 📝"})]})]})}),e.jsxs("form",{onSubmit:L,className:"space-y-8",children:[e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-3xl p-8 border border-gray-100 dark:border-gray-700 shadow-lg",children:[e.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-white mb-6",children:"Basic Information"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"Entry Title *"}),e.jsx("input",{type:"text",value:E.title,onChange:S=>D("title",S.target.value),className:"w-full px-4 py-3 border border-gray-300 dark:border-gray-600 rounded-2xl focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white",placeholder:"e.g., Met Charlie at Central Park",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"Meeting Date *"}),e.jsx("input",{type:"date",value:E.meetingDate,onChange:S=>D("meetingDate",S.target.value),className:"w-full px-4 py-3 border border-gray-300 dark:border-gray-600 rounded-2xl focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white",required:!0})]})]}),e.jsxs("div",{className:"mt-6",children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"Description *"}),e.jsx("textarea",{value:E.description,onChange:S=>D("description",S.target.value),rows:4,className:"w-full px-4 py-3 border border-gray-300 dark:border-gray-600 rounded-2xl focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white",placeholder:"Describe your encounter with this dog...",required:!0})]})]}),e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-3xl p-8 border border-gray-100 dark:border-gray-700 shadow-lg",children:[e.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-white mb-6",children:"Album & Rating"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 mb-6",children:k.map(S=>{const H=S.icon;return e.jsxs("label",{className:`relative flex items-center p-4 border-2 rounded-2xl cursor-pointer transition-all duration-300 ${E.album===S.value?"border-blue-500 bg-gradient-to-br from-blue-50 to-purple-50 dark:from-blue-900/20 dark:to-purple-800/20 shadow-lg transform scale-105":"border-gray-300 dark:border-gray-600 hover:border-gray-400 dark:hover:border-gray-500 hover:bg-gray-50 dark:hover:bg-gray-700"}`,children:[e.jsx("input",{type:"radio",name:"album",value:S.value,checked:E.album===S.value,onChange:P=>D("album",P.target.value),className:"sr-only"}),e.jsx("div",{className:`p-2 rounded-xl bg-gradient-to-br ${S.color} text-white mr-3`,children:e.jsx(H,{className:"w-5 h-5"})}),e.jsx("span",{className:"font-semibold text-gray-900 dark:text-white",children:S.label})]},S.value)})}),E.album==="Custom"&&e.jsxs("div",{className:"mb-6",children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"Custom Album Name *"}),e.jsx("input",{type:"text",value:E.customAlbumName,onChange:S=>D("customAlbumName",S.target.value),className:"w-full px-4 py-3 border border-gray-300 dark:border-gray-600 rounded-2xl focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white",placeholder:"Enter custom album name",required:E.album==="Custom"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-3",children:"Relationship Rating"}),e.jsxs("div",{className:"flex items-center space-x-3",children:[[1,2,3,4,5].map(S=>e.jsx("button",{type:"button",onClick:()=>D("relationshipRating",S),className:`w-12 h-12 rounded-2xl border-2 flex items-center justify-center font-bold transition-all duration-300 ${E.relationshipRating>=S?"border-yellow-400 bg-gradient-to-br from-yellow-400 to-amber-500 text-white shadow-lg transform scale-110":"border-gray-300 dark:border-gray-600 hover:border-yellow-400 text-gray-600 dark:text-gray-400"}`,children:S},S)),e.jsxs("span",{className:"text-sm text-gray-600 dark:text-gray-400 ml-4 font-medium",children:["(",E.relationshipRating,"/5)"]})]})]})]}),e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-3xl p-8 border border-gray-100 dark:border-gray-700 shadow-lg",children:[e.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-white mb-6",children:"Dog Information"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"Your Dog (Optional)"}),e.jsxs("select",{value:E.ownerDog,onChange:S=>D("ownerDog",S.target.value),className:"w-full px-4 py-3 border border-gray-300 dark:border-gray-600 rounded-2xl focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white",children:[e.jsx("option",{value:"",children:"Select your dog"}),i.map(S=>e.jsxs("option",{value:S._id,children:[S.name," (",S.breed,")"]},S._id))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"Dog You Met - Name *"}),e.jsx("input",{type:"text",value:E.metDog.name,onChange:S=>D("metDog.name",S.target.value),className:"w-full px-4 py-3 border border-gray-300 dark:border-gray-600 rounded-2xl focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white",placeholder:"Dog's name",required:!0})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"Breed"}),e.jsx("input",{type:"text",value:E.metDog.breed,onChange:S=>D("metDog.breed",S.target.value),className:"w-full px-4 py-3 border border-gray-300 dark:border-gray-600 rounded-2xl focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white",placeholder:"e.g., Golden Retriever"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"Age"}),e.jsx("input",{type:"text",value:E.metDog.age,onChange:S=>D("metDog.age",S.target.value),className:"w-full px-4 py-3 border border-gray-300 dark:border-gray-600 rounded-2xl focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white",placeholder:"e.g., 2 years"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"Size"}),e.jsxs("select",{value:E.metDog.size,onChange:S=>D("metDog.size",S.target.value),className:"w-full px-4 py-3 border border-gray-300 dark:border-gray-600 rounded-2xl focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white",children:[e.jsx("option",{value:"",children:"Select size"}),e.jsx("option",{value:"Small",children:"Small"}),e.jsx("option",{value:"Medium",children:"Medium"}),e.jsx("option",{value:"Large",children:"Large"}),e.jsx("option",{value:"Extra Large",children:"Extra Large"})]})]})]}),e.jsxs("div",{className:"mt-6",children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"Characteristics"}),e.jsx("textarea",{value:E.metDog.characteristics,onChange:S=>D("metDog.characteristics",S.target.value),rows:3,className:"w-full px-4 py-3 border border-gray-300 dark:border-gray-600 rounded-2xl focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white",placeholder:"Describe the dog's appearance, personality, etc."})]})]}),e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-3xl p-8 border border-gray-100 dark:border-gray-700 shadow-lg",children:[e.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-white mb-6",children:"Location"}),e.jsxs("div",{className:"mb-6",children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-3",children:"Location Type"}),e.jsxs("div",{className:"flex space-x-6",children:[e.jsxs("label",{className:"flex items-center cursor-pointer",children:[e.jsx("input",{type:"radio",name:"locationType",value:"garden",checked:E.location.type==="garden",onChange:S=>D("location.type",S.target.value),className:"w-5 h-5 text-blue-600 border-gray-300 focus:ring-blue-500 rounded"}),e.jsx("span",{className:"ml-3 font-medium text-gray-900 dark:text-white",children:"Dog Garden"})]}),e.jsxs("label",{className:"flex items-center cursor-pointer",children:[e.jsx("input",{type:"radio",name:"locationType",value:"custom",checked:E.location.type==="custom",onChange:S=>D("location.type",S.target.value),className:"w-5 h-5 text-blue-600 border-gray-300 focus:ring-blue-500 rounded"}),e.jsx("span",{className:"ml-3 font-medium text-gray-900 dark:text-white",children:"Other Location"})]})]})]}),E.location.type==="garden"?e.jsxs("div",{className:"space-y-3",children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"Select Garden"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"text",placeholder:"Search gardens by name, address, or city...",value:p,onChange:S=>U(S.target.value),className:"w-full px-4 py-3 border border-gray-300 dark:border-gray-600 rounded-2xl focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white pr-12"}),e.jsx("div",{className:"absolute inset-y-0 right-0 pr-3 flex items-center pointer-events-none",children:e.jsx("svg",{className:"h-5 w-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})})]}),e.jsxs("select",{value:E.location.garden,onChange:S=>D("location.garden",S.target.value),className:"w-full px-4 py-3 border border-gray-300 dark:border-gray-600 rounded-2xl focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white",children:[e.jsx("option",{value:"",children:"Select a garden"}),h.map(S=>e.jsxs("option",{value:S._id,children:[S.name," - ",S.address||S.city||"No address"]},S._id))]}),p&&h.length===0&&e.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:['No gardens found matching "',p,'"']}),!p&&h.length>10&&e.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:["Showing ",h.length," gardens. Use search to filter results."]})]}):e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"Location Name"}),e.jsx("input",{type:"text",value:E.location.customLocation.name,onChange:S=>D("location.customLocation.name",S.target.value),className:"w-full px-4 py-3 border border-gray-300 dark:border-gray-600 rounded-2xl focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white",placeholder:"e.g., Central Park, My Neighborhood"})]})]}),e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-3xl p-8 border border-gray-100 dark:border-gray-700 shadow-lg",children:[e.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-white mb-6",children:"Interaction Notes"}),e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:Object.entries({playful:"Playful",friendly:"Friendly",aggressive:"Aggressive",shy:"Shy",energetic:"Energetic",calm:"Calm"}).map(([S,H])=>e.jsxs("label",{className:"flex items-center cursor-pointer p-3 rounded-2xl hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors",children:[e.jsx("input",{type:"checkbox",checked:E.interactionNotes[S],onChange:P=>F(S,P.target.checked),className:"w-5 h-5 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),e.jsx("span",{className:"ml-3 font-medium text-gray-900 dark:text-white",children:H})]},S))})]}),e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-3xl p-8 border border-gray-100 dark:border-gray-700 shadow-lg",children:[e.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-white mb-6",children:"Photos 📸"}),f.length>0&&e.jsxs("div",{className:"mb-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Current Photos"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:f.map((S,H)=>e.jsxs("div",{className:"relative bg-gray-50 dark:bg-gray-700 rounded-2xl overflow-hidden",children:[e.jsx("img",{src:ze.getImageUrl(S.url),alt:`Existing photo ${H+1}`,className:"w-full h-40 object-cover"}),e.jsx("button",{type:"button",onClick:()=>R(H),className:"absolute top-2 right-2 p-2 bg-red-500 text-white rounded-full hover:bg-red-600 transition-colors",children:e.jsx(br,{className:"w-4 h-4"})}),S.isMainImage&&e.jsx("div",{className:"absolute bottom-2 left-2 bg-blue-500 text-white px-3 py-1 rounded-xl text-xs font-semibold",children:"Main"}),S.caption&&e.jsx("div",{className:"p-3",children:e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300",children:S.caption})})]},H))})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("input",{type:"file",multiple:!0,accept:"image/*",onChange:T,className:"hidden",id:"image-upload"}),e.jsx("label",{htmlFor:"image-upload",className:"flex items-center justify-center w-full p-8 border-2 border-dashed border-gray-300 dark:border-gray-600 rounded-3xl cursor-pointer hover:border-blue-500 hover:bg-blue-50 dark:hover:bg-blue-900/20 transition-all duration-300",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"p-4 bg-gradient-to-br from-blue-500 to-purple-600 rounded-3xl text-white inline-flex mb-4",children:e.jsx(or,{className:"w-12 h-12"})}),e.jsx("p",{className:"text-lg font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"Add More Photos"}),e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Click to upload new images of your dog encounter"})]})})]}),m.length>0&&e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"New Photos to Add"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:m.map((S,H)=>e.jsxs("div",{className:"relative bg-gray-50 dark:bg-gray-700 rounded-2xl overflow-hidden",children:[e.jsx("img",{src:S.preview,alt:`New photo ${H+1}`,className:"w-full h-40 object-cover"}),e.jsx("button",{type:"button",onClick:()=>A(H),className:"absolute top-2 right-2 p-2 bg-red-500 text-white rounded-full hover:bg-red-600 transition-colors",children:e.jsx(he,{className:"w-4 h-4"})}),e.jsx("div",{className:"p-3",children:e.jsx("input",{type:"text",placeholder:"Add caption...",value:S.caption,onChange:P=>M(H,P.target.value),className:"w-full px-3 py-2 text-sm border border-gray-300 dark:border-gray-600 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white dark:bg-gray-600 text-gray-900 dark:text-white"})})]},H))})]})]}),e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-3xl p-8 border border-gray-100 dark:border-gray-700 shadow-lg",children:[e.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-white mb-6",children:"Tags"}),e.jsx("div",{className:"flex flex-wrap gap-3 mb-6",children:E.tags.map((S,H)=>e.jsxs("span",{className:"bg-gradient-to-r from-blue-100 to-purple-100 dark:from-blue-900/30 dark:to-purple-800/30 text-blue-800 dark:text-blue-300 px-4 py-2 rounded-full text-sm font-semibold flex items-center",children:[S,e.jsx("button",{type:"button",onClick:()=>q(S),className:"ml-2 text-blue-600 dark:text-blue-400 hover:text-blue-800 dark:hover:text-blue-200",children:e.jsx(he,{className:"w-4 h-4"})})]},H))}),e.jsxs("div",{className:"flex",children:[e.jsx("input",{type:"text",value:v,onChange:S=>j(S.target.value),onKeyPress:S=>S.key==="Enter"&&(S.preventDefault(),_()),className:"flex-1 px-4 py-3 border border-gray-300 dark:border-gray-600 rounded-l-2xl focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white",placeholder:"Add a tag..."}),e.jsx("button",{type:"button",onClick:_,className:"px-6 py-3 bg-gradient-to-r from-blue-600 to-purple-600 text-white rounded-r-2xl hover:from-blue-700 hover:to-purple-700 transition-all font-semibold",children:"Add"})]})]}),e.jsxs("div",{className:"flex justify-end space-x-4 pt-6",children:[e.jsx("button",{type:"button",onClick:()=>r(`/dog-journal/entry/${t}`),className:"px-8 py-4 border border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 rounded-2xl hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors font-semibold",children:"Cancel"}),e.jsx("button",{type:"submit",disabled:l,className:"px-8 py-4 bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 text-white rounded-2xl transition-all transform hover:scale-105 disabled:opacity-50 font-semibold flex items-center",children:l?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-2 border-white border-t-transparent mr-2"}),"Saving..."]}):"Save Changes"})]})]})]})})},_p=()=>{var d,p,g;const{id:t}=Vt(),r=we(),[a,s]=n.useState(null),[l,o]=n.useState(!0);n.useEffect(()=>{i()},[t]);const i=async()=>{try{o(!0);const f=await ze.getEntry(t);s(f.entry)}catch(f){console.error("Error loading entry:",f),I.error("Failed to load journal entry"),r("/dog-journal")}finally{o(!1)}},x=()=>{r(`/dog-journal/edit/${t}`)},c=async()=>{if(window.confirm("Are you sure you want to delete this journal entry?"))try{await ze.deleteEntry(t),I.success("Journal entry deleted successfully"),r("/dog-journal")}catch(f){console.error("Error deleting entry:",f),I.error("Failed to delete journal entry")}},u=f=>{switch(f){case"Best Friends":return e.jsx(Oe,{className:"w-5 h-5 text-red-500"});case"Enemies":return e.jsx(wn,{className:"w-5 h-5 text-red-600"});case"Playmates":return e.jsx(Ne,{className:"w-5 h-5 text-blue-500"});default:return e.jsx(cr,{className:"w-5 h-5 text-gray-500"})}};if(l)return e.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),e.jsx("p",{className:"mt-4 text-gray-600 dark:text-gray-400",children:"Loading entry..."})]})});if(!a)return e.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Entry not found"}),e.jsx("button",{onClick:()=>r("/dog-journal"),className:"mt-4 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Back to Journal"})]})});const h=ze.formatEntryForDisplay(a);return e.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 py-6",children:e.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between mb-8",children:[e.jsxs("div",{className:"flex items-center mb-4 sm:mb-0",children:[e.jsx("button",{onClick:()=>r("/dog-journal"),className:"mr-4 p-3 text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white hover:bg-gray-100 dark:hover:bg-gray-700 rounded-xl transition-colors",children:e.jsx(Ue,{className:"w-6 h-6"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:a.title}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400 mt-1",children:"Dog Journal Entry"})]})]}),e.jsxs("div",{className:"flex space-x-3 w-full sm:w-auto",children:[e.jsxs("button",{onClick:x,className:"flex-1 sm:flex-none flex items-center justify-center px-6 py-3 text-blue-600 dark:text-blue-400 bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-700 rounded-lg hover:bg-blue-100 dark:hover:bg-blue-900/30 transition-colors",children:[e.jsx(Ma,{className:"w-5 h-5 mr-2"}),"Edit"]}),e.jsxs("button",{onClick:c,className:"flex-1 sm:flex-none flex items-center justify-center px-6 py-3 text-red-600 dark:text-red-400 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-700 rounded-lg hover:bg-red-100 dark:hover:bg-red-900/30 transition-colors",children:[e.jsx(br,{className:"w-5 h-5 mr-2"}),"Delete"]})]})]}),e.jsxs("div",{className:"space-y-8",children:[h.mainImage&&e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg overflow-hidden shadow-sm border border-gray-200 dark:border-gray-700",children:[e.jsx("img",{src:ze.getImageUrl(h.mainImage.url),alt:a.title,className:"w-full h-96 object-cover"}),h.mainImage.caption&&e.jsx("div",{className:"p-6",children:e.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:h.mainImage.caption})})]}),e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 shadow-sm border border-gray-200 dark:border-gray-700",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between mb-6 gap-4",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center space-y-3 sm:space-y-0 sm:space-x-4",children:[e.jsxs("div",{className:`flex items-center px-4 py-2 rounded-full border ${a.album==="Best Friends"?"bg-pink-100 dark:bg-pink-900/20 text-pink-800 dark:text-pink-300 border-pink-200 dark:border-pink-700":a.album==="Enemies"?"bg-red-100 dark:bg-red-900/20 text-red-800 dark:text-red-300 border-red-200 dark:border-red-700":a.album==="Playmates"?"bg-blue-100 dark:bg-blue-900/20 text-blue-800 dark:text-blue-300 border-blue-200 dark:border-blue-700":"bg-purple-100 dark:bg-purple-900/20 text-purple-800 dark:text-purple-300 border-purple-200 dark:border-purple-700"}`,children:[u(a.album),e.jsx("span",{className:"ml-2 font-semibold",children:h.displayAlbum})]}),e.jsxs("div",{className:"flex items-center text-gray-600 dark:text-gray-400",children:[e.jsx(Nt,{className:"w-5 h-5 mr-2"}),e.jsx("span",{className:"font-medium",children:h.displayDate})]})]}),e.jsxs("div",{className:"flex items-center bg-yellow-50 dark:bg-yellow-900/20 px-4 py-2 rounded-lg",children:[e.jsx("div",{className:"flex items-center",children:[...Array(5)].map((f,w)=>e.jsx(We,{className:`w-6 h-6 ${w<a.relationshipRating?"text-yellow-400 fill-current":"text-gray-300 dark:text-gray-600"}`},w))}),e.jsxs("span",{className:"ml-3 text-lg font-bold text-yellow-700 dark:text-yellow-300",children:["(",a.relationshipRating,"/5)"]})]})]}),e.jsx("div",{className:"prose max-w-none",children:e.jsx("p",{className:"text-gray-700 dark:text-gray-300 text-lg leading-relaxed whitespace-pre-wrap",children:a.description})})]}),e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 shadow-sm border border-gray-200 dark:border-gray-700",children:[e.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-white mb-6",children:"Dog Information"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 rounded-lg p-5",children:[e.jsx("h3",{className:"font-bold text-gray-900 dark:text-white mb-4 flex items-center",children:"🐕 Dog I Met"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-gray-600 dark:text-gray-400 font-medium",children:"Name:"}),e.jsx("span",{className:"font-bold text-blue-600 dark:text-blue-400 text-lg",children:a.metDog.name})]}),a.metDog.breed&&e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-gray-600 dark:text-gray-400 font-medium",children:"Breed:"}),e.jsx("span",{className:"text-gray-900 dark:text-white",children:a.metDog.breed})]}),a.metDog.age&&e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-gray-600 dark:text-gray-400 font-medium",children:"Age:"}),e.jsx("span",{className:"text-gray-900 dark:text-white",children:a.metDog.age})]}),a.metDog.size&&e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-gray-600 dark:text-gray-400 font-medium",children:"Size:"}),e.jsx("span",{className:"text-gray-900 dark:text-white",children:a.metDog.size})]})]}),a.metDog.characteristics&&e.jsxs("div",{className:"mt-4 pt-4 border-t border-blue-200 dark:border-blue-700",children:[e.jsx("span",{className:"text-gray-600 dark:text-gray-400 font-medium block mb-2",children:"Characteristics:"}),e.jsx("p",{className:"text-gray-700 dark:text-gray-300 leading-relaxed",children:a.metDog.characteristics})]})]}),a.ownerDog&&e.jsxs("div",{className:"bg-green-50 dark:bg-green-900/20 rounded-lg p-5",children:[e.jsx("h3",{className:"font-bold text-gray-900 dark:text-white mb-4 flex items-center",children:"🏠 My Dog"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-gray-600 dark:text-gray-400 font-medium",children:"Name:"}),e.jsx("span",{className:"font-bold text-green-600 dark:text-green-400 text-lg",children:a.ownerDog.name})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-gray-600 dark:text-gray-400 font-medium",children:"Breed:"}),e.jsx("span",{className:"text-gray-900 dark:text-white",children:a.ownerDog.breed})]})]})]})]})]}),(((d=a.location)==null?void 0:d.garden)||((g=(p=a.location)==null?void 0:p.customLocation)==null?void 0:g.name))&&e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 shadow-sm border border-gray-200 dark:border-gray-700",children:[e.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-white mb-6",children:"Location"}),e.jsxs("div",{className:"flex items-start bg-purple-50 dark:bg-purple-900/20 rounded-lg p-4",children:[e.jsx(ye,{className:"w-6 h-6 mr-3 text-purple-600 dark:text-purple-400 flex-shrink-0 mt-1"}),a.location.garden?e.jsxs("div",{children:[e.jsx("p",{className:"font-bold text-lg text-gray-900 dark:text-white",children:a.location.garden.name}),a.location.garden.address&&e.jsx("p",{className:"text-gray-600 dark:text-gray-400 mt-1",children:a.location.garden.address})]}):e.jsx("p",{className:"font-bold text-lg text-gray-900 dark:text-white",children:a.location.customLocation.name})]})]}),Object.values(a.interactionNotes||{}).some(Boolean)&&e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 shadow-sm border border-gray-200 dark:border-gray-700",children:[e.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-white mb-6",children:"Interaction Notes"}),e.jsx("div",{className:"flex flex-wrap gap-3",children:Object.entries(a.interactionNotes||{}).map(([f,w])=>w?e.jsx("span",{className:"bg-green-100 dark:bg-green-900/20 text-green-800 dark:text-green-300 px-4 py-2 rounded-full font-semibold capitalize border border-green-200 dark:border-green-700",children:f},f):null)})]}),a.tags&&a.tags.length>0&&e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 shadow-sm border border-gray-200 dark:border-gray-700",children:[e.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-white mb-6",children:"Tags"}),e.jsx("div",{className:"flex flex-wrap gap-3",children:a.tags.map((f,w)=>e.jsxs("span",{className:"bg-blue-100 dark:bg-blue-900/20 text-blue-800 dark:text-blue-300 px-4 py-2 rounded-full font-semibold flex items-center border border-blue-200 dark:border-blue-700",children:[e.jsx(Zr,{className:"w-4 h-4 mr-2"}),f]},w))})]}),a.images&&a.images.length>1&&e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 shadow-sm border border-gray-200 dark:border-gray-700",children:[e.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-white mb-6",children:"Additional Photos"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:a.images.filter(f=>!f.isMainImage).map((f,w)=>e.jsxs("div",{className:"relative bg-gray-50 dark:bg-gray-700 rounded-lg overflow-hidden",children:[e.jsx("img",{src:ze.getImageUrl(f.url),alt:`Additional photo ${w+1}`,className:"w-full h-48 object-cover"}),f.caption&&e.jsx("div",{className:"p-3",children:e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:f.caption})})]},w))})]}),e.jsx("div",{className:"bg-gray-100 dark:bg-gray-800 rounded-lg p-4 border border-gray-200 dark:border-gray-700",children:e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between gap-2 text-sm text-gray-600 dark:text-gray-400",children:[e.jsxs("span",{children:["Created: ",new Date(a.createdAt).toLocaleString()]}),a.updatedAt!==a.createdAt&&e.jsxs("span",{children:["Updated: ",new Date(a.updatedAt).toLocaleString()]})]})})]})]})})};var ul={exports:{}};(function(t,r){(function(s,l){t.exports=l()})(typeof self<"u"?self:pl,function(){return function(a){var s={};function l(o){if(s[o])return s[o].exports;var i=s[o]={i:o,l:!1,exports:{}};return a[o].call(i.exports,i,i.exports,l),i.l=!0,i.exports}return l.m=a,l.c=s,l.d=function(o,i,x){l.o(o,i)||Object.defineProperty(o,i,{configurable:!1,enumerable:!0,get:x})},l.n=function(o){var i=o&&o.__esModule?function(){return o.default}:function(){return o};return l.d(i,"a",i),i},l.o=function(o,i){return Object.prototype.hasOwnProperty.call(o,i)},l.p="",l(l.s=3)}([function(a,s,l){Object.defineProperty(s,"__esModule",{value:!0});var o=function(){function i(x,c){this.width=c,this.height=x.length/c,this.data=x}return i.createEmpty=function(x,c){return new i(new Uint8ClampedArray(x*c),x)},i.prototype.get=function(x,c){return x<0||x>=this.width||c<0||c>=this.height?!1:!!this.data[c*this.width+x]},i.prototype.set=function(x,c,u){this.data[c*this.width+x]=u?1:0},i.prototype.setRegion=function(x,c,u,h,d){for(var p=c;p<c+h;p++)for(var g=x;g<x+u;g++)this.set(g,p,!!d)},i}();s.BitMatrix=o},function(a,s,l){Object.defineProperty(s,"__esModule",{value:!0});var o=l(2);function i(c,u){return c^u}s.addOrSubtractGF=i;var x=function(){function c(u,h,d){this.primitive=u,this.size=h,this.generatorBase=d,this.expTable=new Array(this.size),this.logTable=new Array(this.size);for(var p=1,g=0;g<this.size;g++)this.expTable[g]=p,p=p*2,p>=this.size&&(p=(p^this.primitive)&this.size-1);for(var g=0;g<this.size-1;g++)this.logTable[this.expTable[g]]=g;this.zero=new o.default(this,Uint8ClampedArray.from([0])),this.one=new o.default(this,Uint8ClampedArray.from([1]))}return c.prototype.multiply=function(u,h){return u===0||h===0?0:this.expTable[(this.logTable[u]+this.logTable[h])%(this.size-1)]},c.prototype.inverse=function(u){if(u===0)throw new Error("Can't invert 0");return this.expTable[this.size-this.logTable[u]-1]},c.prototype.buildMonomial=function(u,h){if(u<0)throw new Error("Invalid monomial degree less than 0");if(h===0)return this.zero;var d=new Uint8ClampedArray(u+1);return d[0]=h,new o.default(this,d)},c.prototype.log=function(u){if(u===0)throw new Error("Can't take log(0)");return this.logTable[u]},c.prototype.exp=function(u){return this.expTable[u]},c}();s.default=x},function(a,s,l){Object.defineProperty(s,"__esModule",{value:!0});var o=l(1),i=function(){function x(c,u){if(u.length===0)throw new Error("No coefficients.");this.field=c;var h=u.length;if(h>1&&u[0]===0){for(var d=1;d<h&&u[d]===0;)d++;if(d===h)this.coefficients=c.zero.coefficients;else{this.coefficients=new Uint8ClampedArray(h-d);for(var p=0;p<this.coefficients.length;p++)this.coefficients[p]=u[d+p]}}else this.coefficients=u}return x.prototype.degree=function(){return this.coefficients.length-1},x.prototype.isZero=function(){return this.coefficients[0]===0},x.prototype.getCoefficient=function(c){return this.coefficients[this.coefficients.length-1-c]},x.prototype.addOrSubtract=function(c){var u;if(this.isZero())return c;if(c.isZero())return this;var h=this.coefficients,d=c.coefficients;h.length>d.length&&(u=[d,h],h=u[0],d=u[1]);for(var p=new Uint8ClampedArray(d.length),g=d.length-h.length,f=0;f<g;f++)p[f]=d[f];for(var f=g;f<d.length;f++)p[f]=o.addOrSubtractGF(h[f-g],d[f]);return new x(this.field,p)},x.prototype.multiply=function(c){if(c===0)return this.field.zero;if(c===1)return this;for(var u=this.coefficients.length,h=new Uint8ClampedArray(u),d=0;d<u;d++)h[d]=this.field.multiply(this.coefficients[d],c);return new x(this.field,h)},x.prototype.multiplyPoly=function(c){if(this.isZero()||c.isZero())return this.field.zero;for(var u=this.coefficients,h=u.length,d=c.coefficients,p=d.length,g=new Uint8ClampedArray(h+p-1),f=0;f<h;f++)for(var w=u[f],m=0;m<p;m++)g[f+m]=o.addOrSubtractGF(g[f+m],this.field.multiply(w,d[m]));return new x(this.field,g)},x.prototype.multiplyByMonomial=function(c,u){if(c<0)throw new Error("Invalid degree less than 0");if(u===0)return this.field.zero;for(var h=this.coefficients.length,d=new Uint8ClampedArray(h+c),p=0;p<h;p++)d[p]=this.field.multiply(this.coefficients[p],u);return new x(this.field,d)},x.prototype.evaluateAt=function(c){var u=0;if(c===0)return this.getCoefficient(0);var h=this.coefficients.length;if(c===1)return this.coefficients.forEach(function(p){u=o.addOrSubtractGF(u,p)}),u;u=this.coefficients[0];for(var d=1;d<h;d++)u=o.addOrSubtractGF(this.field.multiply(c,u),this.coefficients[d]);return u},x}();s.default=i},function(a,s,l){Object.defineProperty(s,"__esModule",{value:!0});var o=l(4),i=l(5),x=l(11),c=l(12);function u(p){var g=c.locate(p);if(!g)return null;for(var f=0,w=g;f<w.length;f++){var m=w[f],B=x.extract(p,m),E=i.decode(B.matrix);if(E)return{binaryData:E.bytes,data:E.text,chunks:E.chunks,version:E.version,location:{topRightCorner:B.mappingFunction(m.dimension,0),topLeftCorner:B.mappingFunction(0,0),bottomRightCorner:B.mappingFunction(m.dimension,m.dimension),bottomLeftCorner:B.mappingFunction(0,m.dimension),topRightFinderPattern:m.topRight,topLeftFinderPattern:m.topLeft,bottomLeftFinderPattern:m.bottomLeft,bottomRightAlignmentPattern:m.alignmentPattern}}}return null}var h={inversionAttempts:"attemptBoth"};function d(p,g,f,w){w===void 0&&(w={});var m=h;Object.keys(m||{}).forEach(function(b){m[b]=w[b]||m[b]});var B=m.inversionAttempts==="attemptBoth"||m.inversionAttempts==="invertFirst",E=m.inversionAttempts==="onlyInvert"||m.inversionAttempts==="invertFirst",N=o.binarize(p,g,f,B),v=N.binarized,j=N.inverted,k=u(E?j:v);return!k&&(m.inversionAttempts==="attemptBoth"||m.inversionAttempts==="invertFirst")&&(k=u(E?v:j)),k}d.default=d,s.default=d},function(a,s,l){Object.defineProperty(s,"__esModule",{value:!0});var o=l(0),i=8,x=24;function c(d,p,g){return d<p?p:d>g?g:d}var u=function(){function d(p,g){this.width=p,this.data=new Uint8ClampedArray(p*g)}return d.prototype.get=function(p,g){return this.data[g*this.width+p]},d.prototype.set=function(p,g,f){this.data[g*this.width+p]=f},d}();function h(d,p,g,f){if(d.length!==p*g*4)throw new Error("Malformed data passed to binarizer.");for(var w=new u(p,g),m=0;m<p;m++)for(var B=0;B<g;B++){var E=d[(B*p+m)*4+0],N=d[(B*p+m)*4+1],v=d[(B*p+m)*4+2];w.set(m,B,.2126*E+.7152*N+.0722*v)}for(var j=Math.ceil(p/i),k=Math.ceil(g/i),b=new u(j,k),C=0;C<k;C++)for(var D=0;D<j;D++){for(var F=0,T=1/0,A=0,B=0;B<i;B++)for(var m=0;m<i;m++){var R=w.get(D*i+m,C*i+B);F+=R,T=Math.min(T,R),A=Math.max(A,R)}var M=F/Math.pow(i,2);if(A-T<=x&&(M=T/2,C>0&&D>0)){var _=(b.get(D,C-1)+2*b.get(D-1,C)+b.get(D-1,C-1))/4;T<_&&(M=_)}b.set(D,C,M)}var q=o.BitMatrix.createEmpty(p,g),U=null;f&&(U=o.BitMatrix.createEmpty(p,g));for(var C=0;C<k;C++)for(var D=0;D<j;D++){for(var L=c(D,2,j-3),S=c(C,2,k-3),F=0,H=-2;H<=2;H++)for(var P=-2;P<=2;P++)F+=b.get(L+H,S+P);for(var G=F/25,H=0;H<i;H++)for(var P=0;P<i;P++){var m=D*i+H,B=C*i+P,z=w.get(m,B);q.set(m,B,z<=G),f&&U.set(m,B,!(z<=G))}}return f?{binarized:q,inverted:U}:{binarized:q}}s.binarize=h},function(a,s,l){Object.defineProperty(s,"__esModule",{value:!0});var o=l(0),i=l(6),x=l(9),c=l(10);function u(v,j){for(var k=v^j,b=0;k;)b++,k&=k-1;return b}function h(v,j){return j<<1|v}var d=[{bits:21522,formatInfo:{errorCorrectionLevel:1,dataMask:0}},{bits:20773,formatInfo:{errorCorrectionLevel:1,dataMask:1}},{bits:24188,formatInfo:{errorCorrectionLevel:1,dataMask:2}},{bits:23371,formatInfo:{errorCorrectionLevel:1,dataMask:3}},{bits:17913,formatInfo:{errorCorrectionLevel:1,dataMask:4}},{bits:16590,formatInfo:{errorCorrectionLevel:1,dataMask:5}},{bits:20375,formatInfo:{errorCorrectionLevel:1,dataMask:6}},{bits:19104,formatInfo:{errorCorrectionLevel:1,dataMask:7}},{bits:30660,formatInfo:{errorCorrectionLevel:0,dataMask:0}},{bits:29427,formatInfo:{errorCorrectionLevel:0,dataMask:1}},{bits:32170,formatInfo:{errorCorrectionLevel:0,dataMask:2}},{bits:30877,formatInfo:{errorCorrectionLevel:0,dataMask:3}},{bits:26159,formatInfo:{errorCorrectionLevel:0,dataMask:4}},{bits:25368,formatInfo:{errorCorrectionLevel:0,dataMask:5}},{bits:27713,formatInfo:{errorCorrectionLevel:0,dataMask:6}},{bits:26998,formatInfo:{errorCorrectionLevel:0,dataMask:7}},{bits:5769,formatInfo:{errorCorrectionLevel:3,dataMask:0}},{bits:5054,formatInfo:{errorCorrectionLevel:3,dataMask:1}},{bits:7399,formatInfo:{errorCorrectionLevel:3,dataMask:2}},{bits:6608,formatInfo:{errorCorrectionLevel:3,dataMask:3}},{bits:1890,formatInfo:{errorCorrectionLevel:3,dataMask:4}},{bits:597,formatInfo:{errorCorrectionLevel:3,dataMask:5}},{bits:3340,formatInfo:{errorCorrectionLevel:3,dataMask:6}},{bits:2107,formatInfo:{errorCorrectionLevel:3,dataMask:7}},{bits:13663,formatInfo:{errorCorrectionLevel:2,dataMask:0}},{bits:12392,formatInfo:{errorCorrectionLevel:2,dataMask:1}},{bits:16177,formatInfo:{errorCorrectionLevel:2,dataMask:2}},{bits:14854,formatInfo:{errorCorrectionLevel:2,dataMask:3}},{bits:9396,formatInfo:{errorCorrectionLevel:2,dataMask:4}},{bits:8579,formatInfo:{errorCorrectionLevel:2,dataMask:5}},{bits:11994,formatInfo:{errorCorrectionLevel:2,dataMask:6}},{bits:11245,formatInfo:{errorCorrectionLevel:2,dataMask:7}}],p=[function(v){return(v.y+v.x)%2===0},function(v){return v.y%2===0},function(v){return v.x%3===0},function(v){return(v.y+v.x)%3===0},function(v){return(Math.floor(v.y/2)+Math.floor(v.x/3))%2===0},function(v){return v.x*v.y%2+v.x*v.y%3===0},function(v){return(v.y*v.x%2+v.y*v.x%3)%2===0},function(v){return((v.y+v.x)%2+v.y*v.x%3)%2===0}];function g(v){var j=17+4*v.versionNumber,k=o.BitMatrix.createEmpty(j,j);k.setRegion(0,0,9,9,!0),k.setRegion(j-8,0,8,9,!0),k.setRegion(0,j-8,9,8,!0);for(var b=0,C=v.alignmentPatternCenters;b<C.length;b++)for(var D=C[b],F=0,T=v.alignmentPatternCenters;F<T.length;F++){var A=T[F];D===6&&A===6||D===6&&A===j-7||D===j-7&&A===6||k.setRegion(D-2,A-2,5,5,!0)}return k.setRegion(6,9,1,j-17,!0),k.setRegion(9,6,j-17,1,!0),v.versionNumber>6&&(k.setRegion(j-11,0,3,6,!0),k.setRegion(0,j-11,6,3,!0)),k}function f(v,j,k){for(var b=p[k.dataMask],C=v.height,D=g(j),F=[],T=0,A=0,R=!0,M=C-1;M>0;M-=2){M===6&&M--;for(var _=0;_<C;_++)for(var q=R?C-1-_:_,U=0;U<2;U++){var L=M-U;if(!D.get(L,q)){A++;var S=v.get(L,q);b({y:q,x:L})&&(S=!S),T=h(S,T),A===8&&(F.push(T),A=0,T=0)}}R=!R}return F}function w(v){var j=v.height,k=Math.floor((j-17)/4);if(k<=6)return c.VERSIONS[k-1];for(var b=0,C=5;C>=0;C--)for(var D=j-9;D>=j-11;D--)b=h(v.get(D,C),b);for(var F=0,D=5;D>=0;D--)for(var C=j-9;C>=j-11;C--)F=h(v.get(D,C),F);for(var T=1/0,A,R=0,M=c.VERSIONS;R<M.length;R++){var _=M[R];if(_.infoBits===b||_.infoBits===F)return _;var q=u(b,_.infoBits);q<T&&(A=_,T=q),q=u(F,_.infoBits),q<T&&(A=_,T=q)}if(T<=3)return A}function m(v){for(var j=0,k=0;k<=8;k++)k!==6&&(j=h(v.get(k,8),j));for(var b=7;b>=0;b--)b!==6&&(j=h(v.get(8,b),j));for(var C=v.height,D=0,b=C-1;b>=C-7;b--)D=h(v.get(8,b),D);for(var k=C-8;k<C;k++)D=h(v.get(k,8),D);for(var F=1/0,T=null,A=0,R=d;A<R.length;A++){var M=R[A],_=M.bits,q=M.formatInfo;if(_===j||_===D)return q;var U=u(j,_);U<F&&(T=q,F=U),j!==D&&(U=u(D,_),U<F&&(T=q,F=U))}return F<=3?T:null}function B(v,j,k){var b=j.errorCorrectionLevels[k],C=[],D=0;if(b.ecBlocks.forEach(function(S){for(var H=0;H<S.numBlocks;H++)C.push({numDataCodewords:S.dataCodewordsPerBlock,codewords:[]}),D+=S.dataCodewordsPerBlock+b.ecCodewordsPerBlock}),v.length<D)return null;v=v.slice(0,D);for(var F=b.ecBlocks[0].dataCodewordsPerBlock,T=0;T<F;T++)for(var A=0,R=C;A<R.length;A++){var M=R[A];M.codewords.push(v.shift())}if(b.ecBlocks.length>1)for(var _=b.ecBlocks[0].numBlocks,q=b.ecBlocks[1].numBlocks,T=0;T<q;T++)C[_+T].codewords.push(v.shift());for(;v.length>0;)for(var U=0,L=C;U<L.length;U++){var M=L[U];M.codewords.push(v.shift())}return C}function E(v){var j=w(v);if(!j)return null;var k=m(v);if(!k)return null;var b=f(v,j,k),C=B(b,j,k.errorCorrectionLevel);if(!C)return null;for(var D=C.reduce(function(U,L){return U+L.numDataCodewords},0),F=new Uint8ClampedArray(D),T=0,A=0,R=C;A<R.length;A++){var M=R[A],_=x.decode(M.codewords,M.codewords.length-M.numDataCodewords);if(!_)return null;for(var q=0;q<M.numDataCodewords;q++)F[T++]=_[q]}try{return i.decode(F,j.versionNumber)}catch{return null}}function N(v){if(v==null)return null;var j=E(v);if(j)return j;for(var k=0;k<v.width;k++)for(var b=k+1;b<v.height;b++)v.get(k,b)!==v.get(b,k)&&(v.set(k,b,!v.get(k,b)),v.set(b,k,!v.get(b,k)));return E(v)}s.decode=N},function(a,s,l){Object.defineProperty(s,"__esModule",{value:!0});var o=l(7),i=l(8),x;(function(w){w.Numeric="numeric",w.Alphanumeric="alphanumeric",w.Byte="byte",w.Kanji="kanji",w.ECI="eci"})(x=s.Mode||(s.Mode={}));var c;(function(w){w[w.Terminator=0]="Terminator",w[w.Numeric=1]="Numeric",w[w.Alphanumeric=2]="Alphanumeric",w[w.Byte=4]="Byte",w[w.Kanji=8]="Kanji",w[w.ECI=7]="ECI"})(c||(c={}));function u(w,m){for(var B=[],E="",N=[10,12,14][m],v=w.readBits(N);v>=3;){var j=w.readBits(10);if(j>=1e3)throw new Error("Invalid numeric value above 999");var k=Math.floor(j/100),b=Math.floor(j/10)%10,C=j%10;B.push(48+k,48+b,48+C),E+=k.toString()+b.toString()+C.toString(),v-=3}if(v===2){var j=w.readBits(7);if(j>=100)throw new Error("Invalid numeric value above 99");var k=Math.floor(j/10),b=j%10;B.push(48+k,48+b),E+=k.toString()+b.toString()}else if(v===1){var j=w.readBits(4);if(j>=10)throw new Error("Invalid numeric value above 9");B.push(48+j),E+=j.toString()}return{bytes:B,text:E}}var h=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function d(w,m){for(var B=[],E="",N=[9,11,13][m],v=w.readBits(N);v>=2;){var j=w.readBits(11),k=Math.floor(j/45),b=j%45;B.push(h[k].charCodeAt(0),h[b].charCodeAt(0)),E+=h[k]+h[b],v-=2}if(v===1){var k=w.readBits(6);B.push(h[k].charCodeAt(0)),E+=h[k]}return{bytes:B,text:E}}function p(w,m){for(var B=[],E="",N=[8,16,16][m],v=w.readBits(N),j=0;j<v;j++){var k=w.readBits(8);B.push(k)}try{E+=decodeURIComponent(B.map(function(b){return"%"+("0"+b.toString(16)).substr(-2)}).join(""))}catch{}return{bytes:B,text:E}}function g(w,m){for(var B=[],E="",N=[8,10,12][m],v=w.readBits(N),j=0;j<v;j++){var k=w.readBits(13),b=Math.floor(k/192)<<8|k%192;b<7936?b+=33088:b+=49472,B.push(b>>8,b&255),E+=String.fromCharCode(i.shiftJISTable[b])}return{bytes:B,text:E}}function f(w,m){for(var B,E,N,v,j=new o.BitStream(w),k=m<=9?0:m<=26?1:2,b={text:"",bytes:[],chunks:[],version:m};j.available()>=4;){var C=j.readBits(4);if(C===c.Terminator)return b;if(C===c.ECI)j.readBits(1)===0?b.chunks.push({type:x.ECI,assignmentNumber:j.readBits(7)}):j.readBits(1)===0?b.chunks.push({type:x.ECI,assignmentNumber:j.readBits(14)}):j.readBits(1)===0?b.chunks.push({type:x.ECI,assignmentNumber:j.readBits(21)}):b.chunks.push({type:x.ECI,assignmentNumber:-1});else if(C===c.Numeric){var D=u(j,k);b.text+=D.text,(B=b.bytes).push.apply(B,D.bytes),b.chunks.push({type:x.Numeric,text:D.text})}else if(C===c.Alphanumeric){var F=d(j,k);b.text+=F.text,(E=b.bytes).push.apply(E,F.bytes),b.chunks.push({type:x.Alphanumeric,text:F.text})}else if(C===c.Byte){var T=p(j,k);b.text+=T.text,(N=b.bytes).push.apply(N,T.bytes),b.chunks.push({type:x.Byte,bytes:T.bytes,text:T.text})}else if(C===c.Kanji){var A=g(j,k);b.text+=A.text,(v=b.bytes).push.apply(v,A.bytes),b.chunks.push({type:x.Kanji,bytes:A.bytes,text:A.text})}}if(j.available()===0||j.readBits(j.available())===0)return b}s.decode=f},function(a,s,l){Object.defineProperty(s,"__esModule",{value:!0});var o=function(){function i(x){this.byteOffset=0,this.bitOffset=0,this.bytes=x}return i.prototype.readBits=function(x){if(x<1||x>32||x>this.available())throw new Error("Cannot read "+x.toString()+" bits");var c=0;if(this.bitOffset>0){var u=8-this.bitOffset,h=x<u?x:u,d=u-h,p=255>>8-h<<d;c=(this.bytes[this.byteOffset]&p)>>d,x-=h,this.bitOffset+=h,this.bitOffset===8&&(this.bitOffset=0,this.byteOffset++)}if(x>0){for(;x>=8;)c=c<<8|this.bytes[this.byteOffset]&255,this.byteOffset++,x-=8;if(x>0){var d=8-x,p=255>>d<<d;c=c<<x|(this.bytes[this.byteOffset]&p)>>d,this.bitOffset+=x}}return c},i.prototype.available=function(){return 8*(this.bytes.length-this.byteOffset)-this.bitOffset},i}();s.BitStream=o},function(a,s,l){Object.defineProperty(s,"__esModule",{value:!0}),s.shiftJISTable={32:32,33:33,34:34,35:35,36:36,37:37,38:38,39:39,40:40,41:41,42:42,43:43,44:44,45:45,46:46,47:47,48:48,49:49,50:50,51:51,52:52,53:53,54:54,55:55,56:56,57:57,58:58,59:59,60:60,61:61,62:62,63:63,64:64,65:65,66:66,67:67,68:68,69:69,70:70,71:71,72:72,73:73,74:74,75:75,76:76,77:77,78:78,79:79,80:80,81:81,82:82,83:83,84:84,85:85,86:86,87:87,88:88,89:89,90:90,91:91,92:165,93:93,94:94,95:95,96:96,97:97,98:98,99:99,100:100,101:101,102:102,103:103,104:104,105:105,106:106,107:107,108:108,109:109,110:110,111:111,112:112,113:113,114:114,115:115,116:116,117:117,118:118,119:119,120:120,121:121,122:122,123:123,124:124,125:125,126:8254,33088:12288,33089:12289,33090:12290,33091:65292,33092:65294,33093:12539,33094:65306,33095:65307,33096:65311,33097:65281,33098:12443,33099:12444,33100:180,33101:65344,33102:168,33103:65342,33104:65507,33105:65343,33106:12541,33107:12542,33108:12445,33109:12446,33110:12291,33111:20189,33112:12293,33113:12294,33114:12295,33115:12540,33116:8213,33117:8208,33118:65295,33119:92,33120:12316,33121:8214,33122:65372,33123:8230,33124:8229,33125:8216,33126:8217,33127:8220,33128:8221,33129:65288,33130:65289,33131:12308,33132:12309,33133:65339,33134:65341,33135:65371,33136:65373,33137:12296,33138:12297,33139:12298,33140:12299,33141:12300,33142:12301,33143:12302,33144:12303,33145:12304,33146:12305,33147:65291,33148:8722,33149:177,33150:215,33152:247,33153:65309,33154:8800,33155:65308,33156:65310,33157:8806,33158:8807,33159:8734,33160:8756,33161:9794,33162:9792,33163:176,33164:8242,33165:8243,33166:8451,33167:65509,33168:65284,33169:162,33170:163,33171:65285,33172:65283,33173:65286,33174:65290,33175:65312,33176:167,33177:9734,33178:9733,33179:9675,33180:9679,33181:9678,33182:9671,33183:9670,33184:9633,33185:9632,33186:9651,33187:9650,33188:9661,33189:9660,33190:8251,33191:12306,33192:8594,33193:8592,33194:8593,33195:8595,33196:12307,33208:8712,33209:8715,33210:8838,33211:8839,33212:8834,33213:8835,33214:8746,33215:8745,33224:8743,33225:8744,33226:172,33227:8658,33228:8660,33229:8704,33230:8707,33242:8736,33243:8869,33244:8978,33245:8706,33246:8711,33247:8801,33248:8786,33249:8810,33250:8811,33251:8730,33252:8765,33253:8733,33254:8757,33255:8747,33256:8748,33264:8491,33265:8240,33266:9839,33267:9837,33268:9834,33269:8224,33270:8225,33271:182,33276:9711,33359:65296,33360:65297,33361:65298,33362:65299,33363:65300,33364:65301,33365:65302,33366:65303,33367:65304,33368:65305,33376:65313,33377:65314,33378:65315,33379:65316,33380:65317,33381:65318,33382:65319,33383:65320,33384:65321,33385:65322,33386:65323,33387:65324,33388:65325,33389:65326,33390:65327,33391:65328,33392:65329,33393:65330,33394:65331,33395:65332,33396:65333,33397:65334,33398:65335,33399:65336,33400:65337,33401:65338,33409:65345,33410:65346,33411:65347,33412:65348,33413:65349,33414:65350,33415:65351,33416:65352,33417:65353,33418:65354,33419:65355,33420:65356,33421:65357,33422:65358,33423:65359,33424:65360,33425:65361,33426:65362,33427:65363,33428:65364,33429:65365,33430:65366,33431:65367,33432:65368,33433:65369,33434:65370,33439:12353,33440:12354,33441:12355,33442:12356,33443:12357,33444:12358,33445:12359,33446:12360,33447:12361,33448:12362,33449:12363,33450:12364,33451:12365,33452:12366,33453:12367,33454:12368,33455:12369,33456:12370,33457:12371,33458:12372,33459:12373,33460:12374,33461:12375,33462:12376,33463:12377,33464:12378,33465:12379,33466:12380,33467:12381,33468:12382,33469:12383,33470:12384,33471:12385,33472:12386,33473:12387,33474:12388,33475:12389,33476:12390,33477:12391,33478:12392,33479:12393,33480:12394,33481:12395,33482:12396,33483:12397,33484:12398,33485:12399,33486:12400,33487:12401,33488:12402,33489:12403,33490:12404,33491:12405,33492:12406,33493:12407,33494:12408,33495:12409,33496:12410,33497:12411,33498:12412,33499:12413,33500:12414,33501:12415,33502:12416,33503:12417,33504:12418,33505:12419,33506:12420,33507:12421,33508:12422,33509:12423,33510:12424,33511:12425,33512:12426,33513:12427,33514:12428,33515:12429,33516:12430,33517:12431,33518:12432,33519:12433,33520:12434,33521:12435,33600:12449,33601:12450,33602:12451,33603:12452,33604:12453,33605:12454,33606:12455,33607:12456,33608:12457,33609:12458,33610:12459,33611:12460,33612:12461,33613:12462,33614:12463,33615:12464,33616:12465,33617:12466,33618:12467,33619:12468,33620:12469,33621:12470,33622:12471,33623:12472,33624:12473,33625:12474,33626:12475,33627:12476,33628:12477,33629:12478,33630:12479,33631:12480,33632:12481,33633:12482,33634:12483,33635:12484,33636:12485,33637:12486,33638:12487,33639:12488,33640:12489,33641:12490,33642:12491,33643:12492,33644:12493,33645:12494,33646:12495,33647:12496,33648:12497,33649:12498,33650:12499,33651:12500,33652:12501,33653:12502,33654:12503,33655:12504,33656:12505,33657:12506,33658:12507,33659:12508,33660:12509,33661:12510,33662:12511,33664:12512,33665:12513,33666:12514,33667:12515,33668:12516,33669:12517,33670:12518,33671:12519,33672:12520,33673:12521,33674:12522,33675:12523,33676:12524,33677:12525,33678:12526,33679:12527,33680:12528,33681:12529,33682:12530,33683:12531,33684:12532,33685:12533,33686:12534,33695:913,33696:914,33697:915,33698:916,33699:917,33700:918,33701:919,33702:920,33703:921,33704:922,33705:923,33706:924,33707:925,33708:926,33709:927,33710:928,33711:929,33712:931,33713:932,33714:933,33715:934,33716:935,33717:936,33718:937,33727:945,33728:946,33729:947,33730:948,33731:949,33732:950,33733:951,33734:952,33735:953,33736:954,33737:955,33738:956,33739:957,33740:958,33741:959,33742:960,33743:961,33744:963,33745:964,33746:965,33747:966,33748:967,33749:968,33750:969,33856:1040,33857:1041,33858:1042,33859:1043,33860:1044,33861:1045,33862:1025,33863:1046,33864:1047,33865:1048,33866:1049,33867:1050,33868:1051,33869:1052,33870:1053,33871:1054,33872:1055,33873:1056,33874:1057,33875:1058,33876:1059,33877:1060,33878:1061,33879:1062,33880:1063,33881:1064,33882:1065,33883:1066,33884:1067,33885:1068,33886:1069,33887:1070,33888:1071,33904:1072,33905:1073,33906:1074,33907:1075,33908:1076,33909:1077,33910:1105,33911:1078,33912:1079,33913:1080,33914:1081,33915:1082,33916:1083,33917:1084,33918:1085,33920:1086,33921:1087,33922:1088,33923:1089,33924:1090,33925:1091,33926:1092,33927:1093,33928:1094,33929:1095,33930:1096,33931:1097,33932:1098,33933:1099,33934:1100,33935:1101,33936:1102,33937:1103,33951:9472,33952:9474,33953:9484,33954:9488,33955:9496,33956:9492,33957:9500,33958:9516,33959:9508,33960:9524,33961:9532,33962:9473,33963:9475,33964:9487,33965:9491,33966:9499,33967:9495,33968:9507,33969:9523,33970:9515,33971:9531,33972:9547,33973:9504,33974:9519,33975:9512,33976:9527,33977:9535,33978:9501,33979:9520,33980:9509,33981:9528,33982:9538,34975:20124,34976:21782,34977:23043,34978:38463,34979:21696,34980:24859,34981:25384,34982:23030,34983:36898,34984:33909,34985:33564,34986:31312,34987:24746,34988:25569,34989:28197,34990:26093,34991:33894,34992:33446,34993:39925,34994:26771,34995:22311,34996:26017,34997:25201,34998:23451,34999:22992,35e3:34427,35001:39156,35002:32098,35003:32190,35004:39822,35005:25110,35006:31903,35007:34999,35008:23433,35009:24245,35010:25353,35011:26263,35012:26696,35013:38343,35014:38797,35015:26447,35016:20197,35017:20234,35018:20301,35019:20381,35020:20553,35021:22258,35022:22839,35023:22996,35024:23041,35025:23561,35026:24799,35027:24847,35028:24944,35029:26131,35030:26885,35031:28858,35032:30031,35033:30064,35034:31227,35035:32173,35036:32239,35037:32963,35038:33806,35039:34915,35040:35586,35041:36949,35042:36986,35043:21307,35044:20117,35045:20133,35046:22495,35047:32946,35048:37057,35049:30959,35050:19968,35051:22769,35052:28322,35053:36920,35054:31282,35055:33576,35056:33419,35057:39983,35058:20801,35059:21360,35060:21693,35061:21729,35062:22240,35063:23035,35064:24341,35065:39154,35066:28139,35067:32996,35068:34093,35136:38498,35137:38512,35138:38560,35139:38907,35140:21515,35141:21491,35142:23431,35143:28879,35144:32701,35145:36802,35146:38632,35147:21359,35148:40284,35149:31418,35150:19985,35151:30867,35152:33276,35153:28198,35154:22040,35155:21764,35156:27421,35157:34074,35158:39995,35159:23013,35160:21417,35161:28006,35162:29916,35163:38287,35164:22082,35165:20113,35166:36939,35167:38642,35168:33615,35169:39180,35170:21473,35171:21942,35172:23344,35173:24433,35174:26144,35175:26355,35176:26628,35177:27704,35178:27891,35179:27945,35180:29787,35181:30408,35182:31310,35183:38964,35184:33521,35185:34907,35186:35424,35187:37613,35188:28082,35189:30123,35190:30410,35191:39365,35192:24742,35193:35585,35194:36234,35195:38322,35196:27022,35197:21421,35198:20870,35200:22290,35201:22576,35202:22852,35203:23476,35204:24310,35205:24616,35206:25513,35207:25588,35208:27839,35209:28436,35210:28814,35211:28948,35212:29017,35213:29141,35214:29503,35215:32257,35216:33398,35217:33489,35218:34199,35219:36960,35220:37467,35221:40219,35222:22633,35223:26044,35224:27738,35225:29989,35226:20985,35227:22830,35228:22885,35229:24448,35230:24540,35231:25276,35232:26106,35233:27178,35234:27431,35235:27572,35236:29579,35237:32705,35238:35158,35239:40236,35240:40206,35241:40644,35242:23713,35243:27798,35244:33659,35245:20740,35246:23627,35247:25014,35248:33222,35249:26742,35250:29281,35251:20057,35252:20474,35253:21368,35254:24681,35255:28201,35256:31311,35257:38899,35258:19979,35259:21270,35260:20206,35261:20309,35262:20285,35263:20385,35264:20339,35265:21152,35266:21487,35267:22025,35268:22799,35269:23233,35270:23478,35271:23521,35272:31185,35273:26247,35274:26524,35275:26550,35276:27468,35277:27827,35278:28779,35279:29634,35280:31117,35281:31166,35282:31292,35283:31623,35284:33457,35285:33499,35286:33540,35287:33655,35288:33775,35289:33747,35290:34662,35291:35506,35292:22057,35293:36008,35294:36838,35295:36942,35296:38686,35297:34442,35298:20420,35299:23784,35300:25105,35301:29273,35302:30011,35303:33253,35304:33469,35305:34558,35306:36032,35307:38597,35308:39187,35309:39381,35310:20171,35311:20250,35312:35299,35313:22238,35314:22602,35315:22730,35316:24315,35317:24555,35318:24618,35319:24724,35320:24674,35321:25040,35322:25106,35323:25296,35324:25913,35392:39745,35393:26214,35394:26800,35395:28023,35396:28784,35397:30028,35398:30342,35399:32117,35400:33445,35401:34809,35402:38283,35403:38542,35404:35997,35405:20977,35406:21182,35407:22806,35408:21683,35409:23475,35410:23830,35411:24936,35412:27010,35413:28079,35414:30861,35415:33995,35416:34903,35417:35442,35418:37799,35419:39608,35420:28012,35421:39336,35422:34521,35423:22435,35424:26623,35425:34510,35426:37390,35427:21123,35428:22151,35429:21508,35430:24275,35431:25313,35432:25785,35433:26684,35434:26680,35435:27579,35436:29554,35437:30906,35438:31339,35439:35226,35440:35282,35441:36203,35442:36611,35443:37101,35444:38307,35445:38548,35446:38761,35447:23398,35448:23731,35449:27005,35450:38989,35451:38990,35452:25499,35453:31520,35454:27179,35456:27263,35457:26806,35458:39949,35459:28511,35460:21106,35461:21917,35462:24688,35463:25324,35464:27963,35465:28167,35466:28369,35467:33883,35468:35088,35469:36676,35470:19988,35471:39993,35472:21494,35473:26907,35474:27194,35475:38788,35476:26666,35477:20828,35478:31427,35479:33970,35480:37340,35481:37772,35482:22107,35483:40232,35484:26658,35485:33541,35486:33841,35487:31909,35488:21e3,35489:33477,35490:29926,35491:20094,35492:20355,35493:20896,35494:23506,35495:21002,35496:21208,35497:21223,35498:24059,35499:21914,35500:22570,35501:23014,35502:23436,35503:23448,35504:23515,35505:24178,35506:24185,35507:24739,35508:24863,35509:24931,35510:25022,35511:25563,35512:25954,35513:26577,35514:26707,35515:26874,35516:27454,35517:27475,35518:27735,35519:28450,35520:28567,35521:28485,35522:29872,35523:29976,35524:30435,35525:30475,35526:31487,35527:31649,35528:31777,35529:32233,35530:32566,35531:32752,35532:32925,35533:33382,35534:33694,35535:35251,35536:35532,35537:36011,35538:36996,35539:37969,35540:38291,35541:38289,35542:38306,35543:38501,35544:38867,35545:39208,35546:33304,35547:20024,35548:21547,35549:23736,35550:24012,35551:29609,35552:30284,35553:30524,35554:23721,35555:32747,35556:36107,35557:38593,35558:38929,35559:38996,35560:39e3,35561:20225,35562:20238,35563:21361,35564:21916,35565:22120,35566:22522,35567:22855,35568:23305,35569:23492,35570:23696,35571:24076,35572:24190,35573:24524,35574:25582,35575:26426,35576:26071,35577:26082,35578:26399,35579:26827,35580:26820,35648:27231,35649:24112,35650:27589,35651:27671,35652:27773,35653:30079,35654:31048,35655:23395,35656:31232,35657:32e3,35658:24509,35659:35215,35660:35352,35661:36020,35662:36215,35663:36556,35664:36637,35665:39138,35666:39438,35667:39740,35668:20096,35669:20605,35670:20736,35671:22931,35672:23452,35673:25135,35674:25216,35675:25836,35676:27450,35677:29344,35678:30097,35679:31047,35680:32681,35681:34811,35682:35516,35683:35696,35684:25516,35685:33738,35686:38816,35687:21513,35688:21507,35689:21931,35690:26708,35691:27224,35692:35440,35693:30759,35694:26485,35695:40653,35696:21364,35697:23458,35698:33050,35699:34384,35700:36870,35701:19992,35702:20037,35703:20167,35704:20241,35705:21450,35706:21560,35707:23470,35708:24339,35709:24613,35710:25937,35712:26429,35713:27714,35714:27762,35715:27875,35716:28792,35717:29699,35718:31350,35719:31406,35720:31496,35721:32026,35722:31998,35723:32102,35724:26087,35725:29275,35726:21435,35727:23621,35728:24040,35729:25298,35730:25312,35731:25369,35732:28192,35733:34394,35734:35377,35735:36317,35736:37624,35737:28417,35738:31142,35739:39770,35740:20136,35741:20139,35742:20140,35743:20379,35744:20384,35745:20689,35746:20807,35747:31478,35748:20849,35749:20982,35750:21332,35751:21281,35752:21375,35753:21483,35754:21932,35755:22659,35756:23777,35757:24375,35758:24394,35759:24623,35760:24656,35761:24685,35762:25375,35763:25945,35764:27211,35765:27841,35766:29378,35767:29421,35768:30703,35769:33016,35770:33029,35771:33288,35772:34126,35773:37111,35774:37857,35775:38911,35776:39255,35777:39514,35778:20208,35779:20957,35780:23597,35781:26241,35782:26989,35783:23616,35784:26354,35785:26997,35786:29577,35787:26704,35788:31873,35789:20677,35790:21220,35791:22343,35792:24062,35793:37670,35794:26020,35795:27427,35796:27453,35797:29748,35798:31105,35799:31165,35800:31563,35801:32202,35802:33465,35803:33740,35804:34943,35805:35167,35806:35641,35807:36817,35808:37329,35809:21535,35810:37504,35811:20061,35812:20534,35813:21477,35814:21306,35815:29399,35816:29590,35817:30697,35818:33510,35819:36527,35820:39366,35821:39368,35822:39378,35823:20855,35824:24858,35825:34398,35826:21936,35827:31354,35828:20598,35829:23507,35830:36935,35831:38533,35832:20018,35833:27355,35834:37351,35835:23633,35836:23624,35904:25496,35905:31391,35906:27795,35907:38772,35908:36705,35909:31402,35910:29066,35911:38536,35912:31874,35913:26647,35914:32368,35915:26705,35916:37740,35917:21234,35918:21531,35919:34219,35920:35347,35921:32676,35922:36557,35923:37089,35924:21350,35925:34952,35926:31041,35927:20418,35928:20670,35929:21009,35930:20804,35931:21843,35932:22317,35933:29674,35934:22411,35935:22865,35936:24418,35937:24452,35938:24693,35939:24950,35940:24935,35941:25001,35942:25522,35943:25658,35944:25964,35945:26223,35946:26690,35947:28179,35948:30054,35949:31293,35950:31995,35951:32076,35952:32153,35953:32331,35954:32619,35955:33550,35956:33610,35957:34509,35958:35336,35959:35427,35960:35686,35961:36605,35962:38938,35963:40335,35964:33464,35965:36814,35966:39912,35968:21127,35969:25119,35970:25731,35971:28608,35972:38553,35973:26689,35974:20625,35975:27424,35976:27770,35977:28500,35978:31348,35979:32080,35980:34880,35981:35363,35982:26376,35983:20214,35984:20537,35985:20518,35986:20581,35987:20860,35988:21048,35989:21091,35990:21927,35991:22287,35992:22533,35993:23244,35994:24314,35995:25010,35996:25080,35997:25331,35998:25458,35999:26908,36e3:27177,36001:29309,36002:29356,36003:29486,36004:30740,36005:30831,36006:32121,36007:30476,36008:32937,36009:35211,36010:35609,36011:36066,36012:36562,36013:36963,36014:37749,36015:38522,36016:38997,36017:39443,36018:40568,36019:20803,36020:21407,36021:21427,36022:24187,36023:24358,36024:28187,36025:28304,36026:29572,36027:29694,36028:32067,36029:33335,36030:35328,36031:35578,36032:38480,36033:20046,36034:20491,36035:21476,36036:21628,36037:22266,36038:22993,36039:23396,36040:24049,36041:24235,36042:24359,36043:25144,36044:25925,36045:26543,36046:28246,36047:29392,36048:31946,36049:34996,36050:32929,36051:32993,36052:33776,36053:34382,36054:35463,36055:36328,36056:37431,36057:38599,36058:39015,36059:40723,36060:20116,36061:20114,36062:20237,36063:21320,36064:21577,36065:21566,36066:23087,36067:24460,36068:24481,36069:24735,36070:26791,36071:27278,36072:29786,36073:30849,36074:35486,36075:35492,36076:35703,36077:37264,36078:20062,36079:39881,36080:20132,36081:20348,36082:20399,36083:20505,36084:20502,36085:20809,36086:20844,36087:21151,36088:21177,36089:21246,36090:21402,36091:21475,36092:21521,36160:21518,36161:21897,36162:22353,36163:22434,36164:22909,36165:23380,36166:23389,36167:23439,36168:24037,36169:24039,36170:24055,36171:24184,36172:24195,36173:24218,36174:24247,36175:24344,36176:24658,36177:24908,36178:25239,36179:25304,36180:25511,36181:25915,36182:26114,36183:26179,36184:26356,36185:26477,36186:26657,36187:26775,36188:27083,36189:27743,36190:27946,36191:28009,36192:28207,36193:28317,36194:30002,36195:30343,36196:30828,36197:31295,36198:31968,36199:32005,36200:32024,36201:32094,36202:32177,36203:32789,36204:32771,36205:32943,36206:32945,36207:33108,36208:33167,36209:33322,36210:33618,36211:34892,36212:34913,36213:35611,36214:36002,36215:36092,36216:37066,36217:37237,36218:37489,36219:30783,36220:37628,36221:38308,36222:38477,36224:38917,36225:39321,36226:39640,36227:40251,36228:21083,36229:21163,36230:21495,36231:21512,36232:22741,36233:25335,36234:28640,36235:35946,36236:36703,36237:40633,36238:20811,36239:21051,36240:21578,36241:22269,36242:31296,36243:37239,36244:40288,36245:40658,36246:29508,36247:28425,36248:33136,36249:29969,36250:24573,36251:24794,36252:39592,36253:29403,36254:36796,36255:27492,36256:38915,36257:20170,36258:22256,36259:22372,36260:22718,36261:23130,36262:24680,36263:25031,36264:26127,36265:26118,36266:26681,36267:26801,36268:28151,36269:30165,36270:32058,36271:33390,36272:39746,36273:20123,36274:20304,36275:21449,36276:21766,36277:23919,36278:24038,36279:24046,36280:26619,36281:27801,36282:29811,36283:30722,36284:35408,36285:37782,36286:35039,36287:22352,36288:24231,36289:25387,36290:20661,36291:20652,36292:20877,36293:26368,36294:21705,36295:22622,36296:22971,36297:23472,36298:24425,36299:25165,36300:25505,36301:26685,36302:27507,36303:28168,36304:28797,36305:37319,36306:29312,36307:30741,36308:30758,36309:31085,36310:25998,36311:32048,36312:33756,36313:35009,36314:36617,36315:38555,36316:21092,36317:22312,36318:26448,36319:32618,36320:36001,36321:20916,36322:22338,36323:38442,36324:22586,36325:27018,36326:32948,36327:21682,36328:23822,36329:22524,36330:30869,36331:40442,36332:20316,36333:21066,36334:21643,36335:25662,36336:26152,36337:26388,36338:26613,36339:31364,36340:31574,36341:32034,36342:37679,36343:26716,36344:39853,36345:31545,36346:21273,36347:20874,36348:21047,36416:23519,36417:25334,36418:25774,36419:25830,36420:26413,36421:27578,36422:34217,36423:38609,36424:30352,36425:39894,36426:25420,36427:37638,36428:39851,36429:30399,36430:26194,36431:19977,36432:20632,36433:21442,36434:23665,36435:24808,36436:25746,36437:25955,36438:26719,36439:29158,36440:29642,36441:29987,36442:31639,36443:32386,36444:34453,36445:35715,36446:36059,36447:37240,36448:39184,36449:26028,36450:26283,36451:27531,36452:20181,36453:20180,36454:20282,36455:20351,36456:21050,36457:21496,36458:21490,36459:21987,36460:22235,36461:22763,36462:22987,36463:22985,36464:23039,36465:23376,36466:23629,36467:24066,36468:24107,36469:24535,36470:24605,36471:25351,36472:25903,36473:23388,36474:26031,36475:26045,36476:26088,36477:26525,36478:27490,36480:27515,36481:27663,36482:29509,36483:31049,36484:31169,36485:31992,36486:32025,36487:32043,36488:32930,36489:33026,36490:33267,36491:35222,36492:35422,36493:35433,36494:35430,36495:35468,36496:35566,36497:36039,36498:36060,36499:38604,36500:39164,36501:27503,36502:20107,36503:20284,36504:20365,36505:20816,36506:23383,36507:23546,36508:24904,36509:25345,36510:26178,36511:27425,36512:28363,36513:27835,36514:29246,36515:29885,36516:30164,36517:30913,36518:31034,36519:32780,36520:32819,36521:33258,36522:33940,36523:36766,36524:27728,36525:40575,36526:24335,36527:35672,36528:40235,36529:31482,36530:36600,36531:23437,36532:38635,36533:19971,36534:21489,36535:22519,36536:22833,36537:23241,36538:23460,36539:24713,36540:28287,36541:28422,36542:30142,36543:36074,36544:23455,36545:34048,36546:31712,36547:20594,36548:26612,36549:33437,36550:23649,36551:34122,36552:32286,36553:33294,36554:20889,36555:23556,36556:25448,36557:36198,36558:26012,36559:29038,36560:31038,36561:32023,36562:32773,36563:35613,36564:36554,36565:36974,36566:34503,36567:37034,36568:20511,36569:21242,36570:23610,36571:26451,36572:28796,36573:29237,36574:37196,36575:37320,36576:37675,36577:33509,36578:23490,36579:24369,36580:24825,36581:20027,36582:21462,36583:23432,36584:25163,36585:26417,36586:27530,36587:29417,36588:29664,36589:31278,36590:33131,36591:36259,36592:37202,36593:39318,36594:20754,36595:21463,36596:21610,36597:23551,36598:25480,36599:27193,36600:32172,36601:38656,36602:22234,36603:21454,36604:21608,36672:23447,36673:23601,36674:24030,36675:20462,36676:24833,36677:25342,36678:27954,36679:31168,36680:31179,36681:32066,36682:32333,36683:32722,36684:33261,36685:33311,36686:33936,36687:34886,36688:35186,36689:35728,36690:36468,36691:36655,36692:36913,36693:37195,36694:37228,36695:38598,36696:37276,36697:20160,36698:20303,36699:20805,36700:21313,36701:24467,36702:25102,36703:26580,36704:27713,36705:28171,36706:29539,36707:32294,36708:37325,36709:37507,36710:21460,36711:22809,36712:23487,36713:28113,36714:31069,36715:32302,36716:31899,36717:22654,36718:29087,36719:20986,36720:34899,36721:36848,36722:20426,36723:23803,36724:26149,36725:30636,36726:31459,36727:33308,36728:39423,36729:20934,36730:24490,36731:26092,36732:26991,36733:27529,36734:28147,36736:28310,36737:28516,36738:30462,36739:32020,36740:24033,36741:36981,36742:37255,36743:38918,36744:20966,36745:21021,36746:25152,36747:26257,36748:26329,36749:28186,36750:24246,36751:32210,36752:32626,36753:26360,36754:34223,36755:34295,36756:35576,36757:21161,36758:21465,36759:22899,36760:24207,36761:24464,36762:24661,36763:37604,36764:38500,36765:20663,36766:20767,36767:21213,36768:21280,36769:21319,36770:21484,36771:21736,36772:21830,36773:21809,36774:22039,36775:22888,36776:22974,36777:23100,36778:23477,36779:23558,36780:23567,36781:23569,36782:23578,36783:24196,36784:24202,36785:24288,36786:24432,36787:25215,36788:25220,36789:25307,36790:25484,36791:25463,36792:26119,36793:26124,36794:26157,36795:26230,36796:26494,36797:26786,36798:27167,36799:27189,36800:27836,36801:28040,36802:28169,36803:28248,36804:28988,36805:28966,36806:29031,36807:30151,36808:30465,36809:30813,36810:30977,36811:31077,36812:31216,36813:31456,36814:31505,36815:31911,36816:32057,36817:32918,36818:33750,36819:33931,36820:34121,36821:34909,36822:35059,36823:35359,36824:35388,36825:35412,36826:35443,36827:35937,36828:36062,36829:37284,36830:37478,36831:37758,36832:37912,36833:38556,36834:38808,36835:19978,36836:19976,36837:19998,36838:20055,36839:20887,36840:21104,36841:22478,36842:22580,36843:22732,36844:23330,36845:24120,36846:24773,36847:25854,36848:26465,36849:26454,36850:27972,36851:29366,36852:30067,36853:31331,36854:33976,36855:35698,36856:37304,36857:37664,36858:22065,36859:22516,36860:39166,36928:25325,36929:26893,36930:27542,36931:29165,36932:32340,36933:32887,36934:33394,36935:35302,36936:39135,36937:34645,36938:36785,36939:23611,36940:20280,36941:20449,36942:20405,36943:21767,36944:23072,36945:23517,36946:23529,36947:24515,36948:24910,36949:25391,36950:26032,36951:26187,36952:26862,36953:27035,36954:28024,36955:28145,36956:30003,36957:30137,36958:30495,36959:31070,36960:31206,36961:32051,36962:33251,36963:33455,36964:34218,36965:35242,36966:35386,36967:36523,36968:36763,36969:36914,36970:37341,36971:38663,36972:20154,36973:20161,36974:20995,36975:22645,36976:22764,36977:23563,36978:29978,36979:23613,36980:33102,36981:35338,36982:36805,36983:38499,36984:38765,36985:31525,36986:35535,36987:38920,36988:37218,36989:22259,36990:21416,36992:36887,36993:21561,36994:22402,36995:24101,36996:25512,36997:27700,36998:28810,36999:30561,37e3:31883,37001:32736,37002:34928,37003:36930,37004:37204,37005:37648,37006:37656,37007:38543,37008:29790,37009:39620,37010:23815,37011:23913,37012:25968,37013:26530,37014:36264,37015:38619,37016:25454,37017:26441,37018:26905,37019:33733,37020:38935,37021:38592,37022:35070,37023:28548,37024:25722,37025:23544,37026:19990,37027:28716,37028:30045,37029:26159,37030:20932,37031:21046,37032:21218,37033:22995,37034:24449,37035:24615,37036:25104,37037:25919,37038:25972,37039:26143,37040:26228,37041:26866,37042:26646,37043:27491,37044:28165,37045:29298,37046:29983,37047:30427,37048:31934,37049:32854,37050:22768,37051:35069,37052:35199,37053:35488,37054:35475,37055:35531,37056:36893,37057:37266,37058:38738,37059:38745,37060:25993,37061:31246,37062:33030,37063:38587,37064:24109,37065:24796,37066:25114,37067:26021,37068:26132,37069:26512,37070:30707,37071:31309,37072:31821,37073:32318,37074:33034,37075:36012,37076:36196,37077:36321,37078:36447,37079:30889,37080:20999,37081:25305,37082:25509,37083:25666,37084:25240,37085:35373,37086:31363,37087:31680,37088:35500,37089:38634,37090:32118,37091:33292,37092:34633,37093:20185,37094:20808,37095:21315,37096:21344,37097:23459,37098:23554,37099:23574,37100:24029,37101:25126,37102:25159,37103:25776,37104:26643,37105:26676,37106:27849,37107:27973,37108:27927,37109:26579,37110:28508,37111:29006,37112:29053,37113:26059,37114:31359,37115:31661,37116:32218,37184:32330,37185:32680,37186:33146,37187:33307,37188:33337,37189:34214,37190:35438,37191:36046,37192:36341,37193:36984,37194:36983,37195:37549,37196:37521,37197:38275,37198:39854,37199:21069,37200:21892,37201:28472,37202:28982,37203:20840,37204:31109,37205:32341,37206:33203,37207:31950,37208:22092,37209:22609,37210:23720,37211:25514,37212:26366,37213:26365,37214:26970,37215:29401,37216:30095,37217:30094,37218:30990,37219:31062,37220:31199,37221:31895,37222:32032,37223:32068,37224:34311,37225:35380,37226:38459,37227:36961,37228:40736,37229:20711,37230:21109,37231:21452,37232:21474,37233:20489,37234:21930,37235:22766,37236:22863,37237:29245,37238:23435,37239:23652,37240:21277,37241:24803,37242:24819,37243:25436,37244:25475,37245:25407,37246:25531,37248:25805,37249:26089,37250:26361,37251:24035,37252:27085,37253:27133,37254:28437,37255:29157,37256:20105,37257:30185,37258:30456,37259:31379,37260:31967,37261:32207,37262:32156,37263:32865,37264:33609,37265:33624,37266:33900,37267:33980,37268:34299,37269:35013,37270:36208,37271:36865,37272:36973,37273:37783,37274:38684,37275:39442,37276:20687,37277:22679,37278:24974,37279:33235,37280:34101,37281:36104,37282:36896,37283:20419,37284:20596,37285:21063,37286:21363,37287:24687,37288:25417,37289:26463,37290:28204,37291:36275,37292:36895,37293:20439,37294:23646,37295:36042,37296:26063,37297:32154,37298:21330,37299:34966,37300:20854,37301:25539,37302:23384,37303:23403,37304:23562,37305:25613,37306:26449,37307:36956,37308:20182,37309:22810,37310:22826,37311:27760,37312:35409,37313:21822,37314:22549,37315:22949,37316:24816,37317:25171,37318:26561,37319:33333,37320:26965,37321:38464,37322:39364,37323:39464,37324:20307,37325:22534,37326:23550,37327:32784,37328:23729,37329:24111,37330:24453,37331:24608,37332:24907,37333:25140,37334:26367,37335:27888,37336:28382,37337:32974,37338:33151,37339:33492,37340:34955,37341:36024,37342:36864,37343:36910,37344:38538,37345:40667,37346:39899,37347:20195,37348:21488,37349:22823,37350:31532,37351:37261,37352:38988,37353:40441,37354:28381,37355:28711,37356:21331,37357:21828,37358:23429,37359:25176,37360:25246,37361:25299,37362:27810,37363:28655,37364:29730,37365:35351,37366:37944,37367:28609,37368:35582,37369:33592,37370:20967,37371:34552,37372:21482,37440:21481,37441:20294,37442:36948,37443:36784,37444:22890,37445:33073,37446:24061,37447:31466,37448:36799,37449:26842,37450:35895,37451:29432,37452:40008,37453:27197,37454:35504,37455:20025,37456:21336,37457:22022,37458:22374,37459:25285,37460:25506,37461:26086,37462:27470,37463:28129,37464:28251,37465:28845,37466:30701,37467:31471,37468:31658,37469:32187,37470:32829,37471:32966,37472:34507,37473:35477,37474:37723,37475:22243,37476:22727,37477:24382,37478:26029,37479:26262,37480:27264,37481:27573,37482:30007,37483:35527,37484:20516,37485:30693,37486:22320,37487:24347,37488:24677,37489:26234,37490:27744,37491:30196,37492:31258,37493:32622,37494:33268,37495:34584,37496:36933,37497:39347,37498:31689,37499:30044,37500:31481,37501:31569,37502:33988,37504:36880,37505:31209,37506:31378,37507:33590,37508:23265,37509:30528,37510:20013,37511:20210,37512:23449,37513:24544,37514:25277,37515:26172,37516:26609,37517:27880,37518:34411,37519:34935,37520:35387,37521:37198,37522:37619,37523:39376,37524:27159,37525:28710,37526:29482,37527:33511,37528:33879,37529:36015,37530:19969,37531:20806,37532:20939,37533:21899,37534:23541,37535:24086,37536:24115,37537:24193,37538:24340,37539:24373,37540:24427,37541:24500,37542:25074,37543:25361,37544:26274,37545:26397,37546:28526,37547:29266,37548:30010,37549:30522,37550:32884,37551:33081,37552:33144,37553:34678,37554:35519,37555:35548,37556:36229,37557:36339,37558:37530,37559:38263,37560:38914,37561:40165,37562:21189,37563:25431,37564:30452,37565:26389,37566:27784,37567:29645,37568:36035,37569:37806,37570:38515,37571:27941,37572:22684,37573:26894,37574:27084,37575:36861,37576:37786,37577:30171,37578:36890,37579:22618,37580:26626,37581:25524,37582:27131,37583:20291,37584:28460,37585:26584,37586:36795,37587:34086,37588:32180,37589:37716,37590:26943,37591:28528,37592:22378,37593:22775,37594:23340,37595:32044,37596:29226,37597:21514,37598:37347,37599:40372,37600:20141,37601:20302,37602:20572,37603:20597,37604:21059,37605:35998,37606:21576,37607:22564,37608:23450,37609:24093,37610:24213,37611:24237,37612:24311,37613:24351,37614:24716,37615:25269,37616:25402,37617:25552,37618:26799,37619:27712,37620:30855,37621:31118,37622:31243,37623:32224,37624:33351,37625:35330,37626:35558,37627:36420,37628:36883,37696:37048,37697:37165,37698:37336,37699:40718,37700:27877,37701:25688,37702:25826,37703:25973,37704:28404,37705:30340,37706:31515,37707:36969,37708:37841,37709:28346,37710:21746,37711:24505,37712:25764,37713:36685,37714:36845,37715:37444,37716:20856,37717:22635,37718:22825,37719:23637,37720:24215,37721:28155,37722:32399,37723:29980,37724:36028,37725:36578,37726:39003,37727:28857,37728:20253,37729:27583,37730:28593,37731:3e4,37732:38651,37733:20814,37734:21520,37735:22581,37736:22615,37737:22956,37738:23648,37739:24466,37740:26007,37741:26460,37742:28193,37743:30331,37744:33759,37745:36077,37746:36884,37747:37117,37748:37709,37749:30757,37750:30778,37751:21162,37752:24230,37753:22303,37754:22900,37755:24594,37756:20498,37757:20826,37758:20908,37760:20941,37761:20992,37762:21776,37763:22612,37764:22616,37765:22871,37766:23445,37767:23798,37768:23947,37769:24764,37770:25237,37771:25645,37772:26481,37773:26691,37774:26812,37775:26847,37776:30423,37777:28120,37778:28271,37779:28059,37780:28783,37781:29128,37782:24403,37783:30168,37784:31095,37785:31561,37786:31572,37787:31570,37788:31958,37789:32113,37790:21040,37791:33891,37792:34153,37793:34276,37794:35342,37795:35588,37796:35910,37797:36367,37798:36867,37799:36879,37800:37913,37801:38518,37802:38957,37803:39472,37804:38360,37805:20685,37806:21205,37807:21516,37808:22530,37809:23566,37810:24999,37811:25758,37812:27934,37813:30643,37814:31461,37815:33012,37816:33796,37817:36947,37818:37509,37819:23776,37820:40199,37821:21311,37822:24471,37823:24499,37824:28060,37825:29305,37826:30563,37827:31167,37828:31716,37829:27602,37830:29420,37831:35501,37832:26627,37833:27233,37834:20984,37835:31361,37836:26932,37837:23626,37838:40182,37839:33515,37840:23493,37841:37193,37842:28702,37843:22136,37844:23663,37845:24775,37846:25958,37847:27788,37848:35930,37849:36929,37850:38931,37851:21585,37852:26311,37853:37389,37854:22856,37855:37027,37856:20869,37857:20045,37858:20970,37859:34201,37860:35598,37861:28760,37862:25466,37863:37707,37864:26978,37865:39348,37866:32260,37867:30071,37868:21335,37869:26976,37870:36575,37871:38627,37872:27741,37873:20108,37874:23612,37875:24336,37876:36841,37877:21250,37878:36049,37879:32905,37880:34425,37881:24319,37882:26085,37883:20083,37884:20837,37952:22914,37953:23615,37954:38894,37955:20219,37956:22922,37957:24525,37958:35469,37959:28641,37960:31152,37961:31074,37962:23527,37963:33905,37964:29483,37965:29105,37966:24180,37967:24565,37968:25467,37969:25754,37970:29123,37971:31896,37972:20035,37973:24316,37974:20043,37975:22492,37976:22178,37977:24745,37978:28611,37979:32013,37980:33021,37981:33075,37982:33215,37983:36786,37984:35223,37985:34468,37986:24052,37987:25226,37988:25773,37989:35207,37990:26487,37991:27874,37992:27966,37993:29750,37994:30772,37995:23110,37996:32629,37997:33453,37998:39340,37999:20467,38e3:24259,38001:25309,38002:25490,38003:25943,38004:26479,38005:30403,38006:29260,38007:32972,38008:32954,38009:36649,38010:37197,38011:20493,38012:22521,38013:23186,38014:26757,38016:26995,38017:29028,38018:29437,38019:36023,38020:22770,38021:36064,38022:38506,38023:36889,38024:34687,38025:31204,38026:30695,38027:33833,38028:20271,38029:21093,38030:21338,38031:25293,38032:26575,38033:27850,38034:30333,38035:31636,38036:31893,38037:33334,38038:34180,38039:36843,38040:26333,38041:28448,38042:29190,38043:32283,38044:33707,38045:39361,38046:40614,38047:20989,38048:31665,38049:30834,38050:31672,38051:32903,38052:31560,38053:27368,38054:24161,38055:32908,38056:30033,38057:30048,38058:20843,38059:37474,38060:28300,38061:30330,38062:37271,38063:39658,38064:20240,38065:32624,38066:25244,38067:31567,38068:38309,38069:40169,38070:22138,38071:22617,38072:34532,38073:38588,38074:20276,38075:21028,38076:21322,38077:21453,38078:21467,38079:24070,38080:25644,38081:26001,38082:26495,38083:27710,38084:27726,38085:29256,38086:29359,38087:29677,38088:30036,38089:32321,38090:33324,38091:34281,38092:36009,38093:31684,38094:37318,38095:29033,38096:38930,38097:39151,38098:25405,38099:26217,38100:30058,38101:30436,38102:30928,38103:34115,38104:34542,38105:21290,38106:21329,38107:21542,38108:22915,38109:24199,38110:24444,38111:24754,38112:25161,38113:25209,38114:25259,38115:26e3,38116:27604,38117:27852,38118:30130,38119:30382,38120:30865,38121:31192,38122:32203,38123:32631,38124:32933,38125:34987,38126:35513,38127:36027,38128:36991,38129:38750,38130:39131,38131:27147,38132:31800,38133:20633,38134:23614,38135:24494,38136:26503,38137:27608,38138:29749,38139:30473,38140:32654,38208:40763,38209:26570,38210:31255,38211:21305,38212:30091,38213:39661,38214:24422,38215:33181,38216:33777,38217:32920,38218:24380,38219:24517,38220:30050,38221:31558,38222:36924,38223:26727,38224:23019,38225:23195,38226:32016,38227:30334,38228:35628,38229:20469,38230:24426,38231:27161,38232:27703,38233:28418,38234:29922,38235:31080,38236:34920,38237:35413,38238:35961,38239:24287,38240:25551,38241:30149,38242:31186,38243:33495,38244:37672,38245:37618,38246:33948,38247:34541,38248:39981,38249:21697,38250:24428,38251:25996,38252:27996,38253:28693,38254:36007,38255:36051,38256:38971,38257:25935,38258:29942,38259:19981,38260:20184,38261:22496,38262:22827,38263:23142,38264:23500,38265:20904,38266:24067,38267:24220,38268:24598,38269:25206,38270:25975,38272:26023,38273:26222,38274:28014,38275:29238,38276:31526,38277:33104,38278:33178,38279:33433,38280:35676,38281:36e3,38282:36070,38283:36212,38284:38428,38285:38468,38286:20398,38287:25771,38288:27494,38289:33310,38290:33889,38291:34154,38292:37096,38293:23553,38294:26963,38295:39080,38296:33914,38297:34135,38298:20239,38299:21103,38300:24489,38301:24133,38302:26381,38303:31119,38304:33145,38305:35079,38306:35206,38307:28149,38308:24343,38309:25173,38310:27832,38311:20175,38312:29289,38313:39826,38314:20998,38315:21563,38316:22132,38317:22707,38318:24996,38319:25198,38320:28954,38321:22894,38322:31881,38323:31966,38324:32027,38325:38640,38326:25991,38327:32862,38328:19993,38329:20341,38330:20853,38331:22592,38332:24163,38333:24179,38334:24330,38335:26564,38336:20006,38337:34109,38338:38281,38339:38491,38340:31859,38341:38913,38342:20731,38343:22721,38344:30294,38345:30887,38346:21029,38347:30629,38348:34065,38349:31622,38350:20559,38351:22793,38352:29255,38353:31687,38354:32232,38355:36794,38356:36820,38357:36941,38358:20415,38359:21193,38360:23081,38361:24321,38362:38829,38363:20445,38364:33303,38365:37610,38366:22275,38367:25429,38368:27497,38369:29995,38370:35036,38371:36628,38372:31298,38373:21215,38374:22675,38375:24917,38376:25098,38377:26286,38378:27597,38379:31807,38380:33769,38381:20515,38382:20472,38383:21253,38384:21574,38385:22577,38386:22857,38387:23453,38388:23792,38389:23791,38390:23849,38391:24214,38392:25265,38393:25447,38394:25918,38395:26041,38396:26379,38464:27861,38465:27873,38466:28921,38467:30770,38468:32299,38469:32990,38470:33459,38471:33804,38472:34028,38473:34562,38474:35090,38475:35370,38476:35914,38477:37030,38478:37586,38479:39165,38480:40179,38481:40300,38482:20047,38483:20129,38484:20621,38485:21078,38486:22346,38487:22952,38488:24125,38489:24536,38490:24537,38491:25151,38492:26292,38493:26395,38494:26576,38495:26834,38496:20882,38497:32033,38498:32938,38499:33192,38500:35584,38501:35980,38502:36031,38503:37502,38504:38450,38505:21536,38506:38956,38507:21271,38508:20693,38509:21340,38510:22696,38511:25778,38512:26420,38513:29287,38514:30566,38515:31302,38516:37350,38517:21187,38518:27809,38519:27526,38520:22528,38521:24140,38522:22868,38523:26412,38524:32763,38525:20961,38526:30406,38528:25705,38529:30952,38530:39764,38531:40635,38532:22475,38533:22969,38534:26151,38535:26522,38536:27598,38537:21737,38538:27097,38539:24149,38540:33180,38541:26517,38542:39850,38543:26622,38544:40018,38545:26717,38546:20134,38547:20451,38548:21448,38549:25273,38550:26411,38551:27819,38552:36804,38553:20397,38554:32365,38555:40639,38556:19975,38557:24930,38558:28288,38559:28459,38560:34067,38561:21619,38562:26410,38563:39749,38564:24051,38565:31637,38566:23724,38567:23494,38568:34588,38569:28234,38570:34001,38571:31252,38572:33032,38573:22937,38574:31885,38575:27665,38576:30496,38577:21209,38578:22818,38579:28961,38580:29279,38581:30683,38582:38695,38583:40289,38584:26891,38585:23167,38586:23064,38587:20901,38588:21517,38589:21629,38590:26126,38591:30431,38592:36855,38593:37528,38594:40180,38595:23018,38596:29277,38597:28357,38598:20813,38599:26825,38600:32191,38601:32236,38602:38754,38603:40634,38604:25720,38605:27169,38606:33538,38607:22916,38608:23391,38609:27611,38610:29467,38611:30450,38612:32178,38613:32791,38614:33945,38615:20786,38616:26408,38617:40665,38618:30446,38619:26466,38620:21247,38621:39173,38622:23588,38623:25147,38624:31870,38625:36016,38626:21839,38627:24758,38628:32011,38629:38272,38630:21249,38631:20063,38632:20918,38633:22812,38634:29242,38635:32822,38636:37326,38637:24357,38638:30690,38639:21380,38640:24441,38641:32004,38642:34220,38643:35379,38644:36493,38645:38742,38646:26611,38647:34222,38648:37971,38649:24841,38650:24840,38651:27833,38652:30290,38720:35565,38721:36664,38722:21807,38723:20305,38724:20778,38725:21191,38726:21451,38727:23461,38728:24189,38729:24736,38730:24962,38731:25558,38732:26377,38733:26586,38734:28263,38735:28044,38736:29494,38737:29495,38738:30001,38739:31056,38740:35029,38741:35480,38742:36938,38743:37009,38744:37109,38745:38596,38746:34701,38747:22805,38748:20104,38749:20313,38750:19982,38751:35465,38752:36671,38753:38928,38754:20653,38755:24188,38756:22934,38757:23481,38758:24248,38759:25562,38760:25594,38761:25793,38762:26332,38763:26954,38764:27096,38765:27915,38766:28342,38767:29076,38768:29992,38769:31407,38770:32650,38771:32768,38772:33865,38773:33993,38774:35201,38775:35617,38776:36362,38777:36965,38778:38525,38779:39178,38780:24958,38781:25233,38782:27442,38784:27779,38785:28020,38786:32716,38787:32764,38788:28096,38789:32645,38790:34746,38791:35064,38792:26469,38793:33713,38794:38972,38795:38647,38796:27931,38797:32097,38798:33853,38799:37226,38800:20081,38801:21365,38802:23888,38803:27396,38804:28651,38805:34253,38806:34349,38807:35239,38808:21033,38809:21519,38810:23653,38811:26446,38812:26792,38813:29702,38814:29827,38815:30178,38816:35023,38817:35041,38818:37324,38819:38626,38820:38520,38821:24459,38822:29575,38823:31435,38824:33870,38825:25504,38826:30053,38827:21129,38828:27969,38829:28316,38830:29705,38831:30041,38832:30827,38833:31890,38834:38534,38835:31452,38836:40845,38837:20406,38838:24942,38839:26053,38840:34396,38841:20102,38842:20142,38843:20698,38844:20001,38845:20940,38846:23534,38847:26009,38848:26753,38849:28092,38850:29471,38851:30274,38852:30637,38853:31260,38854:31975,38855:33391,38856:35538,38857:36988,38858:37327,38859:38517,38860:38936,38861:21147,38862:32209,38863:20523,38864:21400,38865:26519,38866:28107,38867:29136,38868:29747,38869:33256,38870:36650,38871:38563,38872:40023,38873:40607,38874:29792,38875:22593,38876:28057,38877:32047,38878:39006,38879:20196,38880:20278,38881:20363,38882:20919,38883:21169,38884:23994,38885:24604,38886:29618,38887:31036,38888:33491,38889:37428,38890:38583,38891:38646,38892:38666,38893:40599,38894:40802,38895:26278,38896:27508,38897:21015,38898:21155,38899:28872,38900:35010,38901:24265,38902:24651,38903:24976,38904:28451,38905:29001,38906:31806,38907:32244,38908:32879,38976:34030,38977:36899,38978:37676,38979:21570,38980:39791,38981:27347,38982:28809,38983:36034,38984:36335,38985:38706,38986:21172,38987:23105,38988:24266,38989:24324,38990:26391,38991:27004,38992:27028,38993:28010,38994:28431,38995:29282,38996:29436,38997:31725,38998:32769,38999:32894,39e3:34635,39001:37070,39002:20845,39003:40595,39004:31108,39005:32907,39006:37682,39007:35542,39008:20525,39009:21644,39010:35441,39011:27498,39012:36036,39013:33031,39014:24785,39015:26528,39016:40434,39017:20121,39018:20120,39019:39952,39020:35435,39021:34241,39022:34152,39023:26880,39024:28286,39025:30871,39026:33109,39071:24332,39072:19984,39073:19989,39074:20010,39075:20017,39076:20022,39077:20028,39078:20031,39079:20034,39080:20054,39081:20056,39082:20098,39083:20101,39084:35947,39085:20106,39086:33298,39087:24333,39088:20110,39089:20126,39090:20127,39091:20128,39092:20130,39093:20144,39094:20147,39095:20150,39096:20174,39097:20173,39098:20164,39099:20166,39100:20162,39101:20183,39102:20190,39103:20205,39104:20191,39105:20215,39106:20233,39107:20314,39108:20272,39109:20315,39110:20317,39111:20311,39112:20295,39113:20342,39114:20360,39115:20367,39116:20376,39117:20347,39118:20329,39119:20336,39120:20369,39121:20335,39122:20358,39123:20374,39124:20760,39125:20436,39126:20447,39127:20430,39128:20440,39129:20443,39130:20433,39131:20442,39132:20432,39133:20452,39134:20453,39135:20506,39136:20520,39137:20500,39138:20522,39139:20517,39140:20485,39141:20252,39142:20470,39143:20513,39144:20521,39145:20524,39146:20478,39147:20463,39148:20497,39149:20486,39150:20547,39151:20551,39152:26371,39153:20565,39154:20560,39155:20552,39156:20570,39157:20566,39158:20588,39159:20600,39160:20608,39161:20634,39162:20613,39163:20660,39164:20658,39232:20681,39233:20682,39234:20659,39235:20674,39236:20694,39237:20702,39238:20709,39239:20717,39240:20707,39241:20718,39242:20729,39243:20725,39244:20745,39245:20737,39246:20738,39247:20758,39248:20757,39249:20756,39250:20762,39251:20769,39252:20794,39253:20791,39254:20796,39255:20795,39256:20799,39257:20800,39258:20818,39259:20812,39260:20820,39261:20834,39262:31480,39263:20841,39264:20842,39265:20846,39266:20864,39267:20866,39268:22232,39269:20876,39270:20873,39271:20879,39272:20881,39273:20883,39274:20885,39275:20886,39276:20900,39277:20902,39278:20898,39279:20905,39280:20906,39281:20907,39282:20915,39283:20913,39284:20914,39285:20912,39286:20917,39287:20925,39288:20933,39289:20937,39290:20955,39291:20960,39292:34389,39293:20969,39294:20973,39296:20976,39297:20981,39298:20990,39299:20996,39300:21003,39301:21012,39302:21006,39303:21031,39304:21034,39305:21038,39306:21043,39307:21049,39308:21071,39309:21060,39310:21067,39311:21068,39312:21086,39313:21076,39314:21098,39315:21108,39316:21097,39317:21107,39318:21119,39319:21117,39320:21133,39321:21140,39322:21138,39323:21105,39324:21128,39325:21137,39326:36776,39327:36775,39328:21164,39329:21165,39330:21180,39331:21173,39332:21185,39333:21197,39334:21207,39335:21214,39336:21219,39337:21222,39338:39149,39339:21216,39340:21235,39341:21237,39342:21240,39343:21241,39344:21254,39345:21256,39346:30008,39347:21261,39348:21264,39349:21263,39350:21269,39351:21274,39352:21283,39353:21295,39354:21297,39355:21299,39356:21304,39357:21312,39358:21318,39359:21317,39360:19991,39361:21321,39362:21325,39363:20950,39364:21342,39365:21353,39366:21358,39367:22808,39368:21371,39369:21367,39370:21378,39371:21398,39372:21408,39373:21414,39374:21413,39375:21422,39376:21424,39377:21430,39378:21443,39379:31762,39380:38617,39381:21471,39382:26364,39383:29166,39384:21486,39385:21480,39386:21485,39387:21498,39388:21505,39389:21565,39390:21568,39391:21548,39392:21549,39393:21564,39394:21550,39395:21558,39396:21545,39397:21533,39398:21582,39399:21647,39400:21621,39401:21646,39402:21599,39403:21617,39404:21623,39405:21616,39406:21650,39407:21627,39408:21632,39409:21622,39410:21636,39411:21648,39412:21638,39413:21703,39414:21666,39415:21688,39416:21669,39417:21676,39418:21700,39419:21704,39420:21672,39488:21675,39489:21698,39490:21668,39491:21694,39492:21692,39493:21720,39494:21733,39495:21734,39496:21775,39497:21780,39498:21757,39499:21742,39500:21741,39501:21754,39502:21730,39503:21817,39504:21824,39505:21859,39506:21836,39507:21806,39508:21852,39509:21829,39510:21846,39511:21847,39512:21816,39513:21811,39514:21853,39515:21913,39516:21888,39517:21679,39518:21898,39519:21919,39520:21883,39521:21886,39522:21912,39523:21918,39524:21934,39525:21884,39526:21891,39527:21929,39528:21895,39529:21928,39530:21978,39531:21957,39532:21983,39533:21956,39534:21980,39535:21988,39536:21972,39537:22036,39538:22007,39539:22038,39540:22014,39541:22013,39542:22043,39543:22009,39544:22094,39545:22096,39546:29151,39547:22068,39548:22070,39549:22066,39550:22072,39552:22123,39553:22116,39554:22063,39555:22124,39556:22122,39557:22150,39558:22144,39559:22154,39560:22176,39561:22164,39562:22159,39563:22181,39564:22190,39565:22198,39566:22196,39567:22210,39568:22204,39569:22209,39570:22211,39571:22208,39572:22216,39573:22222,39574:22225,39575:22227,39576:22231,39577:22254,39578:22265,39579:22272,39580:22271,39581:22276,39582:22281,39583:22280,39584:22283,39585:22285,39586:22291,39587:22296,39588:22294,39589:21959,39590:22300,39591:22310,39592:22327,39593:22328,39594:22350,39595:22331,39596:22336,39597:22351,39598:22377,39599:22464,39600:22408,39601:22369,39602:22399,39603:22409,39604:22419,39605:22432,39606:22451,39607:22436,39608:22442,39609:22448,39610:22467,39611:22470,39612:22484,39613:22482,39614:22483,39615:22538,39616:22486,39617:22499,39618:22539,39619:22553,39620:22557,39621:22642,39622:22561,39623:22626,39624:22603,39625:22640,39626:27584,39627:22610,39628:22589,39629:22649,39630:22661,39631:22713,39632:22687,39633:22699,39634:22714,39635:22750,39636:22715,39637:22712,39638:22702,39639:22725,39640:22739,39641:22737,39642:22743,39643:22745,39644:22744,39645:22757,39646:22748,39647:22756,39648:22751,39649:22767,39650:22778,39651:22777,39652:22779,39653:22780,39654:22781,39655:22786,39656:22794,39657:22800,39658:22811,39659:26790,39660:22821,39661:22828,39662:22829,39663:22834,39664:22840,39665:22846,39666:31442,39667:22869,39668:22864,39669:22862,39670:22874,39671:22872,39672:22882,39673:22880,39674:22887,39675:22892,39676:22889,39744:22904,39745:22913,39746:22941,39747:20318,39748:20395,39749:22947,39750:22962,39751:22982,39752:23016,39753:23004,39754:22925,39755:23001,39756:23002,39757:23077,39758:23071,39759:23057,39760:23068,39761:23049,39762:23066,39763:23104,39764:23148,39765:23113,39766:23093,39767:23094,39768:23138,39769:23146,39770:23194,39771:23228,39772:23230,39773:23243,39774:23234,39775:23229,39776:23267,39777:23255,39778:23270,39779:23273,39780:23254,39781:23290,39782:23291,39783:23308,39784:23307,39785:23318,39786:23346,39787:23248,39788:23338,39789:23350,39790:23358,39791:23363,39792:23365,39793:23360,39794:23377,39795:23381,39796:23386,39797:23387,39798:23397,39799:23401,39800:23408,39801:23411,39802:23413,39803:23416,39804:25992,39805:23418,39806:23424,39808:23427,39809:23462,39810:23480,39811:23491,39812:23495,39813:23497,39814:23508,39815:23504,39816:23524,39817:23526,39818:23522,39819:23518,39820:23525,39821:23531,39822:23536,39823:23542,39824:23539,39825:23557,39826:23559,39827:23560,39828:23565,39829:23571,39830:23584,39831:23586,39832:23592,39833:23608,39834:23609,39835:23617,39836:23622,39837:23630,39838:23635,39839:23632,39840:23631,39841:23409,39842:23660,39843:23662,39844:20066,39845:23670,39846:23673,39847:23692,39848:23697,39849:23700,39850:22939,39851:23723,39852:23739,39853:23734,39854:23740,39855:23735,39856:23749,39857:23742,39858:23751,39859:23769,39860:23785,39861:23805,39862:23802,39863:23789,39864:23948,39865:23786,39866:23819,39867:23829,39868:23831,39869:23900,39870:23839,39871:23835,39872:23825,39873:23828,39874:23842,39875:23834,39876:23833,39877:23832,39878:23884,39879:23890,39880:23886,39881:23883,39882:23916,39883:23923,39884:23926,39885:23943,39886:23940,39887:23938,39888:23970,39889:23965,39890:23980,39891:23982,39892:23997,39893:23952,39894:23991,39895:23996,39896:24009,39897:24013,39898:24019,39899:24018,39900:24022,39901:24027,39902:24043,39903:24050,39904:24053,39905:24075,39906:24090,39907:24089,39908:24081,39909:24091,39910:24118,39911:24119,39912:24132,39913:24131,39914:24128,39915:24142,39916:24151,39917:24148,39918:24159,39919:24162,39920:24164,39921:24135,39922:24181,39923:24182,39924:24186,39925:40636,39926:24191,39927:24224,39928:24257,39929:24258,39930:24264,39931:24272,39932:24271,4e4:24278,40001:24291,40002:24285,40003:24282,40004:24283,40005:24290,40006:24289,40007:24296,40008:24297,40009:24300,40010:24305,40011:24307,40012:24304,40013:24308,40014:24312,40015:24318,40016:24323,40017:24329,40018:24413,40019:24412,40020:24331,40021:24337,40022:24342,40023:24361,40024:24365,40025:24376,40026:24385,40027:24392,40028:24396,40029:24398,40030:24367,40031:24401,40032:24406,40033:24407,40034:24409,40035:24417,40036:24429,40037:24435,40038:24439,40039:24451,40040:24450,40041:24447,40042:24458,40043:24456,40044:24465,40045:24455,40046:24478,40047:24473,40048:24472,40049:24480,40050:24488,40051:24493,40052:24508,40053:24534,40054:24571,40055:24548,40056:24568,40057:24561,40058:24541,40059:24755,40060:24575,40061:24609,40062:24672,40064:24601,40065:24592,40066:24617,40067:24590,40068:24625,40069:24603,40070:24597,40071:24619,40072:24614,40073:24591,40074:24634,40075:24666,40076:24641,40077:24682,40078:24695,40079:24671,40080:24650,40081:24646,40082:24653,40083:24675,40084:24643,40085:24676,40086:24642,40087:24684,40088:24683,40089:24665,40090:24705,40091:24717,40092:24807,40093:24707,40094:24730,40095:24708,40096:24731,40097:24726,40098:24727,40099:24722,40100:24743,40101:24715,40102:24801,40103:24760,40104:24800,40105:24787,40106:24756,40107:24560,40108:24765,40109:24774,40110:24757,40111:24792,40112:24909,40113:24853,40114:24838,40115:24822,40116:24823,40117:24832,40118:24820,40119:24826,40120:24835,40121:24865,40122:24827,40123:24817,40124:24845,40125:24846,40126:24903,40127:24894,40128:24872,40129:24871,40130:24906,40131:24895,40132:24892,40133:24876,40134:24884,40135:24893,40136:24898,40137:24900,40138:24947,40139:24951,40140:24920,40141:24921,40142:24922,40143:24939,40144:24948,40145:24943,40146:24933,40147:24945,40148:24927,40149:24925,40150:24915,40151:24949,40152:24985,40153:24982,40154:24967,40155:25004,40156:24980,40157:24986,40158:24970,40159:24977,40160:25003,40161:25006,40162:25036,40163:25034,40164:25033,40165:25079,40166:25032,40167:25027,40168:25030,40169:25018,40170:25035,40171:32633,40172:25037,40173:25062,40174:25059,40175:25078,40176:25082,40177:25076,40178:25087,40179:25085,40180:25084,40181:25086,40182:25088,40183:25096,40184:25097,40185:25101,40186:25100,40187:25108,40188:25115,40256:25118,40257:25121,40258:25130,40259:25134,40260:25136,40261:25138,40262:25139,40263:25153,40264:25166,40265:25182,40266:25187,40267:25179,40268:25184,40269:25192,40270:25212,40271:25218,40272:25225,40273:25214,40274:25234,40275:25235,40276:25238,40277:25300,40278:25219,40279:25236,40280:25303,40281:25297,40282:25275,40283:25295,40284:25343,40285:25286,40286:25812,40287:25288,40288:25308,40289:25292,40290:25290,40291:25282,40292:25287,40293:25243,40294:25289,40295:25356,40296:25326,40297:25329,40298:25383,40299:25346,40300:25352,40301:25327,40302:25333,40303:25424,40304:25406,40305:25421,40306:25628,40307:25423,40308:25494,40309:25486,40310:25472,40311:25515,40312:25462,40313:25507,40314:25487,40315:25481,40316:25503,40317:25525,40318:25451,40320:25449,40321:25534,40322:25577,40323:25536,40324:25542,40325:25571,40326:25545,40327:25554,40328:25590,40329:25540,40330:25622,40331:25652,40332:25606,40333:25619,40334:25638,40335:25654,40336:25885,40337:25623,40338:25640,40339:25615,40340:25703,40341:25711,40342:25718,40343:25678,40344:25898,40345:25749,40346:25747,40347:25765,40348:25769,40349:25736,40350:25788,40351:25818,40352:25810,40353:25797,40354:25799,40355:25787,40356:25816,40357:25794,40358:25841,40359:25831,40360:33289,40361:25824,40362:25825,40363:25260,40364:25827,40365:25839,40366:25900,40367:25846,40368:25844,40369:25842,40370:25850,40371:25856,40372:25853,40373:25880,40374:25884,40375:25861,40376:25892,40377:25891,40378:25899,40379:25908,40380:25909,40381:25911,40382:25910,40383:25912,40384:30027,40385:25928,40386:25942,40387:25941,40388:25933,40389:25944,40390:25950,40391:25949,40392:25970,40393:25976,40394:25986,40395:25987,40396:35722,40397:26011,40398:26015,40399:26027,40400:26039,40401:26051,40402:26054,40403:26049,40404:26052,40405:26060,40406:26066,40407:26075,40408:26073,40409:26080,40410:26081,40411:26097,40412:26482,40413:26122,40414:26115,40415:26107,40416:26483,40417:26165,40418:26166,40419:26164,40420:26140,40421:26191,40422:26180,40423:26185,40424:26177,40425:26206,40426:26205,40427:26212,40428:26215,40429:26216,40430:26207,40431:26210,40432:26224,40433:26243,40434:26248,40435:26254,40436:26249,40437:26244,40438:26264,40439:26269,40440:26305,40441:26297,40442:26313,40443:26302,40444:26300,40512:26308,40513:26296,40514:26326,40515:26330,40516:26336,40517:26175,40518:26342,40519:26345,40520:26352,40521:26357,40522:26359,40523:26383,40524:26390,40525:26398,40526:26406,40527:26407,40528:38712,40529:26414,40530:26431,40531:26422,40532:26433,40533:26424,40534:26423,40535:26438,40536:26462,40537:26464,40538:26457,40539:26467,40540:26468,40541:26505,40542:26480,40543:26537,40544:26492,40545:26474,40546:26508,40547:26507,40548:26534,40549:26529,40550:26501,40551:26551,40552:26607,40553:26548,40554:26604,40555:26547,40556:26601,40557:26552,40558:26596,40559:26590,40560:26589,40561:26594,40562:26606,40563:26553,40564:26574,40565:26566,40566:26599,40567:27292,40568:26654,40569:26694,40570:26665,40571:26688,40572:26701,40573:26674,40574:26702,40576:26803,40577:26667,40578:26713,40579:26723,40580:26743,40581:26751,40582:26783,40583:26767,40584:26797,40585:26772,40586:26781,40587:26779,40588:26755,40589:27310,40590:26809,40591:26740,40592:26805,40593:26784,40594:26810,40595:26895,40596:26765,40597:26750,40598:26881,40599:26826,40600:26888,40601:26840,40602:26914,40603:26918,40604:26849,40605:26892,40606:26829,40607:26836,40608:26855,40609:26837,40610:26934,40611:26898,40612:26884,40613:26839,40614:26851,40615:26917,40616:26873,40617:26848,40618:26863,40619:26920,40620:26922,40621:26906,40622:26915,40623:26913,40624:26822,40625:27001,40626:26999,40627:26972,40628:27e3,40629:26987,40630:26964,40631:27006,40632:26990,40633:26937,40634:26996,40635:26941,40636:26969,40637:26928,40638:26977,40639:26974,40640:26973,40641:27009,40642:26986,40643:27058,40644:27054,40645:27088,40646:27071,40647:27073,40648:27091,40649:27070,40650:27086,40651:23528,40652:27082,40653:27101,40654:27067,40655:27075,40656:27047,40657:27182,40658:27025,40659:27040,40660:27036,40661:27029,40662:27060,40663:27102,40664:27112,40665:27138,40666:27163,40667:27135,40668:27402,40669:27129,40670:27122,40671:27111,40672:27141,40673:27057,40674:27166,40675:27117,40676:27156,40677:27115,40678:27146,40679:27154,40680:27329,40681:27171,40682:27155,40683:27204,40684:27148,40685:27250,40686:27190,40687:27256,40688:27207,40689:27234,40690:27225,40691:27238,40692:27208,40693:27192,40694:27170,40695:27280,40696:27277,40697:27296,40698:27268,40699:27298,40700:27299,40768:27287,40769:34327,40770:27323,40771:27331,40772:27330,40773:27320,40774:27315,40775:27308,40776:27358,40777:27345,40778:27359,40779:27306,40780:27354,40781:27370,40782:27387,40783:27397,40784:34326,40785:27386,40786:27410,40787:27414,40788:39729,40789:27423,40790:27448,40791:27447,40792:30428,40793:27449,40794:39150,40795:27463,40796:27459,40797:27465,40798:27472,40799:27481,40800:27476,40801:27483,40802:27487,40803:27489,40804:27512,40805:27513,40806:27519,40807:27520,40808:27524,40809:27523,40810:27533,40811:27544,40812:27541,40813:27550,40814:27556,40815:27562,40816:27563,40817:27567,40818:27570,40819:27569,40820:27571,40821:27575,40822:27580,40823:27590,40824:27595,40825:27603,40826:27615,40827:27628,40828:27627,40829:27635,40830:27631,40832:40638,40833:27656,40834:27667,40835:27668,40836:27675,40837:27684,40838:27683,40839:27742,40840:27733,40841:27746,40842:27754,40843:27778,40844:27789,40845:27802,40846:27777,40847:27803,40848:27774,40849:27752,40850:27763,40851:27794,40852:27792,40853:27844,40854:27889,40855:27859,40856:27837,40857:27863,40858:27845,40859:27869,40860:27822,40861:27825,40862:27838,40863:27834,40864:27867,40865:27887,40866:27865,40867:27882,40868:27935,40869:34893,40870:27958,40871:27947,40872:27965,40873:27960,40874:27929,40875:27957,40876:27955,40877:27922,40878:27916,40879:28003,40880:28051,40881:28004,40882:27994,40883:28025,40884:27993,40885:28046,40886:28053,40887:28644,40888:28037,40889:28153,40890:28181,40891:28170,40892:28085,40893:28103,40894:28134,40895:28088,40896:28102,40897:28140,40898:28126,40899:28108,40900:28136,40901:28114,40902:28101,40903:28154,40904:28121,40905:28132,40906:28117,40907:28138,40908:28142,40909:28205,40910:28270,40911:28206,40912:28185,40913:28274,40914:28255,40915:28222,40916:28195,40917:28267,40918:28203,40919:28278,40920:28237,40921:28191,40922:28227,40923:28218,40924:28238,40925:28196,40926:28415,40927:28189,40928:28216,40929:28290,40930:28330,40931:28312,40932:28361,40933:28343,40934:28371,40935:28349,40936:28335,40937:28356,40938:28338,40939:28372,40940:28373,40941:28303,40942:28325,40943:28354,40944:28319,40945:28481,40946:28433,40947:28748,40948:28396,40949:28408,40950:28414,40951:28479,40952:28402,40953:28465,40954:28399,40955:28466,40956:28364,161:65377,162:65378,163:65379,164:65380,165:65381,166:65382,167:65383,168:65384,169:65385,170:65386,171:65387,172:65388,173:65389,174:65390,175:65391,176:65392,177:65393,178:65394,179:65395,180:65396,181:65397,182:65398,183:65399,184:65400,185:65401,186:65402,187:65403,188:65404,189:65405,190:65406,191:65407,192:65408,193:65409,194:65410,195:65411,196:65412,197:65413,198:65414,199:65415,200:65416,201:65417,202:65418,203:65419,204:65420,205:65421,206:65422,207:65423,208:65424,209:65425,210:65426,211:65427,212:65428,213:65429,214:65430,215:65431,216:65432,217:65433,218:65434,219:65435,220:65436,221:65437,222:65438,223:65439,57408:28478,57409:28435,57410:28407,57411:28550,57412:28538,57413:28536,57414:28545,57415:28544,57416:28527,57417:28507,57418:28659,57419:28525,57420:28546,57421:28540,57422:28504,57423:28558,57424:28561,57425:28610,57426:28518,57427:28595,57428:28579,57429:28577,57430:28580,57431:28601,57432:28614,57433:28586,57434:28639,57435:28629,57436:28652,57437:28628,57438:28632,57439:28657,57440:28654,57441:28635,57442:28681,57443:28683,57444:28666,57445:28689,57446:28673,57447:28687,57448:28670,57449:28699,57450:28698,57451:28532,57452:28701,57453:28696,57454:28703,57455:28720,57456:28734,57457:28722,57458:28753,57459:28771,57460:28825,57461:28818,57462:28847,57463:28913,57464:28844,57465:28856,57466:28851,57467:28846,57468:28895,57469:28875,57470:28893,57472:28889,57473:28937,57474:28925,57475:28956,57476:28953,57477:29029,57478:29013,57479:29064,57480:29030,57481:29026,57482:29004,57483:29014,57484:29036,57485:29071,57486:29179,57487:29060,57488:29077,57489:29096,57490:29100,57491:29143,57492:29113,57493:29118,57494:29138,57495:29129,57496:29140,57497:29134,57498:29152,57499:29164,57500:29159,57501:29173,57502:29180,57503:29177,57504:29183,57505:29197,57506:29200,57507:29211,57508:29224,57509:29229,57510:29228,57511:29232,57512:29234,57513:29243,57514:29244,57515:29247,57516:29248,57517:29254,57518:29259,57519:29272,57520:29300,57521:29310,57522:29314,57523:29313,57524:29319,57525:29330,57526:29334,57527:29346,57528:29351,57529:29369,57530:29362,57531:29379,57532:29382,57533:29380,57534:29390,57535:29394,57536:29410,57537:29408,57538:29409,57539:29433,57540:29431,57541:20495,57542:29463,57543:29450,57544:29468,57545:29462,57546:29469,57547:29492,57548:29487,57549:29481,57550:29477,57551:29502,57552:29518,57553:29519,57554:40664,57555:29527,57556:29546,57557:29544,57558:29552,57559:29560,57560:29557,57561:29563,57562:29562,57563:29640,57564:29619,57565:29646,57566:29627,57567:29632,57568:29669,57569:29678,57570:29662,57571:29858,57572:29701,57573:29807,57574:29733,57575:29688,57576:29746,57577:29754,57578:29781,57579:29759,57580:29791,57581:29785,57582:29761,57583:29788,57584:29801,57585:29808,57586:29795,57587:29802,57588:29814,57589:29822,57590:29835,57591:29854,57592:29863,57593:29898,57594:29903,57595:29908,57596:29681,57664:29920,57665:29923,57666:29927,57667:29929,57668:29934,57669:29938,57670:29936,57671:29937,57672:29944,57673:29943,57674:29956,57675:29955,57676:29957,57677:29964,57678:29966,57679:29965,57680:29973,57681:29971,57682:29982,57683:29990,57684:29996,57685:30012,57686:30020,57687:30029,57688:30026,57689:30025,57690:30043,57691:30022,57692:30042,57693:30057,57694:30052,57695:30055,57696:30059,57697:30061,57698:30072,57699:30070,57700:30086,57701:30087,57702:30068,57703:30090,57704:30089,57705:30082,57706:30100,57707:30106,57708:30109,57709:30117,57710:30115,57711:30146,57712:30131,57713:30147,57714:30133,57715:30141,57716:30136,57717:30140,57718:30129,57719:30157,57720:30154,57721:30162,57722:30169,57723:30179,57724:30174,57725:30206,57726:30207,57728:30204,57729:30209,57730:30192,57731:30202,57732:30194,57733:30195,57734:30219,57735:30221,57736:30217,57737:30239,57738:30247,57739:30240,57740:30241,57741:30242,57742:30244,57743:30260,57744:30256,57745:30267,57746:30279,57747:30280,57748:30278,57749:30300,57750:30296,57751:30305,57752:30306,57753:30312,57754:30313,57755:30314,57756:30311,57757:30316,57758:30320,57759:30322,57760:30326,57761:30328,57762:30332,57763:30336,57764:30339,57765:30344,57766:30347,57767:30350,57768:30358,57769:30355,57770:30361,57771:30362,57772:30384,57773:30388,57774:30392,57775:30393,57776:30394,57777:30402,57778:30413,57779:30422,57780:30418,57781:30430,57782:30433,57783:30437,57784:30439,57785:30442,57786:34351,57787:30459,57788:30472,57789:30471,57790:30468,57791:30505,57792:30500,57793:30494,57794:30501,57795:30502,57796:30491,57797:30519,57798:30520,57799:30535,57800:30554,57801:30568,57802:30571,57803:30555,57804:30565,57805:30591,57806:30590,57807:30585,57808:30606,57809:30603,57810:30609,57811:30624,57812:30622,57813:30640,57814:30646,57815:30649,57816:30655,57817:30652,57818:30653,57819:30651,57820:30663,57821:30669,57822:30679,57823:30682,57824:30684,57825:30691,57826:30702,57827:30716,57828:30732,57829:30738,57830:31014,57831:30752,57832:31018,57833:30789,57834:30862,57835:30836,57836:30854,57837:30844,57838:30874,57839:30860,57840:30883,57841:30901,57842:30890,57843:30895,57844:30929,57845:30918,57846:30923,57847:30932,57848:30910,57849:30908,57850:30917,57851:30922,57852:30956,57920:30951,57921:30938,57922:30973,57923:30964,57924:30983,57925:30994,57926:30993,57927:31001,57928:31020,57929:31019,57930:31040,57931:31072,57932:31063,57933:31071,57934:31066,57935:31061,57936:31059,57937:31098,57938:31103,57939:31114,57940:31133,57941:31143,57942:40779,57943:31146,57944:31150,57945:31155,57946:31161,57947:31162,57948:31177,57949:31189,57950:31207,57951:31212,57952:31201,57953:31203,57954:31240,57955:31245,57956:31256,57957:31257,57958:31264,57959:31263,57960:31104,57961:31281,57962:31291,57963:31294,57964:31287,57965:31299,57966:31319,57967:31305,57968:31329,57969:31330,57970:31337,57971:40861,57972:31344,57973:31353,57974:31357,57975:31368,57976:31383,57977:31381,57978:31384,57979:31382,57980:31401,57981:31432,57982:31408,57984:31414,57985:31429,57986:31428,57987:31423,57988:36995,57989:31431,57990:31434,57991:31437,57992:31439,57993:31445,57994:31443,57995:31449,57996:31450,57997:31453,57998:31457,57999:31458,58e3:31462,58001:31469,58002:31472,58003:31490,58004:31503,58005:31498,58006:31494,58007:31539,58008:31512,58009:31513,58010:31518,58011:31541,58012:31528,58013:31542,58014:31568,58015:31610,58016:31492,58017:31565,58018:31499,58019:31564,58020:31557,58021:31605,58022:31589,58023:31604,58024:31591,58025:31600,58026:31601,58027:31596,58028:31598,58029:31645,58030:31640,58031:31647,58032:31629,58033:31644,58034:31642,58035:31627,58036:31634,58037:31631,58038:31581,58039:31641,58040:31691,58041:31681,58042:31692,58043:31695,58044:31668,58045:31686,58046:31709,58047:31721,58048:31761,58049:31764,58050:31718,58051:31717,58052:31840,58053:31744,58054:31751,58055:31763,58056:31731,58057:31735,58058:31767,58059:31757,58060:31734,58061:31779,58062:31783,58063:31786,58064:31775,58065:31799,58066:31787,58067:31805,58068:31820,58069:31811,58070:31828,58071:31823,58072:31808,58073:31824,58074:31832,58075:31839,58076:31844,58077:31830,58078:31845,58079:31852,58080:31861,58081:31875,58082:31888,58083:31908,58084:31917,58085:31906,58086:31915,58087:31905,58088:31912,58089:31923,58090:31922,58091:31921,58092:31918,58093:31929,58094:31933,58095:31936,58096:31941,58097:31938,58098:31960,58099:31954,58100:31964,58101:31970,58102:39739,58103:31983,58104:31986,58105:31988,58106:31990,58107:31994,58108:32006,58176:32002,58177:32028,58178:32021,58179:32010,58180:32069,58181:32075,58182:32046,58183:32050,58184:32063,58185:32053,58186:32070,58187:32115,58188:32086,58189:32078,58190:32114,58191:32104,58192:32110,58193:32079,58194:32099,58195:32147,58196:32137,58197:32091,58198:32143,58199:32125,58200:32155,58201:32186,58202:32174,58203:32163,58204:32181,58205:32199,58206:32189,58207:32171,58208:32317,58209:32162,58210:32175,58211:32220,58212:32184,58213:32159,58214:32176,58215:32216,58216:32221,58217:32228,58218:32222,58219:32251,58220:32242,58221:32225,58222:32261,58223:32266,58224:32291,58225:32289,58226:32274,58227:32305,58228:32287,58229:32265,58230:32267,58231:32290,58232:32326,58233:32358,58234:32315,58235:32309,58236:32313,58237:32323,58238:32311,58240:32306,58241:32314,58242:32359,58243:32349,58244:32342,58245:32350,58246:32345,58247:32346,58248:32377,58249:32362,58250:32361,58251:32380,58252:32379,58253:32387,58254:32213,58255:32381,58256:36782,58257:32383,58258:32392,58259:32393,58260:32396,58261:32402,58262:32400,58263:32403,58264:32404,58265:32406,58266:32398,58267:32411,58268:32412,58269:32568,58270:32570,58271:32581,58272:32588,58273:32589,58274:32590,58275:32592,58276:32593,58277:32597,58278:32596,58279:32600,58280:32607,58281:32608,58282:32616,58283:32617,58284:32615,58285:32632,58286:32642,58287:32646,58288:32643,58289:32648,58290:32647,58291:32652,58292:32660,58293:32670,58294:32669,58295:32666,58296:32675,58297:32687,58298:32690,58299:32697,58300:32686,58301:32694,58302:32696,58303:35697,58304:32709,58305:32710,58306:32714,58307:32725,58308:32724,58309:32737,58310:32742,58311:32745,58312:32755,58313:32761,58314:39132,58315:32774,58316:32772,58317:32779,58318:32786,58319:32792,58320:32793,58321:32796,58322:32801,58323:32808,58324:32831,58325:32827,58326:32842,58327:32838,58328:32850,58329:32856,58330:32858,58331:32863,58332:32866,58333:32872,58334:32883,58335:32882,58336:32880,58337:32886,58338:32889,58339:32893,58340:32895,58341:32900,58342:32902,58343:32901,58344:32923,58345:32915,58346:32922,58347:32941,58348:20880,58349:32940,58350:32987,58351:32997,58352:32985,58353:32989,58354:32964,58355:32986,58356:32982,58357:33033,58358:33007,58359:33009,58360:33051,58361:33065,58362:33059,58363:33071,58364:33099,58432:38539,58433:33094,58434:33086,58435:33107,58436:33105,58437:33020,58438:33137,58439:33134,58440:33125,58441:33126,58442:33140,58443:33155,58444:33160,58445:33162,58446:33152,58447:33154,58448:33184,58449:33173,58450:33188,58451:33187,58452:33119,58453:33171,58454:33193,58455:33200,58456:33205,58457:33214,58458:33208,58459:33213,58460:33216,58461:33218,58462:33210,58463:33225,58464:33229,58465:33233,58466:33241,58467:33240,58468:33224,58469:33242,58470:33247,58471:33248,58472:33255,58473:33274,58474:33275,58475:33278,58476:33281,58477:33282,58478:33285,58479:33287,58480:33290,58481:33293,58482:33296,58483:33302,58484:33321,58485:33323,58486:33336,58487:33331,58488:33344,58489:33369,58490:33368,58491:33373,58492:33370,58493:33375,58494:33380,58496:33378,58497:33384,58498:33386,58499:33387,58500:33326,58501:33393,58502:33399,58503:33400,58504:33406,58505:33421,58506:33426,58507:33451,58508:33439,58509:33467,58510:33452,58511:33505,58512:33507,58513:33503,58514:33490,58515:33524,58516:33523,58517:33530,58518:33683,58519:33539,58520:33531,58521:33529,58522:33502,58523:33542,58524:33500,58525:33545,58526:33497,58527:33589,58528:33588,58529:33558,58530:33586,58531:33585,58532:33600,58533:33593,58534:33616,58535:33605,58536:33583,58537:33579,58538:33559,58539:33560,58540:33669,58541:33690,58542:33706,58543:33695,58544:33698,58545:33686,58546:33571,58547:33678,58548:33671,58549:33674,58550:33660,58551:33717,58552:33651,58553:33653,58554:33696,58555:33673,58556:33704,58557:33780,58558:33811,58559:33771,58560:33742,58561:33789,58562:33795,58563:33752,58564:33803,58565:33729,58566:33783,58567:33799,58568:33760,58569:33778,58570:33805,58571:33826,58572:33824,58573:33725,58574:33848,58575:34054,58576:33787,58577:33901,58578:33834,58579:33852,58580:34138,58581:33924,58582:33911,58583:33899,58584:33965,58585:33902,58586:33922,58587:33897,58588:33862,58589:33836,58590:33903,58591:33913,58592:33845,58593:33994,58594:33890,58595:33977,58596:33983,58597:33951,58598:34009,58599:33997,58600:33979,58601:34010,58602:34e3,58603:33985,58604:33990,58605:34006,58606:33953,58607:34081,58608:34047,58609:34036,58610:34071,58611:34072,58612:34092,58613:34079,58614:34069,58615:34068,58616:34044,58617:34112,58618:34147,58619:34136,58620:34120,58688:34113,58689:34306,58690:34123,58691:34133,58692:34176,58693:34212,58694:34184,58695:34193,58696:34186,58697:34216,58698:34157,58699:34196,58700:34203,58701:34282,58702:34183,58703:34204,58704:34167,58705:34174,58706:34192,58707:34249,58708:34234,58709:34255,58710:34233,58711:34256,58712:34261,58713:34269,58714:34277,58715:34268,58716:34297,58717:34314,58718:34323,58719:34315,58720:34302,58721:34298,58722:34310,58723:34338,58724:34330,58725:34352,58726:34367,58727:34381,58728:20053,58729:34388,58730:34399,58731:34407,58732:34417,58733:34451,58734:34467,58735:34473,58736:34474,58737:34443,58738:34444,58739:34486,58740:34479,58741:34500,58742:34502,58743:34480,58744:34505,58745:34851,58746:34475,58747:34516,58748:34526,58749:34537,58750:34540,58752:34527,58753:34523,58754:34543,58755:34578,58756:34566,58757:34568,58758:34560,58759:34563,58760:34555,58761:34577,58762:34569,58763:34573,58764:34553,58765:34570,58766:34612,58767:34623,58768:34615,58769:34619,58770:34597,58771:34601,58772:34586,58773:34656,58774:34655,58775:34680,58776:34636,58777:34638,58778:34676,58779:34647,58780:34664,58781:34670,58782:34649,58783:34643,58784:34659,58785:34666,58786:34821,58787:34722,58788:34719,58789:34690,58790:34735,58791:34763,58792:34749,58793:34752,58794:34768,58795:38614,58796:34731,58797:34756,58798:34739,58799:34759,58800:34758,58801:34747,58802:34799,58803:34802,58804:34784,58805:34831,58806:34829,58807:34814,58808:34806,58809:34807,58810:34830,58811:34770,58812:34833,58813:34838,58814:34837,58815:34850,58816:34849,58817:34865,58818:34870,58819:34873,58820:34855,58821:34875,58822:34884,58823:34882,58824:34898,58825:34905,58826:34910,58827:34914,58828:34923,58829:34945,58830:34942,58831:34974,58832:34933,58833:34941,58834:34997,58835:34930,58836:34946,58837:34967,58838:34962,58839:34990,58840:34969,58841:34978,58842:34957,58843:34980,58844:34992,58845:35007,58846:34993,58847:35011,58848:35012,58849:35028,58850:35032,58851:35033,58852:35037,58853:35065,58854:35074,58855:35068,58856:35060,58857:35048,58858:35058,58859:35076,58860:35084,58861:35082,58862:35091,58863:35139,58864:35102,58865:35109,58866:35114,58867:35115,58868:35137,58869:35140,58870:35131,58871:35126,58872:35128,58873:35148,58874:35101,58875:35168,58876:35166,58944:35174,58945:35172,58946:35181,58947:35178,58948:35183,58949:35188,58950:35191,58951:35198,58952:35203,58953:35208,58954:35210,58955:35219,58956:35224,58957:35233,58958:35241,58959:35238,58960:35244,58961:35247,58962:35250,58963:35258,58964:35261,58965:35263,58966:35264,58967:35290,58968:35292,58969:35293,58970:35303,58971:35316,58972:35320,58973:35331,58974:35350,58975:35344,58976:35340,58977:35355,58978:35357,58979:35365,58980:35382,58981:35393,58982:35419,58983:35410,58984:35398,58985:35400,58986:35452,58987:35437,58988:35436,58989:35426,58990:35461,58991:35458,58992:35460,58993:35496,58994:35489,58995:35473,58996:35493,58997:35494,58998:35482,58999:35491,59e3:35524,59001:35533,59002:35522,59003:35546,59004:35563,59005:35571,59006:35559,59008:35556,59009:35569,59010:35604,59011:35552,59012:35554,59013:35575,59014:35550,59015:35547,59016:35596,59017:35591,59018:35610,59019:35553,59020:35606,59021:35600,59022:35607,59023:35616,59024:35635,59025:38827,59026:35622,59027:35627,59028:35646,59029:35624,59030:35649,59031:35660,59032:35663,59033:35662,59034:35657,59035:35670,59036:35675,59037:35674,59038:35691,59039:35679,59040:35692,59041:35695,59042:35700,59043:35709,59044:35712,59045:35724,59046:35726,59047:35730,59048:35731,59049:35734,59050:35737,59051:35738,59052:35898,59053:35905,59054:35903,59055:35912,59056:35916,59057:35918,59058:35920,59059:35925,59060:35938,59061:35948,59062:35960,59063:35962,59064:35970,59065:35977,59066:35973,59067:35978,59068:35981,59069:35982,59070:35988,59071:35964,59072:35992,59073:25117,59074:36013,59075:36010,59076:36029,59077:36018,59078:36019,59079:36014,59080:36022,59081:36040,59082:36033,59083:36068,59084:36067,59085:36058,59086:36093,59087:36090,59088:36091,59089:36100,59090:36101,59091:36106,59092:36103,59093:36111,59094:36109,59095:36112,59096:40782,59097:36115,59098:36045,59099:36116,59100:36118,59101:36199,59102:36205,59103:36209,59104:36211,59105:36225,59106:36249,59107:36290,59108:36286,59109:36282,59110:36303,59111:36314,59112:36310,59113:36300,59114:36315,59115:36299,59116:36330,59117:36331,59118:36319,59119:36323,59120:36348,59121:36360,59122:36361,59123:36351,59124:36381,59125:36382,59126:36368,59127:36383,59128:36418,59129:36405,59130:36400,59131:36404,59132:36426,59200:36423,59201:36425,59202:36428,59203:36432,59204:36424,59205:36441,59206:36452,59207:36448,59208:36394,59209:36451,59210:36437,59211:36470,59212:36466,59213:36476,59214:36481,59215:36487,59216:36485,59217:36484,59218:36491,59219:36490,59220:36499,59221:36497,59222:36500,59223:36505,59224:36522,59225:36513,59226:36524,59227:36528,59228:36550,59229:36529,59230:36542,59231:36549,59232:36552,59233:36555,59234:36571,59235:36579,59236:36604,59237:36603,59238:36587,59239:36606,59240:36618,59241:36613,59242:36629,59243:36626,59244:36633,59245:36627,59246:36636,59247:36639,59248:36635,59249:36620,59250:36646,59251:36659,59252:36667,59253:36665,59254:36677,59255:36674,59256:36670,59257:36684,59258:36681,59259:36678,59260:36686,59261:36695,59262:36700,59264:36706,59265:36707,59266:36708,59267:36764,59268:36767,59269:36771,59270:36781,59271:36783,59272:36791,59273:36826,59274:36837,59275:36834,59276:36842,59277:36847,59278:36999,59279:36852,59280:36869,59281:36857,59282:36858,59283:36881,59284:36885,59285:36897,59286:36877,59287:36894,59288:36886,59289:36875,59290:36903,59291:36918,59292:36917,59293:36921,59294:36856,59295:36943,59296:36944,59297:36945,59298:36946,59299:36878,59300:36937,59301:36926,59302:36950,59303:36952,59304:36958,59305:36968,59306:36975,59307:36982,59308:38568,59309:36978,59310:36994,59311:36989,59312:36993,59313:36992,59314:37002,59315:37001,59316:37007,59317:37032,59318:37039,59319:37041,59320:37045,59321:37090,59322:37092,59323:25160,59324:37083,59325:37122,59326:37138,59327:37145,59328:37170,59329:37168,59330:37194,59331:37206,59332:37208,59333:37219,59334:37221,59335:37225,59336:37235,59337:37234,59338:37259,59339:37257,59340:37250,59341:37282,59342:37291,59343:37295,59344:37290,59345:37301,59346:37300,59347:37306,59348:37312,59349:37313,59350:37321,59351:37323,59352:37328,59353:37334,59354:37343,59355:37345,59356:37339,59357:37372,59358:37365,59359:37366,59360:37406,59361:37375,59362:37396,59363:37420,59364:37397,59365:37393,59366:37470,59367:37463,59368:37445,59369:37449,59370:37476,59371:37448,59372:37525,59373:37439,59374:37451,59375:37456,59376:37532,59377:37526,59378:37523,59379:37531,59380:37466,59381:37583,59382:37561,59383:37559,59384:37609,59385:37647,59386:37626,59387:37700,59388:37678,59456:37657,59457:37666,59458:37658,59459:37667,59460:37690,59461:37685,59462:37691,59463:37724,59464:37728,59465:37756,59466:37742,59467:37718,59468:37808,59469:37804,59470:37805,59471:37780,59472:37817,59473:37846,59474:37847,59475:37864,59476:37861,59477:37848,59478:37827,59479:37853,59480:37840,59481:37832,59482:37860,59483:37914,59484:37908,59485:37907,59486:37891,59487:37895,59488:37904,59489:37942,59490:37931,59491:37941,59492:37921,59493:37946,59494:37953,59495:37970,59496:37956,59497:37979,59498:37984,59499:37986,59500:37982,59501:37994,59502:37417,59503:38e3,59504:38005,59505:38007,59506:38013,59507:37978,59508:38012,59509:38014,59510:38017,59511:38015,59512:38274,59513:38279,59514:38282,59515:38292,59516:38294,59517:38296,59518:38297,59520:38304,59521:38312,59522:38311,59523:38317,59524:38332,59525:38331,59526:38329,59527:38334,59528:38346,59529:28662,59530:38339,59531:38349,59532:38348,59533:38357,59534:38356,59535:38358,59536:38364,59537:38369,59538:38373,59539:38370,59540:38433,59541:38440,59542:38446,59543:38447,59544:38466,59545:38476,59546:38479,59547:38475,59548:38519,59549:38492,59550:38494,59551:38493,59552:38495,59553:38502,59554:38514,59555:38508,59556:38541,59557:38552,59558:38549,59559:38551,59560:38570,59561:38567,59562:38577,59563:38578,59564:38576,59565:38580,59566:38582,59567:38584,59568:38585,59569:38606,59570:38603,59571:38601,59572:38605,59573:35149,59574:38620,59575:38669,59576:38613,59577:38649,59578:38660,59579:38662,59580:38664,59581:38675,59582:38670,59583:38673,59584:38671,59585:38678,59586:38681,59587:38692,59588:38698,59589:38704,59590:38713,59591:38717,59592:38718,59593:38724,59594:38726,59595:38728,59596:38722,59597:38729,59598:38748,59599:38752,59600:38756,59601:38758,59602:38760,59603:21202,59604:38763,59605:38769,59606:38777,59607:38789,59608:38780,59609:38785,59610:38778,59611:38790,59612:38795,59613:38799,59614:38800,59615:38812,59616:38824,59617:38822,59618:38819,59619:38835,59620:38836,59621:38851,59622:38854,59623:38856,59624:38859,59625:38876,59626:38893,59627:40783,59628:38898,59629:31455,59630:38902,59631:38901,59632:38927,59633:38924,59634:38968,59635:38948,59636:38945,59637:38967,59638:38973,59639:38982,59640:38991,59641:38987,59642:39019,59643:39023,59644:39024,59712:39025,59713:39028,59714:39027,59715:39082,59716:39087,59717:39089,59718:39094,59719:39108,59720:39107,59721:39110,59722:39145,59723:39147,59724:39171,59725:39177,59726:39186,59727:39188,59728:39192,59729:39201,59730:39197,59731:39198,59732:39204,59733:39200,59734:39212,59735:39214,59736:39229,59737:39230,59738:39234,59739:39241,59740:39237,59741:39248,59742:39243,59743:39249,59744:39250,59745:39244,59746:39253,59747:39319,59748:39320,59749:39333,59750:39341,59751:39342,59752:39356,59753:39391,59754:39387,59755:39389,59756:39384,59757:39377,59758:39405,59759:39406,59760:39409,59761:39410,59762:39419,59763:39416,59764:39425,59765:39439,59766:39429,59767:39394,59768:39449,59769:39467,59770:39479,59771:39493,59772:39490,59773:39488,59774:39491,59776:39486,59777:39509,59778:39501,59779:39515,59780:39511,59781:39519,59782:39522,59783:39525,59784:39524,59785:39529,59786:39531,59787:39530,59788:39597,59789:39600,59790:39612,59791:39616,59792:39631,59793:39633,59794:39635,59795:39636,59796:39646,59797:39647,59798:39650,59799:39651,59800:39654,59801:39663,59802:39659,59803:39662,59804:39668,59805:39665,59806:39671,59807:39675,59808:39686,59809:39704,59810:39706,59811:39711,59812:39714,59813:39715,59814:39717,59815:39719,59816:39720,59817:39721,59818:39722,59819:39726,59820:39727,59821:39730,59822:39748,59823:39747,59824:39759,59825:39757,59826:39758,59827:39761,59828:39768,59829:39796,59830:39827,59831:39811,59832:39825,59833:39830,59834:39831,59835:39839,59836:39840,59837:39848,59838:39860,59839:39872,59840:39882,59841:39865,59842:39878,59843:39887,59844:39889,59845:39890,59846:39907,59847:39906,59848:39908,59849:39892,59850:39905,59851:39994,59852:39922,59853:39921,59854:39920,59855:39957,59856:39956,59857:39945,59858:39955,59859:39948,59860:39942,59861:39944,59862:39954,59863:39946,59864:39940,59865:39982,59866:39963,59867:39973,59868:39972,59869:39969,59870:39984,59871:40007,59872:39986,59873:40006,59874:39998,59875:40026,59876:40032,59877:40039,59878:40054,59879:40056,59880:40167,59881:40172,59882:40176,59883:40201,59884:40200,59885:40171,59886:40195,59887:40198,59888:40234,59889:40230,59890:40367,59891:40227,59892:40223,59893:40260,59894:40213,59895:40210,59896:40257,59897:40255,59898:40254,59899:40262,59900:40264,59968:40285,59969:40286,59970:40292,59971:40273,59972:40272,59973:40281,59974:40306,59975:40329,59976:40327,59977:40363,59978:40303,59979:40314,59980:40346,59981:40356,59982:40361,59983:40370,59984:40388,59985:40385,59986:40379,59987:40376,59988:40378,59989:40390,59990:40399,59991:40386,59992:40409,59993:40403,59994:40440,59995:40422,59996:40429,59997:40431,59998:40445,59999:40474,6e4:40475,60001:40478,60002:40565,60003:40569,60004:40573,60005:40577,60006:40584,60007:40587,60008:40588,60009:40594,60010:40597,60011:40593,60012:40605,60013:40613,60014:40617,60015:40632,60016:40618,60017:40621,60018:38753,60019:40652,60020:40654,60021:40655,60022:40656,60023:40660,60024:40668,60025:40670,60026:40669,60027:40672,60028:40677,60029:40680,60030:40687,60032:40692,60033:40694,60034:40695,60035:40697,60036:40699,60037:40700,60038:40701,60039:40711,60040:40712,60041:30391,60042:40725,60043:40737,60044:40748,60045:40766,60046:40778,60047:40786,60048:40788,60049:40803,60050:40799,60051:40800,60052:40801,60053:40806,60054:40807,60055:40812,60056:40810,60057:40823,60058:40818,60059:40822,60060:40853,60061:40860,60062:40864,60063:22575,60064:27079,60065:36953,60066:29796,60067:20956,60068:29081}},function(a,s,l){Object.defineProperty(s,"__esModule",{value:!0});var o=l(1),i=l(2);function x(d,p,g,f){var w;p.degree()<g.degree()&&(w=[g,p],p=w[0],g=w[1]);for(var m=p,B=g,E=d.zero,N=d.one;B.degree()>=f/2;){var v=m,j=E;if(m=B,E=N,m.isZero())return null;B=v;for(var k=d.zero,b=m.getCoefficient(m.degree()),C=d.inverse(b);B.degree()>=m.degree()&&!B.isZero();){var D=B.degree()-m.degree(),F=d.multiply(B.getCoefficient(B.degree()),C);k=k.addOrSubtract(d.buildMonomial(D,F)),B=B.addOrSubtract(m.multiplyByMonomial(D,F))}if(N=k.multiplyPoly(E).addOrSubtract(j),B.degree()>=m.degree())return null}var T=N.getCoefficient(0);if(T===0)return null;var A=d.inverse(T);return[N.multiply(A),B.multiply(A)]}function c(d,p){var g=p.degree();if(g===1)return[p.getCoefficient(1)];for(var f=new Array(g),w=0,m=1;m<d.size&&w<g;m++)p.evaluateAt(m)===0&&(f[w]=d.inverse(m),w++);return w!==g?null:f}function u(d,p,g){for(var f=g.length,w=new Array(f),m=0;m<f;m++){for(var B=d.inverse(g[m]),E=1,N=0;N<f;N++)m!==N&&(E=d.multiply(E,o.addOrSubtractGF(1,d.multiply(g[N],B))));w[m]=d.multiply(p.evaluateAt(B),d.inverse(E)),d.generatorBase!==0&&(w[m]=d.multiply(w[m],B))}return w}function h(d,p){var g=new Uint8ClampedArray(d.length);g.set(d);for(var f=new o.default(285,256,0),w=new i.default(f,g),m=new Uint8ClampedArray(p),B=!1,E=0;E<p;E++){var N=w.evaluateAt(f.exp(E+f.generatorBase));m[m.length-1-E]=N,N!==0&&(B=!0)}if(!B)return g;var v=new i.default(f,m),j=x(f,f.buildMonomial(p,1),v,p);if(j===null)return null;var k=c(f,j[0]);if(k==null)return null;for(var b=u(f,j[1],k),C=0;C<k.length;C++){var D=g.length-1-f.log(k[C]);if(D<0)return null;g[D]=o.addOrSubtractGF(g[D],b[C])}return g}s.decode=h},function(a,s,l){Object.defineProperty(s,"__esModule",{value:!0}),s.VERSIONS=[{infoBits:null,versionNumber:1,alignmentPatternCenters:[],errorCorrectionLevels:[{ecCodewordsPerBlock:7,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:19}]},{ecCodewordsPerBlock:10,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:16}]},{ecCodewordsPerBlock:13,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:13}]},{ecCodewordsPerBlock:17,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:9}]}]},{infoBits:null,versionNumber:2,alignmentPatternCenters:[6,18],errorCorrectionLevels:[{ecCodewordsPerBlock:10,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:34}]},{ecCodewordsPerBlock:16,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:28}]},{ecCodewordsPerBlock:22,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:22}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:16}]}]},{infoBits:null,versionNumber:3,alignmentPatternCenters:[6,22],errorCorrectionLevels:[{ecCodewordsPerBlock:15,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:55}]},{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:44}]},{ecCodewordsPerBlock:18,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:17}]},{ecCodewordsPerBlock:22,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:13}]}]},{infoBits:null,versionNumber:4,alignmentPatternCenters:[6,26],errorCorrectionLevels:[{ecCodewordsPerBlock:20,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:80}]},{ecCodewordsPerBlock:18,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:32}]},{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:24}]},{ecCodewordsPerBlock:16,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:9}]}]},{infoBits:null,versionNumber:5,alignmentPatternCenters:[6,30],errorCorrectionLevels:[{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:108}]},{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:43}]},{ecCodewordsPerBlock:18,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:15},{numBlocks:2,dataCodewordsPerBlock:16}]},{ecCodewordsPerBlock:22,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:11},{numBlocks:2,dataCodewordsPerBlock:12}]}]},{infoBits:null,versionNumber:6,alignmentPatternCenters:[6,34],errorCorrectionLevels:[{ecCodewordsPerBlock:18,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:68}]},{ecCodewordsPerBlock:16,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:27}]},{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:19}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:15}]}]},{infoBits:31892,versionNumber:7,alignmentPatternCenters:[6,22,38],errorCorrectionLevels:[{ecCodewordsPerBlock:20,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:78}]},{ecCodewordsPerBlock:18,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:31}]},{ecCodewordsPerBlock:18,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:14},{numBlocks:4,dataCodewordsPerBlock:15}]},{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:13},{numBlocks:1,dataCodewordsPerBlock:14}]}]},{infoBits:34236,versionNumber:8,alignmentPatternCenters:[6,24,42],errorCorrectionLevels:[{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:97}]},{ecCodewordsPerBlock:22,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:38},{numBlocks:2,dataCodewordsPerBlock:39}]},{ecCodewordsPerBlock:22,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:18},{numBlocks:2,dataCodewordsPerBlock:19}]},{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:14},{numBlocks:2,dataCodewordsPerBlock:15}]}]},{infoBits:39577,versionNumber:9,alignmentPatternCenters:[6,26,46],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:116}]},{ecCodewordsPerBlock:22,ecBlocks:[{numBlocks:3,dataCodewordsPerBlock:36},{numBlocks:2,dataCodewordsPerBlock:37}]},{ecCodewordsPerBlock:20,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:16},{numBlocks:4,dataCodewordsPerBlock:17}]},{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:12},{numBlocks:4,dataCodewordsPerBlock:13}]}]},{infoBits:42195,versionNumber:10,alignmentPatternCenters:[6,28,50],errorCorrectionLevels:[{ecCodewordsPerBlock:18,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:68},{numBlocks:2,dataCodewordsPerBlock:69}]},{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:43},{numBlocks:1,dataCodewordsPerBlock:44}]},{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:6,dataCodewordsPerBlock:19},{numBlocks:2,dataCodewordsPerBlock:20}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:6,dataCodewordsPerBlock:15},{numBlocks:2,dataCodewordsPerBlock:16}]}]},{infoBits:48118,versionNumber:11,alignmentPatternCenters:[6,30,54],errorCorrectionLevels:[{ecCodewordsPerBlock:20,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:81}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:50},{numBlocks:4,dataCodewordsPerBlock:51}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:22},{numBlocks:4,dataCodewordsPerBlock:23}]},{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:3,dataCodewordsPerBlock:12},{numBlocks:8,dataCodewordsPerBlock:13}]}]},{infoBits:51042,versionNumber:12,alignmentPatternCenters:[6,32,58],errorCorrectionLevels:[{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:92},{numBlocks:2,dataCodewordsPerBlock:93}]},{ecCodewordsPerBlock:22,ecBlocks:[{numBlocks:6,dataCodewordsPerBlock:36},{numBlocks:2,dataCodewordsPerBlock:37}]},{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:20},{numBlocks:6,dataCodewordsPerBlock:21}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:7,dataCodewordsPerBlock:14},{numBlocks:4,dataCodewordsPerBlock:15}]}]},{infoBits:55367,versionNumber:13,alignmentPatternCenters:[6,34,62],errorCorrectionLevels:[{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:107}]},{ecCodewordsPerBlock:22,ecBlocks:[{numBlocks:8,dataCodewordsPerBlock:37},{numBlocks:1,dataCodewordsPerBlock:38}]},{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:8,dataCodewordsPerBlock:20},{numBlocks:4,dataCodewordsPerBlock:21}]},{ecCodewordsPerBlock:22,ecBlocks:[{numBlocks:12,dataCodewordsPerBlock:11},{numBlocks:4,dataCodewordsPerBlock:12}]}]},{infoBits:58893,versionNumber:14,alignmentPatternCenters:[6,26,46,66],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:3,dataCodewordsPerBlock:115},{numBlocks:1,dataCodewordsPerBlock:116}]},{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:40},{numBlocks:5,dataCodewordsPerBlock:41}]},{ecCodewordsPerBlock:20,ecBlocks:[{numBlocks:11,dataCodewordsPerBlock:16},{numBlocks:5,dataCodewordsPerBlock:17}]},{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:11,dataCodewordsPerBlock:12},{numBlocks:5,dataCodewordsPerBlock:13}]}]},{infoBits:63784,versionNumber:15,alignmentPatternCenters:[6,26,48,70],errorCorrectionLevels:[{ecCodewordsPerBlock:22,ecBlocks:[{numBlocks:5,dataCodewordsPerBlock:87},{numBlocks:1,dataCodewordsPerBlock:88}]},{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:5,dataCodewordsPerBlock:41},{numBlocks:5,dataCodewordsPerBlock:42}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:5,dataCodewordsPerBlock:24},{numBlocks:7,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:11,dataCodewordsPerBlock:12},{numBlocks:7,dataCodewordsPerBlock:13}]}]},{infoBits:68472,versionNumber:16,alignmentPatternCenters:[6,26,50,74],errorCorrectionLevels:[{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:5,dataCodewordsPerBlock:98},{numBlocks:1,dataCodewordsPerBlock:99}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:7,dataCodewordsPerBlock:45},{numBlocks:3,dataCodewordsPerBlock:46}]},{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:15,dataCodewordsPerBlock:19},{numBlocks:2,dataCodewordsPerBlock:20}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:3,dataCodewordsPerBlock:15},{numBlocks:13,dataCodewordsPerBlock:16}]}]},{infoBits:70749,versionNumber:17,alignmentPatternCenters:[6,30,54,78],errorCorrectionLevels:[{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:107},{numBlocks:5,dataCodewordsPerBlock:108}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:10,dataCodewordsPerBlock:46},{numBlocks:1,dataCodewordsPerBlock:47}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:22},{numBlocks:15,dataCodewordsPerBlock:23}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:14},{numBlocks:17,dataCodewordsPerBlock:15}]}]},{infoBits:76311,versionNumber:18,alignmentPatternCenters:[6,30,56,82],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:5,dataCodewordsPerBlock:120},{numBlocks:1,dataCodewordsPerBlock:121}]},{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:9,dataCodewordsPerBlock:43},{numBlocks:4,dataCodewordsPerBlock:44}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:17,dataCodewordsPerBlock:22},{numBlocks:1,dataCodewordsPerBlock:23}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:14},{numBlocks:19,dataCodewordsPerBlock:15}]}]},{infoBits:79154,versionNumber:19,alignmentPatternCenters:[6,30,58,86],errorCorrectionLevels:[{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:3,dataCodewordsPerBlock:113},{numBlocks:4,dataCodewordsPerBlock:114}]},{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:3,dataCodewordsPerBlock:44},{numBlocks:11,dataCodewordsPerBlock:45}]},{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:17,dataCodewordsPerBlock:21},{numBlocks:4,dataCodewordsPerBlock:22}]},{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:9,dataCodewordsPerBlock:13},{numBlocks:16,dataCodewordsPerBlock:14}]}]},{infoBits:84390,versionNumber:20,alignmentPatternCenters:[6,34,62,90],errorCorrectionLevels:[{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:3,dataCodewordsPerBlock:107},{numBlocks:5,dataCodewordsPerBlock:108}]},{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:3,dataCodewordsPerBlock:41},{numBlocks:13,dataCodewordsPerBlock:42}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:15,dataCodewordsPerBlock:24},{numBlocks:5,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:15,dataCodewordsPerBlock:15},{numBlocks:10,dataCodewordsPerBlock:16}]}]},{infoBits:87683,versionNumber:21,alignmentPatternCenters:[6,28,50,72,94],errorCorrectionLevels:[{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:116},{numBlocks:4,dataCodewordsPerBlock:117}]},{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:17,dataCodewordsPerBlock:42}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:17,dataCodewordsPerBlock:22},{numBlocks:6,dataCodewordsPerBlock:23}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:19,dataCodewordsPerBlock:16},{numBlocks:6,dataCodewordsPerBlock:17}]}]},{infoBits:92361,versionNumber:22,alignmentPatternCenters:[6,26,50,74,98],errorCorrectionLevels:[{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:111},{numBlocks:7,dataCodewordsPerBlock:112}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:17,dataCodewordsPerBlock:46}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:7,dataCodewordsPerBlock:24},{numBlocks:16,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:34,dataCodewordsPerBlock:13}]}]},{infoBits:96236,versionNumber:23,alignmentPatternCenters:[6,30,54,74,102],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:121},{numBlocks:5,dataCodewordsPerBlock:122}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:47},{numBlocks:14,dataCodewordsPerBlock:48}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:11,dataCodewordsPerBlock:24},{numBlocks:14,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:16,dataCodewordsPerBlock:15},{numBlocks:14,dataCodewordsPerBlock:16}]}]},{infoBits:102084,versionNumber:24,alignmentPatternCenters:[6,28,54,80,106],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:6,dataCodewordsPerBlock:117},{numBlocks:4,dataCodewordsPerBlock:118}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:6,dataCodewordsPerBlock:45},{numBlocks:14,dataCodewordsPerBlock:46}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:11,dataCodewordsPerBlock:24},{numBlocks:16,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:30,dataCodewordsPerBlock:16},{numBlocks:2,dataCodewordsPerBlock:17}]}]},{infoBits:102881,versionNumber:25,alignmentPatternCenters:[6,32,58,84,110],errorCorrectionLevels:[{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:8,dataCodewordsPerBlock:106},{numBlocks:4,dataCodewordsPerBlock:107}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:8,dataCodewordsPerBlock:47},{numBlocks:13,dataCodewordsPerBlock:48}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:7,dataCodewordsPerBlock:24},{numBlocks:22,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:22,dataCodewordsPerBlock:15},{numBlocks:13,dataCodewordsPerBlock:16}]}]},{infoBits:110507,versionNumber:26,alignmentPatternCenters:[6,30,58,86,114],errorCorrectionLevels:[{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:10,dataCodewordsPerBlock:114},{numBlocks:2,dataCodewordsPerBlock:115}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:19,dataCodewordsPerBlock:46},{numBlocks:4,dataCodewordsPerBlock:47}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:28,dataCodewordsPerBlock:22},{numBlocks:6,dataCodewordsPerBlock:23}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:33,dataCodewordsPerBlock:16},{numBlocks:4,dataCodewordsPerBlock:17}]}]},{infoBits:110734,versionNumber:27,alignmentPatternCenters:[6,34,62,90,118],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:8,dataCodewordsPerBlock:122},{numBlocks:4,dataCodewordsPerBlock:123}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:22,dataCodewordsPerBlock:45},{numBlocks:3,dataCodewordsPerBlock:46}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:8,dataCodewordsPerBlock:23},{numBlocks:26,dataCodewordsPerBlock:24}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:12,dataCodewordsPerBlock:15},{numBlocks:28,dataCodewordsPerBlock:16}]}]},{infoBits:117786,versionNumber:28,alignmentPatternCenters:[6,26,50,74,98,122],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:3,dataCodewordsPerBlock:117},{numBlocks:10,dataCodewordsPerBlock:118}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:3,dataCodewordsPerBlock:45},{numBlocks:23,dataCodewordsPerBlock:46}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:24},{numBlocks:31,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:11,dataCodewordsPerBlock:15},{numBlocks:31,dataCodewordsPerBlock:16}]}]},{infoBits:119615,versionNumber:29,alignmentPatternCenters:[6,30,54,78,102,126],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:7,dataCodewordsPerBlock:116},{numBlocks:7,dataCodewordsPerBlock:117}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:21,dataCodewordsPerBlock:45},{numBlocks:7,dataCodewordsPerBlock:46}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:23},{numBlocks:37,dataCodewordsPerBlock:24}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:19,dataCodewordsPerBlock:15},{numBlocks:26,dataCodewordsPerBlock:16}]}]},{infoBits:126325,versionNumber:30,alignmentPatternCenters:[6,26,52,78,104,130],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:5,dataCodewordsPerBlock:115},{numBlocks:10,dataCodewordsPerBlock:116}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:19,dataCodewordsPerBlock:47},{numBlocks:10,dataCodewordsPerBlock:48}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:15,dataCodewordsPerBlock:24},{numBlocks:25,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:23,dataCodewordsPerBlock:15},{numBlocks:25,dataCodewordsPerBlock:16}]}]},{infoBits:127568,versionNumber:31,alignmentPatternCenters:[6,30,56,82,108,134],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:13,dataCodewordsPerBlock:115},{numBlocks:3,dataCodewordsPerBlock:116}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:46},{numBlocks:29,dataCodewordsPerBlock:47}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:42,dataCodewordsPerBlock:24},{numBlocks:1,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:23,dataCodewordsPerBlock:15},{numBlocks:28,dataCodewordsPerBlock:16}]}]},{infoBits:133589,versionNumber:32,alignmentPatternCenters:[6,34,60,86,112,138],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:17,dataCodewordsPerBlock:115}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:10,dataCodewordsPerBlock:46},{numBlocks:23,dataCodewordsPerBlock:47}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:10,dataCodewordsPerBlock:24},{numBlocks:35,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:19,dataCodewordsPerBlock:15},{numBlocks:35,dataCodewordsPerBlock:16}]}]},{infoBits:136944,versionNumber:33,alignmentPatternCenters:[6,30,58,86,114,142],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:17,dataCodewordsPerBlock:115},{numBlocks:1,dataCodewordsPerBlock:116}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:14,dataCodewordsPerBlock:46},{numBlocks:21,dataCodewordsPerBlock:47}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:29,dataCodewordsPerBlock:24},{numBlocks:19,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:11,dataCodewordsPerBlock:15},{numBlocks:46,dataCodewordsPerBlock:16}]}]},{infoBits:141498,versionNumber:34,alignmentPatternCenters:[6,34,62,90,118,146],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:13,dataCodewordsPerBlock:115},{numBlocks:6,dataCodewordsPerBlock:116}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:14,dataCodewordsPerBlock:46},{numBlocks:23,dataCodewordsPerBlock:47}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:44,dataCodewordsPerBlock:24},{numBlocks:7,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:59,dataCodewordsPerBlock:16},{numBlocks:1,dataCodewordsPerBlock:17}]}]},{infoBits:145311,versionNumber:35,alignmentPatternCenters:[6,30,54,78,102,126,150],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:12,dataCodewordsPerBlock:121},{numBlocks:7,dataCodewordsPerBlock:122}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:12,dataCodewordsPerBlock:47},{numBlocks:26,dataCodewordsPerBlock:48}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:39,dataCodewordsPerBlock:24},{numBlocks:14,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:22,dataCodewordsPerBlock:15},{numBlocks:41,dataCodewordsPerBlock:16}]}]},{infoBits:150283,versionNumber:36,alignmentPatternCenters:[6,24,50,76,102,128,154],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:6,dataCodewordsPerBlock:121},{numBlocks:14,dataCodewordsPerBlock:122}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:6,dataCodewordsPerBlock:47},{numBlocks:34,dataCodewordsPerBlock:48}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:46,dataCodewordsPerBlock:24},{numBlocks:10,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:15},{numBlocks:64,dataCodewordsPerBlock:16}]}]},{infoBits:152622,versionNumber:37,alignmentPatternCenters:[6,28,54,80,106,132,158],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:17,dataCodewordsPerBlock:122},{numBlocks:4,dataCodewordsPerBlock:123}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:29,dataCodewordsPerBlock:46},{numBlocks:14,dataCodewordsPerBlock:47}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:49,dataCodewordsPerBlock:24},{numBlocks:10,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:24,dataCodewordsPerBlock:15},{numBlocks:46,dataCodewordsPerBlock:16}]}]},{infoBits:158308,versionNumber:38,alignmentPatternCenters:[6,32,58,84,110,136,162],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:122},{numBlocks:18,dataCodewordsPerBlock:123}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:13,dataCodewordsPerBlock:46},{numBlocks:32,dataCodewordsPerBlock:47}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:48,dataCodewordsPerBlock:24},{numBlocks:14,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:42,dataCodewordsPerBlock:15},{numBlocks:32,dataCodewordsPerBlock:16}]}]},{infoBits:161089,versionNumber:39,alignmentPatternCenters:[6,26,54,82,110,138,166],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:20,dataCodewordsPerBlock:117},{numBlocks:4,dataCodewordsPerBlock:118}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:40,dataCodewordsPerBlock:47},{numBlocks:7,dataCodewordsPerBlock:48}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:43,dataCodewordsPerBlock:24},{numBlocks:22,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:10,dataCodewordsPerBlock:15},{numBlocks:67,dataCodewordsPerBlock:16}]}]},{infoBits:167017,versionNumber:40,alignmentPatternCenters:[6,30,58,86,114,142,170],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:19,dataCodewordsPerBlock:118},{numBlocks:6,dataCodewordsPerBlock:119}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:18,dataCodewordsPerBlock:47},{numBlocks:31,dataCodewordsPerBlock:48}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:34,dataCodewordsPerBlock:24},{numBlocks:34,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:20,dataCodewordsPerBlock:15},{numBlocks:61,dataCodewordsPerBlock:16}]}]}]},function(a,s,l){Object.defineProperty(s,"__esModule",{value:!0});var o=l(0);function i(h,d,p,g){var f=h.x-d.x+p.x-g.x,w=h.y-d.y+p.y-g.y;if(f===0&&w===0)return{a11:d.x-h.x,a12:d.y-h.y,a13:0,a21:p.x-d.x,a22:p.y-d.y,a23:0,a31:h.x,a32:h.y,a33:1};var m=d.x-p.x,B=g.x-p.x,E=d.y-p.y,N=g.y-p.y,v=m*N-B*E,j=(f*N-B*w)/v,k=(m*w-f*E)/v;return{a11:d.x-h.x+j*d.x,a12:d.y-h.y+j*d.y,a13:j,a21:g.x-h.x+k*g.x,a22:g.y-h.y+k*g.y,a23:k,a31:h.x,a32:h.y,a33:1}}function x(h,d,p,g){var f=i(h,d,p,g);return{a11:f.a22*f.a33-f.a23*f.a32,a12:f.a13*f.a32-f.a12*f.a33,a13:f.a12*f.a23-f.a13*f.a22,a21:f.a23*f.a31-f.a21*f.a33,a22:f.a11*f.a33-f.a13*f.a31,a23:f.a13*f.a21-f.a11*f.a23,a31:f.a21*f.a32-f.a22*f.a31,a32:f.a12*f.a31-f.a11*f.a32,a33:f.a11*f.a22-f.a12*f.a21}}function c(h,d){return{a11:h.a11*d.a11+h.a21*d.a12+h.a31*d.a13,a12:h.a12*d.a11+h.a22*d.a12+h.a32*d.a13,a13:h.a13*d.a11+h.a23*d.a12+h.a33*d.a13,a21:h.a11*d.a21+h.a21*d.a22+h.a31*d.a23,a22:h.a12*d.a21+h.a22*d.a22+h.a32*d.a23,a23:h.a13*d.a21+h.a23*d.a22+h.a33*d.a23,a31:h.a11*d.a31+h.a21*d.a32+h.a31*d.a33,a32:h.a12*d.a31+h.a22*d.a32+h.a32*d.a33,a33:h.a13*d.a31+h.a23*d.a32+h.a33*d.a33}}function u(h,d){for(var p=x({x:3.5,y:3.5},{x:d.dimension-3.5,y:3.5},{x:d.dimension-6.5,y:d.dimension-6.5},{x:3.5,y:d.dimension-3.5}),g=i(d.topLeft,d.topRight,d.alignmentPattern,d.bottomLeft),f=c(g,p),w=o.BitMatrix.createEmpty(d.dimension,d.dimension),m=function(k,b){var C=f.a13*k+f.a23*b+f.a33;return{x:(f.a11*k+f.a21*b+f.a31)/C,y:(f.a12*k+f.a22*b+f.a32)/C}},B=0;B<d.dimension;B++)for(var E=0;E<d.dimension;E++){var N=E+.5,v=B+.5,j=m(N,v);w.set(E,B,h.get(Math.floor(j.x),Math.floor(j.y)))}return{matrix:w,mappingFunction:m}}s.extract=u},function(a,s,l){Object.defineProperty(s,"__esModule",{value:!0});var o=4,i=.5,x=1.5,c=function(N,v){return Math.sqrt(Math.pow(v.x-N.x,2)+Math.pow(v.y-N.y,2))};function u(N){return N.reduce(function(v,j){return v+j})}function h(N,v,j){var k,b,C,D,F=c(N,v),T=c(v,j),A=c(N,j),R,M,_;return T>=F&&T>=A?(k=[v,N,j],R=k[0],M=k[1],_=k[2]):A>=T&&A>=F?(b=[N,v,j],R=b[0],M=b[1],_=b[2]):(C=[N,j,v],R=C[0],M=C[1],_=C[2]),(_.x-M.x)*(R.y-M.y)-(_.y-M.y)*(R.x-M.x)<0&&(D=[_,R],R=D[0],_=D[1]),{bottomLeft:R,topLeft:M,topRight:_}}function d(N,v,j,k){var b=(u(g(N,j,k,5))/7+u(g(N,v,k,5))/7+u(g(j,N,k,5))/7+u(g(v,N,k,5))/7)/4;if(b<1)throw new Error("Invalid module size");var C=Math.round(c(N,v)/b),D=Math.round(c(N,j)/b),F=Math.floor((C+D)/2)+7;switch(F%4){case 0:F++;break;case 2:F--;break}return{dimension:F,moduleSize:b}}function p(N,v,j,k){var b=[{x:Math.floor(N.x),y:Math.floor(N.y)}],C=Math.abs(v.y-N.y)>Math.abs(v.x-N.x),D,F,T,A;C?(D=Math.floor(N.y),F=Math.floor(N.x),T=Math.floor(v.y),A=Math.floor(v.x)):(D=Math.floor(N.x),F=Math.floor(N.y),T=Math.floor(v.x),A=Math.floor(v.y));for(var R=Math.abs(T-D),M=Math.abs(A-F),_=Math.floor(-R/2),q=D<T?1:-1,U=F<A?1:-1,L=!0,S=D,H=F;S!==T+q;S+=q){var P=C?H:S,G=C?S:H;if(j.get(P,G)!==L&&(L=!L,b.push({x:P,y:G}),b.length===k+1))break;if(_+=M,_>0){if(H===A)break;H+=U,_-=R}}for(var z=[],O=0;O<k;O++)b[O]&&b[O+1]?z.push(c(b[O],b[O+1])):z.push(0);return z}function g(N,v,j,k){var b,C=v.y-N.y,D=v.x-N.x,F=p(N,v,j,Math.ceil(k/2)),T=p(N,{x:N.x-D,y:N.y-C},j,Math.ceil(k/2)),A=F.shift()+T.shift()-1;return(b=T.concat(A)).concat.apply(b,F)}function f(N,v){var j=u(N)/u(v),k=0;return v.forEach(function(b,C){k+=Math.pow(N[C]-b*j,2)}),{averageSize:j,error:k}}function w(N,v,j){try{var k=g(N,{x:-1,y:N.y},j,v.length),b=g(N,{x:N.x,y:-1},j,v.length),C={x:Math.max(0,N.x-N.y)-1,y:Math.max(0,N.y-N.x)-1},D=g(N,C,j,v.length),F={x:Math.min(j.width,N.x+N.y)+1,y:Math.min(j.height,N.y+N.x)+1},T=g(N,F,j,v.length),A=f(k,v),R=f(b,v),M=f(D,v),_=f(T,v),q=Math.sqrt(A.error*A.error+R.error*R.error+M.error*M.error+_.error*_.error),U=(A.averageSize+R.averageSize+M.averageSize+_.averageSize)/4,L=(Math.pow(A.averageSize-U,2)+Math.pow(R.averageSize-U,2)+Math.pow(M.averageSize-U,2)+Math.pow(_.averageSize-U,2))/U;return q+L}catch{return 1/0}}function m(N,v){for(var j=Math.round(v.x);N.get(j,Math.round(v.y));)j--;for(var k=Math.round(v.x);N.get(k,Math.round(v.y));)k++;for(var b=(j+k)/2,C=Math.round(v.y);N.get(Math.round(b),C);)C--;for(var D=Math.round(v.y);N.get(Math.round(b),D);)D++;var F=(C+D)/2;return{x:b,y:F}}function B(N){for(var v=[],j=[],k=[],b=[],C=function(P){for(var G=0,z=!1,O=[0,0,0,0,0],Y=function(ae){var me=N.get(ae,P);if(me===z)G++;else{O=[O[1],O[2],O[3],O[4],G],G=1,z=me;var de=u(O)/7,Ce=Math.abs(O[0]-de)<de&&Math.abs(O[1]-de)<de&&Math.abs(O[2]-3*de)<3*de&&Math.abs(O[3]-de)<de&&Math.abs(O[4]-de)<de&&!me,xe=u(O.slice(-3))/3,fe=Math.abs(O[2]-xe)<xe&&Math.abs(O[3]-xe)<xe&&Math.abs(O[4]-xe)<xe&&me;if(Ce){var ce=ae-O[3]-O[4],be=ce-O[2],Ae={startX:be,endX:ce,y:P},Te=j.filter(function(ee){return be>=ee.bottom.startX&&be<=ee.bottom.endX||ce>=ee.bottom.startX&&be<=ee.bottom.endX||be<=ee.bottom.startX&&ce>=ee.bottom.endX&&O[2]/(ee.bottom.endX-ee.bottom.startX)<x&&O[2]/(ee.bottom.endX-ee.bottom.startX)>i});Te.length>0?Te[0].bottom=Ae:j.push({top:Ae,bottom:Ae})}if(fe){var Je=ae-O[4],J=Je-O[3],Ae={startX:J,y:P,endX:Je},Te=b.filter(function(V){return J>=V.bottom.startX&&J<=V.bottom.endX||Je>=V.bottom.startX&&J<=V.bottom.endX||J<=V.bottom.startX&&Je>=V.bottom.endX&&O[2]/(V.bottom.endX-V.bottom.startX)<x&&O[2]/(V.bottom.endX-V.bottom.startX)>i});Te.length>0?Te[0].bottom=Ae:b.push({top:Ae,bottom:Ae})}}},X=-1;X<=N.width;X++)Y(X);v.push.apply(v,j.filter(function(ae){return ae.bottom.y!==P&&ae.bottom.y-ae.top.y>=2})),j=j.filter(function(ae){return ae.bottom.y===P}),k.push.apply(k,b.filter(function(ae){return ae.bottom.y!==P})),b=b.filter(function(ae){return ae.bottom.y===P})},D=0;D<=N.height;D++)C(D);v.push.apply(v,j.filter(function(P){return P.bottom.y-P.top.y>=2})),k.push.apply(k,b);var F=v.filter(function(P){return P.bottom.y-P.top.y>=2}).map(function(P){var G=(P.top.startX+P.top.endX+P.bottom.startX+P.bottom.endX)/4,z=(P.top.y+P.bottom.y+1)/2;if(N.get(Math.round(G),Math.round(z))){var O=[P.top.endX-P.top.startX,P.bottom.endX-P.bottom.startX,P.bottom.y-P.top.y+1],Y=u(O)/O.length,X=w({x:Math.round(G),y:Math.round(z)},[1,1,3,1,1],N);return{score:X,x:G,y:z,size:Y}}}).filter(function(P){return!!P}).sort(function(P,G){return P.score-G.score}).map(function(P,G,z){if(G>o)return null;var O=z.filter(function(X,ae){return G!==ae}).map(function(X){return{x:X.x,y:X.y,score:X.score+Math.pow(X.size-P.size,2)/P.size,size:X.size}}).sort(function(X,ae){return X.score-ae.score});if(O.length<2)return null;var Y=P.score+O[0].score+O[1].score;return{points:[P].concat(O.slice(0,2)),score:Y}}).filter(function(P){return!!P}).sort(function(P,G){return P.score-G.score});if(F.length===0)return null;var T=h(F[0].points[0],F[0].points[1],F[0].points[2]),A=T.topRight,R=T.topLeft,M=T.bottomLeft,_=E(N,k,A,R,M),q=[];_&&q.push({alignmentPattern:{x:_.alignmentPattern.x,y:_.alignmentPattern.y},bottomLeft:{x:M.x,y:M.y},dimension:_.dimension,topLeft:{x:R.x,y:R.y},topRight:{x:A.x,y:A.y}});var U=m(N,A),L=m(N,R),S=m(N,M),H=E(N,k,U,L,S);return H&&q.push({alignmentPattern:{x:H.alignmentPattern.x,y:H.alignmentPattern.y},bottomLeft:{x:S.x,y:S.y},topLeft:{x:L.x,y:L.y},topRight:{x:U.x,y:U.y},dimension:H.dimension}),q.length===0?null:q}s.locate=B;function E(N,v,j,k,b){var C,D,F;try{C=d(k,j,b,N),D=C.dimension,F=C.moduleSize}catch{return null}var T={x:j.x-k.x+b.x,y:j.y-k.y+b.y},A=(c(k,b)+c(k,j))/2/F,R=1-3/A,M={x:k.x+R*(T.x-k.x),y:k.y+R*(T.y-k.y)},_=v.map(function(U){var L=(U.top.startX+U.top.endX+U.bottom.startX+U.bottom.endX)/4,S=(U.top.y+U.bottom.y+1)/2;if(N.get(Math.floor(L),Math.floor(S))){var H=[U.top.endX-U.top.startX,U.bottom.endX-U.bottom.startX,U.bottom.y-U.top.y+1];u(H)/H.length;var P=w({x:Math.floor(L),y:Math.floor(S)},[1,1,1],N),G=P+c({x:L,y:S},M);return{x:L,y:S,score:G}}}).filter(function(U){return!!U}).sort(function(U,L){return U.score-L.score}),q=A>=15&&_.length?_[0]:M;return{alignmentPattern:q,dimension:D}}}]).default})})(ul);var Op=ul.exports;const Vp=fl(Op),hl=({onScan:t,onClose:r,isOpen:a})=>{const s=n.useRef(null),l=n.useRef(null),[o,i]=n.useState(!1),[x,c]=n.useState(null),[u,h]=n.useState(null),[d,p]=n.useState("environment");n.useEffect(()=>(a?g():f(),()=>{f()}),[a,d]);const g=async()=>{try{h(null);const N={video:{facingMode:d,width:{ideal:1280},height:{ideal:720}}},v=await navigator.mediaDevices.getUserMedia(N);c(v),s.current&&(s.current.srcObject=v,s.current.play().then(()=>{console.log("Video playing, starting QR scan..."),i(!0),setTimeout(()=>{m()},500)}).catch(j=>{console.error("Error playing video:",j)}))}catch(N){console.error("Error accessing camera:",N),h("Unable to access camera. Please check permissions."),I.error("Camera access denied. Please allow camera permissions.")}},f=()=>{x&&(x.getTracks().forEach(N=>N.stop()),c(null)),i(!1)},w=()=>{p(N=>N==="environment"?"user":"environment"),f()},m=()=>{if(!o||!s.current||!l.current){console.log("Scan conditions not met:",{isScanning:o,hasVideo:!!s.current,hasCanvas:!!l.current});return}const N=s.current,v=l.current,j=v.getContext("2d");if(N.videoWidth===0||N.videoHeight===0){console.log("Video not ready yet, retrying..."),o&&setTimeout(()=>requestAnimationFrame(m),100);return}if(v.width=N.videoWidth,v.height=N.videoHeight,N.readyState===N.HAVE_ENOUGH_DATA){j.drawImage(N,0,0,v.width,v.height);try{const k=j.getImageData(0,0,v.width,v.height),b=Vp(k.data,k.width,k.height,{inversionAttempts:"dontInvert"});if(b){console.log("🎉 QR Code detected:",b.data),B({data:b.data,location:b.location});return}}catch(k){console.error("Error scanning QR:",k)}}o&&requestAnimationFrame(m)},B=N=>{i(!1),I.success("QR Code detected!"),t&&t(N.data),setTimeout(()=>{r&&r()},1e3)},E=()=>{const N=prompt("Enter URL manually:");N&&B({data:N})};return a?e.jsx("div",{className:"fixed inset-0 z-50 bg-black bg-opacity-90 flex items-center justify-center p-4",children:e.jsxs("div",{className:"relative w-full max-w-lg bg-white dark:bg-gray-800 rounded-2xl overflow-hidden",children:[e.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-200 dark:border-gray-700",children:[e.jsxs("h2",{className:"text-xl font-bold text-gray-900 dark:text-white flex items-center",children:[e.jsx(pt,{className:"w-6 h-6 mr-2"}),"Scan QR Code"]}),e.jsx("button",{onClick:r,className:"p-2 text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200 transition-colors",children:e.jsx(he,{className:"w-6 h-6"})})]}),e.jsx("div",{className:"relative bg-black aspect-square",children:u?e.jsx("div",{className:"flex items-center justify-center h-full",children:e.jsxs("div",{className:"text-center text-white p-6",children:[e.jsx(Ls,{className:"w-16 h-16 mx-auto mb-4 opacity-50"}),e.jsx("p",{className:"text-lg mb-4",children:u}),e.jsx("button",{onClick:g,className:"bg-blue-600 hover:bg-blue-700 text-white px-6 py-3 rounded-lg transition-colors",children:"Try Again"})]})}):e.jsxs(e.Fragment,{children:[e.jsx("video",{ref:s,className:"w-full h-full object-cover",playsInline:!0,muted:!0}),e.jsx("canvas",{ref:l,className:"hidden"}),e.jsxs("div",{className:"absolute inset-0 pointer-events-none",children:[e.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:e.jsxs("div",{className:"relative w-64 h-64",children:[e.jsx("div",{className:"absolute top-0 left-0 w-8 h-8 border-t-4 border-l-4 border-white rounded-tl-lg"}),e.jsx("div",{className:"absolute top-0 right-0 w-8 h-8 border-t-4 border-r-4 border-white rounded-tr-lg"}),e.jsx("div",{className:"absolute bottom-0 left-0 w-8 h-8 border-b-4 border-l-4 border-white rounded-bl-lg"}),e.jsx("div",{className:"absolute bottom-0 right-0 w-8 h-8 border-b-4 border-r-4 border-white rounded-br-lg"}),o&&e.jsx("div",{className:"absolute inset-x-0 top-0 h-1 bg-gradient-to-r from-transparent via-white to-transparent animate-pulse"})]})}),e.jsx("div",{className:"absolute bottom-4 left-4 right-4",children:e.jsx("div",{className:"bg-black bg-opacity-50 rounded-lg p-3 text-center",children:e.jsx("p",{className:"text-white text-sm",children:o?"Position QR code within the frame":"Camera loading..."})})})]})]})}),e.jsxs("div",{className:"p-4 bg-gray-50 dark:bg-gray-700",children:[e.jsxs("div",{className:"flex justify-center space-x-4",children:[e.jsxs("button",{onClick:w,className:"flex items-center px-4 py-2 bg-gray-200 dark:bg-gray-600 text-gray-700 dark:text-gray-200 rounded-lg hover:bg-gray-300 dark:hover:bg-gray-500 transition-colors",children:[e.jsx(Fr,{className:"w-5 h-5 mr-2"}),"Flip Camera"]}),e.jsx("button",{onClick:E,className:"flex items-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Manual Input"})]}),e.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 text-center mt-3",children:"Make sure the QR code is well-lit and within the frame"})]})]})}):null},zp=()=>{const[t,r]=n.useState(!1),[a,s]=n.useState(null),l=we(),o=n.useCallback(()=>{r(!0)},[]),i=n.useCallback(()=>{r(!1)},[]),x=n.useCallback(async d=>{try{const{type:p,gardenId:g,rawData:f}=d;if(p==="garden"&&g){s(d);try{const w=await Se.getGarden(g);w.garden&&w.garden.isActive?l(`/scan/checkin/${g}`,{state:{garden:w.garden,fromQRScan:!0}}):I.error("This garden is currently inactive or unavailable")}catch(w){console.error("Error validating garden:",w),I.error("Garden not found or unavailable")}}else I.error("Invalid QR code format")}catch(p){console.error("Error processing scan:",p),I.error("Failed to process QR code")}finally{r(!1)}},[l]),c=n.useCallback(d=>{console.error("QR Scan error:",d),I.error("Scanner error occurred"),r(!1)},[]),u=n.useCallback(()=>{r(!0)},[]),h=n.useCallback(()=>{r(!1)},[]);return{isScanning:t,lastScannedData:a,startScanning:o,stopScanning:i,handleScanSuccess:x,handleScanError:c,openScanner:u,closeScanner:h}},Up=()=>{var d;const t=we(),r=er(),{handleScanSuccess:a,handleScanError:s}=zp(),[l,o]=n.useState(!0),i=((d=r.state)==null?void 0:d.autoLaunched)||!1,x=p=>{console.log("🔍 QR Code scanned in QRScannerScreen:",p);try{const g=c(p);console.log("📝 Parsed garden ID:",g),g?(console.log("✅ Valid garden QR detected, processing..."),I.success("🎉 Garden QR code detected!"),a({type:"garden",gardenId:g,rawData:p})):(console.warn("❌ QR code does not match garden format:",p),I.error("❌ Invalid QR code format. Please scan a garden QR code."))}catch(g){console.error("QR processing error:",g),I.error("Failed to process QR code"),s==null||s(g)}},c=p=>{console.log("🔍 Parsing QR data:",p);const g=p.match(/\/garden\/([a-fA-F0-9]{24})/i);if(g)return console.log("✅ Found garden ID in URL format:",g[1]),g[1];try{const f=JSON.parse(p);if(f.type==="garden_checkin"&&f.gardenId)return console.log("✅ Found garden ID in JSON format:",f.gardenId),f.gardenId}catch{}return/^[a-fA-F0-9]{24}$/.test(p)?(console.log("✅ Found direct garden ID:",p),p):p.includes("garden")||p.includes("dog")||p.includes("park")?(console.log("⚠️ Test mode: accepting garden-related QR for demo"),"507f1f77bcf86cd799439011"):(console.log("❌ No garden ID found in QR data"),null)},u=()=>{o(!1),t(i?"/dashboard":-1)},h=()=>{o(!1),u()};return e.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900",children:e.jsx(hl,{isOpen:l,onScan:x,onClose:h})})},qp=()=>{const[t,r]=n.useState(!1),[a,s]=n.useState(null),[l,o]=n.useState([]),i=g=>{console.log("QR Code scanned:",g),s(g);const f={id:Date.now(),data:g,timestamp:new Date,type:x(g)};o(w=>[f,...w.slice(0,9)]),I.success(`QR Code scanned: ${g}`)},x=g=>g.startsWith("http://")||g.startsWith("https://")?"url":g.startsWith("mailto:")?"email":g.startsWith("tel:")?"phone":g.startsWith("wifi:")?"wifi":"text",c=(g,f)=>{switch(f){case"url":window.confirm(`Open this URL in a new tab?
${g}`)&&window.open(g,"_blank");break;case"email":window.location.href=g;break;case"phone":window.location.href=g;break;case"text":default:u(g);break}},u=g=>{navigator.clipboard.writeText(g).then(()=>{I.success("Copied to clipboard!")}).catch(()=>{I.error("Failed to copy to clipboard")})},h=()=>{const g="https://example.com/dog-park/demo";return I.info("Demo QR generated! You can test scanning with any QR code."),g},d=g=>{switch(g){case"url":return e.jsx(Xd,{className:"w-5 h-5"});case"email":return e.jsx(us,{className:"w-5 h-5"});case"phone":return e.jsx(us,{className:"w-5 h-5"});default:return e.jsx(us,{className:"w-5 h-5"})}},p=g=>{switch(g){case"url":return"bg-blue-100 text-blue-800 dark:bg-blue-900/20 dark:text-blue-300";case"email":return"bg-green-100 text-green-800 dark:bg-green-900/20 dark:text-green-300";case"phone":return"bg-purple-100 text-purple-800 dark:bg-purple-900/20 dark:text-purple-300";default:return"bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-300"}};return e.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 py-6",children:[e.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsxs("div",{className:"flex items-center justify-center mb-4",children:[e.jsx(pt,{className:"w-12 h-12 text-blue-600 mr-3"}),e.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:"QR Scanner Demo"})]}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400 max-w-2xl mx-auto",children:'Test QR code scanning functionality. Click "Start Scanning" to open the camera and scan any QR code.'})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-8",children:[e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 shadow-sm border border-gray-200 dark:border-gray-700",children:[e.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-white mb-4",children:"Scan QR Code"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-4",children:"Use your device camera to scan QR codes and automatically handle different content types."}),e.jsxs("button",{onClick:()=>r(!0),className:"w-full bg-blue-600 hover:bg-blue-700 text-white py-3 px-6 rounded-lg font-semibold transition-colors flex items-center justify-center",children:[e.jsx(pt,{className:"w-5 h-5 mr-2"}),"Start Scanning"]})]}),e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 shadow-sm border border-gray-200 dark:border-gray-700",children:[e.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-white mb-4",children:"Demo QR Code"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-4",children:"For testing purposes, you can use any online QR code generator to create test codes."}),e.jsxs("button",{onClick:h,className:"w-full bg-green-600 hover:bg-green-700 text-white py-3 px-6 rounded-lg font-semibold transition-colors flex items-center justify-center",children:[e.jsx(pn,{className:"w-5 h-5 mr-2"}),"Generate Test QR"]})]})]}),a&&e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 shadow-sm border border-gray-200 dark:border-gray-700 mb-8",children:[e.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-white mb-4",children:"Latest Scan Result"}),e.jsx("div",{className:"bg-gray-50 dark:bg-gray-700 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"font-mono text-sm text-gray-900 dark:text-white break-all",children:a}),e.jsx("div",{className:"flex items-center mt-2",children:e.jsxs("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ${p(x(a))}`,children:[d(x(a)),e.jsx("span",{className:"ml-1 capitalize",children:x(a)})]})})]}),e.jsxs("div",{className:"flex space-x-2 ml-4",children:[e.jsx("button",{onClick:()=>c(a,x(a)),className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg text-sm transition-colors",children:x(a)==="url"?"Open":"Copy"}),e.jsx("button",{onClick:()=>u(a),className:"bg-gray-600 hover:bg-gray-700 text-white px-4 py-2 rounded-lg text-sm transition-colors",children:"Copy"})]})]})})]}),l.length>0&&e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 shadow-sm border border-gray-200 dark:border-gray-700",children:[e.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-white mb-4",children:"Scan History"}),e.jsx("div",{className:"space-y-3",children:l.map(g=>e.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 dark:bg-gray-700 rounded-lg",children:[e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"font-mono text-sm text-gray-900 dark:text-white truncate",children:g.data}),e.jsxs("div",{className:"flex items-center mt-1",children:[e.jsxs("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ${p(g.type)}`,children:[d(g.type),e.jsx("span",{className:"ml-1 capitalize",children:g.type})]}),e.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400 ml-3",children:g.timestamp.toLocaleString()})]})]}),e.jsx("div",{className:"flex space-x-2 ml-4",children:e.jsx("button",{onClick:()=>c(g.data,g.type),className:"text-blue-600 hover:text-blue-800 dark:text-blue-400 dark:hover:text-blue-300 text-sm font-medium",children:g.type==="url"?"Open":"Copy"})})]},g.id))})]}),e.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 rounded-lg p-6 border border-blue-200 dark:border-blue-700",children:[e.jsx("h3",{className:"text-lg font-semibold text-blue-900 dark:text-blue-300 mb-3",children:"How to Use"}),e.jsxs("ul",{className:"text-blue-800 dark:text-blue-200 space-y-2",children:[e.jsx("li",{children:'• Click "Start Scanning" to open the camera'}),e.jsx("li",{children:"• Point your camera at any QR code"}),e.jsx("li",{children:"• The scanner will automatically detect and process the QR code"}),e.jsx("li",{children:"• URLs will be opened in a new tab, other content will be copied"}),e.jsx("li",{children:'• Use "Manual Input" if camera access is not available'}),e.jsx("li",{children:"• For testing, generate QR codes with online tools"})]})]})]}),e.jsx(hl,{isOpen:t,onScan:i,onClose:()=>r(!1)})]})},Gp=()=>{var N,v,j;const{gardenId:t}=Vt(),r=we(),a=er();pe();const s=(N=a.state)==null?void 0:N.garden,l=(v=a.state)==null?void 0:v.fromQRScan,[o,i]=n.useState([]),[x,c]=n.useState([]),[u,h]=n.useState(""),[d,p]=n.useState(!1),[g,f]=n.useState(!0);n.useEffect(()=>{w()},[]);const w=async()=>{try{const b=(await it.getMyDogs()).dogs.filter(C=>C.isActive);i(b),c(b.map(C=>C._id))}catch(k){console.error("Error loading dogs:",k),I.error("Failed to load your dogs")}finally{f(!1)}},m=k=>{c(b=>b.includes(k)?b.filter(C=>C!==k):[...b,k])},B=async()=>{var k,b;if(x.length===0){I.error("Please select at least one dog");return}p(!0);try{const C={gardenId:t,dogIds:x,notes:u.trim()||"Quick QR check-in"},D=await Et.checkIn(C);if(I.success(`🎉 Successfully checked in to ${(s==null?void 0:s.name)||"the garden"}!`),D.gamification){const{points:F,badges:T,streak:A}=D.gamification;(F==null?void 0:F.pointsAwarded)>0&&setTimeout(()=>{I.success(`✨ Earned ${F.pointsAwarded} points!`)},1e3),T&&T.length>0&&T.forEach((R,M)=>{setTimeout(()=>{I.success(`🏆 New badge: ${R.name}!`)},1500+M*500)}),A!=null&&A.isNewRecord&&setTimeout(()=>{I.success(`🔥 New streak record: ${A.currentStreak} days!`)},2e3)}r("/check-in")}catch(C){console.error("Check-in error:",C),I.error(((b=(k=C.response)==null?void 0:k.data)==null?void 0:b.error)||"Failed to check in")}finally{p(!1)}},E=()=>{r(l?"/scan":-1)};return s?e.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900",children:e.jsxs("div",{className:"max-w-lg mx-auto",children:[e.jsxs("div",{className:"bg-gradient-to-br from-green-600 via-emerald-600 to-teal-700 dark:from-green-700 dark:via-emerald-700 dark:to-teal-800 mx-4 mt-4 rounded-3xl p-6 text-white relative overflow-hidden",children:[e.jsx("div",{className:"absolute -top-6 -right-6 opacity-20",children:e.jsx(pt,{className:"h-24 w-24"})}),e.jsxs("div",{className:"relative z-10",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("button",{onClick:E,className:"p-2 bg-white bg-opacity-20 rounded-full hover:bg-opacity-30 transition-all",children:e.jsx(Ue,{className:"h-5 w-5"})}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx($e,{className:"h-5 w-5"}),e.jsx("span",{className:"text-sm font-medium",children:"Quick Check-in"})]})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("h1",{className:"text-2xl font-bold mb-2",children:s.name}),e.jsxs("div",{className:"flex items-center justify-center space-x-2 text-green-100",children:[e.jsx(ye,{className:"h-4 w-4"}),e.jsx("span",{className:"text-sm",children:((j=s.location)==null?void 0:j.address)||"Address not available"})]})]})]})]}),e.jsx("div",{className:"px-4 py-6",children:g?e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-3xl p-8 text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-4 border-blue-600 border-t-transparent mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Loading your dogs..."})]}):e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-3xl shadow-lg border border-gray-100 dark:border-gray-700",children:e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("h2",{className:"text-lg font-bold text-gray-900 dark:text-white flex items-center",children:[e.jsx(Re,{className:"h-5 w-5 mr-2 text-pink-500"}),"Select Dogs (",x.length,")"]}),e.jsxs("span",{className:"text-xs text-gray-500 dark:text-gray-400 bg-gray-100 dark:bg-gray-700 px-2 py-1 rounded-full",children:[o.length," available"]})]}),o.length===0?e.jsxs("div",{className:"text-center py-8",children:[e.jsx(Re,{className:"h-12 w-12 text-gray-300 mx-auto mb-3"}),e.jsx("p",{className:"text-gray-500 dark:text-gray-400 mb-4",children:"No dogs found"}),e.jsx("button",{onClick:()=>r("/my-dogs"),className:"text-blue-600 hover:text-blue-700 font-medium",children:"Add your first dog"})]}):e.jsx("div",{className:"grid grid-cols-1 gap-3",children:o.map(k=>e.jsxs("button",{onClick:()=>m(k._id),className:`flex items-center space-x-3 p-4 rounded-2xl border-2 transition-all ${x.includes(k._id)?"border-green-500 bg-green-50 dark:bg-green-900/20":"border-gray-200 dark:border-gray-600 hover:border-gray-300 dark:hover:border-gray-500"}`,children:[e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-orange-100 to-amber-100 dark:from-orange-900 dark:to-amber-900 rounded-full flex items-center justify-center",children:k.profileImage?e.jsx("img",{src:k.profileImage,alt:k.name,className:"w-full h-full object-cover rounded-full"}):e.jsx("span",{className:"text-lg",children:"🐕"})}),x.includes(k._id)&&e.jsx("div",{className:"absolute -top-1 -right-1 w-5 h-5 bg-green-500 rounded-full flex items-center justify-center",children:e.jsx(Me,{className:"h-3 w-3 text-white"})})]}),e.jsxs("div",{className:"flex-1 text-left",children:[e.jsx("p",{className:"font-medium text-gray-900 dark:text-white",children:k.name}),e.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:k.breed||"Mixed breed"})]}),x.includes(k._id)&&e.jsx(Oe,{className:"h-5 w-5 text-pink-500"})]},k._id))})]})}),e.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-3xl shadow-lg border border-gray-100 dark:border-gray-700",children:e.jsxs("div",{className:"p-6",children:[e.jsx("h3",{className:"text-lg font-bold text-gray-900 dark:text-white mb-4",children:"Notes (Optional)"}),e.jsx("textarea",{value:u,onChange:k=>h(k.target.value),placeholder:"Add any notes about this visit...",className:"w-full px-4 py-3 rounded-2xl border border-gray-200 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-green-500 focus:border-transparent resize-none",rows:"3"})]})}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("button",{onClick:B,disabled:x.length===0||d,className:"w-full bg-gradient-to-r from-green-500 to-emerald-600 text-white py-4 rounded-2xl font-bold text-lg hover:from-green-600 hover:to-emerald-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200 transform hover:scale-105 active:scale-95 flex items-center justify-center space-x-2",children:d?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-2 border-white border-t-transparent"}),e.jsx("span",{children:"Checking In..."})]}):e.jsxs(e.Fragment,{children:[e.jsx(Me,{className:"h-6 w-6"}),e.jsx("span",{children:"Check In Now"})]})}),e.jsx("div",{className:"text-center",children:e.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"This will start your visit timer and award points"})})]})]})})]})}):e.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 flex items-center justify-center p-4",children:e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-3xl p-8 text-center max-w-sm w-full",children:[e.jsx(he,{className:"h-16 w-16 text-red-500 mx-auto mb-4"}),e.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-white mb-2",children:"Garden Not Found"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-6",children:"The garden information could not be loaded."}),e.jsx("button",{onClick:()=>r("/gardens"),className:"w-full bg-blue-500 text-white py-3 rounded-xl font-medium hover:bg-blue-600 transition-colors",children:"Browse Gardens"})]})})};function Hp(){const{loading:t,user:r}=pe(),[a,s]=n.useState(!1),[l,o]=n.useState(0),[i,x]=n.useState("");return n.useEffect(()=>{t||(async()=>{const u=[{name:"טוען רכיבים...",action:()=>ta.preloadComponents(),progress:25},{name:"מכין שירותים...",action:()=>ta.preloadServices(),progress:50},{name:"טוען נתונים...",action:()=>ta.preloadEssentialData(r),progress:75},{name:"מסיים הכנות...",action:()=>new Promise(h=>setTimeout(h,200)),progress:100}];for(const h of u){x(h.name),o(h.progress);try{await h.action()}catch(d){console.warn(`Failed step: ${h.name}`,d)}}s(!0)})()},[t,r]),t||!a?e.jsxs("div",{className:"min-h-screen flex flex-col items-center justify-center bg-white dark:bg-gray-900",children:[e.jsx(Is,{fullScreen:!0}),!t&&e.jsxs("div",{className:"absolute bottom-20 left-1/2 transform -translate-x-1/2 w-64",children:[e.jsx("div",{className:"bg-gray-200 dark:bg-gray-700 rounded-full h-2 mb-2",children:e.jsx("div",{className:"bg-gradient-to-r from-purple-500 to-blue-500 h-2 rounded-full transition-all duration-300",style:{width:`${l}%`}})}),e.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400 text-center",children:[i," ",Math.round(l),"%"]})]})]}):e.jsx(Wl,{children:e.jsx(xu,{children:e.jsxs(yl,{children:[e.jsx(ue,{path:"/",element:e.jsx(Vu,{})}),e.jsx(ue,{path:"/test",element:e.jsx(vp,{})}),e.jsx(ue,{path:"/demo",element:e.jsx(wp,{})}),e.jsx(ue,{path:"/login",element:e.jsx(zu,{})}),e.jsx(ue,{path:"/register",element:e.jsx(Uu,{})}),e.jsx(ue,{path:"/dogs/profile/:id",element:e.jsx(np,{})}),e.jsxs(ue,{element:e.jsx(ja,{}),children:[e.jsx(ue,{path:"/gardens",element:e.jsx(In,{})}),e.jsx(ue,{path:"/garden/:id",element:e.jsx(oh,{})}),e.jsx(ue,{path:"/public-events",element:e.jsx(Jh,{})})]}),e.jsx(ue,{element:e.jsx(Bn,{}),children:e.jsxs(ue,{element:e.jsx(ja,{}),children:[e.jsx(ue,{path:"/dashboard",element:e.jsx($n,{})}),e.jsx(ue,{path:"/rewards",element:e.jsx(Rp,{})}),e.jsx(ue,{path:"/events",element:e.jsx(qn,{})}),e.jsx(ue,{path:"/events/:id",element:e.jsx(Yh,{})}),e.jsx(ue,{path:"/my-dogs",element:e.jsx(Qn,{})}),e.jsx(ue,{path:"/my-dogs/:id/custom-profile",element:e.jsx(ip,{})}),e.jsx(ue,{path:"/profile",element:e.jsx(Jn,{})}),e.jsx(ue,{path:"/check-in",element:e.jsx(Xn,{})}),e.jsx(ue,{path:"/friends",element:e.jsx(nl,{})}),e.jsx(ue,{path:"/notifications",element:e.jsx(Np,{})}),e.jsx(ue,{path:"/messages",element:e.jsx(kp,{})}),e.jsx(ue,{path:"/chat/:chatId",element:e.jsx(jp,{})}),e.jsx(ue,{path:"/admin",element:e.jsx(jr,{allowedRoles:["admin"],children:e.jsx(il,{})})}),e.jsx(ue,{path:"/admin/requests",element:e.jsx(jr,{allowedRoles:["admin"],children:e.jsx(xl,{})})}),e.jsx(ue,{path:"/admin/settings",element:e.jsx(jr,{allowedRoles:["admin"],children:e.jsx(dl,{})})}),e.jsx(ue,{path:"/admin/api-usage",element:e.jsx(jr,{allowedRoles:["admin"],children:e.jsx(gp,{})})}),e.jsx(ue,{path:"/manage-gardens",element:e.jsx(jr,{allowedRoles:["admin","garden_manager"],children:e.jsx(cl,{})})}),e.jsx(ue,{path:"/gardens/:id/custom-profile",element:e.jsx(jr,{allowedRoles:["admin","garden_manager"],children:e.jsx(xp,{})})}),e.jsx(ue,{path:"/notification-test",element:e.jsx(Bp,{})}),e.jsx(ue,{path:"/notification-examples",element:e.jsx(Dp,{})}),e.jsx(ue,{path:"/dog-park-finder",element:e.jsx(Fp,{})}),e.jsx(ue,{path:"/ai-generator",element:e.jsx(Mp,{})}),e.jsx(ue,{path:"/dog-journal",element:e.jsx($p,{})}),e.jsx(ue,{path:"/dog-journal/create",element:e.jsx(Tp,{})}),e.jsx(ue,{path:"/dog-journal/edit/:id",element:e.jsx(Ip,{})}),e.jsx(ue,{path:"/dog-journal/entry/:id",element:e.jsx(_p,{})}),e.jsx(ue,{path:"/scan",element:e.jsx(Up,{})}),e.jsx(ue,{path:"/scan-demo",element:e.jsx(qp,{})}),e.jsx(ue,{path:"/scan/checkin/:gardenId",element:e.jsx(Gp,{})})]})})]})})})}const Wp=({children:t})=>{const r="188318745522-muktsmh6h8g765jpbl54j6o2m95gmtia.apps.googleusercontent.com";return e.jsx(Lu,{clientId:r,children:t})};"serviceWorker"in navigator&&window.addEventListener("load",()=>{navigator.serviceWorker.register("/sw.js").then(async t=>{if(console.log("SW registered: ",t),"Notification"in window){const r=await Notification.requestPermission();console.log("Notification permission:",r)}if("PushManager"in window)try{const r=await t.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Zp("BEl62iUYgUivxIkv69yViEuiBIa40HI6YUZgOku7GsOLRPQvvWGWCgcwYb6uFAYhvXvLJABWpXMYsYEVWczQu8M")});console.log("Push subscription:",r),(await fetch("http://localhost:5000/api/push-subscription",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(r)})).ok&&console.log("Push subscription sent to server")}catch(r){console.error("Failed to subscribe to push notifications:",r)}}).catch(t=>{console.log("SW registration failed: ",t)})});function Zp(t){const r="=".repeat((4-t.length%4)%4),a=(t+r).replace(/-/g,"+").replace(/_/g,"/"),s=window.atob(a),l=new Uint8Array(s.length);for(let o=0;o<s.length;++o)l[o]=s.charCodeAt(o);return l}la.createRoot(document.getElementById("root")).render(e.jsx(Wp,{children:e.jsx(vl,{future:{v7_startTransition:!0,v7_relativeSplatPath:!0},children:e.jsx(bg,{children:e.jsxs(Gl,{children:[e.jsx(Hp,{}),e.jsx(oa,{position:"top-right"})]})})})}));
